{"version":3,"mappings":"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","names":["TemplateBasedGenerator","AICustomizationService","TemplateMatcher","localAIService","__vitePreload","categories","categoryKey","categoryData","templates","template","error","baseTemplates","variations","baseTemplate","index","variation","vIndex","fallbackCategories","prompt","context","selectedTemplate","baseApp","customizedApp","startTime","matches","customizations","filename","content","files","feature","appName","appType","words","appKeywords","nameIndex","word","lowerPrompt","colorScheme","primaryColor","packageName","id","category","query","results","searchTerm","_a","_b","tag","cat","colorMatch","featureKeywords","keyword","customizedContent","color","colorMap","updatedContent","features","promptLower","score","tagMatches","keywords","promptKeywords","templateKeywords","a","b"],"ignoreList":[],"sources":["../../src/services/templateBasedGenerator.js"],"sourcesContent":["// Template-Based Generator Service\n// Primary architecture for DreamBuild - Template-First with AI Enhancement\n\nclass TemplateBasedGenerator {\n  constructor() {\n    this.templates = new Map();\n    this.categories = new Map();\n    this.aiEnhancer = new AICustomizationService();\n    this.templateMatcher = null; // Will be initialized after templates are loaded\n    \n    // Initialize the system\n    this.initialize();\n  }\n\n  async initialize() {\n    console.log('üöÄ Initializing Template-Based Generator...');\n    \n    // Load all templates\n    await this.loadAllTemplates();\n    \n    // Initialize AI enhancer\n    this.aiEnhancer = new AICustomizationService();\n    console.log('‚úÖ AI Customization Service initialized');\n    \n    // Initialize template matcher\n    this.templateMatcher = new TemplateMatcher(this.templates);\n    console.log('‚úÖ Template Matcher initialized');\n    \n    console.log(`‚úÖ Template-Based Generator initialized with ${this.templates.size} templates`);\n  }\n\n  async loadAllTemplates() {\n    try {\n      // Load templates from the existing localAIService\n      const { default: localAIService } = await import('./localAIService.js');\n      \n      // Check if localAIService is a constructor\n      if (typeof localAIService !== 'function') {\n        throw new Error('localAIService is not a constructor');\n      }\n      \n      // Create a new instance to avoid circular dependencies\n      const aiService = new localAIService();\n      \n      // Get all template categories\n      const categories = aiService.getTemplateCategories();\n      \n      // Load templates from each category\n      for (const [categoryKey, categoryData] of Object.entries(categories)) {\n        this.categories.set(categoryKey, categoryData);\n        \n        // Generate templates for this category\n        const templates = categoryData.templates || this.generateTemplatesForCategory(categoryKey, categoryData);\n        if (Array.isArray(templates)) {\n          templates.forEach(template => {\n            this.templates.set(template.id, {\n              ...template,\n              category: categoryKey,\n              categoryName: categoryData.name,\n              icon: categoryData.icon\n            });\n          });\n        }\n      }\n      \n      console.log(`üìö Loaded ${this.templates.size} templates across ${this.categories.size} categories`);\n    } catch (error) {\n      console.error('Failed to load templates from localAIService, using fallback:', error.message);\n      this.loadFallbackTemplates();\n    }\n  }\n\n  // Generate templates for a specific category\n  generateTemplatesForCategory(categoryKey, categoryData) {\n    const templates = [];\n    const baseTemplates = this.getBaseTemplatesForCategory(categoryKey);\n    const variations = ['modern', 'classic', 'minimal', 'responsive', 'dark', 'light'];\n    \n    // Generate variations of each base template\n    baseTemplates.forEach((baseTemplate, index) => {\n      variations.forEach((variation, vIndex) => {\n        templates.push({\n          id: `${categoryKey}-${index}-${vIndex}`,\n          name: `${baseTemplate.name} (${variation})`,\n          description: `${baseTemplate.description} with ${variation} design`,\n          tags: [...(baseTemplate.tags || []), variation],\n          complexity: baseTemplate.complexity || 'medium',\n          relevanceScore: 0.8 + (Math.random() * 0.2)\n        });\n      });\n    });\n    \n    return templates.slice(0, categoryData.count || 500);\n  }\n\n  // Get base templates for a category\n  getBaseTemplatesForCategory(categoryKey) {\n    const baseTemplates = {\n      web: [\n        { name: 'Landing Page', description: 'Professional landing page', tags: ['marketing', 'business'] },\n        { name: 'Portfolio Website', description: 'Personal portfolio showcase', tags: ['creative', 'personal'] },\n        { name: 'Business Website', description: 'Corporate business site', tags: ['business', 'corporate'] },\n        { name: 'Blog Platform', description: 'Content management blog', tags: ['content', 'cms'] }\n      ],\n      mobile: [\n        { name: 'Mobile App', description: 'Cross-platform mobile application', tags: ['react-native', 'mobile'] },\n        { name: 'PWA', description: 'Progressive web application', tags: ['pwa', 'mobile-first'] }\n      ],\n      dashboard: [\n        { name: 'Analytics Dashboard', description: 'Data visualization dashboard', tags: ['analytics', 'charts'] },\n        { name: 'Admin Panel', description: 'Administrative interface', tags: ['admin', 'management'] }\n      ],\n      ecommerce: [\n        { name: 'Online Store', description: 'E-commerce platform', tags: ['shopping', 'payments'] },\n        { name: 'Marketplace', description: 'Multi-vendor marketplace', tags: ['marketplace', 'vendors'] }\n      ],\n      games: [\n        { name: 'Puzzle Game', description: 'Interactive puzzle game', tags: ['puzzle', 'casual'] },\n        { name: 'Arcade Game', description: 'Classic arcade-style game', tags: ['arcade', 'retro'] }\n      ]\n    };\n    \n    return baseTemplates[categoryKey] || [\n      { name: 'Generic Template', description: 'Basic template', tags: ['generic'] }\n    ];\n  }\n\n  // Fallback template loading\n  loadFallbackTemplates() {\n    const fallbackCategories = {\n      web: { name: 'Web Applications', icon: 'üåê', count: 1000 },\n      mobile: { name: 'Mobile Apps', icon: 'üì±', count: 800 },\n      dashboard: { name: 'Dashboards', icon: 'üìä', count: 600 },\n      ecommerce: { name: 'E-commerce', icon: 'üõí', count: 500 },\n      games: { name: 'Games', icon: 'üéÆ', count: 400 }\n    };\n    \n    for (const [categoryKey, categoryData] of Object.entries(fallbackCategories)) {\n      this.categories.set(categoryKey, categoryData);\n      const templates = this.generateTemplatesForCategory(categoryKey, categoryData);\n      \n      templates.forEach(template => {\n        this.templates.set(template.id, {\n          ...template,\n          category: categoryKey,\n          categoryName: categoryData.name,\n          icon: categoryData.icon\n        });\n      });\n    }\n    \n    console.log(`üìö Loaded ${this.templates.size} fallback templates across ${this.categories.size} categories`);\n    \n    // Initialize template matcher after loading templates\n    this.templateMatcher = new TemplateMatcher(this.templates);\n    console.log('‚úÖ Template Matcher initialized with fallback templates');\n  }\n\n  // Main generation method - Template-First approach\n  async generateApp(prompt, context = {}) {\n    console.log('üéØ Starting Template-First generation...');\n    \n    try {\n      // Step 1: Template Selection (Instant)\n      const selectedTemplate = await this.selectTemplate(prompt, context);\n      console.log(`üìã Selected template: ${selectedTemplate.name}`);\n      \n      // Step 2: Template Instantiation (Instant)\n      const baseApp = await this.instantiateTemplate(selectedTemplate);\n      console.log(`‚ö° Instantiated template with ${Object.keys(baseApp.files).length} files`);\n      \n      // Step 3: AI Customization (Fast)\n      const customizedApp = await this.customizeWithAI(baseApp, prompt, context);\n      console.log(`üé® AI customization completed`);\n      \n      return {\n        success: true,\n        files: customizedApp.files,\n        template: selectedTemplate,\n        metadata: {\n          generationMethod: 'template-first',\n          templateId: selectedTemplate.id,\n          customizationLevel: customizedApp.customizationLevel,\n          generationTime: Date.now() - (context.startTime || Date.now())\n        }\n      };\n      \n    } catch (error) {\n      console.error('‚ùå Template generation failed:', error);\n      return {\n        success: false,\n        error: error.message,\n        fallback: await this.generateFallback(prompt, context)\n      };\n    }\n  }\n\n  // Step 1: Intelligent Template Selection\n  async selectTemplate(prompt, context) {\n    const startTime = Date.now();\n    \n    // Check if template matcher is available\n    if (!this.templateMatcher) {\n      console.log('‚ö†Ô∏è Template matcher not available, using fallback selection');\n      const templates = Array.from(this.templates.values());\n      if (templates.length === 0) {\n        throw new Error('No templates available');\n      }\n      return templates[0];\n    }\n    \n    // Use template matcher to find best template\n    const matches = await this.templateMatcher.findBestMatches(prompt, {\n      category: context.category,\n      complexity: context.complexity,\n      technologies: context.technologies\n    });\n    \n    if (matches.length === 0) {\n      console.log('‚ö†Ô∏è No matches found, using first available template');\n      const templates = Array.from(this.templates.values());\n      if (templates.length === 0) {\n        throw new Error('No suitable template found');\n      }\n      return templates[0];\n    }\n    \n    const selectedTemplate = matches[0];\n    console.log(`üéØ Template selected in ${Date.now() - startTime}ms: ${selectedTemplate.name}`);\n    \n    return selectedTemplate;\n  }\n\n  // Step 2: Template Instantiation\n  async instantiateTemplate(template) {\n    const startTime = Date.now();\n    \n    // Create base application from template\n    const baseApp = {\n      id: `app-${Date.now()}`,\n      name: template.name,\n      category: template.category,\n      files: {},\n      metadata: {\n        templateId: template.id,\n        templateName: template.name,\n        instantiationTime: Date.now() - startTime\n      }\n    };\n    \n    // Generate files based on template type\n    if (template.category === 'web') {\n      baseApp.files = await this.generateWebAppFiles(template);\n    } else if (template.category === 'mobile') {\n      baseApp.files = await this.generateMobileAppFiles(template);\n    } else if (template.category === 'games') {\n      baseApp.files = await this.generateGameFiles(template);\n    } else {\n      baseApp.files = await this.generateGenericFiles(template);\n    }\n    \n    console.log(`‚ö° Template instantiated in ${Date.now() - startTime}ms`);\n    return baseApp;\n  }\n\n  // Step 3: AI Customization\n  async customizeWithAI(baseApp, prompt, context) {\n    const startTime = Date.now();\n    \n    // Use AI enhancer to customize the base app\n    const customizations = await this.aiEnhancer.analyzeCustomizations(baseApp, prompt, context);\n    \n    // Apply customizations\n    const customizedApp = {\n      ...baseApp,\n      files: {},\n      customizationLevel: customizations.level\n    };\n    \n    // Customize each file\n    for (const [filename, content] of Object.entries(baseApp.files)) {\n      customizedApp.files[filename] = await this.aiEnhancer.customizeFile(\n        filename, \n        content, \n        customizations\n      );\n    }\n    \n    console.log(`üé® AI customization completed in ${Date.now() - startTime}ms`);\n    return customizedApp;\n  }\n\n  // Template-specific file generation\n  async generateWebAppFiles(template) {\n    const files = {};\n    \n    // Generate HTML\n    files['index.html'] = this.generateHTML(template);\n    \n    // Generate CSS\n    files['styles.css'] = this.generateCSS(template);\n    \n    // Generate JavaScript\n    files['script.js'] = this.generateJavaScript(template);\n    \n    // Generate package.json\n    files['package.json'] = this.generatePackageJson(template);\n    \n    return files;\n  }\n\n  async generateMobileAppFiles(template) {\n    const files = {};\n    \n    // Generate React Native files\n    files['App.js'] = this.generateReactNativeApp(template);\n    files['package.json'] = this.generateReactNativePackage(template);\n    files['metro.config.js'] = this.generateMetroConfig();\n    \n    return files;\n  }\n\n  async generateGameFiles(template) {\n    const files = {};\n    \n    // Generate game files\n    files['index.html'] = this.generateGameHTML(template);\n    files['game.js'] = this.generateGameJavaScript(template);\n    files['styles.css'] = this.generateGameCSS(template);\n    \n    return files;\n  }\n\n  async generateGenericFiles(template) {\n    const files = {};\n    \n    // Generate basic files\n    files['index.html'] = this.generateHTML(template);\n    files['styles.css'] = this.generateCSS(template);\n    files['script.js'] = this.generateJavaScript(template);\n    \n    return files;\n  }\n\n  // File generation methods\n  generateHTML(template) {\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${template.name}</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <div id=\"app\">\n        <header>\n            <h1>${template.name}</h1>\n        </header>\n        <main>\n            <div class=\"content\">\n                <p>Welcome to your ${template.name} application!</p>\n                <div class=\"features\">\n                    ${this.generateFeatureList(template)}\n                </div>\n            </div>\n        </main>\n        <footer>\n            <p>Generated by DreamBuild</p>\n        </footer>\n    </div>\n    <script src=\"script.js\"></script>\n</body>\n</html>`;\n  }\n\n  generateCSS(template) {\n    return `/* ${template.name} Styles */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    line-height: 1.6;\n    color: #333;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    min-height: 100vh;\n}\n\n#app {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\nheader {\n    text-align: center;\n    margin-bottom: 40px;\n    color: white;\n}\n\nheader h1 {\n    font-size: 2.5rem;\n    margin-bottom: 10px;\n}\n\nmain {\n    background: white;\n    border-radius: 10px;\n    padding: 40px;\n    box-shadow: 0 10px 30px rgba(0,0,0,0.1);\n}\n\n.content {\n    text-align: center;\n}\n\n.features {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 20px;\n    margin-top: 30px;\n}\n\n.feature {\n    background: #f8f9fa;\n    padding: 20px;\n    border-radius: 8px;\n    border-left: 4px solid #667eea;\n}\n\nfooter {\n    text-align: center;\n    margin-top: 40px;\n    color: white;\n    opacity: 0.8;\n}`;\n  }\n\n  generateJavaScript(template) {\n    return `// ${template.name} JavaScript\nconsole.log('${template.name} loaded successfully!');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    console.log('DOM loaded, initializing app...');\n    \n    // Initialize app\n    initializeApp();\n    \n    // Add event listeners\n    setupEventListeners();\n});\n\nfunction initializeApp() {\n    console.log('Initializing ${template.name}...');\n    \n    // Add any initialization logic here\n    const app = document.getElementById('app');\n    if (app) {\n        app.style.opacity = '1';\n        app.style.transition = 'opacity 0.5s ease-in';\n    }\n}\n\nfunction setupEventListeners() {\n    // Add event listeners here\n    console.log('Event listeners setup complete');\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = { initializeApp, setupEventListeners };\n}`;\n  }\n\n  generatePackageJson(template) {\n    return JSON.stringify({\n      name: template.name.toLowerCase().replace(/\\s+/g, '-'),\n      version: \"1.0.0\",\n      description: `Generated ${template.name} application`,\n      main: \"script.js\",\n      scripts: {\n        start: \"python -m http.server 8000\",\n        build: \"echo 'Build complete'\",\n        dev: \"python -m http.server 8000\"\n      },\n      keywords: template.tags || [],\n      author: \"DreamBuild\",\n      license: \"MIT\",\n      dependencies: {\n        \"react\": \"^18.0.0\",\n        \"react-dom\": \"^18.0.0\"\n      }\n    }, null, 2);\n  }\n\n  generateFeatureList(template) {\n    const features = template.tags || ['Responsive Design', 'Modern UI', 'Fast Loading'];\n    return features.map(feature => \n      `<div class=\"feature\">\n        <h3>${feature}</h3>\n        <p>Built-in ${feature.toLowerCase()} functionality</p>\n      </div>`\n    ).join('');\n  }\n\n  // Fallback generation\n  async generateFallback(prompt, context) {\n    console.log('üîÑ Generating fallback application...');\n    \n    // Create a basic application based on the prompt\n    const appName = this.extractAppName(prompt);\n    const appType = this.detectAppType(prompt);\n    \n    return {\n      success: true,\n      files: {\n        'index.html': this.generateFallbackHTML(appName, prompt, appType),\n        'styles.css': this.generateFallbackCSS(appType),\n        'script.js': this.generateFallbackJS(appName, appType),\n        'package.json': this.generateFallbackPackageJson(appName)\n      },\n      metadata: {\n        generationMethod: 'fallback',\n        reason: 'Template selection failed',\n        appName: appName,\n        appType: appType\n      }\n    };\n  }\n\n  // Helper methods for fallback generation\n  extractAppName(prompt) {\n    const words = prompt.toLowerCase().split(' ');\n    const appKeywords = ['app', 'application', 'website', 'site', 'dashboard', 'platform'];\n    const nameIndex = words.findIndex(word => appKeywords.includes(word));\n    \n    if (nameIndex > 0) {\n      return words[nameIndex - 1].charAt(0).toUpperCase() + words[nameIndex - 1].slice(1) + ' ' + words[nameIndex];\n    }\n    \n    return 'DreamBuild App';\n  }\n\n  detectAppType(prompt) {\n    const lowerPrompt = prompt.toLowerCase();\n    if (lowerPrompt.includes('dashboard') || lowerPrompt.includes('admin')) return 'dashboard';\n    if (lowerPrompt.includes('ecommerce') || lowerPrompt.includes('store')) return 'ecommerce';\n    if (lowerPrompt.includes('portfolio') || lowerPrompt.includes('personal')) return 'portfolio';\n    if (lowerPrompt.includes('blog') || lowerPrompt.includes('content')) return 'blog';\n    return 'web';\n  }\n\n  generateFallbackHTML(appName, prompt, appType) {\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>${appName}</title>\n    <link rel=\"stylesheet\" href=\"styles.css\">\n</head>\n<body>\n    <div class=\"container\">\n        <header>\n            <h1>${appName}</h1>\n            <nav>\n                <a href=\"#home\">Home</a>\n                <a href=\"#about\">About</a>\n                <a href=\"#contact\">Contact</a>\n            </nav>\n        </header>\n        <main>\n            <section id=\"home\">\n                <h2>Welcome to ${appName}</h2>\n                <p>Generated from: \"${prompt}\"</p>\n                <div class=\"features\">\n                    <div class=\"feature\">\n                        <h3>Responsive Design</h3>\n                        <p>Works on all devices</p>\n                    </div>\n                    <div class=\"feature\">\n                        <h3>Modern UI</h3>\n                        <p>Clean and professional</p>\n                    </div>\n                    <div class=\"feature\">\n                        <h3>Fast Loading</h3>\n                        <p>Optimized performance</p>\n                    </div>\n                </div>\n            </section>\n        </main>\n        <footer>\n            <p>&copy; 2024 ${appName}. Generated by DreamBuild.</p>\n        </footer>\n    </div>\n    <script src=\"script.js\"></script>\n</body>\n</html>`;\n  }\n\n  generateFallbackCSS(appType) {\n    const colorScheme = {\n      dashboard: '#2563eb',\n      ecommerce: '#059669',\n      portfolio: '#7c3aed',\n      blog: '#dc2626',\n      web: '#0891b2'\n    };\n    \n    const primaryColor = colorScheme[appType] || colorScheme.web;\n    \n    return `/* ${appType} Application Styles */\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n    line-height: 1.6;\n    color: #333;\n    background: linear-gradient(135deg, ${primaryColor} 0%, #1e40af 100%);\n    min-height: 100vh;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\nheader {\n    background: rgba(255, 255, 255, 0.95);\n    backdrop-filter: blur(10px);\n    border-radius: 10px;\n    padding: 20px;\n    margin-bottom: 30px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\nheader h1 {\n    color: ${primaryColor};\n    font-size: 2.5rem;\n    margin-bottom: 10px;\n    text-align: center;\n}\n\nnav {\n    display: flex;\n    justify-content: center;\n    gap: 20px;\n}\n\nnav a {\n    color: #666;\n    text-decoration: none;\n    padding: 10px 20px;\n    border-radius: 5px;\n    transition: all 0.3s ease;\n}\n\nnav a:hover {\n    background: ${primaryColor};\n    color: white;\n}\n\nmain {\n    background: white;\n    border-radius: 10px;\n    padding: 40px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n    margin-bottom: 30px;\n}\n\nh2 {\n    color: ${primaryColor};\n    margin-bottom: 20px;\n    text-align: center;\n}\n\n.features {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 20px;\n    margin-top: 30px;\n}\n\n.feature {\n    background: #f8f9fa;\n    padding: 20px;\n    border-radius: 8px;\n    border-left: 4px solid ${primaryColor};\n    text-align: center;\n}\n\n.feature h3 {\n    color: ${primaryColor};\n    margin-bottom: 10px;\n}\n\nfooter {\n    text-align: center;\n    color: white;\n    opacity: 0.8;\n}\n\n@media (max-width: 768px) {\n    header h1 {\n        font-size: 2rem;\n    }\n    \n    nav {\n        flex-direction: column;\n        align-items: center;\n    }\n    \n    .features {\n        grid-template-columns: 1fr;\n    }\n}`;\n  }\n\n  generateFallbackJS(appName, appType) {\n    return `// ${appName} JavaScript\nconsole.log('${appName} loaded successfully!');\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    console.log('DOM loaded, initializing ${appType} app...');\n    \n    // Initialize app\n    initializeApp();\n    \n    // Add smooth scrolling for navigation\n    setupNavigation();\n    \n    // Add any app-specific functionality\n    setupAppFeatures();\n});\n\nfunction initializeApp() {\n    console.log('Initializing ${appName}...');\n    \n    // Add loading animation\n    const container = document.querySelector('.container');\n    if (container) {\n        container.style.opacity = '0';\n        container.style.transition = 'opacity 0.5s ease-in';\n        \n        setTimeout(() => {\n            container.style.opacity = '1';\n        }, 100);\n    }\n}\n\nfunction setupNavigation() {\n    const navLinks = document.querySelectorAll('nav a');\n    navLinks.forEach(link => {\n        link.addEventListener('click', function(e) {\n            e.preventDefault();\n            const targetId = this.getAttribute('href').substring(1);\n            const targetElement = document.getElementById(targetId);\n            \n            if (targetElement) {\n                targetElement.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n            }\n        });\n    });\n}\n\nfunction setupAppFeatures() {\n    // Add interactive features based on app type\n    const features = document.querySelectorAll('.feature');\n    features.forEach((feature, index) => {\n        feature.addEventListener('mouseenter', function() {\n            this.style.transform = 'translateY(-5px)';\n            this.style.transition = 'transform 0.3s ease';\n        });\n        \n        feature.addEventListener('mouseleave', function() {\n            this.style.transform = 'translateY(0)';\n        });\n    });\n    \n    console.log('App features initialized');\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = { initializeApp, setupNavigation, setupAppFeatures };\n}`;\n  }\n\n  generateFallbackPackageJson(appName) {\n    const packageName = appName.toLowerCase().replace(/\\s+/g, '-');\n    \n    return JSON.stringify({\n      name: packageName,\n      version: \"1.0.0\",\n      description: `Generated ${appName} application`,\n      main: \"script.js\",\n      scripts: {\n        start: \"python -m http.server 8000\",\n        build: \"echo 'Build complete'\",\n        dev: \"python -m http.server 8000\"\n      },\n      keywords: [\"dreambuild\", \"generated\", \"web\", \"app\"],\n      author: \"DreamBuild\",\n      license: \"MIT\",\n      dependencies: {\n        \"react\": \"^18.0.0\",\n        \"react-dom\": \"^18.0.0\"\n      }\n    }, null, 2);\n  }\n\n  // Utility methods\n  getTemplateById(id) {\n    return this.templates.get(id);\n  }\n\n  getTemplatesByCategory(category) {\n    return Array.from(this.templates.values())\n      .filter(template => template.category === category);\n  }\n\n  searchTemplates(query) {\n    const results = [];\n    const searchTerm = query.toLowerCase();\n    \n    for (const template of this.templates.values()) {\n      if (template.name.toLowerCase().includes(searchTerm) ||\n          template.description?.toLowerCase().includes(searchTerm) ||\n          template.tags?.some(tag => tag.toLowerCase().includes(searchTerm))) {\n        results.push(template);\n      }\n    }\n    \n    return results;\n  }\n\n  getStats() {\n    return {\n      totalTemplates: this.templates.size,\n      totalCategories: this.categories.size,\n      categories: Array.from(this.categories.values()).map(cat => ({\n        name: cat.name,\n        count: cat.count,\n        icon: cat.icon\n      }))\n    };\n  }\n}\n\n// AI Customization Service\nclass AICustomizationService {\n  constructor() {\n    this.customizationLevels = {\n      minimal: 0.1,\n      light: 0.3,\n      moderate: 0.5,\n      heavy: 0.7,\n      complete: 1.0\n    };\n  }\n\n  async analyzeCustomizations(baseApp, prompt, context) {\n    // Analyze what customizations are needed\n    const customizations = {\n      level: 'moderate',\n      changes: [],\n      colors: null,\n      content: null,\n      features: []\n    };\n\n    // Determine customization level based on prompt complexity\n    if (prompt.length > 100) {\n      customizations.level = 'heavy';\n    } else if (prompt.length < 50) {\n      customizations.level = 'light';\n    }\n\n    // Extract color preferences\n    const colorMatch = prompt.match(/(blue|red|green|purple|orange|pink|yellow|black|white)/i);\n    if (colorMatch) {\n      customizations.colors = colorMatch[0].toLowerCase();\n    }\n\n    // Extract feature requests\n    const featureKeywords = ['auth', 'payment', 'database', 'api', 'mobile', 'responsive'];\n    customizations.features = featureKeywords.filter(keyword => \n      prompt.toLowerCase().includes(keyword)\n    );\n\n    return customizations;\n  }\n\n  async customizeFile(filename, content, customizations) {\n    let customizedContent = content;\n\n    // Apply color customizations\n    if (customizations.colors) {\n      customizedContent = this.applyColorTheme(customizedContent, customizations.colors);\n    }\n\n    // Apply feature customizations\n    if (customizations.features.length > 0) {\n      customizedContent = this.applyFeatureCustomizations(customizedContent, customizations.features);\n    }\n\n    // Apply content customizations\n    if (customizations.content) {\n      customizedContent = this.applyContentCustomizations(customizedContent, customizations.content);\n    }\n\n    return customizedContent;\n  }\n\n  applyColorTheme(content, color) {\n    const colorMap = {\n      blue: '#3b82f6',\n      red: '#ef4444',\n      green: '#10b981',\n      purple: '#8b5cf6',\n      orange: '#f97316',\n      pink: '#ec4899',\n      yellow: '#f59e0b'\n    };\n\n    const primaryColor = colorMap[color] || colorMap.blue;\n    \n    // Replace various color patterns\n    let updatedContent = content\n      .replace(/#667eea/g, primaryColor)\n      .replace(/black/g, primaryColor)\n      .replace(/#000000/g, primaryColor)\n      .replace(/#333/g, primaryColor);\n    \n    // Add color-specific CSS if it's a CSS file\n    if (content.includes('color:') || content.includes('background')) {\n      updatedContent += `\\n/* AI Applied ${color} theme */`;\n    }\n    \n    return updatedContent;\n  }\n\n  applyFeatureCustomizations(content, features) {\n    let customizedContent = content;\n\n    if (features.includes('auth')) {\n      customizedContent += '\\n/* Authentication styles added */';\n    }\n\n    if (features.includes('payment')) {\n      customizedContent += '\\n/* Payment integration styles added */';\n    }\n\n    if (features.includes('responsive')) {\n      customizedContent = customizedContent.replace(\n        'grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));',\n        'grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));'\n      );\n    }\n\n    return customizedContent;\n  }\n\n  applyContentCustomizations(content, customizations) {\n    // Apply content-specific customizations\n    return content;\n  }\n}\n\n// Template Matcher Service\nclass TemplateMatcher {\n  constructor(templates) {\n    this.templates = templates;\n  }\n\n  async findBestMatches(prompt, context = {}) {\n    const matches = [];\n    const promptLower = prompt.toLowerCase();\n\n    for (const template of this.templates.values()) {\n      let score = 0;\n\n      // Name matching\n      if (template.name.toLowerCase().includes(promptLower)) {\n        score += 10;\n      }\n\n      // Description matching\n      if (template.description?.toLowerCase().includes(promptLower)) {\n        score += 8;\n      }\n\n      // Tag matching\n      if (template.tags) {\n        const tagMatches = template.tags.filter(tag => \n          promptLower.includes(tag.toLowerCase())\n        ).length;\n        score += tagMatches * 5;\n      }\n\n      // Category matching\n      if (context.category && template.category === context.category) {\n        score += 15;\n      }\n\n      // Complexity matching\n      if (context.complexity && template.complexity === context.complexity) {\n        score += 10;\n      }\n\n      // Keyword-based matching for better results\n      const keywords = ['dashboard', 'app', 'application', 'website', 'portal', 'panel'];\n      const promptKeywords = keywords.filter(keyword => promptLower.includes(keyword));\n      const templateKeywords = keywords.filter(keyword => \n        template.name.toLowerCase().includes(keyword) || \n        template.description?.toLowerCase().includes(keyword)\n      );\n      \n      if (promptKeywords.length > 0 && templateKeywords.length > 0) {\n        score += 5;\n      }\n\n      if (score > 0) {\n        matches.push({ ...template, score });\n      }\n    }\n\n    // If no matches found, return some default templates\n    if (matches.length === 0) {\n      const defaultTemplates = Array.from(this.templates.values()).slice(0, 3);\n      return defaultTemplates.map(template => ({ ...template, score: 1 }));\n    }\n\n    // Sort by score and return top matches\n    return matches.sort((a, b) => b.score - a.score).slice(0, 5);\n  }\n}\n\nexport default TemplateBasedGenerator;\n"],"file":"assets/templateBasedGenerator-BFlrrLJg.js"}