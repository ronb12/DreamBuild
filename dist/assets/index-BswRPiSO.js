function hC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function pC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rm={exports:{}},Ec={},Dm={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function fC(){if(ib)return $e;ib=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function C(V,Z,Ae){this.props=V,this.context=Z,this.refs=P,this.updater=Ae||_}C.prototype.isReactComponent={},C.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function U(){}U.prototype=C.prototype;function D(V,Z,Ae){this.props=V,this.context=Z,this.refs=P,this.updater=Ae||_}var I=D.prototype=new U;I.constructor=D,T(I,C.prototype),I.isPureReactComponent=!0;var $=Array.isArray,Q=Object.prototype.hasOwnProperty,G={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(V,Z,Ae){var Te,Le={},Oe=null,Ge=null;if(Z!=null)for(Te in Z.ref!==void 0&&(Ge=Z.ref),Z.key!==void 0&&(Oe=""+Z.key),Z)Q.call(Z,Te)&&!A.hasOwnProperty(Te)&&(Le[Te]=Z[Te]);var ee=arguments.length-2;if(ee===1)Le.children=Ae;else if(1<ee){for(var pe=Array(ee),de=0;de<ee;de++)pe[de]=arguments[de+2];Le.children=pe}if(V&&V.defaultProps)for(Te in ee=V.defaultProps,ee)Le[Te]===void 0&&(Le[Te]=ee[Te]);return{$$typeof:n,type:V,key:Oe,ref:Ge,props:Le,_owner:G.current}}function R(V,Z){return{$$typeof:n,type:V.type,key:Z,ref:V.ref,props:V.props,_owner:V._owner}}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function F(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Ae){return Z[Ae]})}var z=/\/+/g;function M(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?F(""+V.key):Z.toString(36)}function we(V,Z,Ae,Te,Le){var Oe=typeof V;(Oe==="undefined"||Oe==="boolean")&&(V=null);var Ge=!1;if(V===null)Ge=!0;else switch(Oe){case"string":case"number":Ge=!0;break;case"object":switch(V.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=V,Le=Le(Ge),V=Te===""?"."+M(Ge,0):Te,$(Le)?(Ae="",V!=null&&(Ae=V.replace(z,"$&/")+"/"),we(Le,Z,Ae,"",function(de){return de})):Le!=null&&(L(Le)&&(Le=R(Le,Ae+(!Le.key||Ge&&Ge.key===Le.key?"":(""+Le.key).replace(z,"$&/")+"/")+V)),Z.push(Le)),1;if(Ge=0,Te=Te===""?".":Te+":",$(V))for(var ee=0;ee<V.length;ee++){Oe=V[ee];var pe=Te+M(Oe,ee);Ge+=we(Oe,Z,Ae,pe,Le)}else if(pe=w(V),typeof pe=="function")for(V=pe.call(V),ee=0;!(Oe=V.next()).done;)Oe=Oe.value,pe=Te+M(Oe,ee++),Ge+=we(Oe,Z,Ae,pe,Le);else if(Oe==="object")throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ge}function _e(V,Z,Ae){if(V==null)return V;var Te=[],Le=0;return we(V,Te,"","",function(Oe){return Z.call(Ae,Oe,Le++)}),Te}function ve(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(Ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=Ae)},function(Ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=Ae)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Ue={current:null},oe={transition:null},ne={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:oe,ReactCurrentOwner:G};function se(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:_e,forEach:function(V,Z,Ae){_e(V,function(){Z.apply(this,arguments)},Ae)},count:function(V){var Z=0;return _e(V,function(){Z++}),Z},toArray:function(V){return _e(V,function(Z){return Z})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},$e.Component=C,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=D,$e.StrictMode=r,$e.Suspense=h,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,$e.act=se,$e.cloneElement=function(V,Z,Ae){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Te=T({},V.props),Le=V.key,Oe=V.ref,Ge=V._owner;if(Z!=null){if(Z.ref!==void 0&&(Oe=Z.ref,Ge=G.current),Z.key!==void 0&&(Le=""+Z.key),V.type&&V.type.defaultProps)var ee=V.type.defaultProps;for(pe in Z)Q.call(Z,pe)&&!A.hasOwnProperty(pe)&&(Te[pe]=Z[pe]===void 0&&ee!==void 0?ee[pe]:Z[pe])}var pe=arguments.length-2;if(pe===1)Te.children=Ae;else if(1<pe){ee=Array(pe);for(var de=0;de<pe;de++)ee[de]=arguments[de+2];Te.children=ee}return{$$typeof:n,type:V.type,key:Le,ref:Oe,props:Te,_owner:Ge}},$e.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},$e.createElement=E,$e.createFactory=function(V){var Z=E.bind(null,V);return Z.type=V,Z},$e.createRef=function(){return{current:null}},$e.forwardRef=function(V){return{$$typeof:d,render:V}},$e.isValidElement=L,$e.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:ve}},$e.memo=function(V,Z){return{$$typeof:f,type:V,compare:Z===void 0?null:Z}},$e.startTransition=function(V){var Z=oe.transition;oe.transition={};try{V()}finally{oe.transition=Z}},$e.unstable_act=se,$e.useCallback=function(V,Z){return Ue.current.useCallback(V,Z)},$e.useContext=function(V){return Ue.current.useContext(V)},$e.useDebugValue=function(){},$e.useDeferredValue=function(V){return Ue.current.useDeferredValue(V)},$e.useEffect=function(V,Z){return Ue.current.useEffect(V,Z)},$e.useId=function(){return Ue.current.useId()},$e.useImperativeHandle=function(V,Z,Ae){return Ue.current.useImperativeHandle(V,Z,Ae)},$e.useInsertionEffect=function(V,Z){return Ue.current.useInsertionEffect(V,Z)},$e.useLayoutEffect=function(V,Z){return Ue.current.useLayoutEffect(V,Z)},$e.useMemo=function(V,Z){return Ue.current.useMemo(V,Z)},$e.useReducer=function(V,Z,Ae){return Ue.current.useReducer(V,Z,Ae)},$e.useRef=function(V){return Ue.current.useRef(V)},$e.useState=function(V){return Ue.current.useState(V)},$e.useSyncExternalStore=function(V,Z,Ae){return Ue.current.useSyncExternalStore(V,Z,Ae)},$e.useTransition=function(){return Ue.current.useTransition()},$e.version="18.3.1",$e}var ob;function wy(){return ob||(ob=1,Dm.exports=fC()),Dm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function mC(){if(ab)return Ec;ab=1;var n=wy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,h,f){var g,y={},w=null,_=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:w,ref:_,props:y,_owner:s.current}}return Ec.Fragment=t,Ec.jsx=l,Ec.jsxs=l,Ec}var lb;function gC(){return lb||(lb=1,Rm.exports=mC()),Rm.exports}var c=gC(),N=wy();const Xn=pC(N),yC=hC({__proto__:null,default:Xn},[N]);var Zd={},Mm={exports:{}},xn={},Lm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function vC(){return cb||(cb=1,(function(n){function e(oe,ne){var se=oe.length;oe.push(ne);e:for(;0<se;){var V=se-1>>>1,Z=oe[V];if(0<s(Z,ne))oe[V]=ne,oe[se]=Z,se=V;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ne=oe[0],se=oe.pop();if(se!==ne){oe[0]=se;e:for(var V=0,Z=oe.length,Ae=Z>>>1;V<Ae;){var Te=2*(V+1)-1,Le=oe[Te],Oe=Te+1,Ge=oe[Oe];if(0>s(Le,se))Oe<Z&&0>s(Ge,Le)?(oe[V]=Ge,oe[Oe]=se,V=Oe):(oe[V]=Le,oe[Te]=se,V=Te);else if(Oe<Z&&0>s(Ge,se))oe[V]=Ge,oe[Oe]=se,V=Oe;else break e}}return ne}function s(oe,ne){var se=oe.sortIndex-ne.sortIndex;return se!==0?se:oe.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var h=[],f=[],g=1,y=null,w=3,_=!1,T=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(oe){for(var ne=t(f);ne!==null;){if(ne.callback===null)r(f);else if(ne.startTime<=oe)r(f),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(f)}}function $(oe){if(P=!1,I(oe),!T)if(t(h)!==null)T=!0,ve(Q);else{var ne=t(f);ne!==null&&Ue($,ne.startTime-oe)}}function Q(oe,ne){T=!1,P&&(P=!1,U(E),E=-1),_=!0;var se=w;try{for(I(ne),y=t(h);y!==null&&(!(y.expirationTime>ne)||oe&&!F());){var V=y.callback;if(typeof V=="function"){y.callback=null,w=y.priorityLevel;var Z=V(y.expirationTime<=ne);ne=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(h)&&r(h),I(ne)}else r(h);y=t(h)}if(y!==null)var Ae=!0;else{var Te=t(f);Te!==null&&Ue($,Te.startTime-ne),Ae=!1}return Ae}finally{y=null,w=se,_=!1}}var G=!1,A=null,E=-1,R=5,L=-1;function F(){return!(n.unstable_now()-L<R)}function z(){if(A!==null){var oe=n.unstable_now();L=oe;var ne=!0;try{ne=A(!0,oe)}finally{ne?M():(G=!1,A=null)}}else G=!1}var M;if(typeof D=="function")M=function(){D(z)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,_e=we.port2;we.port1.onmessage=z,M=function(){_e.postMessage(null)}}else M=function(){C(z,0)};function ve(oe){A=oe,G||(G=!0,M())}function Ue(oe,ne){E=C(function(){oe(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){T||_||(T=!0,ve(Q))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(oe){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var se=w;w=ne;try{return oe()}finally{w=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ne){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var se=w;w=oe;try{return ne()}finally{w=se}},n.unstable_scheduleCallback=function(oe,ne,se){var V=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?V+se:V):se=V,oe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=se+Z,oe={id:g++,callback:ne,priorityLevel:oe,startTime:se,expirationTime:Z,sortIndex:-1},se>V?(oe.sortIndex=se,e(f,oe),t(h)===null&&oe===t(f)&&(P?(U(E),E=-1):P=!0,Ue($,se-V))):(oe.sortIndex=Z,e(h,oe),T||_||(T=!0,ve(Q))),oe},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(oe){var ne=w;return function(){var se=w;w=ne;try{return oe.apply(this,arguments)}finally{w=se}}}})(Om)),Om}var ub;function xC(){return ub||(ub=1,Lm.exports=vC()),Lm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function bC(){if(db)return xn;db=1;var n=wy(),e=xC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(i){return h.call(y,i)?!0:h.call(g,i)?!1:f.test(i)?y[i]=!0:(g[i]=!0,!1)}function _(i,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,o,u,m){if(o===null||typeof o>"u"||_(i,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function P(i,o,u,m,v,x,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new P(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(U,D);C[o]=new P(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(U,D);C[o]=new P(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(U,D);C[o]=new P(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,o,u,m){var v=C.hasOwnProperty(o)?C[o]:null;(v!==null?v.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,u,v,m)&&(u=null),m||v===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,m=v.attributeNamespace,u===null?i.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,m?i.setAttributeNS(m,o,u):i.setAttribute(o,u))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),G=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),Ue=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ne(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,V;function Z(i){if(V===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+i}var Ae=!1;function Te(i,o){if(!i||Ae)return"";Ae=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var m=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){m=J}i.call(o.prototype)}else{try{throw Error()}catch(J){m=J}i()}}catch(J){if(J&&m&&typeof J.stack=="string"){for(var v=J.stack.split(`
`),x=m.stack.split(`
`),k=v.length-1,O=x.length-1;1<=k&&0<=O&&v[k]!==x[O];)O--;for(;1<=k&&0<=O;k--,O--)if(v[k]!==x[O]){if(k!==1||O!==1)do if(k--,O--,0>O||v[k]!==x[O]){var B=`
`+v[k].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=k&&0<=O);break}}}finally{Ae=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function Le(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Te(i.type,!1),i;case 11:return i=Te(i.type.render,!1),i;case 1:return i=Te(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case G:return"Portal";case R:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case we:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case _e:return o=i.displayName||null,o!==null?o:Oe(i.type)||"Memo";case ve:o=i._payload,i=i._init;try{return Oe(i(o))}catch{}}return null}function Ge(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(o);case 8:return o===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function de(i){var o=pe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),m=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(k){m=""+k,x.call(this,k)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function et(i){i._valueTracker||(i._valueTracker=de(i))}function Vn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=pe(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function Os(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function ra(i,o){var u=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Vu(i,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=ee(o.value!=null?o.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function sa(i,o){o=o.checked,o!=null&&I(i,"checked",o,!1)}function Wi(i,o){sa(i,o);var u=ee(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?At(i,o.type,u):o.hasOwnProperty("defaultValue")&&At(i,o.type,ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function jl(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function At(i,o,u){(o!=="number"||Os(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var wt=Array.isArray;function Zn(i,o,u,m){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ee(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,m&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function Pl(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Rl(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(wt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ee(u)}}function Fu(i,o){var u=ee(o.value),m=ee(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function Vs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Dl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ia(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Dl(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Fs,Uu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,v){MSApp.execUnsafeLocalFunction(function(){return i(o,u,m,v)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Fs.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Gi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bu=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(i){Bu.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Us[o]=Us[i]})});function Bs(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Us.hasOwnProperty(i)&&Us[i]?(""+o).trim():o+"px"}function oa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,v=Bs(u,o[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,v):i[u]=v}}var Ml=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function er(i,o){if(o){if(Ml[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function aa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $s=null;function la(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ts=null,ns=null,gt=null;function Ll(i){if(i=cc(i)){if(typeof ts!="function")throw Error(t(280));var o=i.stateNode;o&&(o=fd(o),ts(i.stateNode,i.type,o))}}function zs(i){ns?gt?gt.push(i):gt=[i]:ns=i}function Hs(){if(ns){var i=ns,o=gt;if(gt=ns=null,Ll(i),o)for(i=0;i<o.length;i++)Ll(o[i])}}function $u(i,o){return i(o)}function zu(){}var xr=!1;function Hu(i,o,u){if(xr)return i(o,u);xr=!0;try{return $u(i,o,u)}finally{xr=!1,(ns!==null||gt!==null)&&(zu(),Hs())}}function Ki(i,o){var u=i.stateNode;if(u===null)return null;var m=fd(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var qs=!1;if(d)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){qs=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{qs=!1}function qu(i,o,u,m,v,x,k,O,B){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(ae){this.onError(ae)}}var rs=!1,br=null,ca=!1,Fn=null,Wu={onError:function(i){rs=!0,br=i}};function Gu(i,o,u,m,v,x,k,O,B){rs=!1,br=null,qu.apply(Wu,arguments)}function Ol(i,o,u,m,v,x,k,O,B){if(Gu.apply(this,arguments),rs){if(rs){var J=br;rs=!1,br=null}else throw Error(t(198));ca||(ca=!0,Fn=J)}}function tr(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Vl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Ku(i){if(tr(i)!==i)throw Error(t(188))}function Qu(i){var o=i.alternate;if(!o){if(o=tr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,m=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(m=v.return,m!==null){u=m;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return Ku(v),i;if(x===m)return Ku(v),o;x=x.sibling}throw Error(t(188))}if(u.return!==m.return)u=v,m=x;else{for(var k=!1,O=v.child;O;){if(O===u){k=!0,u=v,m=x;break}if(O===m){k=!0,m=v,u=x;break}O=O.sibling}if(!k){for(O=x.child;O;){if(O===u){k=!0,u=x,m=v;break}if(O===m){k=!0,m=x,u=v;break}O=O.sibling}if(!k)throw Error(t(189))}}if(u.alternate!==m)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Ju(i){return i=Qu(i),i!==null?Qi(i):null}function Qi(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Qi(i);if(o!==null)return o;i=i.sibling}return null}var Fl=e.unstable_scheduleCallback,ua=e.unstable_cancelCallback,Ji=e.unstable_shouldYield,ss=e.unstable_requestPaint,at=e.unstable_now,uf=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,Ul=e.unstable_UserBlockingPriority,Yi=e.unstable_NormalPriority,Bl=e.unstable_LowPriority,ha=e.unstable_IdlePriority,Xi=null,Tn=null;function Yu(i){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Xi,i,void 0,(i.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:Zi,wr=Math.log,Un=Math.LN2;function Zi(i){return i>>>=0,i===0?32:31-(wr(i)/Un|0)|0}var Sr=64,Gs=4194304;function Xe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function is(i,o){var u=i.pendingLanes;if(u===0)return 0;var m=0,v=i.suspendedLanes,x=i.pingedLanes,k=u&268435455;if(k!==0){var O=k&~v;O!==0?m=Xe(O):(x&=k,x!==0&&(m=Xe(x)))}else k=u&~v,k!==0?m=Xe(k):x!==0&&(m=Xe(x));if(m===0)return 0;if(o!==0&&o!==m&&(o&v)===0&&(v=m&-m,x=o&-o,v>=x||v===16&&(x&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=m;0<o;)u=31-kn(o),v=1<<u,m|=i[u],o&=~v;return m}function eo(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function to(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes;0<x;){var k=31-kn(x),O=1<<k,B=v[k];B===-1?((O&u)===0||(O&m)!==0)&&(v[k]=eo(O,o)):B<=o&&(i.expiredLanes|=O),x&=~O}}function $l(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zl(){var i=Sr;return Sr<<=1,(Sr&4194240)===0&&(Sr=64),i}function Hl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function no(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-kn(o),i[o]=u}function df(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-kn(u),x=1<<v;o[v]=0,m[v]=-1,i[v]=-1,u&=~x}}function ql(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-kn(u),v=1<<m;v&o|i[m]&o&&(i[m]|=o),u&=~v}}var Ke=0;function _r(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Wl,pa,Gl,Kl,Ql,Er=!1,fa=[],Tr=null,kr=null,Gt=null,ro=new Map,os=new Map,An=[],Xu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ks(i,o){switch(i){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":ro.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(o.pointerId)}}function nr(i,o,u,m,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:x,targetContainers:[v]},o!==null&&(o=cc(o),o!==null&&pa(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function Zu(i,o,u,m,v){switch(o){case"focusin":return Tr=nr(Tr,i,o,u,m,v),!0;case"dragenter":return kr=nr(kr,i,o,u,m,v),!0;case"mouseover":return Gt=nr(Gt,i,o,u,m,v),!0;case"pointerover":var x=v.pointerId;return ro.set(x,nr(ro.get(x)||null,i,o,u,m,v)),!0;case"gotpointercapture":return x=v.pointerId,os.set(x,nr(os.get(x)||null,i,o,u,m,v)),!0}return!1}function ma(i){var o=ao(i.target);if(o!==null){var u=tr(o);if(u!==null){if(o=u.tag,o===13){if(o=Vl(u),o!==null){i.blockedOn=o,Ql(i.priority,function(){Gl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ga(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);$s=m,u.target.dispatchEvent(m),$s=null}else return o=cc(u),o!==null&&pa(o),i.blockedOn=u,!1;o.shift()}return!0}function ed(i,o,u){nt(i)&&u.delete(o)}function hf(){Er=!1,Tr!==null&&nt(Tr)&&(Tr=null),kr!==null&&nt(kr)&&(kr=null),Gt!==null&&nt(Gt)&&(Gt=null),ro.forEach(ed),os.forEach(ed)}function Qs(i,o){i.blockedOn===o&&(i.blockedOn=null,Er||(Er=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hf)))}function Js(i){function o(v){return Qs(v,i)}if(0<fa.length){Qs(fa[0],i);for(var u=1;u<fa.length;u++){var m=fa[u];m.blockedOn===i&&(m.blockedOn=null)}}for(Tr!==null&&Qs(Tr,i),kr!==null&&Qs(kr,i),Gt!==null&&Qs(Gt,i),ro.forEach(o),os.forEach(o),u=0;u<An.length;u++)m=An[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<An.length&&(u=An[0],u.blockedOn===null);)ma(u),u.blockedOn===null&&An.shift()}var as=$.ReactCurrentBatchConfig,ls=!0;function Ar(i,o,u,m){var v=Ke,x=as.transition;as.transition=null;try{Ke=1,Jl(i,o,u,m)}finally{Ke=v,as.transition=x}}function td(i,o,u,m){var v=Ke,x=as.transition;as.transition=null;try{Ke=4,Jl(i,o,u,m)}finally{Ke=v,as.transition=x}}function Jl(i,o,u,m){if(ls){var v=ga(i,o,u,m);if(v===null)_f(i,o,m,Cr,u),Ks(i,m);else if(Zu(v,i,o,u,m))m.stopPropagation();else if(Ks(i,m),o&4&&-1<Xu.indexOf(i)){for(;v!==null;){var x=cc(v);if(x!==null&&Wl(x),x=ga(i,o,u,m),x===null&&_f(i,o,m,Cr,u),x===v)break;v=x}v!==null&&m.stopPropagation()}else _f(i,o,m,null,u)}}var Cr=null;function ga(i,o,u,m){if(Cr=null,i=la(m),i=ao(i),i!==null)if(o=tr(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Vl(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Cr=i,null}function ya(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case da:return 1;case Ul:return 4;case Yi:case Bl:return 16;case ha:return 536870912;default:return 16}default:return 16}}var Cn=null,va=null,cs=null;function nd(){if(cs)return cs;var i,o=va,u=o.length,m,v="value"in Cn?Cn.value:Cn.textContent,x=v.length;for(i=0;i<u&&o[i]===v[i];i++);var k=u-i;for(m=1;m<=k&&o[u-m]===v[x-m];m++);return cs=v.slice(i,1<m?1-m:void 0)}function so(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ir(){return!0}function Yl(){return!1}function Xt(i){function o(u,m,v,x,k){this._reactName=u,this._targetInst=v,this.type=m,this.nativeEvent=x,this.target=k,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ir:Yl,this.isPropagationStopped=Yl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ir)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ir)},persist:function(){},isPersistent:Ir}),o}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=Xt(Nr),Ys=se({},Nr,{view:0,detail:0}),xa=Xt(Ys),ba,wa,In,oo=se({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ve,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==In&&(In&&i.type==="mousemove"?(ba=i.screenX-In.screenX,wa=i.screenY-In.screenY):wa=ba=0,In=i),ba)},movementY:function(i){return"movementY"in i?i.movementY:wa}}),Xl=Xt(oo),rd=se({},oo,{dataTransfer:0}),sd=Xt(rd),Sa=se({},Ys,{relatedTarget:0}),Kt=Xt(Sa),id=se({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),od=Xt(id),Xs=se({},Nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),p=Xt(Xs),b=se({},Nr,{data:0}),S=Xt(b),j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Y[i])?!!o[i]:!1}function Ve(){return ue}var St=se({},Ys,{key:function(i){if(i.key){var o=j[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=so(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?W[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ve,charCode:function(i){return i.type==="keypress"?so(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?so(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tt=Xt(St),Ct=se({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=Xt(Ct),us=se({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ve}),jr=Xt(us),Pr=se({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_a=Xt(Pr),Zl=se({},oo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oA=Xt(Zl),aA=[9,13,27,32],pf=d&&"CompositionEvent"in window,ec=null;d&&"documentMode"in document&&(ec=document.documentMode);var lA=d&&"TextEvent"in window&&!ec,Yv=d&&(!pf||ec&&8<ec&&11>=ec),Xv=" ",Zv=!1;function ex(i,o){switch(i){case"keyup":return aA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ea=!1;function cA(i,o){switch(i){case"compositionend":return tx(o);case"keypress":return o.which!==32?null:(Zv=!0,Xv);case"textInput":return i=o.data,i===Xv&&Zv?null:i;default:return null}}function uA(i,o){if(Ea)return i==="compositionend"||!pf&&ex(i,o)?(i=nd(),cs=va=Cn=null,Ea=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yv&&o.locale!=="ko"?null:o.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nx(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!dA[i.type]:o==="textarea"}function rx(i,o,u,m){zs(m),o=dd(o,"onChange"),0<o.length&&(u=new io("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var tc=null,nc=null;function hA(i){wx(i,0)}function ad(i){var o=Ia(i);if(Vn(o))return i}function pA(i,o){if(i==="change")return o}var sx=!1;if(d){var ff;if(d){var mf="oninput"in document;if(!mf){var ix=document.createElement("div");ix.setAttribute("oninput","return;"),mf=typeof ix.oninput=="function"}ff=mf}else ff=!1;sx=ff&&(!document.documentMode||9<document.documentMode)}function ox(){tc&&(tc.detachEvent("onpropertychange",ax),nc=tc=null)}function ax(i){if(i.propertyName==="value"&&ad(nc)){var o=[];rx(o,nc,i,la(i)),Hu(hA,o)}}function fA(i,o,u){i==="focusin"?(ox(),tc=o,nc=u,tc.attachEvent("onpropertychange",ax)):i==="focusout"&&ox()}function mA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ad(nc)}function gA(i,o){if(i==="click")return ad(o)}function yA(i,o){if(i==="input"||i==="change")return ad(o)}function vA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var rr=typeof Object.is=="function"?Object.is:vA;function rc(i,o){if(rr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var v=u[m];if(!h.call(o,v)||!rr(i[v],o[v]))return!1}return!0}function lx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function cx(i,o){var u=lx(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lx(u)}}function ux(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ux(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function dx(){for(var i=window,o=Os();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Os(i.document)}return o}function gf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function xA(i){var o=dx(),u=i.focusedElem,m=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&ux(u.ownerDocument.documentElement,u)){if(m!==null&&gf(u)){if(o=m.start,i=m.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,x=Math.min(m.start,v);m=m.end===void 0?x:Math.min(m.end,v),!i.extend&&x>m&&(v=m,m=x,x=v),v=cx(u,x);var k=cx(u,m);v&&k&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),i.removeAllRanges(),x>m?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bA=d&&"documentMode"in document&&11>=document.documentMode,Ta=null,yf=null,sc=null,vf=!1;function hx(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;vf||Ta==null||Ta!==Os(m)||(m=Ta,"selectionStart"in m&&gf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),sc&&rc(sc,m)||(sc=m,m=dd(yf,"onSelect"),0<m.length&&(o=new io("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=Ta)))}function ld(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ka={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},xf={},px={};d&&(px=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function cd(i){if(xf[i])return xf[i];if(!ka[i])return i;var o=ka[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in px)return xf[i]=o[u];return i}var fx=cd("animationend"),mx=cd("animationiteration"),gx=cd("animationstart"),yx=cd("transitionend"),vx=new Map,xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(i,o){vx.set(i,o),a(o,[i])}for(var bf=0;bf<xx.length;bf++){var wf=xx[bf],wA=wf.toLowerCase(),SA=wf[0].toUpperCase()+wf.slice(1);Zs(wA,"on"+SA)}Zs(fx,"onAnimationEnd"),Zs(mx,"onAnimationIteration"),Zs(gx,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(yx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function bx(i,o,u){var m=i.type||"unknown-event";i.currentTarget=u,Ol(m,o,void 0,i),i.currentTarget=null}function wx(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],v=m.event;m=m.listeners;e:{var x=void 0;if(o)for(var k=m.length-1;0<=k;k--){var O=m[k],B=O.instance,J=O.currentTarget;if(O=O.listener,B!==x&&v.isPropagationStopped())break e;bx(v,O,J),x=B}else for(k=0;k<m.length;k++){if(O=m[k],B=O.instance,J=O.currentTarget,O=O.listener,B!==x&&v.isPropagationStopped())break e;bx(v,O,J),x=B}}}if(ca)throw i=Fn,ca=!1,Fn=null,i}function lt(i,o){var u=o[If];u===void 0&&(u=o[If]=new Set);var m=i+"__bubble";u.has(m)||(Sx(o,i,2,!1),u.add(m))}function Sf(i,o,u){var m=0;o&&(m|=4),Sx(u,i,m,o)}var ud="_reactListening"+Math.random().toString(36).slice(2);function oc(i){if(!i[ud]){i[ud]=!0,r.forEach(function(u){u!=="selectionchange"&&(_A.has(u)||Sf(u,!1,i),Sf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ud]||(o[ud]=!0,Sf("selectionchange",!1,o))}}function Sx(i,o,u,m){switch(ya(o)){case 1:var v=Ar;break;case 4:v=td;break;default:v=Jl}u=v.bind(null,o,u,i),v=void 0,!qs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),m?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function _f(i,o,u,m,v){var x=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var O=m.stateNode.containerInfo;if(O===v||O.nodeType===8&&O.parentNode===v)break;if(k===4)for(k=m.return;k!==null;){var B=k.tag;if((B===3||B===4)&&(B=k.stateNode.containerInfo,B===v||B.nodeType===8&&B.parentNode===v))return;k=k.return}for(;O!==null;){if(k=ao(O),k===null)return;if(B=k.tag,B===5||B===6){m=x=k;continue e}O=O.parentNode}}m=m.return}Hu(function(){var J=x,ae=la(u),le=[];e:{var ie=vx.get(i);if(ie!==void 0){var ge=io,be=i;switch(i){case"keypress":if(so(u)===0)break e;case"keydown":case"keyup":ge=tt;break;case"focusin":be="focus",ge=Kt;break;case"focusout":be="blur",ge=Kt;break;case"beforeblur":case"afterblur":ge=Kt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=jr;break;case fx:case mx:case gx:ge=od;break;case yx:ge=_a;break;case"scroll":ge=xa;break;case"wheel":ge=oA;break;case"copy":case"cut":case"paste":ge=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Nn}var Se=(o&4)!==0,_t=!Se&&i==="scroll",q=Se?ie!==null?ie+"Capture":null:ie;Se=[];for(var H=J,K;H!==null;){K=H;var ce=K.stateNode;if(K.tag===5&&ce!==null&&(K=ce,q!==null&&(ce=Ki(H,q),ce!=null&&Se.push(ac(H,ce,K)))),_t)break;H=H.return}0<Se.length&&(ie=new ge(ie,be,null,u,ae),le.push({event:ie,listeners:Se}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",ie&&u!==$s&&(be=u.relatedTarget||u.fromElement)&&(ao(be)||be[ds]))break e;if((ge||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,ge?(be=u.relatedTarget||u.toElement,ge=J,be=be?ao(be):null,be!==null&&(_t=tr(be),be!==_t||be.tag!==5&&be.tag!==6)&&(be=null)):(ge=null,be=J),ge!==be)){if(Se=Xl,ce="onMouseLeave",q="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Se=Nn,ce="onPointerLeave",q="onPointerEnter",H="pointer"),_t=ge==null?ie:Ia(ge),K=be==null?ie:Ia(be),ie=new Se(ce,H+"leave",ge,u,ae),ie.target=_t,ie.relatedTarget=K,ce=null,ao(ae)===J&&(Se=new Se(q,H+"enter",be,u,ae),Se.target=K,Se.relatedTarget=_t,ce=Se),_t=ce,ge&&be)t:{for(Se=ge,q=be,H=0,K=Se;K;K=Aa(K))H++;for(K=0,ce=q;ce;ce=Aa(ce))K++;for(;0<H-K;)Se=Aa(Se),H--;for(;0<K-H;)q=Aa(q),K--;for(;H--;){if(Se===q||q!==null&&Se===q.alternate)break t;Se=Aa(Se),q=Aa(q)}Se=null}else Se=null;ge!==null&&_x(le,ie,ge,Se,!1),be!==null&&_t!==null&&_x(le,_t,be,Se,!0)}}e:{if(ie=J?Ia(J):window,ge=ie.nodeName&&ie.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ie.type==="file")var Ee=pA;else if(nx(ie))if(sx)Ee=yA;else{Ee=mA;var Ce=fA}else(ge=ie.nodeName)&&ge.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Ee=gA);if(Ee&&(Ee=Ee(i,J))){rx(le,Ee,u,ae);break e}Ce&&Ce(i,ie,J),i==="focusout"&&(Ce=ie._wrapperState)&&Ce.controlled&&ie.type==="number"&&At(ie,"number",ie.value)}switch(Ce=J?Ia(J):window,i){case"focusin":(nx(Ce)||Ce.contentEditable==="true")&&(Ta=Ce,yf=J,sc=null);break;case"focusout":sc=yf=Ta=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,hx(le,u,ae);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":hx(le,u,ae)}var Ie;if(pf)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ea?ex(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Yv&&u.locale!=="ko"&&(Ea||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ea&&(Ie=nd()):(Cn=ae,va="value"in Cn?Cn.value:Cn.textContent,Ea=!0)),Ce=dd(J,Re),0<Ce.length&&(Re=new S(Re,i,null,u,ae),le.push({event:Re,listeners:Ce}),Ie?Re.data=Ie:(Ie=tx(u),Ie!==null&&(Re.data=Ie)))),(Ie=lA?cA(i,u):uA(i,u))&&(J=dd(J,"onBeforeInput"),0<J.length&&(ae=new S("onBeforeInput","beforeinput",null,u,ae),le.push({event:ae,listeners:J}),ae.data=Ie))}wx(le,o)})}function ac(i,o,u){return{instance:i,listener:o,currentTarget:u}}function dd(i,o){for(var u=o+"Capture",m=[];i!==null;){var v=i,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=Ki(i,u),x!=null&&m.unshift(ac(i,x,v)),x=Ki(i,o),x!=null&&m.push(ac(i,x,v))),i=i.return}return m}function Aa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function _x(i,o,u,m,v){for(var x=o._reactName,k=[];u!==null&&u!==m;){var O=u,B=O.alternate,J=O.stateNode;if(B!==null&&B===m)break;O.tag===5&&J!==null&&(O=J,v?(B=Ki(u,x),B!=null&&k.unshift(ac(u,B,O))):v||(B=Ki(u,x),B!=null&&k.push(ac(u,B,O)))),u=u.return}k.length!==0&&i.push({event:o,listeners:k})}var EA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function Ex(i){return(typeof i=="string"?i:""+i).replace(EA,`
`).replace(TA,"")}function hd(i,o,u){if(o=Ex(o),Ex(i)!==o&&u)throw Error(t(425))}function pd(){}var Ef=null,Tf=null;function kf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Af=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,AA=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(i){return Tx.resolve(null).then(i).catch(CA)}:Af;function CA(i){setTimeout(function(){throw i})}function Cf(i,o){var u=o,m=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(m===0){i.removeChild(v),Js(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=v}while(u);Js(o)}function ei(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function kx(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Ca,lc="__reactProps$"+Ca,ds="__reactContainer$"+Ca,If="__reactEvents$"+Ca,IA="__reactListeners$"+Ca,NA="__reactHandles$"+Ca;function ao(i){var o=i[Rr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ds]||u[Rr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=kx(i);i!==null;){if(u=i[Rr])return u;i=kx(i)}return o}i=u,u=i.parentNode}return null}function cc(i){return i=i[Rr]||i[ds],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ia(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function fd(i){return i[lc]||null}var Nf=[],Na=-1;function ti(i){return{current:i}}function ct(i){0>Na||(i.current=Nf[Na],Nf[Na]=null,Na--)}function rt(i,o){Na++,Nf[Na]=i.current,i.current=o}var ni={},Zt=ti(ni),fn=ti(!1),lo=ni;function ja(i,o){var u=i.type.contextTypes;if(!u)return ni;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in u)v[x]=o[x];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=v),v}function mn(i){return i=i.childContextTypes,i!=null}function md(){ct(fn),ct(Zt)}function Ax(i,o,u){if(Zt.current!==ni)throw Error(t(168));rt(Zt,o),rt(fn,u)}function Cx(i,o,u){var m=i.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var v in m)if(!(v in o))throw Error(t(108,Ge(i)||"Unknown",v));return se({},u,m)}function gd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ni,lo=Zt.current,rt(Zt,i),rt(fn,fn.current),!0}function Ix(i,o,u){var m=i.stateNode;if(!m)throw Error(t(169));u?(i=Cx(i,o,lo),m.__reactInternalMemoizedMergedChildContext=i,ct(fn),ct(Zt),rt(Zt,i)):ct(fn),rt(fn,u)}var hs=null,yd=!1,jf=!1;function Nx(i){hs===null?hs=[i]:hs.push(i)}function jA(i){yd=!0,Nx(i)}function ri(){if(!jf&&hs!==null){jf=!0;var i=0,o=Ke;try{var u=hs;for(Ke=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}hs=null,yd=!1}catch(v){throw hs!==null&&(hs=hs.slice(i+1)),Fl(da,ri),v}finally{Ke=o,jf=!1}}return null}var Pa=[],Ra=0,vd=null,xd=0,Bn=[],$n=0,co=null,ps=1,fs="";function uo(i,o){Pa[Ra++]=xd,Pa[Ra++]=vd,vd=i,xd=o}function jx(i,o,u){Bn[$n++]=ps,Bn[$n++]=fs,Bn[$n++]=co,co=i;var m=ps;i=fs;var v=32-kn(m)-1;m&=~(1<<v),u+=1;var x=32-kn(o)+v;if(30<x){var k=v-v%5;x=(m&(1<<k)-1).toString(32),m>>=k,v-=k,ps=1<<32-kn(o)+v|u<<v|m,fs=x+i}else ps=1<<x|u<<v|m,fs=i}function Pf(i){i.return!==null&&(uo(i,1),jx(i,1,0))}function Rf(i){for(;i===vd;)vd=Pa[--Ra],Pa[Ra]=null,xd=Pa[--Ra],Pa[Ra]=null;for(;i===co;)co=Bn[--$n],Bn[$n]=null,fs=Bn[--$n],Bn[$n]=null,ps=Bn[--$n],Bn[$n]=null}var jn=null,Pn=null,ut=!1,sr=null;function Px(i,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Rx(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,jn=i,Pn=ei(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,jn=i,Pn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=co!==null?{id:ps,overflow:fs}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,jn=i,Pn=null,!0):!1;default:return!1}}function Df(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Mf(i){if(ut){var o=Pn;if(o){var u=o;if(!Rx(i,o)){if(Df(i))throw Error(t(418));o=ei(u.nextSibling);var m=jn;o&&Rx(i,o)?Px(m,u):(i.flags=i.flags&-4097|2,ut=!1,jn=i)}}else{if(Df(i))throw Error(t(418));i.flags=i.flags&-4097|2,ut=!1,jn=i}}}function Dx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;jn=i}function bd(i){if(i!==jn)return!1;if(!ut)return Dx(i),ut=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!kf(i.type,i.memoizedProps)),o&&(o=Pn)){if(Df(i))throw Mx(),Error(t(418));for(;o;)Px(i,o),o=ei(o.nextSibling)}if(Dx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Pn=ei(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Pn=null}}else Pn=jn?ei(i.stateNode.nextSibling):null;return!0}function Mx(){for(var i=Pn;i;)i=ei(i.nextSibling)}function Da(){Pn=jn=null,ut=!1}function Lf(i){sr===null?sr=[i]:sr.push(i)}var PA=$.ReactCurrentBatchConfig;function uc(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var m=u.stateNode}if(!m)throw Error(t(147,i));var v=m,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(k){var O=v.refs;k===null?delete O[x]:O[x]=k},o._stringRef=x,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function wd(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Lx(i){var o=i._init;return o(i._payload)}function Ox(i){function o(q,H){if(i){var K=q.deletions;K===null?(q.deletions=[H],q.flags|=16):K.push(H)}}function u(q,H){if(!i)return null;for(;H!==null;)o(q,H),H=H.sibling;return null}function m(q,H){for(q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function v(q,H){return q=di(q,H),q.index=0,q.sibling=null,q}function x(q,H,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<H?(q.flags|=2,H):K):(q.flags|=2,H)):(q.flags|=1048576,H)}function k(q){return i&&q.alternate===null&&(q.flags|=2),q}function O(q,H,K,ce){return H===null||H.tag!==6?(H=Am(K,q.mode,ce),H.return=q,H):(H=v(H,K),H.return=q,H)}function B(q,H,K,ce){var Ee=K.type;return Ee===A?ae(q,H,K.props.children,ce,K.key):H!==null&&(H.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ve&&Lx(Ee)===H.type)?(ce=v(H,K.props),ce.ref=uc(q,H,K),ce.return=q,ce):(ce=qd(K.type,K.key,K.props,null,q.mode,ce),ce.ref=uc(q,H,K),ce.return=q,ce)}function J(q,H,K,ce){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Cm(K,q.mode,ce),H.return=q,H):(H=v(H,K.children||[]),H.return=q,H)}function ae(q,H,K,ce,Ee){return H===null||H.tag!==7?(H=xo(K,q.mode,ce,Ee),H.return=q,H):(H=v(H,K),H.return=q,H)}function le(q,H,K){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Am(""+H,q.mode,K),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Q:return K=qd(H.type,H.key,H.props,null,q.mode,K),K.ref=uc(q,null,H),K.return=q,K;case G:return H=Cm(H,q.mode,K),H.return=q,H;case ve:var ce=H._init;return le(q,ce(H._payload),K)}if(wt(H)||ne(H))return H=xo(H,q.mode,K,null),H.return=q,H;wd(q,H)}return null}function ie(q,H,K,ce){var Ee=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:O(q,H,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===Ee?B(q,H,K,ce):null;case G:return K.key===Ee?J(q,H,K,ce):null;case ve:return Ee=K._init,ie(q,H,Ee(K._payload),ce)}if(wt(K)||ne(K))return Ee!==null?null:ae(q,H,K,ce,null);wd(q,K)}return null}function ge(q,H,K,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(K)||null,O(H,q,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case Q:return q=q.get(ce.key===null?K:ce.key)||null,B(H,q,ce,Ee);case G:return q=q.get(ce.key===null?K:ce.key)||null,J(H,q,ce,Ee);case ve:var Ce=ce._init;return ge(q,H,K,Ce(ce._payload),Ee)}if(wt(ce)||ne(ce))return q=q.get(K)||null,ae(H,q,ce,Ee,null);wd(H,ce)}return null}function be(q,H,K,ce){for(var Ee=null,Ce=null,Ie=H,Re=H=0,Bt=null;Ie!==null&&Re<K.length;Re++){Ie.index>Re?(Bt=Ie,Ie=null):Bt=Ie.sibling;var Ye=ie(q,Ie,K[Re],ce);if(Ye===null){Ie===null&&(Ie=Bt);break}i&&Ie&&Ye.alternate===null&&o(q,Ie),H=x(Ye,H,Re),Ce===null?Ee=Ye:Ce.sibling=Ye,Ce=Ye,Ie=Bt}if(Re===K.length)return u(q,Ie),ut&&uo(q,Re),Ee;if(Ie===null){for(;Re<K.length;Re++)Ie=le(q,K[Re],ce),Ie!==null&&(H=x(Ie,H,Re),Ce===null?Ee=Ie:Ce.sibling=Ie,Ce=Ie);return ut&&uo(q,Re),Ee}for(Ie=m(q,Ie);Re<K.length;Re++)Bt=ge(Ie,q,Re,K[Re],ce),Bt!==null&&(i&&Bt.alternate!==null&&Ie.delete(Bt.key===null?Re:Bt.key),H=x(Bt,H,Re),Ce===null?Ee=Bt:Ce.sibling=Bt,Ce=Bt);return i&&Ie.forEach(function(hi){return o(q,hi)}),ut&&uo(q,Re),Ee}function Se(q,H,K,ce){var Ee=ne(K);if(typeof Ee!="function")throw Error(t(150));if(K=Ee.call(K),K==null)throw Error(t(151));for(var Ce=Ee=null,Ie=H,Re=H=0,Bt=null,Ye=K.next();Ie!==null&&!Ye.done;Re++,Ye=K.next()){Ie.index>Re?(Bt=Ie,Ie=null):Bt=Ie.sibling;var hi=ie(q,Ie,Ye.value,ce);if(hi===null){Ie===null&&(Ie=Bt);break}i&&Ie&&hi.alternate===null&&o(q,Ie),H=x(hi,H,Re),Ce===null?Ee=hi:Ce.sibling=hi,Ce=hi,Ie=Bt}if(Ye.done)return u(q,Ie),ut&&uo(q,Re),Ee;if(Ie===null){for(;!Ye.done;Re++,Ye=K.next())Ye=le(q,Ye.value,ce),Ye!==null&&(H=x(Ye,H,Re),Ce===null?Ee=Ye:Ce.sibling=Ye,Ce=Ye);return ut&&uo(q,Re),Ee}for(Ie=m(q,Ie);!Ye.done;Re++,Ye=K.next())Ye=ge(Ie,q,Re,Ye.value,ce),Ye!==null&&(i&&Ye.alternate!==null&&Ie.delete(Ye.key===null?Re:Ye.key),H=x(Ye,H,Re),Ce===null?Ee=Ye:Ce.sibling=Ye,Ce=Ye);return i&&Ie.forEach(function(dC){return o(q,dC)}),ut&&uo(q,Re),Ee}function _t(q,H,K,ce){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var Ee=K.key,Ce=H;Ce!==null;){if(Ce.key===Ee){if(Ee=K.type,Ee===A){if(Ce.tag===7){u(q,Ce.sibling),H=v(Ce,K.props.children),H.return=q,q=H;break e}}else if(Ce.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ve&&Lx(Ee)===Ce.type){u(q,Ce.sibling),H=v(Ce,K.props),H.ref=uc(q,Ce,K),H.return=q,q=H;break e}u(q,Ce);break}else o(q,Ce);Ce=Ce.sibling}K.type===A?(H=xo(K.props.children,q.mode,ce,K.key),H.return=q,q=H):(ce=qd(K.type,K.key,K.props,null,q.mode,ce),ce.ref=uc(q,H,K),ce.return=q,q=ce)}return k(q);case G:e:{for(Ce=K.key;H!==null;){if(H.key===Ce)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){u(q,H.sibling),H=v(H,K.children||[]),H.return=q,q=H;break e}else{u(q,H);break}else o(q,H);H=H.sibling}H=Cm(K,q.mode,ce),H.return=q,q=H}return k(q);case ve:return Ce=K._init,_t(q,H,Ce(K._payload),ce)}if(wt(K))return be(q,H,K,ce);if(ne(K))return Se(q,H,K,ce);wd(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,H!==null&&H.tag===6?(u(q,H.sibling),H=v(H,K),H.return=q,q=H):(u(q,H),H=Am(K,q.mode,ce),H.return=q,q=H),k(q)):u(q,H)}return _t}var Ma=Ox(!0),Vx=Ox(!1),Sd=ti(null),_d=null,La=null,Of=null;function Vf(){Of=La=_d=null}function Ff(i){var o=Sd.current;ct(Sd),i._currentValue=o}function Uf(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function Oa(i,o){_d=i,Of=La=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(gn=!0),i.firstContext=null)}function zn(i){var o=i._currentValue;if(Of!==i)if(i={context:i,memoizedValue:o,next:null},La===null){if(_d===null)throw Error(t(308));La=i,_d.dependencies={lanes:0,firstContext:i}}else La=La.next=i;return o}var ho=null;function Bf(i){ho===null?ho=[i]:ho.push(i)}function Fx(i,o,u,m){var v=o.interleaved;return v===null?(u.next=u,Bf(o)):(u.next=v.next,v.next=u),o.interleaved=u,ms(i,m)}function ms(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var si=!1;function $f(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ux(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function gs(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ii(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Je&2)!==0){var v=m.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),m.pending=o,ms(i,u)}return v=m.interleaved,v===null?(o.next=o,Bf(m)):(o.next=v.next,v.next=o),m.interleaved=o,ms(i,u)}function Ed(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,ql(i,u)}}function Bx(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?v=x=k:x=x.next=k,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Td(i,o,u,m){var v=i.updateQueue;si=!1;var x=v.firstBaseUpdate,k=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var B=O,J=B.next;B.next=null,k===null?x=J:k.next=J,k=B;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,O=ae.lastBaseUpdate,O!==k&&(O===null?ae.firstBaseUpdate=J:O.next=J,ae.lastBaseUpdate=B))}if(x!==null){var le=v.baseState;k=0,ae=J=B=null,O=x;do{var ie=O.lane,ge=O.eventTime;if((m&ie)===ie){ae!==null&&(ae=ae.next={eventTime:ge,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var be=i,Se=O;switch(ie=o,ge=u,Se.tag){case 1:if(be=Se.payload,typeof be=="function"){le=be.call(ge,le,ie);break e}le=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Se.payload,ie=typeof be=="function"?be.call(ge,le,ie):be,ie==null)break e;le=se({},le,ie);break e;case 2:si=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ie=v.effects,ie===null?v.effects=[O]:ie.push(O))}else ge={eventTime:ge,lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ae===null?(J=ae=ge,B=le):ae=ae.next=ge,k|=ie;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(ae===null&&(B=le),v.baseState=B,v.firstBaseUpdate=J,v.lastBaseUpdate=ae,o=v.shared.interleaved,o!==null){v=o;do k|=v.lane,v=v.next;while(v!==o)}else x===null&&(v.shared.lanes=0);mo|=k,i.lanes=k,i.memoizedState=le}}function $x(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var m=i[o],v=m.callback;if(v!==null){if(m.callback=null,m=u,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var dc={},Dr=ti(dc),hc=ti(dc),pc=ti(dc);function po(i){if(i===dc)throw Error(t(174));return i}function zf(i,o){switch(rt(pc,o),rt(hc,i),rt(Dr,dc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ia(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ia(o,i)}ct(Dr),rt(Dr,o)}function Va(){ct(Dr),ct(hc),ct(pc)}function zx(i){po(pc.current);var o=po(Dr.current),u=ia(o,i.type);o!==u&&(rt(hc,i),rt(Dr,u))}function Hf(i){hc.current===i&&(ct(Dr),ct(hc))}var dt=ti(0);function kd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qf=[];function Wf(){for(var i=0;i<qf.length;i++)qf[i]._workInProgressVersionPrimary=null;qf.length=0}var Ad=$.ReactCurrentDispatcher,Gf=$.ReactCurrentBatchConfig,fo=0,ht=null,Mt=null,Ft=null,Cd=!1,fc=!1,mc=0,RA=0;function en(){throw Error(t(321))}function Kf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!rr(i[u],o[u]))return!1;return!0}function Qf(i,o,u,m,v,x){if(fo=x,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ad.current=i===null||i.memoizedState===null?OA:VA,i=u(m,v),fc){x=0;do{if(fc=!1,mc=0,25<=x)throw Error(t(301));x+=1,Ft=Mt=null,o.updateQueue=null,Ad.current=FA,i=u(m,v)}while(fc)}if(Ad.current=jd,o=Mt!==null&&Mt.next!==null,fo=0,Ft=Mt=ht=null,Cd=!1,o)throw Error(t(300));return i}function Jf(){var i=mc!==0;return mc=0,i}function Mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function Hn(){if(Mt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Mt.next;var o=Ft===null?ht.memoizedState:Ft.next;if(o!==null)Ft=o,Mt=i;else{if(i===null)throw Error(t(310));Mt=i,i={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ft===null?ht.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function gc(i,o){return typeof o=="function"?o(i):o}function Yf(i){var o=Hn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var m=Mt,v=m.baseQueue,x=u.pending;if(x!==null){if(v!==null){var k=v.next;v.next=x.next,x.next=k}m.baseQueue=v=x,u.pending=null}if(v!==null){x=v.next,m=m.baseState;var O=k=null,B=null,J=x;do{var ae=J.lane;if((fo&ae)===ae)B!==null&&(B=B.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),m=J.hasEagerState?J.eagerState:i(m,J.action);else{var le={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};B===null?(O=B=le,k=m):B=B.next=le,ht.lanes|=ae,mo|=ae}J=J.next}while(J!==null&&J!==x);B===null?k=m:B.next=O,rr(m,o.memoizedState)||(gn=!0),o.memoizedState=m,o.baseState=k,o.baseQueue=B,u.lastRenderedState=m}if(i=u.interleaved,i!==null){v=i;do x=v.lane,ht.lanes|=x,mo|=x,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Xf(i){var o=Hn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var m=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do x=i(x,k.action),k=k.next;while(k!==v);rr(x,o.memoizedState)||(gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,m]}function Hx(){}function qx(i,o){var u=ht,m=Hn(),v=o(),x=!rr(m.memoizedState,v);if(x&&(m.memoizedState=v,gn=!0),m=m.queue,Zf(Kx.bind(null,u,m,i),[i]),m.getSnapshot!==o||x||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,yc(9,Gx.bind(null,u,m,v,o),void 0,null),Ut===null)throw Error(t(349));(fo&30)!==0||Wx(u,o,v)}return v}function Wx(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Gx(i,o,u,m){o.value=u,o.getSnapshot=m,Qx(o)&&Jx(i)}function Kx(i,o,u){return u(function(){Qx(o)&&Jx(i)})}function Qx(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!rr(i,u)}catch{return!0}}function Jx(i){var o=ms(i,1);o!==null&&lr(o,i,1,-1)}function Yx(i){var o=Mr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:i},o.queue=i,i=i.dispatch=LA.bind(null,ht,i),[o.memoizedState,i]}function yc(i,o,u,m){return i={tag:i,create:o,destroy:u,deps:m,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i)),i}function Xx(){return Hn().memoizedState}function Id(i,o,u,m){var v=Mr();ht.flags|=i,v.memoizedState=yc(1|o,u,void 0,m===void 0?null:m)}function Nd(i,o,u,m){var v=Hn();m=m===void 0?null:m;var x=void 0;if(Mt!==null){var k=Mt.memoizedState;if(x=k.destroy,m!==null&&Kf(m,k.deps)){v.memoizedState=yc(o,u,x,m);return}}ht.flags|=i,v.memoizedState=yc(1|o,u,x,m)}function Zx(i,o){return Id(8390656,8,i,o)}function Zf(i,o){return Nd(2048,8,i,o)}function e0(i,o){return Nd(4,2,i,o)}function t0(i,o){return Nd(4,4,i,o)}function n0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function r0(i,o,u){return u=u!=null?u.concat([i]):null,Nd(4,4,n0.bind(null,o,i),u)}function em(){}function s0(i,o){var u=Hn();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&Kf(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function i0(i,o){var u=Hn();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&Kf(o,m[1])?m[0]:(i=i(),u.memoizedState=[i,o],i)}function o0(i,o,u){return(fo&21)===0?(i.baseState&&(i.baseState=!1,gn=!0),i.memoizedState=u):(rr(u,o)||(u=zl(),ht.lanes|=u,mo|=u,i.baseState=!0),o)}function DA(i,o){var u=Ke;Ke=u!==0&&4>u?u:4,i(!0);var m=Gf.transition;Gf.transition={};try{i(!1),o()}finally{Ke=u,Gf.transition=m}}function a0(){return Hn().memoizedState}function MA(i,o,u){var m=ci(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},l0(i))c0(o,u);else if(u=Fx(i,o,u,m),u!==null){var v=dn();lr(u,i,m,v),u0(u,o,m)}}function LA(i,o,u){var m=ci(i),v={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(l0(i))c0(o,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var k=o.lastRenderedState,O=x(k,u);if(v.hasEagerState=!0,v.eagerState=O,rr(O,k)){var B=o.interleaved;B===null?(v.next=v,Bf(o)):(v.next=B.next,B.next=v),o.interleaved=v;return}}catch{}finally{}u=Fx(i,o,v,m),u!==null&&(v=dn(),lr(u,i,m,v),u0(u,o,m))}}function l0(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function c0(i,o){fc=Cd=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function u0(i,o,u){if((u&4194240)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,ql(i,u)}}var jd={readContext:zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},OA={readContext:zn,useCallback:function(i,o){return Mr().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:Zx,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Id(4194308,4,n0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Id(4194308,4,i,o)},useInsertionEffect:function(i,o){return Id(4,2,i,o)},useMemo:function(i,o){var u=Mr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var m=Mr();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},m.queue=i,i=i.dispatch=MA.bind(null,ht,i),[m.memoizedState,i]},useRef:function(i){var o=Mr();return i={current:i},o.memoizedState=i},useState:Yx,useDebugValue:em,useDeferredValue:function(i){return Mr().memoizedState=i},useTransition:function(){var i=Yx(!1),o=i[0];return i=DA.bind(null,i[1]),Mr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var m=ht,v=Mr();if(ut){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Ut===null)throw Error(t(349));(fo&30)!==0||Wx(m,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,Zx(Kx.bind(null,m,x,i),[i]),m.flags|=2048,yc(9,Gx.bind(null,m,x,u,o),void 0,null),u},useId:function(){var i=Mr(),o=Ut.identifierPrefix;if(ut){var u=fs,m=ps;u=(m&~(1<<32-kn(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=mc++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=RA++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},VA={readContext:zn,useCallback:s0,useContext:zn,useEffect:Zf,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:Yf,useRef:Xx,useState:function(){return Yf(gc)},useDebugValue:em,useDeferredValue:function(i){var o=Hn();return o0(o,Mt.memoizedState,i)},useTransition:function(){var i=Yf(gc)[0],o=Hn().memoizedState;return[i,o]},useMutableSource:Hx,useSyncExternalStore:qx,useId:a0,unstable_isNewReconciler:!1},FA={readContext:zn,useCallback:s0,useContext:zn,useEffect:Zf,useImperativeHandle:r0,useInsertionEffect:e0,useLayoutEffect:t0,useMemo:i0,useReducer:Xf,useRef:Xx,useState:function(){return Xf(gc)},useDebugValue:em,useDeferredValue:function(i){var o=Hn();return Mt===null?o.memoizedState=i:o0(o,Mt.memoizedState,i)},useTransition:function(){var i=Xf(gc)[0],o=Hn().memoizedState;return[i,o]},useMutableSource:Hx,useSyncExternalStore:qx,useId:a0,unstable_isNewReconciler:!1};function ir(i,o){if(i&&i.defaultProps){o=se({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function tm(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:se({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Pd={isMounted:function(i){return(i=i._reactInternals)?tr(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var m=dn(),v=ci(i),x=gs(m,v);x.payload=o,u!=null&&(x.callback=u),o=ii(i,x,v),o!==null&&(lr(o,i,v,m),Ed(o,i,v))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=dn(),v=ci(i),x=gs(m,v);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=ii(i,x,v),o!==null&&(lr(o,i,v,m),Ed(o,i,v))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=dn(),m=ci(i),v=gs(u,m);v.tag=2,o!=null&&(v.callback=o),o=ii(i,v,m),o!==null&&(lr(o,i,m,u),Ed(o,i,m))}};function d0(i,o,u,m,v,x,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,x,k):o.prototype&&o.prototype.isPureReactComponent?!rc(u,m)||!rc(v,x):!0}function h0(i,o,u){var m=!1,v=ni,x=o.contextType;return typeof x=="object"&&x!==null?x=zn(x):(v=mn(o)?lo:Zt.current,m=o.contextTypes,x=(m=m!=null)?ja(i,v):ni),o=new o(u,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Pd,i.stateNode=o,o._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=x),o}function p0(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&Pd.enqueueReplaceState(o,o.state,null)}function nm(i,o,u,m){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},$f(i);var x=o.contextType;typeof x=="object"&&x!==null?v.context=zn(x):(x=mn(o)?lo:Zt.current,v.context=ja(i,x)),v.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(tm(i,o,x,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&Pd.enqueueReplaceState(v,v.state,null),Td(i,u,v,m),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Fa(i,o){try{var u="",m=o;do u+=Le(m),m=m.return;while(m);var v=u}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:v,digest:null}}function rm(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function sm(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var UA=typeof WeakMap=="function"?WeakMap:Map;function f0(i,o,u){u=gs(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){Fd||(Fd=!0,xm=m),sm(i,o)},u}function m0(i,o,u){u=gs(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var v=o.value;u.payload=function(){return m(v)},u.callback=function(){sm(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){sm(i,o),typeof m!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),u}function g0(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new UA;var v=new Set;m.set(o,v)}else v=m.get(o),v===void 0&&(v=new Set,m.set(o,v));v.has(u)||(v.add(u),i=eC.bind(null,i,o,u),o.then(i,i))}function y0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function v0(i,o,u,m,v){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=gs(-1,1),o.tag=2,ii(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var BA=$.ReactCurrentOwner,gn=!1;function un(i,o,u,m){o.child=i===null?Vx(o,null,u,m):Ma(o,i.child,u,m)}function x0(i,o,u,m,v){u=u.render;var x=o.ref;return Oa(o,v),m=Qf(i,o,u,m,x,v),u=Jf(),i!==null&&!gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,ys(i,o,v)):(ut&&u&&Pf(o),o.flags|=1,un(i,o,m,v),o.child)}function b0(i,o,u,m,v){if(i===null){var x=u.type;return typeof x=="function"&&!km(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=x,w0(i,o,x,m,v)):(i=qd(u.type,null,m,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&v)===0){var k=x.memoizedProps;if(u=u.compare,u=u!==null?u:rc,u(k,m)&&i.ref===o.ref)return ys(i,o,v)}return o.flags|=1,i=di(x,m),i.ref=o.ref,i.return=o,o.child=i}function w0(i,o,u,m,v){if(i!==null){var x=i.memoizedProps;if(rc(x,m)&&i.ref===o.ref)if(gn=!1,o.pendingProps=m=x,(i.lanes&v)!==0)(i.flags&131072)!==0&&(gn=!0);else return o.lanes=i.lanes,ys(i,o,v)}return im(i,o,u,m,v)}function S0(i,o,u){var m=o.pendingProps,v=m.children,x=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ba,Rn),Rn|=u;else{if((u&1073741824)===0)return i=x!==null?x.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,rt(Ba,Rn),Rn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=x!==null?x.baseLanes:u,rt(Ba,Rn),Rn|=m}else x!==null?(m=x.baseLanes|u,o.memoizedState=null):m=u,rt(Ba,Rn),Rn|=m;return un(i,o,v,u),o.child}function _0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function im(i,o,u,m,v){var x=mn(u)?lo:Zt.current;return x=ja(o,x),Oa(o,v),u=Qf(i,o,u,m,x,v),m=Jf(),i!==null&&!gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,ys(i,o,v)):(ut&&m&&Pf(o),o.flags|=1,un(i,o,u,v),o.child)}function E0(i,o,u,m,v){if(mn(u)){var x=!0;gd(o)}else x=!1;if(Oa(o,v),o.stateNode===null)Dd(i,o),h0(o,u,m),nm(o,u,m,v),m=!0;else if(i===null){var k=o.stateNode,O=o.memoizedProps;k.props=O;var B=k.context,J=u.contextType;typeof J=="object"&&J!==null?J=zn(J):(J=mn(u)?lo:Zt.current,J=ja(o,J));var ae=u.getDerivedStateFromProps,le=typeof ae=="function"||typeof k.getSnapshotBeforeUpdate=="function";le||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==m||B!==J)&&p0(o,k,m,J),si=!1;var ie=o.memoizedState;k.state=ie,Td(o,m,k,v),B=o.memoizedState,O!==m||ie!==B||fn.current||si?(typeof ae=="function"&&(tm(o,u,ae,m),B=o.memoizedState),(O=si||d0(o,u,O,m,ie,B,J))?(le||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=B),k.props=m,k.state=B,k.context=J,m=O):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{k=o.stateNode,Ux(i,o),O=o.memoizedProps,J=o.type===o.elementType?O:ir(o.type,O),k.props=J,le=o.pendingProps,ie=k.context,B=u.contextType,typeof B=="object"&&B!==null?B=zn(B):(B=mn(u)?lo:Zt.current,B=ja(o,B));var ge=u.getDerivedStateFromProps;(ae=typeof ge=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(O!==le||ie!==B)&&p0(o,k,m,B),si=!1,ie=o.memoizedState,k.state=ie,Td(o,m,k,v);var be=o.memoizedState;O!==le||ie!==be||fn.current||si?(typeof ge=="function"&&(tm(o,u,ge,m),be=o.memoizedState),(J=si||d0(o,u,J,m,ie,be,B)||!1)?(ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,be,B),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,be,B)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=be),k.props=m,k.state=be,k.context=B,m=J):(typeof k.componentDidUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),m=!1)}return om(i,o,u,m,x,v)}function om(i,o,u,m,v,x){_0(i,o);var k=(o.flags&128)!==0;if(!m&&!k)return v&&Ix(o,u,!1),ys(i,o,x);m=o.stateNode,BA.current=o;var O=k&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,i!==null&&k?(o.child=Ma(o,i.child,null,x),o.child=Ma(o,null,O,x)):un(i,o,O,x),o.memoizedState=m.state,v&&Ix(o,u,!0),o.child}function T0(i){var o=i.stateNode;o.pendingContext?Ax(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ax(i,o.context,!1),zf(i,o.containerInfo)}function k0(i,o,u,m,v){return Da(),Lf(v),o.flags|=256,un(i,o,u,m),o.child}var am={dehydrated:null,treeContext:null,retryLane:0};function lm(i){return{baseLanes:i,cachePool:null,transitions:null}}function A0(i,o,u){var m=o.pendingProps,v=dt.current,x=!1,k=(o.flags&128)!==0,O;if((O=k)||(O=i!==null&&i.memoizedState===null?!1:(v&2)!==0),O?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),rt(dt,v&1),i===null)return Mf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=m.children,i=m.fallback,x?(m=o.mode,x=o.child,k={mode:"hidden",children:k},(m&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=k):x=Wd(k,m,0,null),i=xo(i,m,u,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=lm(u),o.memoizedState=am,i):cm(o,k));if(v=i.memoizedState,v!==null&&(O=v.dehydrated,O!==null))return $A(i,o,k,m,O,v,u);if(x){x=m.fallback,k=o.mode,v=i.child,O=v.sibling;var B={mode:"hidden",children:m.children};return(k&1)===0&&o.child!==v?(m=o.child,m.childLanes=0,m.pendingProps=B,o.deletions=null):(m=di(v,B),m.subtreeFlags=v.subtreeFlags&14680064),O!==null?x=di(O,x):(x=xo(x,k,u,null),x.flags|=2),x.return=o,m.return=o,m.sibling=x,o.child=m,m=x,x=o.child,k=i.child.memoizedState,k=k===null?lm(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},x.memoizedState=k,x.childLanes=i.childLanes&~u,o.memoizedState=am,m}return x=i.child,i=x.sibling,m=di(x,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=m,o.memoizedState=null,m}function cm(i,o){return o=Wd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Rd(i,o,u,m){return m!==null&&Lf(m),Ma(o,i.child,null,u),i=cm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function $A(i,o,u,m,v,x,k){if(u)return o.flags&256?(o.flags&=-257,m=rm(Error(t(422))),Rd(i,o,k,m)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=m.fallback,v=o.mode,m=Wd({mode:"visible",children:m.children},v,0,null),x=xo(x,v,k,null),x.flags|=2,m.return=o,x.return=o,m.sibling=x,o.child=m,(o.mode&1)!==0&&Ma(o,i.child,null,k),o.child.memoizedState=lm(k),o.memoizedState=am,x);if((o.mode&1)===0)return Rd(i,o,k,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var O=m.dgst;return m=O,x=Error(t(419)),m=rm(x,m,void 0),Rd(i,o,k,m)}if(O=(k&i.childLanes)!==0,gn||O){if(m=Ut,m!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|k))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,ms(i,v),lr(m,i,v,-1))}return Tm(),m=rm(Error(t(421))),Rd(i,o,k,m)}return v.data==="$?"?(o.flags|=128,o.child=i.child,o=tC.bind(null,i),v._reactRetry=o,null):(i=x.treeContext,Pn=ei(v.nextSibling),jn=o,ut=!0,sr=null,i!==null&&(Bn[$n++]=ps,Bn[$n++]=fs,Bn[$n++]=co,ps=i.id,fs=i.overflow,co=o),o=cm(o,m.children),o.flags|=4096,o)}function C0(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Uf(i.return,o,u)}function um(i,o,u,m,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:v}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=m,x.tail=u,x.tailMode=v)}function I0(i,o,u){var m=o.pendingProps,v=m.revealOrder,x=m.tail;if(un(i,o,m.children,u),m=dt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&C0(i,u,o);else if(i.tag===19)C0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(rt(dt,m),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&kd(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),um(o,!1,v,u,x);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&kd(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}um(o,!0,u,null,x);break;case"together":um(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Dd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ys(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),mo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=di(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=di(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function zA(i,o,u){switch(o.tag){case 3:T0(o),Da();break;case 5:zx(o);break;case 1:mn(o.type)&&gd(o);break;case 4:zf(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,v=o.memoizedProps.value;rt(Sd,m._currentValue),m._currentValue=v;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(rt(dt,dt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?A0(i,o,u):(rt(dt,dt.current&1),i=ys(i,o,u),i!==null?i.sibling:null);rt(dt,dt.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(i.flags&128)!==0){if(m)return I0(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(dt,dt.current),m)break;return null;case 22:case 23:return o.lanes=0,S0(i,o,u)}return ys(i,o,u)}var N0,dm,j0,P0;N0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},dm=function(){},j0=function(i,o,u,m){var v=i.memoizedProps;if(v!==m){i=o.stateNode,po(Dr.current);var x=null;switch(u){case"input":v=ra(i,v),m=ra(i,m),x=[];break;case"select":v=se({},v,{value:void 0}),m=se({},m,{value:void 0}),x=[];break;case"textarea":v=Pl(i,v),m=Pl(i,m),x=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=pd)}er(u,m);var k;u=null;for(J in v)if(!m.hasOwnProperty(J)&&v.hasOwnProperty(J)&&v[J]!=null)if(J==="style"){var O=v[J];for(k in O)O.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?x||(x=[]):(x=x||[]).push(J,null));for(J in m){var B=m[J];if(O=v?.[J],m.hasOwnProperty(J)&&B!==O&&(B!=null||O!=null))if(J==="style")if(O){for(k in O)!O.hasOwnProperty(k)||B&&B.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in B)B.hasOwnProperty(k)&&O[k]!==B[k]&&(u||(u={}),u[k]=B[k])}else u||(x||(x=[]),x.push(J,u)),u=B;else J==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(x=x||[]).push(J,B)):J==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(J,""+B):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(B!=null&&J==="onScroll"&&lt("scroll",i),x||O===B||(x=[])):(x=x||[]).push(J,B))}u&&(x=x||[]).push("style",u);var J=x;(o.updateQueue=J)&&(o.flags|=4)}},P0=function(i,o,u,m){u!==m&&(o.flags|=4)};function vc(i,o){if(!ut)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function tn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function HA(i,o,u){var m=o.pendingProps;switch(Rf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return mn(o.type)&&md(),tn(o),null;case 3:return m=o.stateNode,Va(),ct(fn),ct(Zt),Wf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(bd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,sr!==null&&(Sm(sr),sr=null))),dm(i,o),tn(o),null;case 5:Hf(o);var v=po(pc.current);if(u=o.type,i!==null&&o.stateNode!=null)j0(i,o,u,m,v),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return tn(o),null}if(i=po(Dr.current),bd(o)){m=o.stateNode,u=o.type;var x=o.memoizedProps;switch(m[Rr]=o,m[lc]=x,i=(o.mode&1)!==0,u){case"dialog":lt("cancel",m),lt("close",m);break;case"iframe":case"object":case"embed":lt("load",m);break;case"video":case"audio":for(v=0;v<ic.length;v++)lt(ic[v],m);break;case"source":lt("error",m);break;case"img":case"image":case"link":lt("error",m),lt("load",m);break;case"details":lt("toggle",m);break;case"input":Vu(m,x),lt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!x.multiple},lt("invalid",m);break;case"textarea":Rl(m,x),lt("invalid",m)}er(u,x),v=null;for(var k in x)if(x.hasOwnProperty(k)){var O=x[k];k==="children"?typeof O=="string"?m.textContent!==O&&(x.suppressHydrationWarning!==!0&&hd(m.textContent,O,i),v=["children",O]):typeof O=="number"&&m.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&hd(m.textContent,O,i),v=["children",""+O]):s.hasOwnProperty(k)&&O!=null&&k==="onScroll"&&lt("scroll",m)}switch(u){case"input":et(m),jl(m,x,!0);break;case"textarea":et(m),Vs(m);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(m.onclick=pd)}m=v,o.updateQueue=m,m!==null&&(o.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Dl(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=k.createElement(u,{is:m.is}):(i=k.createElement(u),u==="select"&&(k=i,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):i=k.createElementNS(i,u),i[Rr]=o,i[lc]=m,N0(i,o,!1,!1),o.stateNode=i;e:{switch(k=aa(u,m),u){case"dialog":lt("cancel",i),lt("close",i),v=m;break;case"iframe":case"object":case"embed":lt("load",i),v=m;break;case"video":case"audio":for(v=0;v<ic.length;v++)lt(ic[v],i);v=m;break;case"source":lt("error",i),v=m;break;case"img":case"image":case"link":lt("error",i),lt("load",i),v=m;break;case"details":lt("toggle",i),v=m;break;case"input":Vu(i,m),v=ra(i,m),lt("invalid",i);break;case"option":v=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},v=se({},m,{value:void 0}),lt("invalid",i);break;case"textarea":Rl(i,m),v=Pl(i,m),lt("invalid",i);break;default:v=m}er(u,v),O=v;for(x in O)if(O.hasOwnProperty(x)){var B=O[x];x==="style"?oa(i,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Uu(i,B)):x==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&Gi(i,B):typeof B=="number"&&Gi(i,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?B!=null&&x==="onScroll"&&lt("scroll",i):B!=null&&I(i,x,B,k))}switch(u){case"input":et(i),jl(i,m,!1);break;case"textarea":et(i),Vs(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ee(m.value));break;case"select":i.multiple=!!m.multiple,x=m.value,x!=null?Zn(i,!!m.multiple,x,!1):m.defaultValue!=null&&Zn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=pd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(i&&o.stateNode!=null)P0(i,o,i.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(u=po(pc.current),po(Dr.current),bd(o)){if(m=o.stateNode,u=o.memoizedProps,m[Rr]=o,(x=m.nodeValue!==u)&&(i=jn,i!==null))switch(i.tag){case 3:hd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hd(m.nodeValue,u,(i.mode&1)!==0)}x&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Rr]=o,o.stateNode=m}return tn(o),null;case 13:if(ct(dt),m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ut&&Pn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Mx(),Da(),o.flags|=98560,x=!1;else if(x=bd(o),m!==null&&m.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Rr]=o}else Da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),x=!1}else sr!==null&&(Sm(sr),sr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(dt.current&1)!==0?Lt===0&&(Lt=3):Tm())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return Va(),dm(i,o),i===null&&oc(o.stateNode.containerInfo),tn(o),null;case 10:return Ff(o.type._context),tn(o),null;case 17:return mn(o.type)&&md(),tn(o),null;case 19:if(ct(dt),x=o.memoizedState,x===null)return tn(o),null;if(m=(o.flags&128)!==0,k=x.rendering,k===null)if(m)vc(x,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=kd(i),k!==null){for(o.flags|=128,vc(x,!1),m=k.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)x=u,i=m,x.flags&=14680066,k=x.alternate,k===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=k.childLanes,x.lanes=k.lanes,x.child=k.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=k.memoizedProps,x.memoizedState=k.memoizedState,x.updateQueue=k.updateQueue,x.type=k.type,i=k.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return rt(dt,dt.current&1|2),o.child}i=i.sibling}x.tail!==null&&at()>$a&&(o.flags|=128,m=!0,vc(x,!1),o.lanes=4194304)}else{if(!m)if(i=kd(k),i!==null){if(o.flags|=128,m=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),vc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!k.alternate&&!ut)return tn(o),null}else 2*at()-x.renderingStartTime>$a&&u!==1073741824&&(o.flags|=128,m=!0,vc(x,!1),o.lanes=4194304);x.isBackwards?(k.sibling=o.child,o.child=k):(u=x.last,u!==null?u.sibling=k:o.child=k,x.last=k)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=at(),o.sibling=null,u=dt.current,rt(dt,m?u&1|2:u&1),o):(tn(o),null);case 22:case 23:return Em(),m=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(Rn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function qA(i,o){switch(Rf(o),o.tag){case 1:return mn(o.type)&&md(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Va(),ct(fn),ct(Zt),Wf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Hf(o),null;case 13:if(ct(dt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ct(dt),null;case 4:return Va(),null;case 10:return Ff(o.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var Md=!1,nn=!1,WA=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ua(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){yt(i,o,m)}else u.current=null}function hm(i,o,u){try{u()}catch(m){yt(i,o,m)}}var R0=!1;function GA(i,o){if(Ef=ls,i=dx(),gf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var v=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var k=0,O=-1,B=-1,J=0,ae=0,le=i,ie=null;t:for(;;){for(var ge;le!==u||v!==0&&le.nodeType!==3||(O=k+v),le!==x||m!==0&&le.nodeType!==3||(B=k+m),le.nodeType===3&&(k+=le.nodeValue.length),(ge=le.firstChild)!==null;)ie=le,le=ge;for(;;){if(le===i)break t;if(ie===u&&++J===v&&(O=k),ie===x&&++ae===m&&(B=k),(ge=le.nextSibling)!==null)break;le=ie,ie=le.parentNode}le=ge}u=O===-1||B===-1?null:{start:O,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Tf={focusedElem:i,selectionRange:u},ls=!1,xe=o;xe!==null;)if(o=xe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,xe=i;else for(;xe!==null;){o=xe;try{var be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Se=be.memoizedProps,_t=be.memoizedState,q=o.stateNode,H=q.getSnapshotBeforeUpdate(o.elementType===o.type?Se:ir(o.type,Se),_t);q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){yt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,xe=i;break}xe=o.return}return be=R0,R0=!1,be}function xc(i,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&i)===i){var x=v.destroy;v.destroy=void 0,x!==void 0&&hm(o,u,x)}v=v.next}while(v!==m)}}function Ld(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function pm(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function D0(i){var o=i.alternate;o!==null&&(i.alternate=null,D0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Rr],delete o[lc],delete o[If],delete o[IA],delete o[NA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function M0(i){return i.tag===5||i.tag===3||i.tag===4}function L0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||M0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=pd));else if(m!==4&&(i=i.child,i!==null))for(fm(i,o,u),i=i.sibling;i!==null;)fm(i,o,u),i=i.sibling}function mm(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(mm(i,o,u),i=i.sibling;i!==null;)mm(i,o,u),i=i.sibling}var Qt=null,or=!1;function oi(i,o,u){for(u=u.child;u!==null;)O0(i,o,u),u=u.sibling}function O0(i,o,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Xi,u)}catch{}switch(u.tag){case 5:nn||Ua(u,o);case 6:var m=Qt,v=or;Qt=null,oi(i,o,u),Qt=m,or=v,Qt!==null&&(or?(i=Qt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(or?(i=Qt,u=u.stateNode,i.nodeType===8?Cf(i.parentNode,u):i.nodeType===1&&Cf(i,u),Js(i)):Cf(Qt,u.stateNode));break;case 4:m=Qt,v=or,Qt=u.stateNode.containerInfo,or=!0,oi(i,o,u),Qt=m,or=v;break;case 0:case 11:case 14:case 15:if(!nn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var x=v,k=x.destroy;x=x.tag,k!==void 0&&((x&2)!==0||(x&4)!==0)&&hm(u,o,k),v=v.next}while(v!==m)}oi(i,o,u);break;case 1:if(!nn&&(Ua(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(O){yt(u,o,O)}oi(i,o,u);break;case 21:oi(i,o,u);break;case 22:u.mode&1?(nn=(m=nn)||u.memoizedState!==null,oi(i,o,u),nn=m):oi(i,o,u);break;default:oi(i,o,u)}}function V0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new WA),o.forEach(function(m){var v=nC.bind(null,i,m);u.has(m)||(u.add(m),m.then(v,v))})}}function ar(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var v=u[m];try{var x=i,k=o,O=k;e:for(;O!==null;){switch(O.tag){case 5:Qt=O.stateNode,or=!1;break e;case 3:Qt=O.stateNode.containerInfo,or=!0;break e;case 4:Qt=O.stateNode.containerInfo,or=!0;break e}O=O.return}if(Qt===null)throw Error(t(160));O0(x,k,v),Qt=null,or=!1;var B=v.alternate;B!==null&&(B.return=null),v.return=null}catch(J){yt(v,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)F0(o,i),o=o.sibling}function F0(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(o,i),Lr(i),m&4){try{xc(3,i,i.return),Ld(3,i)}catch(Se){yt(i,i.return,Se)}try{xc(5,i,i.return)}catch(Se){yt(i,i.return,Se)}}break;case 1:ar(o,i),Lr(i),m&512&&u!==null&&Ua(u,u.return);break;case 5:if(ar(o,i),Lr(i),m&512&&u!==null&&Ua(u,u.return),i.flags&32){var v=i.stateNode;try{Gi(v,"")}catch(Se){yt(i,i.return,Se)}}if(m&4&&(v=i.stateNode,v!=null)){var x=i.memoizedProps,k=u!==null?u.memoizedProps:x,O=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&sa(v,x),aa(O,k);var J=aa(O,x);for(k=0;k<B.length;k+=2){var ae=B[k],le=B[k+1];ae==="style"?oa(v,le):ae==="dangerouslySetInnerHTML"?Uu(v,le):ae==="children"?Gi(v,le):I(v,ae,le,J)}switch(O){case"input":Wi(v,x);break;case"textarea":Fu(v,x);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var ge=x.value;ge!=null?Zn(v,!!x.multiple,ge,!1):ie!==!!x.multiple&&(x.defaultValue!=null?Zn(v,!!x.multiple,x.defaultValue,!0):Zn(v,!!x.multiple,x.multiple?[]:"",!1))}v[lc]=x}catch(Se){yt(i,i.return,Se)}}break;case 6:if(ar(o,i),Lr(i),m&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,x=i.memoizedProps;try{v.nodeValue=x}catch(Se){yt(i,i.return,Se)}}break;case 3:if(ar(o,i),Lr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Js(o.containerInfo)}catch(Se){yt(i,i.return,Se)}break;case 4:ar(o,i),Lr(i);break;case 13:ar(o,i),Lr(i),v=i.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(vm=at())),m&4&&V0(i);break;case 22:if(ae=u!==null&&u.memoizedState!==null,i.mode&1?(nn=(J=nn)||ae,ar(o,i),nn=J):ar(o,i),Lr(i),m&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!ae&&(i.mode&1)!==0)for(xe=i,ae=i.child;ae!==null;){for(le=xe=ae;xe!==null;){switch(ie=xe,ge=ie.child,ie.tag){case 0:case 11:case 14:case 15:xc(4,ie,ie.return);break;case 1:Ua(ie,ie.return);var be=ie.stateNode;if(typeof be.componentWillUnmount=="function"){m=ie,u=ie.return;try{o=m,be.props=o.memoizedProps,be.state=o.memoizedState,be.componentWillUnmount()}catch(Se){yt(m,u,Se)}}break;case 5:Ua(ie,ie.return);break;case 22:if(ie.memoizedState!==null){$0(le);continue}}ge!==null?(ge.return=ie,xe=ge):$0(le)}ae=ae.sibling}e:for(ae=null,le=i;;){if(le.tag===5){if(ae===null){ae=le;try{v=le.stateNode,J?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=le.stateNode,B=le.memoizedProps.style,k=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=Bs("display",k))}catch(Se){yt(i,i.return,Se)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(Se){yt(i,i.return,Se)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ar(o,i),Lr(i),m&4&&V0(i);break;case 21:break;default:ar(o,i),Lr(i)}}function Lr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(M0(u)){var m=u;break e}u=u.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(Gi(v,""),m.flags&=-33);var x=L0(i);mm(i,x,v);break;case 3:case 4:var k=m.stateNode.containerInfo,O=L0(i);fm(i,O,k);break;default:throw Error(t(161))}}catch(B){yt(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function KA(i,o,u){xe=i,U0(i)}function U0(i,o,u){for(var m=(i.mode&1)!==0;xe!==null;){var v=xe,x=v.child;if(v.tag===22&&m){var k=v.memoizedState!==null||Md;if(!k){var O=v.alternate,B=O!==null&&O.memoizedState!==null||nn;O=Md;var J=nn;if(Md=k,(nn=B)&&!J)for(xe=v;xe!==null;)k=xe,B=k.child,k.tag===22&&k.memoizedState!==null?z0(v):B!==null?(B.return=k,xe=B):z0(v);for(;x!==null;)xe=x,U0(x),x=x.sibling;xe=v,Md=O,nn=J}B0(i)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,xe=x):B0(i)}}function B0(i){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||Ld(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!nn)if(u===null)m.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:ir(o.type,u.memoizedProps);m.componentDidUpdate(v,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&$x(o,x,m);break;case 3:var k=o.updateQueue;if(k!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}$x(o,k,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&Js(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||o.flags&512&&pm(o)}catch(ie){yt(o,o.return,ie)}}if(o===i){xe=null;break}if(u=o.sibling,u!==null){u.return=o.return,xe=u;break}xe=o.return}}function $0(i){for(;xe!==null;){var o=xe;if(o===i){xe=null;break}var u=o.sibling;if(u!==null){u.return=o.return,xe=u;break}xe=o.return}}function z0(i){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Ld(4,o)}catch(B){yt(o,u,B)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var v=o.return;try{m.componentDidMount()}catch(B){yt(o,v,B)}}var x=o.return;try{pm(o)}catch(B){yt(o,x,B)}break;case 5:var k=o.return;try{pm(o)}catch(B){yt(o,k,B)}}}catch(B){yt(o,o.return,B)}if(o===i){xe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,xe=O;break}xe=o.return}}var QA=Math.ceil,Od=$.ReactCurrentDispatcher,gm=$.ReactCurrentOwner,qn=$.ReactCurrentBatchConfig,Je=0,Ut=null,It=null,Jt=0,Rn=0,Ba=ti(0),Lt=0,bc=null,mo=0,Vd=0,ym=0,wc=null,yn=null,vm=0,$a=1/0,vs=null,Fd=!1,xm=null,ai=null,Ud=!1,li=null,Bd=0,Sc=0,bm=null,$d=-1,zd=0;function dn(){return(Je&6)!==0?at():$d!==-1?$d:$d=at()}function ci(i){return(i.mode&1)===0?1:(Je&2)!==0&&Jt!==0?Jt&-Jt:PA.transition!==null?(zd===0&&(zd=zl()),zd):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:ya(i.type)),i)}function lr(i,o,u,m){if(50<Sc)throw Sc=0,bm=null,Error(t(185));no(i,u,m),((Je&2)===0||i!==Ut)&&(i===Ut&&((Je&2)===0&&(Vd|=u),Lt===4&&ui(i,Jt)),vn(i,m),u===1&&Je===0&&(o.mode&1)===0&&($a=at()+500,yd&&ri()))}function vn(i,o){var u=i.callbackNode;to(i,o);var m=is(i,i===Ut?Jt:0);if(m===0)u!==null&&ua(u),i.callbackNode=null,i.callbackPriority=0;else if(o=m&-m,i.callbackPriority!==o){if(u!=null&&ua(u),o===1)i.tag===0?jA(q0.bind(null,i)):Nx(q0.bind(null,i)),AA(function(){(Je&6)===0&&ri()}),u=null;else{switch(_r(m)){case 1:u=da;break;case 4:u=Ul;break;case 16:u=Yi;break;case 536870912:u=ha;break;default:u=Yi}u=Z0(u,H0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function H0(i,o){if($d=-1,zd=0,(Je&6)!==0)throw Error(t(327));var u=i.callbackNode;if(za()&&i.callbackNode!==u)return null;var m=is(i,i===Ut?Jt:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||o)o=Hd(i,m);else{o=m;var v=Je;Je|=2;var x=G0();(Ut!==i||Jt!==o)&&(vs=null,$a=at()+500,yo(i,o));do try{XA();break}catch(O){W0(i,O)}while(!0);Vf(),Od.current=x,Je=v,It!==null?o=0:(Ut=null,Jt=0,o=Lt)}if(o!==0){if(o===2&&(v=$l(i),v!==0&&(m=v,o=wm(i,v))),o===1)throw u=bc,yo(i,0),ui(i,m),vn(i,at()),u;if(o===6)ui(i,m);else{if(v=i.current.alternate,(m&30)===0&&!JA(v)&&(o=Hd(i,m),o===2&&(x=$l(i),x!==0&&(m=x,o=wm(i,x))),o===1))throw u=bc,yo(i,0),ui(i,m),vn(i,at()),u;switch(i.finishedWork=v,i.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:vo(i,yn,vs);break;case 3:if(ui(i,m),(m&130023424)===m&&(o=vm+500-at(),10<o)){if(is(i,0)!==0)break;if(v=i.suspendedLanes,(v&m)!==m){dn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=Af(vo.bind(null,i,yn,vs),o);break}vo(i,yn,vs);break;case 4:if(ui(i,m),(m&4194240)===m)break;for(o=i.eventTimes,v=-1;0<m;){var k=31-kn(m);x=1<<k,k=o[k],k>v&&(v=k),m&=~x}if(m=v,m=at()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*QA(m/1960))-m,10<m){i.timeoutHandle=Af(vo.bind(null,i,yn,vs),m);break}vo(i,yn,vs);break;case 5:vo(i,yn,vs);break;default:throw Error(t(329))}}}return vn(i,at()),i.callbackNode===u?H0.bind(null,i):null}function wm(i,o){var u=wc;return i.current.memoizedState.isDehydrated&&(yo(i,o).flags|=256),i=Hd(i,o),i!==2&&(o=yn,yn=u,o!==null&&Sm(o)),i}function Sm(i){yn===null?yn=i:yn.push.apply(yn,i)}function JA(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var v=u[m],x=v.getSnapshot;v=v.value;try{if(!rr(x(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ui(i,o){for(o&=~ym,o&=~Vd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-kn(o),m=1<<u;i[u]=-1,o&=~m}}function q0(i){if((Je&6)!==0)throw Error(t(327));za();var o=is(i,0);if((o&1)===0)return vn(i,at()),null;var u=Hd(i,o);if(i.tag!==0&&u===2){var m=$l(i);m!==0&&(o=m,u=wm(i,m))}if(u===1)throw u=bc,yo(i,0),ui(i,o),vn(i,at()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,vo(i,yn,vs),vn(i,at()),null}function _m(i,o){var u=Je;Je|=1;try{return i(o)}finally{Je=u,Je===0&&($a=at()+500,yd&&ri())}}function go(i){li!==null&&li.tag===0&&(Je&6)===0&&za();var o=Je;Je|=1;var u=qn.transition,m=Ke;try{if(qn.transition=null,Ke=1,i)return i()}finally{Ke=m,qn.transition=u,Je=o,(Je&6)===0&&ri()}}function Em(){Rn=Ba.current,ct(Ba)}function yo(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,kA(u)),It!==null)for(u=It.return;u!==null;){var m=u;switch(Rf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&md();break;case 3:Va(),ct(fn),ct(Zt),Wf();break;case 5:Hf(m);break;case 4:Va();break;case 13:ct(dt);break;case 19:ct(dt);break;case 10:Ff(m.type._context);break;case 22:case 23:Em()}u=u.return}if(Ut=i,It=i=di(i.current,null),Jt=Rn=o,Lt=0,bc=null,ym=Vd=mo=0,yn=wc=null,ho!==null){for(o=0;o<ho.length;o++)if(u=ho[o],m=u.interleaved,m!==null){u.interleaved=null;var v=m.next,x=u.pending;if(x!==null){var k=x.next;x.next=v,m.next=k}u.pending=m}ho=null}return i}function W0(i,o){do{var u=It;try{if(Vf(),Ad.current=jd,Cd){for(var m=ht.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}Cd=!1}if(fo=0,Ft=Mt=ht=null,fc=!1,mc=0,gm.current=null,u===null||u.return===null){Lt=1,bc=o,It=null;break}e:{var x=i,k=u.return,O=u,B=o;if(o=Jt,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var J=B,ae=O,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ge=y0(k);if(ge!==null){ge.flags&=-257,v0(ge,k,O,x,o),ge.mode&1&&g0(x,J,o),o=ge,B=J;var be=o.updateQueue;if(be===null){var Se=new Set;Se.add(B),o.updateQueue=Se}else be.add(B);break e}else{if((o&1)===0){g0(x,J,o),Tm();break e}B=Error(t(426))}}else if(ut&&O.mode&1){var _t=y0(k);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),v0(_t,k,O,x,o),Lf(Fa(B,O));break e}}x=B=Fa(B,O),Lt!==4&&(Lt=2),wc===null?wc=[x]:wc.push(x),x=k;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var q=f0(x,B,o);Bx(x,q);break e;case 1:O=B;var H=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ai===null||!ai.has(K)))){x.flags|=65536,o&=-o,x.lanes|=o;var ce=m0(x,O,o);Bx(x,ce);break e}}x=x.return}while(x!==null)}Q0(u)}catch(Ee){o=Ee,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function G0(){var i=Od.current;return Od.current=jd,i===null?jd:i}function Tm(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),Ut===null||(mo&268435455)===0&&(Vd&268435455)===0||ui(Ut,Jt)}function Hd(i,o){var u=Je;Je|=2;var m=G0();(Ut!==i||Jt!==o)&&(vs=null,yo(i,o));do try{YA();break}catch(v){W0(i,v)}while(!0);if(Vf(),Je=u,Od.current=m,It!==null)throw Error(t(261));return Ut=null,Jt=0,Lt}function YA(){for(;It!==null;)K0(It)}function XA(){for(;It!==null&&!Ji();)K0(It)}function K0(i){var o=X0(i.alternate,i,Rn);i.memoizedProps=i.pendingProps,o===null?Q0(i):It=o,gm.current=null}function Q0(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=HA(u,o,Rn),u!==null){It=u;return}}else{if(u=qA(u,o),u!==null){u.flags&=32767,It=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Lt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=i}while(o!==null);Lt===0&&(Lt=5)}function vo(i,o,u){var m=Ke,v=qn.transition;try{qn.transition=null,Ke=1,ZA(i,o,u,m)}finally{qn.transition=v,Ke=m}return null}function ZA(i,o,u,m){do za();while(li!==null);if((Je&6)!==0)throw Error(t(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=u.lanes|u.childLanes;if(df(i,x),i===Ut&&(It=Ut=null,Jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ud||(Ud=!0,Z0(Yi,function(){return za(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=qn.transition,qn.transition=null;var k=Ke;Ke=1;var O=Je;Je|=4,gm.current=null,GA(i,u),F0(u,i),xA(Tf),ls=!!Ef,Tf=Ef=null,i.current=u,KA(u),ss(),Je=O,Ke=k,qn.transition=x}else i.current=u;if(Ud&&(Ud=!1,li=i,Bd=v),x=i.pendingLanes,x===0&&(ai=null),Yu(u.stateNode),vn(i,at()),o!==null)for(m=i.onRecoverableError,u=0;u<o.length;u++)v=o[u],m(v.value,{componentStack:v.stack,digest:v.digest});if(Fd)throw Fd=!1,i=xm,xm=null,i;return(Bd&1)!==0&&i.tag!==0&&za(),x=i.pendingLanes,(x&1)!==0?i===bm?Sc++:(Sc=0,bm=i):Sc=0,ri(),null}function za(){if(li!==null){var i=_r(Bd),o=qn.transition,u=Ke;try{if(qn.transition=null,Ke=16>i?16:i,li===null)var m=!1;else{if(i=li,li=null,Bd=0,(Je&6)!==0)throw Error(t(331));var v=Je;for(Je|=4,xe=i.current;xe!==null;){var x=xe,k=x.child;if((xe.flags&16)!==0){var O=x.deletions;if(O!==null){for(var B=0;B<O.length;B++){var J=O[B];for(xe=J;xe!==null;){var ae=xe;switch(ae.tag){case 0:case 11:case 15:xc(8,ae,x)}var le=ae.child;if(le!==null)le.return=ae,xe=le;else for(;xe!==null;){ae=xe;var ie=ae.sibling,ge=ae.return;if(D0(ae),ae===J){xe=null;break}if(ie!==null){ie.return=ge,xe=ie;break}xe=ge}}}var be=x.alternate;if(be!==null){var Se=be.child;if(Se!==null){be.child=null;do{var _t=Se.sibling;Se.sibling=null,Se=_t}while(Se!==null)}}xe=x}}if((x.subtreeFlags&2064)!==0&&k!==null)k.return=x,xe=k;else e:for(;xe!==null;){if(x=xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:xc(9,x,x.return)}var q=x.sibling;if(q!==null){q.return=x.return,xe=q;break e}xe=x.return}}var H=i.current;for(xe=H;xe!==null;){k=xe;var K=k.child;if((k.subtreeFlags&2064)!==0&&K!==null)K.return=k,xe=K;else e:for(k=H;xe!==null;){if(O=xe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Ld(9,O)}}catch(Ee){yt(O,O.return,Ee)}if(O===k){xe=null;break e}var ce=O.sibling;if(ce!==null){ce.return=O.return,xe=ce;break e}xe=O.return}}if(Je=v,ri(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Xi,i)}catch{}m=!0}return m}finally{Ke=u,qn.transition=o}}return!1}function J0(i,o,u){o=Fa(u,o),o=f0(i,o,1),i=ii(i,o,1),o=dn(),i!==null&&(no(i,1,o),vn(i,o))}function yt(i,o,u){if(i.tag===3)J0(i,i,u);else for(;o!==null;){if(o.tag===3){J0(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ai===null||!ai.has(m))){i=Fa(u,i),i=m0(o,i,1),o=ii(o,i,1),i=dn(),o!==null&&(no(o,1,i),vn(o,i));break}}o=o.return}}function eC(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),o=dn(),i.pingedLanes|=i.suspendedLanes&u,Ut===i&&(Jt&u)===u&&(Lt===4||Lt===3&&(Jt&130023424)===Jt&&500>at()-vm?yo(i,0):ym|=u),vn(i,o)}function Y0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Gs,Gs<<=1,(Gs&130023424)===0&&(Gs=4194304)));var u=dn();i=ms(i,o),i!==null&&(no(i,o,u),vn(i,u))}function tC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Y0(i,u)}function nC(i,o){var u=0;switch(i.tag){case 13:var m=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),Y0(i,u)}var X0;X0=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||fn.current)gn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return gn=!1,zA(i,o,u);gn=(i.flags&131072)!==0}else gn=!1,ut&&(o.flags&1048576)!==0&&jx(o,xd,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Dd(i,o),i=o.pendingProps;var v=ja(o,Zt.current);Oa(o,u),v=Qf(null,o,m,i,v,u);var x=Jf();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mn(m)?(x=!0,gd(o)):x=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,$f(o),v.updater=Pd,o.stateNode=v,v._reactInternals=o,nm(o,m,i,u),o=om(null,o,m,!0,x,u)):(o.tag=0,ut&&x&&Pf(o),un(null,o,v,u),o=o.child),o;case 16:m=o.elementType;e:{switch(Dd(i,o),i=o.pendingProps,v=m._init,m=v(m._payload),o.type=m,v=o.tag=sC(m),i=ir(m,i),v){case 0:o=im(null,o,m,i,u);break e;case 1:o=E0(null,o,m,i,u);break e;case 11:o=x0(null,o,m,i,u);break e;case 14:o=b0(null,o,m,ir(m.type,i),u);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ir(m,v),im(i,o,m,v,u);case 1:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ir(m,v),E0(i,o,m,v,u);case 3:e:{if(T0(o),i===null)throw Error(t(387));m=o.pendingProps,x=o.memoizedState,v=x.element,Ux(i,o),Td(o,m,null,u);var k=o.memoizedState;if(m=k.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){v=Fa(Error(t(423)),o),o=k0(i,o,m,u,v);break e}else if(m!==v){v=Fa(Error(t(424)),o),o=k0(i,o,m,u,v);break e}else for(Pn=ei(o.stateNode.containerInfo.firstChild),jn=o,ut=!0,sr=null,u=Vx(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Da(),m===v){o=ys(i,o,u);break e}un(i,o,m,u)}o=o.child}return o;case 5:return zx(o),i===null&&Mf(o),m=o.type,v=o.pendingProps,x=i!==null?i.memoizedProps:null,k=v.children,kf(m,v)?k=null:x!==null&&kf(m,x)&&(o.flags|=32),_0(i,o),un(i,o,k,u),o.child;case 6:return i===null&&Mf(o),null;case 13:return A0(i,o,u);case 4:return zf(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ma(o,null,m,u):un(i,o,m,u),o.child;case 11:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ir(m,v),x0(i,o,m,v,u);case 7:return un(i,o,o.pendingProps,u),o.child;case 8:return un(i,o,o.pendingProps.children,u),o.child;case 12:return un(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,v=o.pendingProps,x=o.memoizedProps,k=v.value,rt(Sd,m._currentValue),m._currentValue=k,x!==null)if(rr(x.value,k)){if(x.children===v.children&&!fn.current){o=ys(i,o,u);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var O=x.dependencies;if(O!==null){k=x.child;for(var B=O.firstContext;B!==null;){if(B.context===m){if(x.tag===1){B=gs(-1,u&-u),B.tag=2;var J=x.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?B.next=B:(B.next=ae.next,ae.next=B),J.pending=B}}x.lanes|=u,B=x.alternate,B!==null&&(B.lanes|=u),Uf(x.return,u,o),O.lanes|=u;break}B=B.next}}else if(x.tag===10)k=x.type===o.type?null:x.child;else if(x.tag===18){if(k=x.return,k===null)throw Error(t(341));k.lanes|=u,O=k.alternate,O!==null&&(O.lanes|=u),Uf(k,u,o),k=x.sibling}else k=x.child;if(k!==null)k.return=x;else for(k=x;k!==null;){if(k===o){k=null;break}if(x=k.sibling,x!==null){x.return=k.return,k=x;break}k=k.return}x=k}un(i,o,v.children,u),o=o.child}return o;case 9:return v=o.type,m=o.pendingProps.children,Oa(o,u),v=zn(v),m=m(v),o.flags|=1,un(i,o,m,u),o.child;case 14:return m=o.type,v=ir(m,o.pendingProps),v=ir(m.type,v),b0(i,o,m,v,u);case 15:return w0(i,o,o.type,o.pendingProps,u);case 17:return m=o.type,v=o.pendingProps,v=o.elementType===m?v:ir(m,v),Dd(i,o),o.tag=1,mn(m)?(i=!0,gd(o)):i=!1,Oa(o,u),h0(o,m,v),nm(o,m,v,u),om(null,o,m,!0,i,u);case 19:return I0(i,o,u);case 22:return S0(i,o,u)}throw Error(t(156,o.tag))};function Z0(i,o){return Fl(i,o)}function rC(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,o,u,m){return new rC(i,o,u,m)}function km(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sC(i){if(typeof i=="function")return km(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===_e)return 14}return 2}function di(i,o){var u=i.alternate;return u===null?(u=Wn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function qd(i,o,u,m,v,x){var k=2;if(m=i,typeof i=="function")km(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case A:return xo(u.children,v,x,o);case E:k=8,v|=8;break;case R:return i=Wn(12,u,o,v|2),i.elementType=R,i.lanes=x,i;case M:return i=Wn(13,u,o,v),i.elementType=M,i.lanes=x,i;case we:return i=Wn(19,u,o,v),i.elementType=we,i.lanes=x,i;case Ue:return Wd(u,v,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:k=10;break e;case F:k=9;break e;case z:k=11;break e;case _e:k=14;break e;case ve:k=16,m=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Wn(k,u,o,v),o.elementType=i,o.type=m,o.lanes=x,o}function xo(i,o,u,m){return i=Wn(7,i,m,o),i.lanes=u,i}function Wd(i,o,u,m){return i=Wn(22,i,m,o),i.elementType=Ue,i.lanes=u,i.stateNode={isHidden:!1},i}function Am(i,o,u){return i=Wn(6,i,null,o),i.lanes=u,i}function Cm(i,o,u){return o=Wn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function iC(i,o,u,m,v){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Im(i,o,u,m,v,x,k,O,B){return i=new iC(i,o,u,O,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Wn(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},$f(x),i}function oC(i,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:m==null?null:""+m,children:i,containerInfo:o,implementation:u}}function eb(i){if(!i)return ni;i=i._reactInternals;e:{if(tr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(mn(u))return Cx(i,u,o)}return o}function tb(i,o,u,m,v,x,k,O,B){return i=Im(u,m,!0,i,v,x,k,O,B),i.context=eb(null),u=i.current,m=dn(),v=ci(u),x=gs(m,v),x.callback=o??null,ii(u,x,v),i.current.lanes=v,no(i,v,m),vn(i,m),i}function Gd(i,o,u,m){var v=o.current,x=dn(),k=ci(v);return u=eb(u),o.context===null?o.context=u:o.pendingContext=u,o=gs(x,k),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=ii(v,o,k),i!==null&&(lr(i,v,k,x),Ed(i,v,k)),k}function Kd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function nb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Nm(i,o){nb(i,o),(i=i.alternate)&&nb(i,o)}function aC(){return null}var rb=typeof reportError=="function"?reportError:function(i){console.error(i)};function jm(i){this._internalRoot=i}Qd.prototype.render=jm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Gd(i,o,null,null)},Qd.prototype.unmount=jm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;go(function(){Gd(null,i,null,null)}),o[ds]=null}};function Qd(i){this._internalRoot=i}Qd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Kl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<An.length&&o!==0&&o<An[u].priority;u++);An.splice(u,0,i),u===0&&ma(i)}};function Pm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Jd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function sb(){}function lC(i,o,u,m,v){if(v){if(typeof m=="function"){var x=m;m=function(){var J=Kd(k);x.call(J)}}var k=tb(o,m,i,0,null,!1,!1,"",sb);return i._reactRootContainer=k,i[ds]=k.current,oc(i.nodeType===8?i.parentNode:i),go(),k}for(;v=i.lastChild;)i.removeChild(v);if(typeof m=="function"){var O=m;m=function(){var J=Kd(B);O.call(J)}}var B=Im(i,0,!1,null,null,!1,!1,"",sb);return i._reactRootContainer=B,i[ds]=B.current,oc(i.nodeType===8?i.parentNode:i),go(function(){Gd(o,B,u,m)}),B}function Yd(i,o,u,m,v){var x=u._reactRootContainer;if(x){var k=x;if(typeof v=="function"){var O=v;v=function(){var B=Kd(k);O.call(B)}}Gd(o,k,i,v)}else k=lC(u,o,i,v,m);return Kd(k)}Wl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Xe(o.pendingLanes);u!==0&&(ql(o,u|1),vn(o,at()),(Je&6)===0&&($a=at()+500,ri()))}break;case 13:go(function(){var m=ms(i,1);if(m!==null){var v=dn();lr(m,i,1,v)}}),Nm(i,1)}},pa=function(i){if(i.tag===13){var o=ms(i,134217728);if(o!==null){var u=dn();lr(o,i,134217728,u)}Nm(i,134217728)}},Gl=function(i){if(i.tag===13){var o=ci(i),u=ms(i,o);if(u!==null){var m=dn();lr(u,i,o,m)}Nm(i,o)}},Kl=function(){return Ke},Ql=function(i,o){var u=Ke;try{return Ke=i,o()}finally{Ke=u}},ts=function(i,o,u){switch(o){case"input":if(Wi(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var v=fd(m);if(!v)throw Error(t(90));Vn(m),Wi(m,v)}}}break;case"textarea":Fu(i,u);break;case"select":o=u.value,o!=null&&Zn(i,!!u.multiple,o,!1)}},$u=_m,zu=go;var cC={usingClientEntryPoint:!1,Events:[cc,Ia,fd,zs,Hs,_m]},_c={findFiberByHostInstance:ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uC={bundleType:_c.bundleType,version:_c.version,rendererPackageName:_c.rendererPackageName,rendererConfig:_c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ju(i),i===null?null:i.stateNode},findFiberByHostInstance:_c.findFiberByHostInstance||aC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{Xi=Xd.inject(uC),Tn=Xd}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cC,xn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(o))throw Error(t(200));return oC(i,o,null,u)},xn.createRoot=function(i,o){if(!Pm(i))throw Error(t(299));var u=!1,m="",v=rb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=Im(i,1,!1,null,null,u,!1,m,v),i[ds]=o.current,oc(i.nodeType===8?i.parentNode:i),new jm(o)},xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ju(o),i=i===null?null:i.stateNode,i},xn.flushSync=function(i){return go(i)},xn.hydrate=function(i,o,u){if(!Jd(o))throw Error(t(200));return Yd(null,i,o,!0,u)},xn.hydrateRoot=function(i,o,u){if(!Pm(i))throw Error(t(405));var m=u!=null&&u.hydratedSources||null,v=!1,x="",k=rb;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),o=tb(o,null,i,1,u??null,v,!1,x,k),i[ds]=o.current,oc(i),m)for(i=0;i<m.length;i++)u=m[i],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new Qd(o)},xn.render=function(i,o,u){if(!Jd(o))throw Error(t(200));return Yd(null,i,o,!1,u)},xn.unmountComponentAtNode=function(i){if(!Jd(i))throw Error(t(40));return i._reactRootContainer?(go(function(){Yd(null,null,i,!1,function(){i._reactRootContainer=null,i[ds]=null})}),!0):!1},xn.unstable_batchedUpdates=_m,xn.unstable_renderSubtreeIntoContainer=function(i,o,u,m){if(!Jd(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Yd(i,o,u,!1,m)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var hb;function DS(){if(hb)return Mm.exports;hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mm.exports=bC(),Mm.exports}var pb;function wC(){if(pb)return Zd;pb=1;var n=DS();return Zd.createRoot=n.createRoot,Zd.hydrateRoot=n.hydrateRoot,Zd}var SC=wC();DS();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jc.apply(this,arguments)}var wi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(wi||(wi={}));const fb="popstate";function _C(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return bg("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Mh(s)}return TC(e,t,null,n)}function Dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MS(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EC(){return Math.random().toString(36).substr(2,8)}function mb(n,e){return{usr:n.state,key:n.key,idx:e}}function bg(n,e,t,r){return t===void 0&&(t=null),Jc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?bl(e):e,{state:t,key:e&&e.key||r||EC()})}function Mh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function TC(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=wi.Pop,h=null,f=g();f==null&&(f=0,l.replaceState(Jc({},l.state,{idx:f}),""));function g(){return(l.state||{idx:null}).idx}function y(){d=wi.Pop;let C=g(),U=C==null?null:C-f;f=C,h&&h({action:d,location:P.location,delta:U})}function w(C,U){d=wi.Push;let D=bg(P.location,C,U);f=g()+1;let I=mb(D,f),$=P.createHref(D);try{l.pushState(I,"",$)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign($)}a&&h&&h({action:d,location:P.location,delta:1})}function _(C,U){d=wi.Replace;let D=bg(P.location,C,U);f=g();let I=mb(D,f),$=P.createHref(D);l.replaceState(I,"",$),a&&h&&h({action:d,location:P.location,delta:0})}function T(C){let U=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof C=="string"?C:Mh(C);return D=D.replace(/ $/,"%20"),Dt(U,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,U)}let P={get action(){return d},get location(){return n(s,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(fb,y),h=C,()=>{s.removeEventListener(fb,y),h=null}},createHref(C){return e(s,C)},createURL:T,encodeLocation(C){let U=T(C);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:w,replace:_,go(C){return l.go(C)}};return P}var gb;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(gb||(gb={}));function kC(n,e,t){return t===void 0&&(t="/"),AC(n,e,t)}function AC(n,e,t,r){let s=typeof e=="string"?bl(e):e,a=Sy(s.pathname||"/",t);if(a==null)return null;let l=LS(n);CC(l);let d=null;for(let h=0;d==null&&h<l.length;++h){let f=UC(a);d=OC(l[h],f)}return d}function LS(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Dt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let f=_i([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(Dt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),LS(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:MC(f,a.index),routesMeta:g})};return n.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let h of OS(a.path))s(a,l,h)}),e}function OS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=OS(r.join("/")),d=[];return d.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...l),d.map(h=>n.startsWith("/")&&h===""?"/":h)}function CC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const IC=/^:[\w-]+$/,NC=3,jC=2,PC=1,RC=10,DC=-2,yb=n=>n==="*";function MC(n,e){let t=n.split("/"),r=t.length;return t.some(yb)&&(r+=DC),e&&(r+=jC),t.filter(s=>!yb(s)).reduce((s,a)=>s+(IC.test(a)?NC:a===""?PC:RC),r)}function LC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function OC(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=VC({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),w=h.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:_i([a,y.pathname]),pathnameBase:HC(_i([a,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(a=_i([a,y.pathnameBase]))}return l}function VC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=FC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((f,g,y)=>{let{paramName:w,isOptional:_}=g;if(w==="*"){let P=d[y]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const T=d[y];return _&&!T?f[w]=void 0:f[w]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:n}}function FC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),MS(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function UC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MS(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Sy(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function BC(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?bl(n):n;return{pathname:t?t.startsWith("/")?t:$C(t,e):e,search:qC(r),hash:WC(s)}}function $C(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Vm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function VS(n,e){let t=zC(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function FS(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=bl(n):(s=Jc({},n),Dt(!s.pathname||!s.pathname.includes("?"),Vm("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),Vm("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),Vm("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;s.pathname=w.join("/")}d=y>=0?e[y]:"/"}let h=BC(s,d),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const _i=n=>n.join("/").replace(/\/\/+/g,"/"),HC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const US=["post","put","patch","delete"];new Set(US);const KC=["get",...US];new Set(KC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yc.apply(this,arguments)}const _y=N.createContext(null),QC=N.createContext(null),Go=N.createContext(null),yp=N.createContext(null),Ko=N.createContext({outlet:null,matches:[],isDataRoute:!1}),BS=N.createContext(null);function JC(n,e){let{relative:t}=e===void 0?{}:e;fu()||Dt(!1);let{basename:r,navigator:s}=N.useContext(Go),{hash:a,pathname:l,search:d}=zS(n,{relative:t}),h=l;return r!=="/"&&(h=l==="/"?r:_i([r,l])),s.createHref({pathname:h,search:d,hash:a})}function fu(){return N.useContext(yp)!=null}function Qo(){return fu()||Dt(!1),N.useContext(yp).location}function $S(n){N.useContext(Go).static||N.useLayoutEffect(n)}function Ey(){let{isDataRoute:n}=N.useContext(Ko);return n?cI():YC()}function YC(){fu()||Dt(!1);let n=N.useContext(_y),{basename:e,future:t,navigator:r}=N.useContext(Go),{matches:s}=N.useContext(Ko),{pathname:a}=Qo(),l=JSON.stringify(VS(s,t.v7_relativeSplatPath)),d=N.useRef(!1);return $S(()=>{d.current=!0}),N.useCallback(function(f,g){if(g===void 0&&(g={}),!d.current)return;if(typeof f=="number"){r.go(f);return}let y=FS(f,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:_i([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,n])}function zS(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=N.useContext(Go),{matches:s}=N.useContext(Ko),{pathname:a}=Qo(),l=JSON.stringify(VS(s,r.v7_relativeSplatPath));return N.useMemo(()=>FS(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function XC(n,e){return ZC(n,e)}function ZC(n,e,t,r){fu()||Dt(!1);let{navigator:s}=N.useContext(Go),{matches:a}=N.useContext(Ko),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=Qo(),g;if(e){var y;let C=typeof e=="string"?bl(e):e;h==="/"||(y=C.pathname)!=null&&y.startsWith(h)||Dt(!1),g=C}else g=f;let w=g.pathname||"/",_=w;if(h!=="/"){let C=h.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=kC(n,{pathname:_}),P=sI(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:_i([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:_i([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,r);return e&&P?N.createElement(yp.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:wi.Pop}},P):P}function eI(){let n=lI(),e=GC(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:s},t):null,null)}const tI=N.createElement(eI,null);class nI extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Ko.Provider,{value:this.props.routeContext},N.createElement(BS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rI(n){let{routeContext:e,match:t,children:r}=n,s=N.useContext(_y);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ko.Provider,{value:e},r)}function sI(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let g=l.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);g>=0||Dt(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,f=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:w,errors:_}=t,T=y.route.loader&&w[y.route.id]===void 0&&(!_||_[y.route.id]===void 0);if(y.route.lazy||T){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((g,y,w)=>{let _,T=!1,P=null,C=null;t&&(_=d&&y.route.id?d[y.route.id]:void 0,P=y.route.errorElement||tI,h&&(f<0&&w===0?(uI("route-fallback"),T=!0,C=null):f===w&&(T=!0,C=y.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,w+1)),D=()=>{let I;return _?I=P:T?I=C:y.route.Component?I=N.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,N.createElement(rI,{match:y,routeContext:{outlet:g,matches:U,isDataRoute:t!=null},children:I})};return t&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?N.createElement(nI,{location:t.location,revalidation:t.revalidation,component:P,error:_,children:D(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):D()},null)}var HS=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(HS||{}),qS=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(qS||{});function iI(n){let e=N.useContext(_y);return e||Dt(!1),e}function oI(n){let e=N.useContext(QC);return e||Dt(!1),e}function aI(n){let e=N.useContext(Ko);return e||Dt(!1),e}function WS(n){let e=aI(),t=e.matches[e.matches.length-1];return t.route.id||Dt(!1),t.route.id}function lI(){var n;let e=N.useContext(BS),t=oI(),r=WS();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function cI(){let{router:n}=iI(HS.UseNavigateStable),e=WS(qS.UseNavigateStable),t=N.useRef(!1);return $S(()=>{t.current=!0}),N.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Yc({fromRouteId:e},a)))},[n,e])}const vb={};function uI(n,e,t){vb[n]||(vb[n]=!0)}function dI(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function bn(n){Dt(!1)}function hI(n){let{basename:e="/",children:t=null,location:r,navigationType:s=wi.Pop,navigator:a,static:l=!1,future:d}=n;fu()&&Dt(!1);let h=e.replace(/^\/*/,"/"),f=N.useMemo(()=>({basename:h,navigator:a,static:l,future:Yc({v7_relativeSplatPath:!1},d)}),[h,d,a,l]);typeof r=="string"&&(r=bl(r));let{pathname:g="/",search:y="",hash:w="",state:_=null,key:T="default"}=r,P=N.useMemo(()=>{let C=Sy(g,h);return C==null?null:{location:{pathname:C,search:y,hash:w,state:_,key:T},navigationType:s}},[h,g,y,w,_,T,s]);return P==null?null:N.createElement(Go.Provider,{value:f},N.createElement(yp.Provider,{children:t,value:P}))}function pI(n){let{children:e,location:t}=n;return XC(wg(e),t)}new Promise(()=>{});function wg(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,s)=>{if(!N.isValidElement(r))return;let a=[...e,s];if(r.type===N.Fragment){t.push.apply(t,wg(r.props.children,a));return}r.type!==bn&&Dt(!1),!r.props.index||!r.props.children||Dt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wg(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sg(){return Sg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Sg.apply(this,arguments)}function fI(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function mI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gI(n,e){return n.button===0&&(!e||e==="_self")&&!mI(n)}const yI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vI="6";try{window.__reactRouterVersion=vI}catch{}const xI="startTransition",xb=yC[xI];function bI(n){let{basename:e,children:t,future:r,window:s}=n,a=N.useRef();a.current==null&&(a.current=_C({window:s,v5Compat:!0}));let l=a.current,[d,h]=N.useState({action:l.action,location:l.location}),{v7_startTransition:f}=r||{},g=N.useCallback(y=>{f&&xb?xb(()=>h(y)):h(y)},[h,f]);return N.useLayoutEffect(()=>l.listen(g),[l,g]),N.useEffect(()=>dI(r),[r]),N.createElement(hI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:l,future:r})}const wI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qn=N.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:d,target:h,to:f,preventScrollReset:g,viewTransition:y}=e,w=fI(e,yI),{basename:_}=N.useContext(Go),T,P=!1;if(typeof f=="string"&&SI.test(f)&&(T=f,wI))try{let I=new URL(window.location.href),$=f.startsWith("//")?new URL(I.protocol+f):new URL(f),Q=Sy($.pathname,_);$.origin===I.origin&&Q!=null?f=Q+$.search+$.hash:P=!0}catch{}let C=JC(f,{relative:s}),U=_I(f,{replace:l,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:y});function D(I){r&&r(I),I.defaultPrevented||U(I)}return N.createElement("a",Sg({},w,{href:T||C,onClick:P||a?r:D,ref:t,target:h}))});var bb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(bb||(bb={}));var wb;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(wb||(wb={}));function _I(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,h=Ey(),f=Qo(),g=zS(n,{relative:l});return N.useCallback(y=>{if(gI(y,t)){y.preventDefault();let w=r!==void 0?r:Mh(f)===Mh(g);h(n,{replace:w,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[f,h,g,r,s,t,n,a,l,d])}let EI={data:""},TI=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||EI,kI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,AI=/\/\*[^]*?\*\/|  +/g,Sb=/\n+/g,gi=(n,e)=>{let t="",r="",s="";for(let a in n){let l=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":r+=a[1]=="f"?gi(l,a):a+"{"+gi(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=gi(l,e?e.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,d):d?d+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=gi.p?gi.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+r},xs={},GS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+GS(n[t]);return e}return n},CI=(n,e,t,r,s)=>{let a=GS(n),l=xs[a]||(xs[a]=(h=>{let f=0,g=11;for(;f<h.length;)g=101*g+h.charCodeAt(f++)>>>0;return"go"+g})(a));if(!xs[l]){let h=a!==n?n:(f=>{let g,y,w=[{}];for(;g=kI.exec(f.replace(AI,""));)g[4]?w.shift():g[3]?(y=g[3].replace(Sb," ").trim(),w.unshift(w[0][y]=w[0][y]||{})):w[0][g[1]]=g[2].replace(Sb," ").trim();return w[0]})(n);xs[l]=gi(s?{["@keyframes "+l]:h}:h,t?"":"."+l)}let d=t&&xs.g?xs.g:null;return t&&(xs.g=xs[l]),((h,f,g,y)=>{y?f.data=f.data.replace(y,h):f.data.indexOf(h)===-1&&(f.data=g?h+f.data:f.data+h)})(xs[l],e,r,d),l},II=(n,e,t)=>n.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let d=l(t),h=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=h?"."+h:d&&typeof d=="object"?d.props?"":gi(d,""):d===!1?"":d}return r+s+(l??"")},"");function vp(n){let e=this||{},t=n.call?n(e.p):n;return CI(t.unshift?t.raw?II(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,TI(e.target),e.g,e.o,e.k)}let KS,_g,Eg;vp.bind({g:1});let Is=vp.bind({k:1});function NI(n,e,t,r){gi.p=e,KS=n,_g=t,Eg=r}function $i(n,e){let t=this||{};return function(){let r=arguments;function s(a,l){let d=Object.assign({},a),h=d.className||s.className;t.p=Object.assign({theme:_g&&_g()},d),t.o=/ *go\d+/.test(h),d.className=vp.apply(t,r)+(h?" "+h:"");let f=n;return n[0]&&(f=d.as||n,delete d.as),Eg&&f[0]&&Eg(d),KS(f,d)}return s}}var jI=n=>typeof n=="function",Lh=(n,e)=>jI(n)?n(e):n,PI=(()=>{let n=0;return()=>(++n).toString()})(),QS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),RI=20,Ty="default",JS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return JS(n,{type:n.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},vh=[],YS={toasts:[],pausedAt:void 0,settings:{toastLimit:RI}},Ur={},XS=(n,e=Ty)=>{Ur[e]=JS(Ur[e]||YS,n),vh.forEach(([t,r])=>{t===e&&r(Ur[e])})},ZS=n=>Object.keys(Ur).forEach(e=>XS(n,e)),DI=n=>Object.keys(Ur).find(e=>Ur[e].toasts.some(t=>t.id===n)),xp=(n=Ty)=>e=>{XS(e,n)},MI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},LI=(n={},e=Ty)=>{let[t,r]=N.useState(Ur[e]||YS),s=N.useRef(Ur[e]);N.useEffect(()=>(s.current!==Ur[e]&&r(Ur[e]),vh.push([e,r]),()=>{let l=vh.findIndex(([d])=>d===e);l>-1&&vh.splice(l,1)}),[e]);let a=t.toasts.map(l=>{var d,h,f;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((d=n[l.type])==null?void 0:d.removeDelay)||n?.removeDelay,duration:l.duration||((h=n[l.type])==null?void 0:h.duration)||n?.duration||MI[l.type],style:{...n.style,...(f=n[l.type])==null?void 0:f.style,...l.style}}});return{...t,toasts:a}},OI=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||PI()}),mu=n=>(e,t)=>{let r=OI(e,n,t);return xp(r.toasterId||DI(r.id))({type:2,toast:r}),r.id},Ot=(n,e)=>mu("blank")(n,e);Ot.error=mu("error");Ot.success=mu("success");Ot.loading=mu("loading");Ot.custom=mu("custom");Ot.dismiss=(n,e)=>{let t={type:3,toastId:n};e?xp(e)(t):ZS(t)};Ot.dismissAll=n=>Ot.dismiss(void 0,n);Ot.remove=(n,e)=>{let t={type:4,toastId:n};e?xp(e)(t):ZS(t)};Ot.removeAll=n=>Ot.remove(void 0,n);Ot.promise=(n,e,t)=>{let r=Ot.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let a=e.success?Lh(e.success,s):void 0;return a?Ot.success(a,{id:r,...t,...t?.success}):Ot.dismiss(r),s}).catch(s=>{let a=e.error?Lh(e.error,s):void 0;a?Ot.error(a,{id:r,...t,...t?.error}):Ot.dismiss(r)}),n};var VI=1e3,FI=(n,e="default")=>{let{toasts:t,pausedAt:r}=LI(n,e),s=N.useRef(new Map).current,a=N.useCallback((y,w=VI)=>{if(s.has(y))return;let _=setTimeout(()=>{s.delete(y),l({type:4,toastId:y})},w);s.set(y,_)},[]);N.useEffect(()=>{if(r)return;let y=Date.now(),w=t.map(_=>{if(_.duration===1/0)return;let T=(_.duration||0)+_.pauseDuration-(y-_.createdAt);if(T<0){_.visible&&Ot.dismiss(_.id);return}return setTimeout(()=>Ot.dismiss(_.id,e),T)});return()=>{w.forEach(_=>_&&clearTimeout(_))}},[t,r,e]);let l=N.useCallback(xp(e),[e]),d=N.useCallback(()=>{l({type:5,time:Date.now()})},[l]),h=N.useCallback((y,w)=>{l({type:1,toast:{id:y,height:w}})},[l]),f=N.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),g=N.useCallback((y,w)=>{let{reverseOrder:_=!1,gutter:T=8,defaultPosition:P}=w||{},C=t.filter(I=>(I.position||P)===(y.position||P)&&I.height),U=C.findIndex(I=>I.id===y.id),D=C.filter((I,$)=>$<U&&I.visible).length;return C.filter(I=>I.visible).slice(..._?[D+1]:[0,D]).reduce((I,$)=>I+($.height||0)+T,0)},[t]);return N.useEffect(()=>{t.forEach(y=>{if(y.dismissed)a(y.id,y.removeDelay);else{let w=s.get(y.id);w&&(clearTimeout(w),s.delete(y.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:h,startPause:d,endPause:f,calculateOffset:g}}},UI=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BI=Is`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$I=Is`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zI=$i("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${UI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$I} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HI=Is`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qI=$i("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${HI} 1s linear infinite;
`,WI=Is`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GI=Is`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KI=$i("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QI=$i("div")`
  position: absolute;
`,JI=$i("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YI=Is`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XI=$i("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZI=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?N.createElement(XI,null,e):e:t==="blank"?null:N.createElement(JI,null,N.createElement(qI,{...r}),t!=="loading"&&N.createElement(QI,null,t==="error"?N.createElement(zI,{...r}):N.createElement(KI,{...r})))},eN=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tN=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,nN="0%{opacity:0;} 100%{opacity:1;}",rN="0%{opacity:1;} 100%{opacity:0;}",sN=$i("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iN=$i("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oN=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=QS()?[nN,rN]:[eN(t),tN(t)];return{animation:e?`${Is(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Is(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aN=N.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?oN(n.position||e||"top-center",n.visible):{opacity:0},a=N.createElement(ZI,{toast:n}),l=N.createElement(iN,{...n.ariaProps},Lh(n.message,n));return N.createElement(sN,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:a,message:l}):N.createElement(N.Fragment,null,a,l))});NI(N.createElement);var lN=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let a=N.useCallback(l=>{if(l){let d=()=>{let h=l.getBoundingClientRect().height;r(n,h)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return N.createElement("div",{ref:a,className:e,style:t},s)},cN=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:QS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},uN=vp`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eh=16,dN=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:d})=>{let{toasts:h,handlers:f}=FI(t,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:eh,left:eh,right:eh,bottom:eh,pointerEvents:"none",...l},className:d,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(g=>{let y=g.position||e,w=f.calculateOffset(g,{reverseOrder:n,gutter:r,defaultPosition:e}),_=cN(y,w);return N.createElement(lN,{id:g.id,key:g.id,onHeightUpdate:f.updateHeight,className:g.visible?uN:"",style:_},g.type==="custom"?Lh(g.message,g):s?s(g):N.createElement(aN,{toast:g,position:y}))}))},Pe=Ot;const e_=N.createContext();function ky(){return N.useContext(e_)}const _b={light:{name:"Light Theme",cssVars:{"--primary":"#2563eb","--primary-foreground":"#ffffff","--background":"#ffffff","--foreground":"#0f172a","--card":"#ffffff","--muted":"#f8fafc","--border":"#e2e8f0"},isDark:!1},dark:{name:"Dark Theme",cssVars:{"--primary":"#3b82f6","--primary-foreground":"#ffffff","--background":"#0f172a","--foreground":"#f8fafc","--card":"#1e293b","--muted":"#1e293b","--border":"#334155"},isDark:!0},blue:{name:"Blue Theme",cssVars:{"--primary":"#1e40af","--primary-foreground":"#ffffff","--background":"#f0f9ff","--foreground":"#0c4a6e","--card":"#e0f2fe","--muted":"#e0f2fe","--border":"#7dd3fc"},isDark:!1},purple:{name:"Purple Theme",cssVars:{"--primary":"#7c3aed","--primary-foreground":"#ffffff","--background":"#faf5ff","--foreground":"#581c87","--card":"#f3e8ff","--muted":"#f3e8ff","--border":"#c4b5fd"},isDark:!1},green:{name:"Green Theme",cssVars:{"--primary":"#059669","--primary-foreground":"#ffffff","--background":"#f0fdf4","--foreground":"#064e3b","--card":"#dcfce7","--muted":"#dcfce7","--border":"#86efac"},isDark:!1},orange:{name:"Orange Theme",cssVars:{"--primary":"#ea580c","--primary-foreground":"#ffffff","--background":"#fff7ed","--foreground":"#9a3412","--card":"#fed7aa","--muted":"#fed7aa","--border":"#fdba74"},isDark:!1},red:{name:"Red Theme",cssVars:{"--primary":"#dc2626","--primary-foreground":"#ffffff","--background":"#fef2f2","--foreground":"#991b1b","--card":"#fecaca","--muted":"#fecaca","--border":"#fca5a5"},isDark:!1},pink:{name:"Pink Theme",cssVars:{"--primary":"#db2777","--primary-foreground":"#ffffff","--background":"#fdf2f8","--foreground":"#9d174d","--card":"#fce7f3","--muted":"#fce7f3","--border":"#f9a8d4"},isDark:!1},cyan:{name:"Cyan Theme",cssVars:{"--primary":"#0891b2","--primary-foreground":"#ffffff","--background":"#ecfeff","--foreground":"#164e63","--card":"#cffafe","--muted":"#cffafe","--border":"#67e8f9"},isDark:!1},amber:{name:"Amber Theme",cssVars:{"--primary":"#d97706","--primary-foreground":"#ffffff","--background":"#fffbeb","--foreground":"#92400e","--card":"#fef3c7","--muted":"#fef3c7","--border":"#fde68a"},isDark:!1},emerald:{name:"Emerald Theme",cssVars:{"--primary":"#10b981","--primary-foreground":"#ffffff","--background":"#ecfdf5","--foreground":"#064e3b","--card":"#d1fae5","--muted":"#d1fae5","--border":"#6ee7b7"},isDark:!1}};function hN({children:n}){const[e,t]=N.useState("light");N.useEffect(()=>{const l=localStorage.getItem("theme")||"light";t(l),r(l)},[]);const r=l=>{const d=_b[l];d&&(Object.entries(d.cssVars).forEach(([h,f])=>{document.documentElement.style.setProperty(h,f)}),document.documentElement.classList.toggle("dark",d.isDark))},s=l=>{t(l),localStorage.setItem("theme",l),r(l)},a=()=>{s(e==="light"?"dark":"light")};return c.jsx(e_.Provider,{value:{theme:e,setTheme:s,toggleTheme:a,themes:_b},children:n})}const pN=()=>{};var Eb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},fN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},n_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,h=s+2<n.length,f=h?n[s+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let w=(d&15)<<2|f>>6,_=f&63;h||(_=64,l||(w=64)),r.push(t[g],t[y],t[w],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(t_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||f==null||y==null)throw new mN;const w=a<<2|d>>4;if(r.push(w),f!==64){const _=d<<4&240|f>>2;if(r.push(_),y!==64){const T=f<<6&192|y;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gN=function(n){const e=t_(n);return n_.encodeByteArray(e,!0)},Oh=function(n){return gN(n).replace(/\./g,"")},r_=function(n){try{return n_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=()=>yN().__FIREBASE_DEFAULTS__,xN=()=>{if(typeof process>"u"||typeof Eb>"u")return;const n=Eb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&r_(n[1]);return e&&JSON.parse(e)},bp=()=>{try{return pN()||vN()||xN()||bN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},s_=n=>bp()?.emulatorHosts?.[n],i_=n=>{const e=s_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},o_=()=>bp()?.config,a_=n=>bp()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ay(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Oh(JSON.stringify(t)),Oh(JSON.stringify(l)),""].join(".")}const Dc={};function SN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?n.emulator.push(e):n.prod.push(e);return n}function _N(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Tb=!1;function Cy(n,e){if(typeof window>"u"||typeof document>"u"||!zi(window.location.host)||Dc[n]===e||Dc[n]||Tb)return;Dc[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=SN().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,_){w.setAttribute("width","24"),w.setAttribute("id",_),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Tb=!0,l()},w}function g(w,_){w.setAttribute("id",_),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=_N(r),_=t("text"),T=document.getElementById(_)||document.createElement("span"),P=t("learnmore"),C=document.getElementById(P)||document.createElement("a"),U=t("preprendIcon"),D=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const I=w.element;d(I),g(C,P);const $=f();h(D,U),I.append(D,T,C,$),document.body.appendChild(I)}a?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function TN(){const n=bp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IN(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NN(){return!TN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jN(){try{return typeof indexedDB=="object"}catch{return!1}}function PN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="FirebaseError";class es extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=RN,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?DN(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new es(s,d,r)}}function DN(n,e){return n.replace(MN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MN=/\{\$([^}]+)}/g;function LN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(kb(a)&&kb(l)){if(!Oo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function kb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ON(n,e){const t=new VN(n,e);return t.subscribe.bind(t)}class VN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Fm),s.error===void 0&&(s.error=Fm),s.complete===void 0&&(s.complete=Fm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n&&n._delegate?n._delegate:n}class Ri{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($N(e))try{this.getOrInitializeService({instanceIdentifier:wo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wo){return this.instances.has(e)}getOptions(e=wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wo){return this.component?this.component.multipleInstances?e:wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BN(n){return n===wo?void 0:n}function $N(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const HN={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},qN=He.INFO,WN={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},GN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=WN[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=GN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const KN=(n,e)=>e.some(t=>n instanceof t);let Ab,Cb;function QN(){return Ab||(Ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c_=new WeakMap,Tg=new WeakMap,u_=new WeakMap,Um=new WeakMap,Ny=new WeakMap;function YN(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ei(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&c_.set(t,n)}).catch(()=>{}),Ny.set(e,n),e}function XN(n){if(Tg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Tg.set(n,e)}let kg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||u_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ei(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZN(n){kg=n(kg)}function ej(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Bm(this),e,...t);return u_.set(r,e.sort?e.sort():[e]),Ei(r)}:JN().includes(n)?function(...e){return n.apply(Bm(this),e),Ei(c_.get(this))}:function(...e){return Ei(n.apply(Bm(this),e))}}function tj(n){return typeof n=="function"?ej(n):(n instanceof IDBTransaction&&XN(n),KN(n,QN())?new Proxy(n,kg):n)}function Ei(n){if(n instanceof IDBRequest)return YN(n);if(Um.has(n))return Um.get(n);const e=tj(n);return e!==n&&(Um.set(n,e),Ny.set(e,n)),e}const Bm=n=>Ny.get(n);function nj(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=Ei(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Ei(l.result),h.oldVersion,h.newVersion,Ei(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const rj=["get","getKey","getAll","getAllKeys","count"],sj=["put","add","delete","clear"],$m=new Map;function Ib(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=sj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rj.includes(t)))return;const a=async function(l,...d){const h=this.transaction(l,s?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[t](...d),s&&h.done]))[0]};return $m.set(e,a),a}ZN(n=>({...n,get:(e,t,r)=>Ib(e,t)||n.get(e,t,r),has:(e,t)=>!!Ib(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oj(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function oj(n){return n.getComponent()?.type==="VERSION"}const Ag="@firebase/app",Nb="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Iy("@firebase/app"),aj="@firebase/app-compat",lj="@firebase/analytics-compat",cj="@firebase/analytics",uj="@firebase/app-check-compat",dj="@firebase/app-check",hj="@firebase/auth",pj="@firebase/auth-compat",fj="@firebase/database",mj="@firebase/data-connect",gj="@firebase/database-compat",yj="@firebase/functions",vj="@firebase/functions-compat",xj="@firebase/installations",bj="@firebase/installations-compat",wj="@firebase/messaging",Sj="@firebase/messaging-compat",_j="@firebase/performance",Ej="@firebase/performance-compat",Tj="@firebase/remote-config",kj="@firebase/remote-config-compat",Aj="@firebase/storage",Cj="@firebase/storage-compat",Ij="@firebase/firestore",Nj="@firebase/ai",jj="@firebase/firestore-compat",Pj="firebase",Rj="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",Dj={[Ag]:"fire-core",[aj]:"fire-core-compat",[cj]:"fire-analytics",[lj]:"fire-analytics-compat",[dj]:"fire-app-check",[uj]:"fire-app-check-compat",[hj]:"fire-auth",[pj]:"fire-auth-compat",[fj]:"fire-rtdb",[mj]:"fire-data-connect",[gj]:"fire-rtdb-compat",[yj]:"fire-fn",[vj]:"fire-fn-compat",[xj]:"fire-iid",[bj]:"fire-iid-compat",[wj]:"fire-fcm",[Sj]:"fire-fcm-compat",[_j]:"fire-perf",[Ej]:"fire-perf-compat",[Tj]:"fire-rc",[kj]:"fire-rc-compat",[Aj]:"fire-gcs",[Cj]:"fire-gcs-compat",[Ij]:"fire-fst",[jj]:"fire-fst-compat",[Nj]:"fire-vertex","fire-js":"fire-js",[Pj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,Mj=new Map,Ig=new Map;function jb(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vo(n){const e=n.name;if(Ig.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,n);for(const t of Vh.values())jb(t,n);for(const t of Mj.values())jb(t,n);return!0}function wp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new gu("app","Firebase",Lj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=Rj;function d_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Cg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ti.create("bad-app-name",{appName:String(s)});if(t||(t=o_()),!t)throw Ti.create("no-options");const a=Vh.get(s);if(a){if(Oo(t,a.options)&&Oo(r,a.config))return a;throw Ti.create("duplicate-app",{appName:s})}const l=new zN(s);for(const h of Ig.values())l.addComponent(h);const d=new Oj(t,r,l);return Vh.set(s,d),d}function jy(n=Cg){const e=Vh.get(n);if(!e&&n===Cg&&o_())return d_();if(!e)throw Ti.create("no-app",{appName:n});return e}function Hr(n,e,t){let r=Dj[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(l.join(" "));return}Vo(new Ri(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="firebase-heartbeat-database",Fj=1,Xc="firebase-heartbeat-store";let zm=null;function h_(){return zm||(zm=nj(Vj,Fj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ti.create("idb-open",{originalErrorMessage:n.message})})),zm}async function Uj(n){try{const t=(await h_()).transaction(Xc),r=await t.objectStore(Xc).get(p_(n));return await t.done,r}catch(e){if(e instanceof es)Ns.warn(e.message);else{const t=Ti.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(t.message)}}}async function Pb(n,e){try{const r=(await h_()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,p_(n)),await r.done}catch(t){if(t instanceof es)Ns.warn(t.message);else{const r=Ti.create("idb-set",{originalErrorMessage:t?.message});Ns.warn(r.message)}}}function p_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=1024,$j=30;class zj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>$j){const s=Wj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rb(),{heartbeatsToSend:t,unsentEntries:r}=Hj(this._heartbeatsCache.heartbeats),s=Oh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ns.warn(e),""}}}function Rb(){return new Date().toISOString().substring(0,10)}function Hj(n,e=Bj){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Db(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Db(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class qj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jN()?PN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Uj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Db(n){return Oh(JSON.stringify({version:2,heartbeats:n})).length}function Wj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(n){Vo(new Ri("platform-logger",e=>new ij(e),"PRIVATE")),Vo(new Ri("heartbeat",e=>new zj(e),"PRIVATE")),Hr(Ag,Nb,n),Hr(Ag,Nb,"esm2020"),Hr("fire-js","")}Gj("");function f_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kj=f_,m_=new gu("auth","Firebase",f_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Iy("@firebase/auth");function Qj(n,...e){Fh.logLevel<=He.WARN&&Fh.warn(`Auth (${Jo}): ${n}`,...e)}function xh(n,...e){Fh.logLevel<=He.ERROR&&Fh.error(`Auth (${Jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(n,...e){throw Ry(n,...e)}function hr(n,...e){return Ry(n,...e)}function Py(n,e,t){const r={...Kj(),[e]:t};return new gu("auth","Firebase",r).create(e,{appName:n.name})}function jo(n){return Py(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jj(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jr(n,"argument-error"),Py(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ry(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return m_.create(n,...e)}function De(n,e,...t){if(!n)throw Ry(e,...t)}function Ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xh(e),new Error(e)}function js(n,e){n||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){return typeof self<"u"&&self.location?.href||""}function Yj(){return Mb()==="http:"||Mb()==="https:"}function Mb(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yj()||AN()||"connection"in navigator)?navigator.onLine:!0}function Zj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,js(t>e,"Short delay should be less than long delay!"),this.isMobile=EN()||CN()}get(){return Xj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){js(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nP=new vu(3e4,6e4);function My(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function wl(n,e,t,r,s={}){return y_(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=yu({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...a};return kN()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&zi(n.emulatorConfig.host)&&(f.credentials="include"),g_.fetch()(await v_(n,n.config.apiHost,t,d),f)})}async function y_(n,e,t){n._canInitEmulator=!1;const r={...eP,...e};try{const s=new sP(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw th(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[h,f]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw th(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw th(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Py(n,g,f);Jr(n,g)}}catch(s){if(s instanceof es)throw s;Jr(n,"network-request-failed",{message:String(s)})}}async function rP(n,e,t,r,s={}){const a=await wl(n,e,t,r,s);return"mfaPendingCredential"in a&&Jr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function v_(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?Dy(n.config,s):`${n.config.apiScheme}://${s}`;return tP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class sP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),nP.get())})}}function th(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=hr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e){return wl(n,"POST","/v1/accounts:delete",e)}async function Uh(n,e){return wl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oP(n,e=!1){const t=qt(n),r=await t.getIdToken(e),s=Ly(r);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Mc(Hm(s.auth_time)),issuedAtTime:Mc(Hm(s.iat)),expirationTime:Mc(Hm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Hm(n){return Number(n)*1e3}function Ly(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const s=r_(t);return s?JSON.parse(s):(xh("Failed to decode base64 JWT payload"),null)}catch(s){return xh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Lb(n){const e=Ly(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof es&&aP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function aP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){const e=n.auth,t=await n.getIdToken(),r=await Zc(n,Uh(e,{idToken:t}));De(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?x_(s.providerUserInfo):[],l=uP(n.providerData,a),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!l?.length,f=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function cP(n){const e=qt(n);await Bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uP(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function x_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(n,e){const t=await y_(n,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await v_(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:d,body:r};return n.emulatorConfig&&zi(n.emulatorConfig.host)&&(h.credentials="include"),g_.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function hP(n,e){return wl(n,"POST","/v2/accounts:revokeToken",My(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=Lb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await dP(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new ol;return r&&(De(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(De(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new lP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Zc(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oP(this,e)}reload(){return cP(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(jo(this.auth));const e=await this.getIdToken();return await Zc(this,iP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,d=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:_,providerData:T,stsTokenManager:P}=t;De(y&&P,e,"internal-error");const C=ol.fromJSON(this.name,P);De(typeof y=="string",e,"internal-error"),pi(r,e.name),pi(s,e.name),De(typeof w=="boolean",e,"internal-error"),De(typeof _=="boolean",e,"internal-error"),pi(a,e.name),pi(l,e.name),pi(d,e.name),pi(h,e.name),pi(f,e.name),pi(g,e.name);const U=new ur({uid:y,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:C,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(U.providerData=T.map(D=>({...D}))),h&&(U._redirectEventId=h),U}static async _fromIdTokenResponse(e,t,r=!1){const s=new ol;s.updateFromServerResponse(t);const a=new ur({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Bh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];De(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?x_(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,d=new ol;d.updateFromIdToken(r);const h=new ur({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function _s(n){js(n instanceof Function,"Expected a class definition");let e=Ob.get(n);return e?(js(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ob.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}b_.type="NONE";const Vb=b_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n,e,t){return`firebase:${n}:${e}:${t}`}class al{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=bh(this.userKey,s.apiKey,a),this.fullPersistenceKey=bh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uh(this.auth,{idToken:e}).catch(()=>{});return t?ur._fromGetAccountInfoResponse(this.auth,t,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new al(_s(Vb),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||_s(Vb);const l=bh(r,e.config.apiKey,e.name);let d=null;for(const f of t)try{const g=await f._get(l);if(g){let y;if(typeof g=="string"){const w=await Uh(e,{idToken:g}).catch(()=>{});if(!w)break;y=await ur._fromGetAccountInfoResponse(e,w,g)}else y=ur._fromJSON(e,g);f!==a&&(d=y),a=f;break}}catch{}const h=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new al(a,e,r):(a=h[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new al(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k_(e))return"Blackberry";if(A_(e))return"Webos";if(S_(e))return"Safari";if((e.includes("chrome/")||__(e))&&!e.includes("edge/"))return"Chrome";if(T_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function w_(n=cn()){return/firefox\//i.test(n)}function S_(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function __(n=cn()){return/crios\//i.test(n)}function E_(n=cn()){return/iemobile/i.test(n)}function T_(n=cn()){return/android/i.test(n)}function k_(n=cn()){return/blackberry/i.test(n)}function A_(n=cn()){return/webos/i.test(n)}function Oy(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pP(n=cn()){return Oy(n)&&!!window.navigator?.standalone}function fP(){return IN()&&document.documentMode===10}function C_(n=cn()){return Oy(n)||T_(n)||A_(n)||k_(n)||/windows phone/i.test(n)||E_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,e=[]){let t;switch(n){case"Browser":t=Fb(cn());break;case"Worker":t=`${Fb(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const h=e(a);l(h)}catch(h){d(h)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e={}){return wl(n,"GET","/v2/passwordPolicy",My(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=6;class vP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??yP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ub(this),this.idTokenSubscription=new Ub(this),this.beforeStateQueue=new mP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_s(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uh(this,{idToken:e}),r=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(jo(this));const t=e?qt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(jo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(jo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gP(this),t=new vP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await hP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_s(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[_s(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Qj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sp(n){return qt(n)}class Ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=ON(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bP(n){Vy=n}function wP(n){return Vy.loadJS(n)}function SP(){return Vy.gapiScript}function _P(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,e){const t=wp(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Oo(a,e??{}))return s;Jr(s,"already-initialized")}return t.initialize({options:e})}function TP(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(_s);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function kP(n,e,t){const r=Sp(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=N_(e),{host:l,port:d}=AP(e),h=d===null?"":`:${d}`,f={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(Oo(f,r.config.emulator)&&Oo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,zi(l)?(Ay(`${a}//${l}${h}`),Cy("Auth",!0)):CP()}function N_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AP(n){const e=N_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Bb(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Bb(l)}}}function Bb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function CP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,t){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(n,e){return rP(n,"POST","/v1/accounts:signInWithIdp",My(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="http://localhost";class Fo extends j_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new Fo(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ll(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ll(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ll(e,t)}buildRequest(){const e={requestUri:IP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends xu{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Fo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ws.credential(t,r)}catch{return null}}}ws.GOOGLE_SIGN_IN_METHOD="google.com";ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends xu{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends xu{constructor(){super("twitter.com")}static credential(e,t){return Fo._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ur._fromIdTokenResponse(e,r,s),l=$b(r);return new ul({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=$b(r);return new ul({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function $b(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends es{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new $h(e,t,r,s)}}function P_(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(n,a,e,r):a})}async function NP(n,e,t=!1){const r=await Zc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ul._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(n,e,t=!1){const{auth:r}=n;if(Jn(r.app))return Promise.reject(jo(r));const s="reauthenticate";try{const a=await Zc(n,P_(r,s,e,n),t);De(a.idToken,r,"internal-error");const l=Ly(a.idToken);De(l,r,"internal-error");const{sub:d}=l;return De(n.uid===d,r,"user-mismatch"),ul._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e,t=!1){if(Jn(n.app))return Promise.reject(jo(n));const r="signIn",s=await P_(n,r,e),a=await ul._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function RP(n,e,t,r){return qt(n).onIdTokenChanged(e,t,r)}function DP(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}function MP(n,e,t,r){return qt(n).onAuthStateChanged(e,t,r)}function LP(n){return qt(n).signOut()}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=1e3,VP=10;class D_ extends R_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);fP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,VP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},OP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}D_.type="LOCAL";const FP=D_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_ extends R_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M_.type="SESSION";const L_=M_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new _p(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async f=>f(t.origin,a)),h=await UP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,h)=>{const f=Uy("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function $P(n){qr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function zP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HP(){return navigator?.serviceWorker?.controller||null}function qP(){return O_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="firebaseLocalStorageDb",WP=1,Hh="firebaseLocalStorage",F_="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ep(n,e){return n.transaction([Hh],e?"readwrite":"readonly").objectStore(Hh)}function GP(){const n=indexedDB.deleteDatabase(V_);return new bu(n).toPromise()}function Pg(){const n=indexedDB.open(V_,WP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Hh,{keyPath:F_})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Hh)?e(r):(r.close(),await GP(),e(await Pg()))})})}async function zb(n,e,t){const r=Ep(n,!0).put({[F_]:e,value:t});return new bu(r).toPromise()}async function KP(n,e){const t=Ep(n,!1).get(e),r=await new bu(t).toPromise();return r===void 0?null:r.value}function Hb(n,e){const t=Ep(n,!0).delete(e);return new bu(t).toPromise()}const QP=800,JP=3;class U_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>JP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_p._getInstance(qP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await zb(e,zh,"1"),await Hb(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>KP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Hb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Ep(s,!1).getAll();return new bu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U_.type="LOCAL";const YP=U_;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(n,e){return e?_s(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends j_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ll(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XP(n){return PP(n.auth,new By(n),n.bypassAuthState)}function ZP(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),jP(t,new By(n),n.bypassAuthState)}async function eR(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),NP(t,new By(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XP;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return ZP;default:Jr(this.auth,"internal-error")}}resolve(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){js(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=new vu(2e3,1e4);async function nR(n,e,t){if(Jn(n.app))return Promise.reject(hr(n,"operation-not-supported-in-this-environment"));const r=Sp(n);Jj(n,e,Fy);const s=B_(r,t);return new ko(r,"signInViaPopup",e,s).executeNotNull()}class ko extends $_{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){js(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tR.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="pendingRedirect",wh=new Map;class sR extends $_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await iR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iR(n,e){const t=lR(e),r=aR(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function oR(n,e){wh.set(n._key(),e)}function aR(n){return _s(n._redirectPersistence)}function lR(n){return bh(rR,n.config.apiKey,n.name)}async function cR(n,e,t=!1){if(Jn(n.app))return Promise.reject(jo(n));const r=Sp(n),s=B_(r,e),l=await new sR(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=600*1e3;class dR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!z_(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(qb(e))}saveEventToCache(e){this.cachedEventUids.add(qb(e)),this.lastProcessedEventTime=Date.now()}}function qb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function z_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function hR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,e={}){return wl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function gR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pR(n);for(const t of e)try{if(yR(t))return}catch{}Jr(n,"unauthorized-domain")}function yR(n){const e=Ng(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!mR.test(t))return!1;if(fR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new vu(3e4,6e4);function Wb(){const n=qr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xR(n){return new Promise((e,t)=>{function r(){Wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wb(),t(hr(n,"network-request-failed"))},timeout:vR.get()})}if(qr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qr().gapi?.load)r();else{const s=_P("iframefcb");return qr()[s]=()=>{gapi.load?r():t(hr(n,"network-request-failed"))},wP(`${SP()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function bR(n){return Sh=Sh||xR(n),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new vu(5e3,15e3),SR="__/auth/iframe",_R="emulator/auth/iframe",ER={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kR(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dy(e,_R):`https://${n.config.authDomain}/${SR}`,r={apiKey:e.apiKey,appName:n.name,v:Jo},s=TR.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${yu(r).slice(1)}`}async function AR(n){const e=await bR(n),t=qr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:kR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ER,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=hr(n,"network-request-failed"),d=qr().setTimeout(()=>{a(l)},wR.get());function h(){qr().clearTimeout(d),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,NR=600,jR="_blank",PR="http://localhost";class Gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RR(n,e,t,r=IR,s=NR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const h={...CR,width:r.toString(),height:s.toString(),top:a,left:l},f=cn().toLowerCase();t&&(d=__(f)?jR:t),w_(f)&&(e=e||PR,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[_,T])=>`${w}${_}=${T},`,"");if(pP(f)&&d!=="_self")return DR(e||"",d),new Gb(null);const y=window.open(e||"",d,g);De(y,n,"popup-blocked");try{y.focus()}catch{}return new Gb(y)}function DR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="__/auth/handler",LR="emulator/auth/handler",OR=encodeURIComponent("fac");async function Kb(n,e,t,r,s,a){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jo,eventId:s};if(e instanceof Fy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",LN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof xu){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await n._getAppCheckToken(),f=h?`#${OR}=${encodeURIComponent(h)}`:"";return`${VR(n)}?${yu(d).slice(1)}${f}`}function VR({config:n}){return n.emulator?Dy(n,LR):`https://${n.authDomain}/${MR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class FR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L_,this._completeRedirectFn=cR,this._overrideRedirectResult=oR}async _openPopup(e,t,r,s){js(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Kb(e,t,r,Ng(),s);return RR(e,a,Uy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Kb(e,t,r,Ng(),s);return $P(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(js(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await AR(e),r=new dR(e);return t.register("authEvent",s=>(De(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},s=>{const a=s?.[0]?.[qm];a!==void 0&&t(!!a),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return C_()||S_()||Oy()}}const UR=FR;var Qb="@firebase/auth",Jb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zR(n){Vo(new Ri("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;De(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I_(n)},f=new xP(r,s,a,h);return TP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Ri("auth-internal",e=>{const t=Sp(e.getProvider("auth").getImmediate());return(r=>new BR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(Qb,Jb,$R(n)),Hr(Qb,Jb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=300,qR=a_("authIdTokenMaxAge")||HR;let Yb=null;const WR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qR)return;const s=t?.token;Yb!==s&&(Yb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GR(n=jy()){const e=wp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=EP(n,{popupRedirectResolver:UR,persistence:[YP,FP,L_]}),r=a_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=WR(a.toString());DP(t,l,()=>l(t.currentUser)),RP(t,d=>l(d))}}const s=s_("auth");return s&&kP(t,`http://${s}`),t}function KR(){return document.getElementsByTagName("head")?.[0]??document}bP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=hr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",KR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zR("Browser");var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,H_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function R(){}R.prototype=E.prototype,A.F=E.prototype,A.prototype=new R,A.prototype.constructor=A,A.D=function(L,F,z){for(var M=Array(arguments.length-2),we=2;we<arguments.length;we++)M[we-2]=arguments[we];return E.prototype[F].apply(L,M)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,R){R||(R=0);const L=Array(16);if(typeof E=="string")for(var F=0;F<16;++F)L[F]=E.charCodeAt(R++)|E.charCodeAt(R++)<<8|E.charCodeAt(R++)<<16|E.charCodeAt(R++)<<24;else for(F=0;F<16;++F)L[F]=E[R++]|E[R++]<<8|E[R++]<<16|E[R++]<<24;E=A.g[0],R=A.g[1],F=A.g[2];let z=A.g[3],M;M=E+(z^R&(F^z))+L[0]+3614090360&4294967295,E=R+(M<<7&4294967295|M>>>25),M=z+(F^E&(R^F))+L[1]+3905402710&4294967295,z=E+(M<<12&4294967295|M>>>20),M=F+(R^z&(E^R))+L[2]+606105819&4294967295,F=z+(M<<17&4294967295|M>>>15),M=R+(E^F&(z^E))+L[3]+3250441966&4294967295,R=F+(M<<22&4294967295|M>>>10),M=E+(z^R&(F^z))+L[4]+4118548399&4294967295,E=R+(M<<7&4294967295|M>>>25),M=z+(F^E&(R^F))+L[5]+1200080426&4294967295,z=E+(M<<12&4294967295|M>>>20),M=F+(R^z&(E^R))+L[6]+2821735955&4294967295,F=z+(M<<17&4294967295|M>>>15),M=R+(E^F&(z^E))+L[7]+4249261313&4294967295,R=F+(M<<22&4294967295|M>>>10),M=E+(z^R&(F^z))+L[8]+1770035416&4294967295,E=R+(M<<7&4294967295|M>>>25),M=z+(F^E&(R^F))+L[9]+2336552879&4294967295,z=E+(M<<12&4294967295|M>>>20),M=F+(R^z&(E^R))+L[10]+4294925233&4294967295,F=z+(M<<17&4294967295|M>>>15),M=R+(E^F&(z^E))+L[11]+2304563134&4294967295,R=F+(M<<22&4294967295|M>>>10),M=E+(z^R&(F^z))+L[12]+1804603682&4294967295,E=R+(M<<7&4294967295|M>>>25),M=z+(F^E&(R^F))+L[13]+4254626195&4294967295,z=E+(M<<12&4294967295|M>>>20),M=F+(R^z&(E^R))+L[14]+2792965006&4294967295,F=z+(M<<17&4294967295|M>>>15),M=R+(E^F&(z^E))+L[15]+1236535329&4294967295,R=F+(M<<22&4294967295|M>>>10),M=E+(F^z&(R^F))+L[1]+4129170786&4294967295,E=R+(M<<5&4294967295|M>>>27),M=z+(R^F&(E^R))+L[6]+3225465664&4294967295,z=E+(M<<9&4294967295|M>>>23),M=F+(E^R&(z^E))+L[11]+643717713&4294967295,F=z+(M<<14&4294967295|M>>>18),M=R+(z^E&(F^z))+L[0]+3921069994&4294967295,R=F+(M<<20&4294967295|M>>>12),M=E+(F^z&(R^F))+L[5]+3593408605&4294967295,E=R+(M<<5&4294967295|M>>>27),M=z+(R^F&(E^R))+L[10]+38016083&4294967295,z=E+(M<<9&4294967295|M>>>23),M=F+(E^R&(z^E))+L[15]+3634488961&4294967295,F=z+(M<<14&4294967295|M>>>18),M=R+(z^E&(F^z))+L[4]+3889429448&4294967295,R=F+(M<<20&4294967295|M>>>12),M=E+(F^z&(R^F))+L[9]+568446438&4294967295,E=R+(M<<5&4294967295|M>>>27),M=z+(R^F&(E^R))+L[14]+3275163606&4294967295,z=E+(M<<9&4294967295|M>>>23),M=F+(E^R&(z^E))+L[3]+4107603335&4294967295,F=z+(M<<14&4294967295|M>>>18),M=R+(z^E&(F^z))+L[8]+1163531501&4294967295,R=F+(M<<20&4294967295|M>>>12),M=E+(F^z&(R^F))+L[13]+2850285829&4294967295,E=R+(M<<5&4294967295|M>>>27),M=z+(R^F&(E^R))+L[2]+4243563512&4294967295,z=E+(M<<9&4294967295|M>>>23),M=F+(E^R&(z^E))+L[7]+1735328473&4294967295,F=z+(M<<14&4294967295|M>>>18),M=R+(z^E&(F^z))+L[12]+2368359562&4294967295,R=F+(M<<20&4294967295|M>>>12),M=E+(R^F^z)+L[5]+4294588738&4294967295,E=R+(M<<4&4294967295|M>>>28),M=z+(E^R^F)+L[8]+2272392833&4294967295,z=E+(M<<11&4294967295|M>>>21),M=F+(z^E^R)+L[11]+1839030562&4294967295,F=z+(M<<16&4294967295|M>>>16),M=R+(F^z^E)+L[14]+4259657740&4294967295,R=F+(M<<23&4294967295|M>>>9),M=E+(R^F^z)+L[1]+2763975236&4294967295,E=R+(M<<4&4294967295|M>>>28),M=z+(E^R^F)+L[4]+1272893353&4294967295,z=E+(M<<11&4294967295|M>>>21),M=F+(z^E^R)+L[7]+4139469664&4294967295,F=z+(M<<16&4294967295|M>>>16),M=R+(F^z^E)+L[10]+3200236656&4294967295,R=F+(M<<23&4294967295|M>>>9),M=E+(R^F^z)+L[13]+681279174&4294967295,E=R+(M<<4&4294967295|M>>>28),M=z+(E^R^F)+L[0]+3936430074&4294967295,z=E+(M<<11&4294967295|M>>>21),M=F+(z^E^R)+L[3]+3572445317&4294967295,F=z+(M<<16&4294967295|M>>>16),M=R+(F^z^E)+L[6]+76029189&4294967295,R=F+(M<<23&4294967295|M>>>9),M=E+(R^F^z)+L[9]+3654602809&4294967295,E=R+(M<<4&4294967295|M>>>28),M=z+(E^R^F)+L[12]+3873151461&4294967295,z=E+(M<<11&4294967295|M>>>21),M=F+(z^E^R)+L[15]+530742520&4294967295,F=z+(M<<16&4294967295|M>>>16),M=R+(F^z^E)+L[2]+3299628645&4294967295,R=F+(M<<23&4294967295|M>>>9),M=E+(F^(R|~z))+L[0]+4096336452&4294967295,E=R+(M<<6&4294967295|M>>>26),M=z+(R^(E|~F))+L[7]+1126891415&4294967295,z=E+(M<<10&4294967295|M>>>22),M=F+(E^(z|~R))+L[14]+2878612391&4294967295,F=z+(M<<15&4294967295|M>>>17),M=R+(z^(F|~E))+L[5]+4237533241&4294967295,R=F+(M<<21&4294967295|M>>>11),M=E+(F^(R|~z))+L[12]+1700485571&4294967295,E=R+(M<<6&4294967295|M>>>26),M=z+(R^(E|~F))+L[3]+2399980690&4294967295,z=E+(M<<10&4294967295|M>>>22),M=F+(E^(z|~R))+L[10]+4293915773&4294967295,F=z+(M<<15&4294967295|M>>>17),M=R+(z^(F|~E))+L[1]+2240044497&4294967295,R=F+(M<<21&4294967295|M>>>11),M=E+(F^(R|~z))+L[8]+1873313359&4294967295,E=R+(M<<6&4294967295|M>>>26),M=z+(R^(E|~F))+L[15]+4264355552&4294967295,z=E+(M<<10&4294967295|M>>>22),M=F+(E^(z|~R))+L[6]+2734768916&4294967295,F=z+(M<<15&4294967295|M>>>17),M=R+(z^(F|~E))+L[13]+1309151649&4294967295,R=F+(M<<21&4294967295|M>>>11),M=E+(F^(R|~z))+L[4]+4149444226&4294967295,E=R+(M<<6&4294967295|M>>>26),M=z+(R^(E|~F))+L[11]+3174756917&4294967295,z=E+(M<<10&4294967295|M>>>22),M=F+(E^(z|~R))+L[2]+718787259&4294967295,F=z+(M<<15&4294967295|M>>>17),M=R+(z^(F|~E))+L[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(F+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+F&4294967295,A.g[3]=A.g[3]+z&4294967295}r.prototype.v=function(A,E){E===void 0&&(E=A.length);const R=E-this.blockSize,L=this.C;let F=this.h,z=0;for(;z<E;){if(F==0)for(;z<=R;)s(this,A,z),z+=this.blockSize;if(typeof A=="string"){for(;z<E;)if(L[F++]=A.charCodeAt(z++),F==this.blockSize){s(this,L),F=0;break}}else for(;z<E;)if(L[F++]=A[z++],F==this.blockSize){s(this,L),F=0;break}}this.h=F,this.o+=E},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;E=this.o*8;for(var R=A.length-8;R<A.length;++R)A[R]=E&255,E/=256;for(this.v(A),A=Array(16),E=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)A[E++]=this.g[R]>>>L&255;return A};function a(A,E){var R=d;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=E(A)}function l(A,E){this.h=E;const R=[];let L=!0;for(let F=A.length-1;F>=0;F--){const z=A[F]|0;L&&z==E||(R[F]=z,L=!1)}this.g=R}var d={};function h(A){return-128<=A&&A<128?a(A,function(E){return new l([E|0],E<0?-1:0)}):new l([A|0],A<0?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return y;if(A<0)return C(f(-A));const E=[];let R=1;for(let L=0;A>=R;L++)E[L]=A/R|0,R*=4294967296;return new l(E,0)}function g(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return C(g(A.substring(1),E));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=f(Math.pow(E,8));let L=y;for(let z=0;z<A.length;z+=8){var F=Math.min(8,A.length-z);const M=parseInt(A.substring(z,z+F),E);F<8?(F=f(Math.pow(E,F)),L=L.j(F).add(f(M))):(L=L.j(R),L=L.add(f(M)))}return L}var y=h(0),w=h(1),_=h(16777216);n=l.prototype,n.m=function(){if(P(this))return-C(this).m();let A=0,E=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);A+=(L>=0?L:4294967296+L)*E,E*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(P(this))return"-"+C(this).toString(A);const E=f(Math.pow(A,6));var R=this;let L="";for(;;){const F=$(R,E).g;R=U(R,F.j(E));let z=((R.g.length>0?R.g[0]:R.h)>>>0).toString(A);if(R=F,T(R))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(let E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function P(A){return A.h==-1}n.l=function(A){return A=U(this,A),P(A)?-1:T(A)?0:1};function C(A){const E=A.g.length,R=[];for(let L=0;L<E;L++)R[L]=~A.g[L];return new l(R,~A.h).add(w)}n.abs=function(){return P(this)?C(this):this},n.add=function(A){const E=Math.max(this.g.length,A.g.length),R=[];let L=0;for(let F=0;F<=E;F++){let z=L+(this.i(F)&65535)+(A.i(F)&65535),M=(z>>>16)+(this.i(F)>>>16)+(A.i(F)>>>16);L=M>>>16,z&=65535,M&=65535,R[F]=M<<16|z}return new l(R,R[R.length-1]&-2147483648?-1:0)};function U(A,E){return A.add(C(E))}n.j=function(A){if(T(this)||T(A))return y;if(P(this))return P(A)?C(this).j(C(A)):C(C(this).j(A));if(P(A))return C(this.j(C(A)));if(this.l(_)<0&&A.l(_)<0)return f(this.m()*A.m());const E=this.g.length+A.g.length,R=[];for(var L=0;L<2*E;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let F=0;F<A.g.length;F++){const z=this.i(L)>>>16,M=this.i(L)&65535,we=A.i(F)>>>16,_e=A.i(F)&65535;R[2*L+2*F]+=M*_e,D(R,2*L+2*F),R[2*L+2*F+1]+=z*_e,D(R,2*L+2*F+1),R[2*L+2*F+1]+=M*we,D(R,2*L+2*F+1),R[2*L+2*F+2]+=z*we,D(R,2*L+2*F+2)}for(A=0;A<E;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=E;A<2*E;A++)R[A]=0;return new l(R,0)};function D(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function I(A,E){this.g=A,this.h=E}function $(A,E){if(T(E))throw Error("division by zero");if(T(A))return new I(y,y);if(P(A))return E=$(C(A),E),new I(C(E.g),C(E.h));if(P(E))return E=$(A,C(E)),new I(C(E.g),E.h);if(A.g.length>30){if(P(A)||P(E))throw Error("slowDivide_ only works with positive integers.");for(var R=w,L=E;L.l(A)<=0;)R=Q(R),L=Q(L);var F=G(R,1),z=G(L,1);for(L=G(L,2),R=G(R,2);!T(L);){var M=z.add(L);M.l(A)<=0&&(F=F.add(R),z=M),L=G(L,1),R=G(R,1)}return E=U(A,F.j(E)),new I(F,E)}for(F=y;A.l(E)>=0;){for(R=Math.max(1,Math.floor(A.m()/E.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=f(R),M=z.j(E);P(M)||M.l(A)>0;)R-=L,z=f(R),M=z.j(E);T(z)&&(z=w),F=F.add(z),A=U(A,M)}return new I(F,A)}n.B=function(A){return $(this,A).h},n.and=function(A){const E=Math.max(this.g.length,A.g.length),R=[];for(let L=0;L<E;L++)R[L]=this.i(L)&A.i(L);return new l(R,this.h&A.h)},n.or=function(A){const E=Math.max(this.g.length,A.g.length),R=[];for(let L=0;L<E;L++)R[L]=this.i(L)|A.i(L);return new l(R,this.h|A.h)},n.xor=function(A){const E=Math.max(this.g.length,A.g.length),R=[];for(let L=0;L<E;L++)R[L]=this.i(L)^A.i(L);return new l(R,this.h^A.h)};function Q(A){const E=A.g.length+1,R=[];for(let L=0;L<E;L++)R[L]=A.i(L)<<1|A.i(L-1)>>>31;return new l(R,A.h)}function G(A,E){const R=E>>5;E%=32;const L=A.g.length-R,F=[];for(let z=0;z<L;z++)F[z]=E>0?A.i(z+R)>>>E|A.i(z+R+1)<<32-E:A.i(z+R);return new l(F,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,H_=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,ki=l}).apply(typeof Xb<"u"?Xb:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q_,Ic,W_,_h,Rg,G_,K_,Q_;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var b=0;b<p.length;++b){var S=p[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(p,b){if(b)e:{var S=r;p=p.split(".");for(var j=0;j<p.length-1;j++){var W=p[j];if(!(W in S))break e;S=S[W]}p=p[p.length-1],j=S[p],b=b(j),b!=j&&b!=null&&e(S,p,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(b){var S=[],j;for(j in b)Object.prototype.hasOwnProperty.call(b,j)&&S.push([j,b[j]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function d(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function h(p,b,S){return p.call.apply(p.bind,arguments)}function f(p,b,S){return f=h,f.apply(null,arguments)}function g(p,b){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function y(p,b){function S(){}S.prototype=b.prototype,p.Z=b.prototype,p.prototype=new S,p.prototype.constructor=p,p.Ob=function(j,W,Y){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return b.prototype[W].apply(j,ue)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function _(p){const b=p.length;if(b>0){const S=Array(b);for(let j=0;j<b;j++)S[j]=p[j];return S}return[]}function T(p,b){for(let j=1;j<arguments.length;j++){const W=arguments[j];var S=typeof W;if(S=S!="object"?S:W?Array.isArray(W)?"array":S:"null",S=="array"||S=="object"&&typeof W.length=="number"){S=p.length||0;const Y=W.length||0;p.length=S+Y;for(let ue=0;ue<Y;ue++)p[S+ue]=W[ue]}else p.push(W)}}class P{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function C(p){l.setTimeout(()=>{throw p},0)}function U(){var p=A;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class D{constructor(){this.h=this.g=null}add(b,S){const j=I.get();j.set(b,S),this.h?this.h.next=j:this.g=j,this.h=j}}var I=new P(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,G=!1,A=new D,E=()=>{const p=Promise.resolve(void 0);Q=()=>{p.then(R)}};function R(){for(var p;p=U();){try{p.h.call(p.g)}catch(S){C(S)}var b=I;b.j(p),b.h<100&&(b.h++,p.next=b.g,b.g=p)}G=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};l.addEventListener("test",S,b),l.removeEventListener("test",S,b)}catch{}return p})();function M(p){return/^[\s\xa0]*$/.test(p)}function we(p,b){F.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,b)}y(we,F),we.prototype.init=function(p,b){const S=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget,b||(S=="mouseover"?b=p.fromElement:S=="mouseout"&&(b=p.toElement)),this.relatedTarget=b,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),ve=0;function Ue(p,b,S,j,W){this.listener=p,this.proxy=null,this.src=b,this.type=S,this.capture=!!j,this.ha=W,this.key=++ve,this.da=this.fa=!1}function oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ne(p,b,S){for(const j in p)b.call(S,p[j],j,p)}function se(p,b){for(const S in p)b.call(void 0,p[S],S,p)}function V(p){const b={};for(const S in p)b[S]=p[S];return b}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(p,b){let S,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(S in j)p[S]=j[S];for(let Y=0;Y<Z.length;Y++)S=Z[Y],Object.prototype.hasOwnProperty.call(j,S)&&(p[S]=j[S])}}function Te(p){this.src=p,this.g={},this.h=0}Te.prototype.add=function(p,b,S,j,W){const Y=p.toString();p=this.g[Y],p||(p=this.g[Y]=[],this.h++);const ue=Oe(p,b,j,W);return ue>-1?(b=p[ue],S||(b.fa=!1)):(b=new Ue(b,this.src,Y,!!j,W),b.fa=S,p.push(b)),b};function Le(p,b){const S=b.type;if(S in p.g){var j=p.g[S],W=Array.prototype.indexOf.call(j,b,void 0),Y;(Y=W>=0)&&Array.prototype.splice.call(j,W,1),Y&&(oe(b),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Oe(p,b,S,j){for(let W=0;W<p.length;++W){const Y=p[W];if(!Y.da&&Y.listener==b&&Y.capture==!!S&&Y.ha==j)return W}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),ee={};function pe(p,b,S,j,W){if(Array.isArray(b)){for(let Y=0;Y<b.length;Y++)pe(p,b[Y],S,j,W);return null}return S=jl(S),p&&p[_e]?p.J(b,S,d(j)?!!j.capture:!1,W):de(p,b,S,!1,j,W)}function de(p,b,S,j,W,Y){if(!b)throw Error("Invalid event type");const ue=d(W)?!!W.capture:!!W;let Ve=sa(p);if(Ve||(p[Ge]=Ve=new Te(p)),S=Ve.add(b,S,j,ue,Y),S.proxy)return S;if(j=et(),S.proxy=j,j.src=p,j.listener=S,p.addEventListener)z||(W=ue),W===void 0&&(W=!1),p.addEventListener(b.toString(),j,W);else if(p.attachEvent)p.attachEvent(ra(b.toString()),j);else if(p.addListener&&p.removeListener)p.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function et(){function p(S){return b.call(p.src,p.listener,S)}const b=Vu;return p}function Vn(p,b,S,j,W){if(Array.isArray(b))for(var Y=0;Y<b.length;Y++)Vn(p,b[Y],S,j,W);else j=d(j)?!!j.capture:!!j,S=jl(S),p&&p[_e]?(p=p.i,Y=String(b).toString(),Y in p.g&&(b=p.g[Y],S=Oe(b,S,j,W),S>-1&&(oe(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete p.g[Y],p.h--)))):p&&(p=sa(p))&&(b=p.g[b.toString()],p=-1,b&&(p=Oe(b,S,j,W)),(S=p>-1?b[p]:null)&&Os(S))}function Os(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[_e])Le(b.i,p);else{var S=p.type,j=p.proxy;b.removeEventListener?b.removeEventListener(S,j,p.capture):b.detachEvent?b.detachEvent(ra(S),j):b.addListener&&b.removeListener&&b.removeListener(j),(S=sa(b))?(Le(S,p),S.h==0&&(S.src=null,b[Ge]=null)):oe(p)}}}function ra(p){return p in ee?ee[p]:ee[p]="on"+p}function Vu(p,b){if(p.da)p=!0;else{b=new we(b,this);const S=p.listener,j=p.ha||p.src;p.fa&&Os(p),p=S.call(j,b)}return p}function sa(p){return p=p[Ge],p instanceof Te?p:null}var Wi="__closure_events_fn_"+(Math.random()*1e9>>>0);function jl(p){return typeof p=="function"?p:(p[Wi]||(p[Wi]=function(b){return p.handleEvent(b)}),p[Wi])}function At(){L.call(this),this.i=new Te(this),this.M=this,this.G=null}y(At,L),At.prototype[_e]=!0,At.prototype.removeEventListener=function(p,b,S,j){Vn(this,p,b,S,j)};function wt(p,b){var S,j=p.G;if(j)for(S=[];j;j=j.G)S.push(j);if(p=p.M,j=b.type||b,typeof b=="string")b=new F(b,p);else if(b instanceof F)b.target=b.target||p;else{var W=b;b=new F(j,p),Ae(b,W)}W=!0;let Y,ue;if(S)for(ue=S.length-1;ue>=0;ue--)Y=b.g=S[ue],W=Zn(Y,j,!0,b)&&W;if(Y=b.g=p,W=Zn(Y,j,!0,b)&&W,W=Zn(Y,j,!1,b)&&W,S)for(ue=0;ue<S.length;ue++)Y=b.g=S[ue],W=Zn(Y,j,!1,b)&&W}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var p=this.i;for(const b in p.g){const S=p.g[b];for(let j=0;j<S.length;j++)oe(S[j]);delete p.g[b],p.h--}}this.G=null},At.prototype.J=function(p,b,S,j){return this.i.add(String(p),b,!1,S,j)},At.prototype.K=function(p,b,S,j){return this.i.add(String(p),b,!0,S,j)};function Zn(p,b,S,j){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();let W=!0;for(let Y=0;Y<b.length;++Y){const ue=b[Y];if(ue&&!ue.da&&ue.capture==S){const Ve=ue.listener,St=ue.ha||ue.src;ue.fa&&Le(p.i,ue),W=Ve.call(St,j)!==!1&&W}}return W&&!j.defaultPrevented}function Pl(p,b){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:l.setTimeout(p,b||0)}function Rl(p){p.g=Pl(()=>{p.g=null,p.i&&(p.i=!1,Rl(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Fu extends L{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Rl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(p){L.call(this),this.h=p,this.g={}}y(Vs,L);var Dl=[];function ia(p){ne(p.g,function(b,S){this.g.hasOwnProperty(S)&&Os(b)},p),p.g={}}Vs.prototype.N=function(){Vs.Z.N.call(this),ia(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=l.JSON.stringify,Uu=l.JSON.parse,Gi=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function Us(){}function Bu(){}var Bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function oa(){F.call(this,"d")}y(oa,F);function Ml(){F.call(this,"c")}y(Ml,F);var er={},aa=null;function $s(){return aa=aa||new At}er.Ia="serverreachability";function la(p){F.call(this,er.Ia,p)}y(la,F);function ts(p){const b=$s();wt(b,new la(b))}er.STAT_EVENT="statevent";function ns(p,b){F.call(this,er.STAT_EVENT,p),this.stat=b}y(ns,F);function gt(p){const b=$s();wt(b,new ns(b,p))}er.Ja="timingevent";function Ll(p,b){F.call(this,er.Ja,p),this.size=b}y(Ll,F);function zs(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},b)}function Hs(){this.g=!0}Hs.prototype.ua=function(){this.g=!1};function $u(p,b,S,j,W,Y){p.info(function(){if(p.g)if(Y){var ue="",Ve=Y.split("&");for(let tt=0;tt<Ve.length;tt++){var St=Ve[tt].split("=");if(St.length>1){const Ct=St[0];St=St[1];const Nn=Ct.split("_");ue=Nn.length>=2&&Nn[1]=="type"?ue+(Ct+"="+St+"&"):ue+(Ct+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+b+`
`+S+`
`+ue})}function zu(p,b,S,j,W,Y,ue){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+b+`
`+S+`
`+Y+" "+ue})}function xr(p,b,S,j){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ki(p,S)+(j?" "+j:"")})}function Hu(p,b){p.info(function(){return"TIMEOUT: "+b})}Hs.prototype.info=function(){};function Ki(p,b){if(!p.g)return b;if(!b)return null;try{const Y=JSON.parse(b);if(Y){for(p=0;p<Y.length;p++)if(Array.isArray(Y[p])){var S=Y[p];if(!(S.length<2)){var j=S[1];if(Array.isArray(j)&&!(j.length<1)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ue=1;ue<j.length;ue++)j[ue]=""}}}}return Fs(Y)}catch{return b}}var qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ws={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qu;function rs(){}y(rs,Us),rs.prototype.g=function(){return new XMLHttpRequest},qu=new rs;function br(p){return encodeURIComponent(String(p))}function ca(p){var b=1;p=p.split(":");const S=[];for(;b>0&&p.length;)S.push(p.shift()),b--;return p.length&&S.push(p.join(":")),S}function Fn(p,b,S,j){this.j=p,this.i=b,this.l=S,this.S=j||1,this.V=new Vs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wu}function Wu(){this.i=null,this.g="",this.h=!1}var Gu={},Ol={};function tr(p,b,S){p.M=1,p.A=is(Un(b)),p.u=S,p.R=!0,Vl(p,null)}function Vl(p,b){p.F=Date.now(),Qi(p),p.B=Un(p.A);var S=p.B,j=p.S;Array.isArray(j)||(j=[String(j)]),Kl(S.i,"t",j),p.C=0,S=p.j.L,p.h=new Wu,p.g=rd(p.j,S?b:null,!p.u),p.P>0&&(p.O=new Fu(f(p.Y,p,p.g),p.P)),b=p.V,S=p.g,j=p.ba;var W="readystatechange";Array.isArray(W)||(W&&(Dl[0]=W.toString()),W=Dl);for(let Y=0;Y<W.length;Y++){const ue=pe(S,W[Y],j||b.handleEvent,!1,b.h||b);if(!ue)break;b.g[ue.key]=ue}b=p.J?V(p.J):{},p.u?(p.v||(p.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,b)):(p.v="GET",p.g.ea(p.B,p.v,null,b)),ts(),$u(p.i,p.v,p.B,p.l,p.S,p.u)}Fn.prototype.ba=function(p){p=p.target;const b=this.O;b&&Ar(p)==3?b.j():this.Y(p)},Fn.prototype.Y=function(p){try{if(p==this.g)e:{const Ve=Ar(this.g),St=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||td(this.g)))){this.K||Ve!=4||St==7||(St==8||tt<=0?ts(3):ts(2)),ua(this);var b=this.g.ca();this.X=b;var S=Ku(this);if(this.o=b==200,zu(this.i,this.v,this.B,this.l,this.S,Ve,b),this.o){if(this.U&&!this.L){t:{if(this.g){var j,W=this.g;if((j=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(j)){var Y=j;break t}}Y=null}if(p=Y)xr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,at(this,p);else{this.o=!1,this.m=3,gt(12),ss(this),Ji(this);break e}}if(this.R){p=!0;let Ct;for(;!this.K&&this.C<S.length;)if(Ct=Ju(this,S),Ct==Ol){Ve==4&&(this.m=4,gt(14),p=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Gu){this.m=4,gt(15),xr(this.i,this.l,S,"[Invalid Chunk]"),p=!1;break}else xr(this.i,this.l,Ct,null),at(this,Ct);if(Qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||S.length!=0||this.h.h||(this.m=1,gt(16),p=!1),this.o=this.o&&p,!p)xr(this.i,this.l,S,"[Invalid Chunked Response]"),ss(this),Ji(this);else if(S.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),io(ue),ue.P=!0,gt(11))}}else xr(this.i,this.l,S,null),at(this,S);Ve==4&&ss(this),this.o&&!this.K&&(Ve==4?ba(this.j,this):(this.o=!1,Qi(this)))}else Jl(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),ss(this),Ji(this)}}}catch{}finally{}};function Ku(p){if(!Qu(p))return p.g.la();const b=td(p.g);if(b==="")return"";let S="";const j=b.length,W=Ar(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return ss(p),Ji(p),"";p.h.i=new l.TextDecoder}for(let Y=0;Y<j;Y++)p.h.h=!0,S+=p.h.i.decode(b[Y],{stream:!(W&&Y==j-1)});return b.length=0,p.h.g+=S,p.C=0,p.h.g}function Qu(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Ju(p,b){var S=p.C,j=b.indexOf(`
`,S);return j==-1?Ol:(S=Number(b.substring(S,j)),isNaN(S)?Gu:(j+=1,j+S>b.length?Ol:(b=b.slice(j,j+S),p.C=j+S,b)))}Fn.prototype.cancel=function(){this.K=!0,ss(this)};function Qi(p){p.T=Date.now()+p.H,Fl(p,p.H)}function Fl(p,b){if(p.D!=null)throw Error("WatchDog timer not null");p.D=zs(f(p.aa,p),b)}function ua(p){p.D&&(l.clearTimeout(p.D),p.D=null)}Fn.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Hu(this.i,this.B),this.M!=2&&(ts(),gt(17)),ss(this),this.m=2,Ji(this)):Fl(this,this.T-p)};function Ji(p){p.j.I==0||p.K||ba(p.j,p)}function ss(p){ua(p);var b=p.O;b&&typeof b.dispose=="function"&&b.dispose(),p.O=null,ia(p.V),p.g&&(b=p.g,p.g=null,b.abort(),b.dispose())}function at(p,b){try{var S=p.j;if(S.I!=0&&(S.g==p||Bl(S.h,p))){if(!p.L&&Bl(S.h,p)&&S.I==3){try{var j=S.Ba.g.parse(b)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<p.F)xa(S),Cn(S);else break e;Nr(S),gt(18)}}else S.xa=W[1],0<S.xa-S.K&&W[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=zs(f(S.Va,S),6e3));Yi(S.h)<=1&&S.ta&&(S.ta=void 0)}else In(S,11)}else if((p.L||S.g==p)&&xa(S),!M(b))for(W=S.Ba.g.parse(b),b=0;b<W.length;b++){let tt=W[b];const Ct=tt[0];if(!(Ct<=S.K))if(S.K=Ct,tt=tt[1],S.I==2)if(tt[0]=="c"){S.M=tt[1],S.ba=tt[2];const Nn=tt[3];Nn!=null&&(S.ka=Nn,S.j.info("VER="+S.ka));const us=tt[4];us!=null&&(S.za=us,S.j.info("SVER="+S.za));const jr=tt[5];jr!=null&&typeof jr=="number"&&jr>0&&(j=1.5*jr,S.O=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const Pr=p.g;if(Pr){const _a=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var Y=j.h;Y.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ha(Y,Y.h),Y.h=null))}if(j.G){const Zl=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(j.wa=Zl,Xe(j.J,j.G,Zl))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-p.F,S.j.info("Handshake RTT: "+S.T+"ms")),j=S;var ue=p;if(j.na=Xl(j,j.L?j.ba:null,j.W),ue.L){Xi(j.h,ue);var Ve=ue,St=j.O;St&&(Ve.H=St),Ve.D&&(ua(Ve),Qi(Ve)),j.g=ue}else Xt(j);S.i.length>0&&cs(S)}else tt[0]!="stop"&&tt[0]!="close"||In(S,7);else S.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?In(S,7):ya(S):tt[0]!="noop"&&S.l&&S.l.qa(tt),S.A=0)}}ts(4)}catch{}}var uf=class{constructor(p,b){this.g=p,this.map=b}};function da(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ul(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Yi(p){return p.h?1:p.g?p.g.size:0}function Bl(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function ha(p,b){p.g?p.g.add(b):p.h=b}function Xi(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}da.prototype.cancel=function(){if(this.i=Tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Tn(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const S of p.g.values())b=b.concat(S.G);return b}return _(p.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kn(p,b){if(p){p=p.split("&");for(let S=0;S<p.length;S++){const j=p[S].indexOf("=");let W,Y=null;j>=0?(W=p[S].substring(0,j),Y=p[S].substring(j+1)):W=p[S],b(W,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function wr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;p instanceof wr?(this.l=p.l,Zi(this,p.j),this.o=p.o,this.g=p.g,Sr(this,p.u),this.h=p.h,Gs(this,Ql(p.i)),this.m=p.m):p&&(b=String(p).match(Yu))?(this.l=!1,Zi(this,b[1]||"",!0),this.o=eo(b[2]||""),this.g=eo(b[3]||"",!0),Sr(this,b[4]),this.h=eo(b[5]||"",!0),Gs(this,b[6]||"",!0),this.m=eo(b[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}wr.prototype.toString=function(){const p=[];var b=this.j;b&&p.push(to(b,zl,!0),":");var S=this.g;return(S||b=="file")&&(p.push("//"),(b=this.o)&&p.push(to(b,zl,!0),"@"),p.push(br(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&p.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(to(S,S.charAt(0)=="/"?no:Hl,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",to(S,ql)),p.join("")},wr.prototype.resolve=function(p){const b=Un(this);let S=!!p.j;S?Zi(b,p.j):S=!!p.o,S?b.o=p.o:S=!!p.g,S?b.g=p.g:S=p.u!=null;var j=p.h;if(S)Sr(b,p.u);else if(S=!!p.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var W=b.h.lastIndexOf("/");W!=-1&&(j=b.h.slice(0,W+1)+j)}if(W=j,W==".."||W==".")j="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){j=W.lastIndexOf("/",0)==0,W=W.split("/");const Y=[];for(let ue=0;ue<W.length;){const Ve=W[ue++];Ve=="."?j&&ue==W.length&&Y.push(""):Ve==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),j&&ue==W.length&&Y.push("")):(Y.push(Ve),j=!0)}j=Y.join("/")}else j=W}return S?b.h=j:S=p.i.toString()!=="",S?Gs(b,Ql(p.i)):S=!!p.m,S&&(b.m=p.m),b};function Un(p){return new wr(p)}function Zi(p,b,S){p.j=S?eo(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function Sr(p,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);p.u=b}else p.u=null}function Gs(p,b,S){b instanceof Ke?(p.i=b,fa(p.i,p.l)):(S||(b=to(b,df)),p.i=new Ke(b,p.l))}function Xe(p,b,S){p.i.set(b,S)}function is(p){return Xe(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function eo(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function to(p,b,S){return typeof p=="string"?(p=encodeURI(p).replace(b,$l),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function $l(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var zl=/[#\/\?@]/g,Hl=/[#\?:]/g,no=/[#\?]/g,df=/[#\?@]/g,ql=/#/g;function Ke(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function _r(p){p.g||(p.g=new Map,p.h=0,p.i&&kn(p.i,function(b,S){p.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=Ke.prototype,n.add=function(p,b){_r(this),this.i=null,p=Er(this,p);let S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(b),this.h+=1,this};function Wl(p,b){_r(p),b=Er(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function pa(p,b){return _r(p),b=Er(p,b),p.g.has(b)}n.forEach=function(p,b){_r(this),this.g.forEach(function(S,j){S.forEach(function(W){p.call(b,W,j,this)},this)},this)};function Gl(p,b){_r(p);let S=[];if(typeof b=="string")pa(p,b)&&(S=S.concat(p.g.get(Er(p,b))));else for(p=Array.from(p.g.values()),b=0;b<p.length;b++)S=S.concat(p[b]);return S}n.set=function(p,b){return _r(this),this.i=null,p=Er(this,p),pa(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=Gl(this,p),p.length>0?String(p[0]):b):b};function Kl(p,b,S){Wl(p,b),S.length>0&&(p.i=null,p.g.set(Er(p,b),_(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(let j=0;j<b.length;j++){var S=b[j];const W=br(S);S=Gl(this,S);for(let Y=0;Y<S.length;Y++){let ue=W;S[Y]!==""&&(ue+="="+br(S[Y])),p.push(ue)}}return this.i=p.join("&")};function Ql(p){const b=new Ke;return b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),b}function Er(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function fa(p,b){b&&!p.j&&(_r(p),p.i=null,p.g.forEach(function(S,j){const W=j.toLowerCase();j!=W&&(Wl(this,j),Kl(this,W,S))},p)),p.j=b}function Tr(p,b){const S=new Hs;if(l.Image){const j=new Image;j.onload=g(Gt,S,"TestLoadImage: loaded",!0,b,j),j.onerror=g(Gt,S,"TestLoadImage: error",!1,b,j),j.onabort=g(Gt,S,"TestLoadImage: abort",!1,b,j),j.ontimeout=g(Gt,S,"TestLoadImage: timeout",!1,b,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else b(!1)}function kr(p,b){const S=new Hs,j=new AbortController,W=setTimeout(()=>{j.abort(),Gt(S,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:j.signal}).then(Y=>{clearTimeout(W),Y.ok?Gt(S,"TestPingServer: ok",!0,b):Gt(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),Gt(S,"TestPingServer: error",!1,b)})}function Gt(p,b,S,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(S)}catch{}}function ro(){this.g=new Gi}function os(p){this.i=p.Sb||null,this.h=p.ab||!1}y(os,Us),os.prototype.g=function(){return new An(this.i,this.h)};function An(p,b){At.call(this),this.H=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(An,At),n=An.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=b,this.readyState=1,nr(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(b.body=p),(this.H||l).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xu(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xu(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Ks(this):nr(this),this.readyState==3&&Xu(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Ks(this))},n.Na=function(p){this.g&&(this.response=p,Ks(this))},n.ga=function(){this.g&&Ks(this)};function Ks(p){p.readyState=4,p.l=null,p.j=null,p.B=null,nr(p)}n.setRequestHeader=function(p,b){this.A.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=b.next();return p.join(`\r
`)};function nr(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(An.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Zu(p){let b="";return ne(p,function(S,j){b+=j,b+=":",b+=S,b+=`\r
`}),b}function ma(p,b,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Zu(S),typeof p=="string"?S!=null&&br(S):Xe(p,b,S))}function nt(p){At.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(nt,At);var ed=/^https?$/i,hf=["POST","PUT"];n=nt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,b,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qu.g(),this.g.onreadystatechange=w(f(this.Ca,this));try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(Y){Qs(this,Y);return}if(p=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)S.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const Y of j.keys())S.set(Y,j.get(Y));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(hf,b,void 0)>=0)||j||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of S)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Y){Qs(this,Y)}};function Qs(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.o=5,Js(p),ls(p)}function Js(p){p.A||(p.A=!0,wt(p,"complete"),wt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,wt(this,"complete"),wt(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?as(this):this.Xa())},n.Xa=function(){as(this)};function as(p){if(p.h&&typeof a<"u"){if(p.v&&Ar(p)==4)setTimeout(p.Ca.bind(p),0);else if(wt(p,"readystatechange"),Ar(p)==4){p.h=!1;try{const Y=p.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var j;if(j=Y===0){let ue=String(p.D).match(Yu)[1]||null;!ue&&l.self&&l.self.location&&(ue=l.self.location.protocol.slice(0,-1)),j=!ed.test(ue?ue.toLowerCase():"")}S=j}if(S)wt(p,"complete"),wt(p,"success");else{p.o=6;try{var W=Ar(p)>2?p.g.statusText:""}catch{W=""}p.l=W+" ["+p.ca()+"]",Js(p)}}finally{ls(p)}}}}function ls(p,b){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const S=p.g;p.g=null,b||wt(p,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ar(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Ar(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),Uu(b)}};function td(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Jl(p){const b={};p=(p.g&&Ar(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<p.length;j++){if(M(p[j]))continue;var S=ca(p[j]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Y=b[W]||[];b[W]=Y,Y.push(S)}se(b,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(p,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||b}function ga(p){this.za=0,this.i=[],this.j=new Hs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Cr("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Cr("baseRetryDelayMs",5e3,p),this.Za=Cr("retryDelaySeedMs",1e4,p),this.Ta=Cr("forwardChannelMaxRetries",2,p),this.va=Cr("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new da(p&&p.concurrentRequestLimit),this.Ba=new ro,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ga.prototype,n.ka=8,n.I=1,n.connect=function(p,b,S,j){gt(0),this.W=p,this.H=b||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.J=Xl(this,null,this.W),cs(this)};function ya(p){if(va(p),p.I==3){var b=p.V++,S=Un(p.J);if(Xe(S,"SID",p.M),Xe(S,"RID",b),Xe(S,"TYPE","terminate"),Ir(p,S),b=new Fn(p,p.j,b),b.M=2,b.A=is(Un(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&l.Image&&(new Image().src=b.A,S=!0),S||(b.g=rd(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Qi(b)}oo(p)}function Cn(p){p.g&&(io(p),p.g.cancel(),p.g=null)}function va(p){Cn(p),p.v&&(l.clearTimeout(p.v),p.v=null),xa(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function cs(p){if(!Ul(p.h)&&!p.m){p.m=!0;var b=p.Ea;Q||E(),G||(Q(),G=!0),A.add(b,p),p.D=0}}function nd(p,b){return Yi(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=b.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=zs(f(p.Ea,p,b),wa(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const W=new Fn(this,this.j,p);let Y=this.o;if(this.U&&(Y?(Y=V(Y),Ae(Y,this.U)):Y=this.U),this.u!==null||this.R||(W.J=Y,Y=null),this.S)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(b+=j,b>4096){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=Yl(this,W,b),S=Un(this.J),Xe(S,"RID",p),Xe(S,"CVER",22),this.G&&Xe(S,"X-HTTP-Session-Id",this.G),Ir(this,S),Y&&(this.R?b="headers="+br(Zu(Y))+"&"+b:this.u&&ma(S,this.u,Y)),ha(this.h,W),this.Ra&&Xe(S,"TYPE","init"),this.S?(Xe(S,"$req",b),Xe(S,"SID","null"),W.U=!0,tr(W,S,null)):tr(W,S,b),this.I=2}}else this.I==3&&(p?so(this,p):this.i.length==0||Ul(this.h)||so(this))};function so(p,b){var S;b?S=b.l:S=p.V++;const j=Un(p.J);Xe(j,"SID",p.M),Xe(j,"RID",S),Xe(j,"AID",p.K),Ir(p,j),p.u&&p.o&&ma(j,p.u,p.o),S=new Fn(p,p.j,S,p.D+1),p.u===null&&(S.J=p.o),b&&(p.i=b.G.concat(p.i)),b=Yl(p,S,1e3),S.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ha(p.h,S),tr(S,j,b)}function Ir(p,b){p.H&&ne(p.H,function(S,j){Xe(b,j,S)}),p.l&&ne({},function(S,j){Xe(b,j,S)})}function Yl(p,b,S){S=Math.min(p.i.length,S);const j=p.l?f(p.l.Ka,p.l,p):null;e:{var W=p.i;let Ve=-1;for(;;){const St=["count="+S];Ve==-1?S>0?(Ve=W[0].g,St.push("ofs="+Ve)):Ve=0:St.push("ofs="+Ve);let tt=!0;for(let Ct=0;Ct<S;Ct++){var Y=W[Ct].g;const Nn=W[Ct].map;if(Y-=Ve,Y<0)Ve=Math.max(0,W[Ct].g-100),tt=!1;else try{Y="req"+Y+"_"||"";try{var ue=Nn instanceof Map?Nn:Object.entries(Nn);for(const[us,jr]of ue){let Pr=jr;d(jr)&&(Pr=Fs(jr)),St.push(Y+us+"="+encodeURIComponent(Pr))}}catch(us){throw St.push(Y+"type="+encodeURIComponent("_badmap")),us}}catch{j&&j(Nn)}}if(tt){ue=St.join("&");break e}}ue=void 0}return p=p.i.splice(0,S),b.G=p,ue}function Xt(p){if(!p.g&&!p.v){p.Y=1;var b=p.Da;Q||E(),G||(Q(),G=!0),A.add(b,p),p.A=0}}function Nr(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=zs(f(p.Da,p),wa(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Ys(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=zs(f(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Cn(this),Ys(this))};function io(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function Ys(p){p.g=new Fn(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var b=Un(p.na);Xe(b,"RID","rpc"),Xe(b,"SID",p.M),Xe(b,"AID",p.K),Xe(b,"CI",p.F?"0":"1"),!p.F&&p.ia&&Xe(b,"TO",p.ia),Xe(b,"TYPE","xmlhttp"),Ir(p,b),p.u&&p.o&&ma(b,p.u,p.o),p.O&&(p.g.H=p.O);var S=p.g;p=p.ba,S.M=1,S.A=is(Un(b)),S.u=null,S.R=!0,Vl(S,p)}n.Va=function(){this.C!=null&&(this.C=null,Cn(this),Nr(this),gt(19))};function xa(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function ba(p,b){var S=null;if(p.g==b){xa(p),io(p),p.g=null;var j=2}else if(Bl(p.h,b))S=b.G,Xi(p.h,b),j=1;else return;if(p.I!=0){if(b.o)if(j==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var W=p.D;j=$s(),wt(j,new Ll(j,S)),cs(p)}else Xt(p);else if(W=b.m,W==3||W==0&&b.X>0||!(j==1&&nd(p,b)||j==2&&Nr(p)))switch(S&&S.length>0&&(b=p.h,b.i=b.i.concat(S)),W){case 1:In(p,5);break;case 4:In(p,10);break;case 3:In(p,6);break;default:In(p,2)}}}function wa(p,b){let S=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(S*=2),S*b}function In(p,b){if(p.j.info("Error code "+b),b==2){var S=f(p.bb,p),j=p.Ua;const W=!j;j=new wr(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Zi(j,"https"),is(j),W?Tr(j.toString(),S):kr(j.toString(),S)}else gt(2);p.I=0,p.l&&p.l.pa(b),oo(p),va(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function oo(p){if(p.I=0,p.ja=[],p.l){const b=Tn(p.h);(b.length!=0||p.i.length!=0)&&(T(p.ja,b),T(p.ja,p.i),p.h.i.length=0,_(p.i),p.i.length=0),p.l.oa()}}function Xl(p,b,S){var j=S instanceof wr?Un(S):new wr(S);if(j.g!="")b&&(j.g=b+"."+j.g),Sr(j,j.u);else{var W=l.location;j=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;const Y=new wr(null);j&&Zi(Y,j),b&&(Y.g=b),W&&Sr(Y,W),S&&(Y.h=S),j=Y}return S=p.G,b=p.wa,S&&b&&Xe(j,S,b),Xe(j,"VER",p.ka),Ir(p,j),j}function rd(p,b,S){if(b&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Aa&&!p.ma?new nt(new os({ab:S})):new nt(p.ma),b.Fa(p.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sd(){}n=sd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Sa(){}Sa.prototype.g=function(p,b){return new Kt(p,b)};function Kt(p,b){At.call(this),this.g=new ga(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(p?p["X-WebChannel-Client-Profile"]=b.sa:p={"X-WebChannel-Client-Profile":b.sa}),this.g.U=p,(p=b&&b.Qb)&&!M(p)&&(this.g.u=p),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!M(b)&&(this.g.G=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Xs(this)}y(Kt,At),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){ya(this.g)},Kt.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.v&&(S={},S.__data__=Fs(p),p=S);b.i.push(new uf(b.Ya++,p)),b.I==3&&cs(b)},Kt.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,Kt.Z.N.call(this)};function id(p){oa.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const S in b){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}y(id,oa);function od(){Ml.call(this),this.status=1}y(od,Ml);function Xs(p){this.g=p}y(Xs,sd),Xs.prototype.ra=function(){wt(this.g,"a")},Xs.prototype.qa=function(p){wt(this.g,new id(p))},Xs.prototype.pa=function(p){wt(this.g,new od)},Xs.prototype.oa=function(){wt(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Q_=function(){return new Sa},K_=function(){return $s()},G_=er,Rg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,_h=qs,Ws.COMPLETE="complete",W_=Ws,Bu.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",At.prototype.listen=At.prototype.J,Ic=Bu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,q_=nt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const Zb="@firebase/firestore",ew="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let on=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new Iy("@firebase/firestore");function Ka(){return Uo.logLevel}function ye(n,...e){if(Uo.logLevel<=He.DEBUG){const t=e.map($y);Uo.debug(`Firestore (${Sl}): ${n}`,...t)}}function Ps(n,...e){if(Uo.logLevel<=He.ERROR){const t=e.map($y);Uo.error(`Firestore (${Sl}): ${n}`,...t)}}function Bo(n,...e){if(Uo.logLevel<=He.WARN){const t=e.map($y);Uo.warn(`Firestore (${Sl}): ${n}`,...t)}}function $y(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,J_(n,r,t)}function J_(n,e,t){let r=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ps(r),new Error(r)}function Ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||J_(e,s,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class QR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class JR{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const s=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ts,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await s(this.currentUser)}))},d=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ts)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new Y_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class YR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new YR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new tw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=e4(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Wm(s)===Wm(a)?qe(s,a):Wm(s)?1:-1}return qe(n.length,e.length)}const t4=55296,n4=57343;function Wm(n){const e=n.charCodeAt(0);return e>=t4&&e<=n4}function dl(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="__name__";class Vr{constructor(e,t,r){t===void 0?t=0:t>e.length&&je(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&je(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Vr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return qe(e.length,t.length)}static compareSegments(e,t){const r=Vr.isNumericId(e),s=Vr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vr.extractNumericId(e).compare(Vr.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}}class st extends Vr{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const r4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Vr{construct(e,t,r){return new Ht(e,t,r)}static isValidIdentifier(e){return r4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nw}static keyField(){return new Ht([nw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new fe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new fe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new fe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(st.fromString(e))}static fromName(e){return new ke(st.fromString(e).popFirst(5))}static empty(){return new ke(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n,e,t){if(!t)throw new fe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eE(n,e,t,r){if(e===!0&&r===!0)throw new fe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rw(n){if(!ke.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sw(n){if(ke.isDocumentKey(n))throw new fe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je(12329,{type:typeof n})}function Rs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kp(n);throw new fe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function s4(n,e){if(e<=0)throw new fe(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){const t={typeString:n};return e&&(t.value=e),t}function wu(n,e){if(!tE(n))throw new fe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new fe(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=-62135596800,ow=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ow);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iw)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ow}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Rt("string",it._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new it(0,0))}static max(){return new Me(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function i4(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Me.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new Di(s,ke.empty(),e)}function o4(n){return new Di(n.readTime,n.key,eu)}class Di{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Di(Me.min(),ke.empty(),eu)}static max(){return new Di(Me.max(),ke.empty(),eu)}}function a4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==l4)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&t()}),(h=>r(h)))})),l=!0,a===s&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((s=>s?re.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next((g=>{l[f]=g,++d,d===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new re(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function u4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function El(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ap.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function Cp(n){return n==null}function qh(n){return n===0&&1/n==-1/0}function d4(n){return typeof n=="number"&&Number.isInteger(n)&&!qh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="";function h4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aw(e)),e=p4(n.get(t),e);return aw(e)}function p4(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case nE:t+="";break;default:t+=a}}return t}function aw(n){return n+nE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Yo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function rE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Yt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cw(this.data.getIterator())}getIteratorFrom(e){return new cw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class cw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new dr([])}unionWith(e){let t=new Vt(Ht.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new sE("Invalid base64 string: "+a):a}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const f4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=f4.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Li(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="server_timestamp",oE="__type__",aE="__previous_value__",lE="__local_write_time__";function Hy(n){return(n?.mapValue?.fields||{})[oE]?.stringValue===iE}function Ip(n){const e=n.mapValue.fields[aE];return Hy(e)?Ip(e):e}function tu(n){const e=Mi(n.mapValue.fields[lE].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,s,a,l,d,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const Wh="(default)";class hl{constructor(e,t){this.projectId=e,this.database=t||Wh}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__type__",g4="__max__",sh={mapValue:{}},uE="__vector__",Gh="value";function Oi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hy(n)?4:v4(n)?9007199254740991:y4(n)?10:11:je(28295,{value:n})}function Yr(n,e){if(n===e)return!0;const t=Oi(n);if(t!==Oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tu(n).isEqual(tu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Mi(s.timestampValue),d=Mi(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return Li(s.bytesValue).isEqual(Li(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Et(s.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Et(s.integerValue)===Et(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Et(s.doubleValue),d=Et(a.doubleValue);return l===d?qh(l)===qh(d):isNaN(l)&&isNaN(d)}return!1})(n,e);case 9:return dl(n.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(lw(l)!==lw(d))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(d[h]===void 0||!Yr(l[h],d[h])))return!1;return!0})(n,e);default:return je(52216,{left:n})}}function nu(n,e){return(n.values||[]).find((t=>Yr(t,e)))!==void 0}function pl(n,e){if(n===e)return 0;const t=Oi(n),r=Oi(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=Et(a.integerValue||a.doubleValue),h=Et(l.integerValue||l.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(n,e);case 3:return uw(n.timestampValue,e.timestampValue);case 4:return uw(tu(n),tu(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return(function(a,l){const d=Li(a),h=Li(l);return d.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),h=l.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=qe(d[f],h[f]);if(g!==0)return g}return qe(d.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=qe(Et(a.latitude),Et(l.latitude));return d!==0?d:qe(Et(a.longitude),Et(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return dw(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},h=l.fields||{},f=d[Gh]?.arrayValue,g=h[Gh]?.arrayValue,y=qe(f?.values?.length||0,g?.values?.length||0);return y!==0?y:dw(f,g)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===sh.mapValue&&l===sh.mapValue)return 0;if(a===sh.mapValue)return 1;if(l===sh.mapValue)return-1;const d=a.fields||{},h=Object.keys(d),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const w=Dg(h[y],g[y]);if(w!==0)return w;const _=pl(d[h[y]],f[g[y]]);if(_!==0)return _}return qe(h.length,g.length)})(n.mapValue,e.mapValue);default:throw je(23264,{he:t})}}function uw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Mi(n),r=Mi(e),s=qe(t.seconds,r.seconds);return s!==0?s:qe(t.nanos,r.nanos)}function dw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=pl(t[s],r[s]);if(a)return a}return qe(t.length,r.length)}function fl(n){return Mg(n)}function Mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Mi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Li(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ke.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Mg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Mg(t.fields[l])}`;return s+"}"})(n.mapValue):je(61005,{value:n})}function Eh(n){switch(Oi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ip(n);return e?16+Eh(e):16;case 5:return 2*n.stringValue.length;case 6:return Li(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Eh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Yo(r.fields,((a,l)=>{s+=a.length+Eh(l)})),s})(n.mapValue);default:throw je(13486,{value:n})}}function hw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Lg(n){return!!n&&"integerValue"in n}function qy(n){return!!n&&"arrayValue"in n}function pw(n){return!!n&&"nullValue"in n}function fw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Th(n){return!!n&&"mapValue"in n}function y4(n){return(n?.mapValue?.fields||{})[cE]?.stringValue===uE}function Lc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Yo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Lc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Lc(n.arrayValue.values[t]);return e}return{...n}}function v4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(t)}setAll(e){let t=Ht.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!t.isImmediateParentOf(d)){const h=this.getFieldsMap(t);this.applyChanges(h,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=Lc(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Yo(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Yn(Lc(this.value))}}function dE(n){const e=[];return Yo(n.fields,((t,r)=>{const s=new Ht([t]);if(Th(r)){const a=dE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Me.min(),Me.min(),Me.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,s){return new an(e,1,t,Me.min(),r,s,0)}static newNoDocument(e,t){return new an(e,2,t,Me.min(),Me.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Me.min(),Me.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t){this.position=e,this.inclusive=t}}function mw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(l.referenceValue),t.key):r=pl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function gw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function x4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE=class{};class Pt extends hE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w4(e,t,r):t==="array-contains"?new E4(e,r):t==="in"?new T4(e,r):t==="not-in"?new k4(e,r):t==="array-contains-any"?new A4(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new S4(e,r):new _4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pl(t,this.value)):t!==null&&Oi(this.value)===Oi(t)&&this.matchesComparison(pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends hE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new mr(e,t)}matches(e){return pE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(n){return n.op==="and"}function fE(n){return b4(n)&&pE(n)}function b4(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function Og(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+fl(n.value);if(fE(n))return n.filters.map((e=>Og(e))).join(",");{const e=n.filters.map((t=>Og(t))).join(",");return`${n.op}(${e})`}}function mE(n,e){return n instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Yr(r.value,s.value)})(n,e):n instanceof mr?(function(r,s){return s instanceof mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&mE(l,s.filters[d])),!0):!1})(n,e):void je(19439)}function gE(n){return n instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${fl(t.value)}`})(n):n instanceof mr?(function(t){return t.op.toString()+" {"+t.getFilters().map(gE).join(" ,")+"}"})(n):"Filter"}class w4 extends Pt{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class S4 extends Pt{constructor(e,t){super(e,"in",t),this.keys=yE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _4 extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=yE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yE(n,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class E4 extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qy(t)&&nu(t.arrayValue,this.value)}}class T4 extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nu(this.value.arrayValue,t)}}class k4 extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nu(this.value.arrayValue,t)}}class A4 extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>nu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function yw(n,e=null,t=[],r=[],s=null,a=null,l=null){return new C4(n,e,t,r,s,a,l)}function Wy(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Og(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>fl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>fl(r))).join(",")),e.Te=t}return e.Te}function Gy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gw(n.startAt,e.startAt)&&gw(n.endAt,e.endAt)}function Vg(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I4(n,e,t,r,s,a,l,d){return new Tl(n,e,t,r,s,a,l,d)}function Ky(n){return new Tl(n)}function vw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vE(n){return n.collectionGroup!==null}function Oc(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Vt(Ht.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ru(a,r))})),t.has(Ht.keyField().canonicalString())||e.Ie.push(new ru(Ht.keyField(),r))}return e.Ie}function Wr(n){const e=Fe(n);return e.Ee||(e.Ee=N4(e,Oc(n))),e.Ee}function N4(n,e){if(n.limitType==="F")return yw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new ru(s.field,a)}));const t=n.endAt?new Kh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kh(n.startAt.position,n.startAt.inclusive):null;return yw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Fg(n,e){const t=n.filters.concat([e]);return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qh(n,e,t){return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Np(n,e){return Gy(Wr(n),Wr(e))&&n.limitType===e.limitType}function xE(n){return`${Wy(Wr(n))}|lt:${n.limitType}`}function Qa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>gE(s))).join(", ")}]`),Cp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>fl(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>fl(s))).join(",")),`Target(${r})`})(Wr(n))}; limitType=${n.limitType})`}function jp(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Oc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,h){const f=mw(l,d,h);return l.inclusive?f<=0:f<0})(r.startAt,Oc(r),s)||r.endAt&&!(function(l,d,h){const f=mw(l,d,h);return l.inclusive?f>=0:f>0})(r.endAt,Oc(r),s))})(n,e)}function j4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bE(n){return(e,t)=>{let r=!1;for(const s of Oc(n)){const a=P4(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function P4(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):(function(a,l,d){const h=l.data.field(a),f=d.data.field(a);return h!==null&&f!==null?pl(h,f):je(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new mt(ke.comparator);function Ds(){return R4}const wE=new mt(ke.comparator);function Nc(...n){let e=wE;for(const t of n)e=e.insert(t.key,t);return e}function SE(n){let e=wE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Ao(){return Vc()}function _E(){return Vc()}function Vc(){return new Xo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const D4=new mt(ke.comparator),M4=new Vt(ke.comparator);function We(...n){let e=M4;for(const t of n)e=e.add(t);return e}const L4=new Vt(qe);function O4(){return L4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function EE(n){return{integerValue:""+n}}function V4(n,e){return d4(e)?EE(e):Qy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this._=void 0}}function F4(n,e,t){return n instanceof Jh?(function(s,a){const l={fields:{[oE]:{stringValue:iE},[lE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Hy(a)&&(a=Ip(a)),a&&(l.fields[aE]=a),{mapValue:l}})(t,e):n instanceof su?kE(n,e):n instanceof iu?AE(n,e):(function(s,a){const l=TE(s,a),d=xw(l)+xw(s.Ae);return Lg(l)&&Lg(s.Ae)?EE(d):Qy(s.serializer,d)})(n,e)}function U4(n,e,t){return n instanceof su?kE(n,e):n instanceof iu?AE(n,e):t}function TE(n,e){return n instanceof Yh?(function(r){return Lg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Jh extends Pp{}class su extends Pp{constructor(e){super(),this.elements=e}}function kE(n,e){const t=CE(e);for(const r of n.elements)t.some((s=>Yr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class iu extends Pp{constructor(e){super(),this.elements=e}}function AE(n,e){let t=CE(e);for(const r of n.elements)t=t.filter((s=>!Yr(s,r)));return{arrayValue:{values:t}}}class Yh extends Pp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function xw(n){return Et(n.integerValue||n.doubleValue)}function CE(n){return qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function B4(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof su&&s instanceof su||r instanceof iu&&s instanceof iu?dl(r.elements,s.elements,Yr):r instanceof Yh&&s instanceof Yh?Yr(r.Ae,s.Ae):r instanceof Jh&&s instanceof Jh})(n.transform,e.transform)}class $4{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rp{}function IE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,Gr.none()):new Su(n.key,n.data,Gr.none());{const t=n.data,r=Yn.empty();let s=new Vt(Ht.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Zo(n.key,r,new dr(s.toArray()),Gr.none())}}function z4(n,e,t){n instanceof Su?(function(s,a,l){const d=s.value.clone(),h=ww(s.fieldTransforms,a,l.transformResults);d.setAll(h),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Zo?(function(s,a,l){if(!kh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=ww(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(NE(s)),h.setAll(d),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Fc(n,e,t,r){return n instanceof Su?(function(a,l,d,h){if(!kh(a.precondition,l))return d;const f=a.value.clone(),g=Sw(a.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Zo?(function(a,l,d,h){if(!kh(a.precondition,l))return d;const f=Sw(a.fieldTransforms,h,l),g=l.data;return g.setAll(NE(a)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,l,d){return kh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(n,e,t)}function H4(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=TE(r.transform,s||null);a!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,a))}return t||null}function bw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&dl(r,s,((a,l)=>B4(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Su extends Rp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zo extends Rp{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function NE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function ww(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,U4(l,d,t[s]))}return r}function Sw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,F4(a,l,e))}return r}class Jy extends Rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q4 extends Rp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&z4(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Fc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Fc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_E();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const h=IE(l,d);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),We())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,((t,r)=>bw(t,r)))&&dl(this.baseMutations,e.baseMutations,((t,r)=>bw(t,r)))}}class Yy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return D4})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Yy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Qe;function Q4(n){switch(n){case te.OK:return je(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return je(15467,{code:n})}}function jE(n){if(n===void 0)return Ps("GRPC error has no .code"),te.UNKNOWN;switch(n){case Nt.OK:return te.OK;case Nt.CANCELLED:return te.CANCELLED;case Nt.UNKNOWN:return te.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return te.INTERNAL;case Nt.UNAVAILABLE:return te.UNAVAILABLE;case Nt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Nt.NOT_FOUND:return te.NOT_FOUND;case Nt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Nt.ABORTED:return te.ABORTED;case Nt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Nt.DATA_LOSS:return te.DATA_LOSS;default:return je(39323,{code:n})}}(Qe=Nt||(Nt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new ki([4294967295,4294967295],0);function _w(n){const e=J4().encode(n),t=new H_;return t.update(e),new Uint8Array(t.digest())}function Ew(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ki([t,r],0),new ki([s,a],0)]}class Xy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jc(`Invalid padding: ${t}`);if(r<0)throw new jc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ki.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ki.fromNumber(r)));return s.compare(Y4)===1&&(s=new ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=_w(e),[r,s]=Ew(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Xy(a,s,t);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const t=_w(e),[r,s]=Ew(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dp(Me.min(),s,new mt(qe),Ds(),We())}}class _u{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new _u(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class PE{constructor(e,t){this.targetId=e,this.Ce=t}}class RE{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Tw{constructor(){this.ve=0,this.Fe=kw(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),t=We(),r=We();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:je(38017,{changeType:a})}})),new _u(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=kw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class X4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=ih(),this.He=ih(),this.Ye=new mt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:je(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(Vg(a))if(r===0){const l=new ke(a.path);this.et(t,l,an.newNoDocument(l,Me.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const d=this.ut(e),h=d?this.ct(d,e,l):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=Li(r).toUint8Array()}catch(h){if(h instanceof sE)return Bo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Xy(l,s,a)}catch(h){return Bo(h instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&Vg(d.target)){const h=new ke(d.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,an.newNoDocument(h,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=We();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Dp(e,t,this.Ye,this.je,r);return this.je=Ds(),this.Je=ih(),this.He=ih(),this.Ye=new mt(qe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Tw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ih(){return new mt(ke.comparator)}function kw(){return new mt(ke.comparator)}const Z4={asc:"ASCENDING",desc:"DESCENDING"},eD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tD={and:"AND",or:"OR"};class nD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ug(n,e){return n.useProto3Json||Cp(e)?e:{value:e}}function Xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rD(n,e){return Xh(n,e.toTimestamp())}function Kr(n){return Ze(!!n,49232),Me.fromTimestamp((function(t){const r=Mi(t);return new it(r.seconds,r.nanos)})(n))}function Zy(n,e){return Bg(n,e).canonicalString()}function Bg(n,e){const t=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function ME(n){const e=st.fromString(n);return Ze(UE(e),10190,{key:e.toString()}),e}function $g(n,e){return Zy(n.databaseId,e.path)}function Gm(n,e){const t=ME(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(OE(t))}function LE(n,e){return Zy(n.databaseId,e)}function sD(n){const e=ME(n);return e.length===4?st.emptyPath():OE(e)}function zg(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OE(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Aw(n,e,t){return{name:$g(n,e),fields:t.value.mapValue.fields}}function iD(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:je(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,g){return f.useProto3Json?(Ze(g===void 0||typeof g=="string",58123),Wt.fromBase64String(g||"")):(Ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(f){const g=f.code===void 0?te.UNKNOWN:jE(f.code);return new fe(g,f.message||"")})(l);t=new RE(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gm(n,r.document.name),a=Kr(r.document.updateTime),l=r.document.createTime?Kr(r.document.createTime):Me.min(),d=new Yn({mapValue:{fields:r.document.fields}}),h=an.newFoundDocument(s,a,l,d),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Ah(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Gm(n,r.document),a=r.readTime?Kr(r.readTime):Me.min(),l=an.newNoDocument(s,a),d=r.removedTargetIds||[];t=new Ah([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Gm(n,r.document),a=r.removedTargetIds||[];t=new Ah([],a,s,null)}else{if(!("filter"in e))return je(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new K4(s,a),d=r.targetId;t=new PE(d,l)}}return t}function oD(n,e){let t;if(e instanceof Su)t={update:Aw(n,e.key,e.value)};else if(e instanceof Jy)t={delete:$g(n,e.key)};else if(e instanceof Zo)t={update:Aw(n,e.key,e.data),updateMask:mD(e.fieldMask)};else{if(!(e instanceof q4))return je(16599,{Vt:e.type});t={verify:$g(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Jh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yh)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw je(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:rD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je(27497)})(n,e.precondition)),t}function aD(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?Kr(s.updateTime):Kr(a);return l.isEqual(Me.min())&&(l=Kr(a)),new $4(l,s.transformResults||[])})(t,e)))):[]}function lD(n,e){return{documents:[LE(n,e.path)]}}function cD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=LE(n,s);const a=(function(f){if(f.length!==0)return FE(mr.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((g=>(function(w){return{field:Ja(w.field),direction:hD(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=Ug(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function uD(n){let e=sD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(y){const w=VE(y);return w instanceof mr&&fE(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((w=>(function(T){return new ru(Ya(T.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(y){let w;return w=typeof y=="object"?y.value:y,Cp(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(y){const w=!!y.before,_=y.values||[];return new Kh(_,w)})(t.startAt));let f=null;return t.endAt&&(f=(function(y){const w=!y.before,_=y.values||[];return new Kh(_,w)})(t.endAt)),I4(e,s,l,a,d,"F",h,f)}function dD(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function VE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ya(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ya(t.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ya(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ya(t.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pt.create(Ya(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mr.create(t.compositeFilter.filters.map((r=>VE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je(1026)}})(t.compositeFilter.op))})(n):je(30097,{filter:n})}function hD(n){return Z4[n]}function pD(n){return eD[n]}function fD(n){return tD[n]}function Ja(n){return{fieldPath:n.canonicalString()}}function Ya(n){return Ht.fromServerFormat(n.fieldPath)}function FE(n){return n instanceof Pt?(function(t){if(t.op==="=="){if(fw(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NAN"}};if(pw(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fw(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NOT_NAN"}};if(pw(t.value))return{unaryFilter:{field:Ja(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(t.field),op:pD(t.op),value:t.value}}})(n):n instanceof mr?(function(t){const r=t.getFilters().map((s=>FE(s)));return r.length===1?r[0]:{compositeFilter:{op:fD(t.op),filters:r}}})(n):je(54877,{filter:n})}function mD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function UE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,r,s,a=Me.min(),l=Me.min(),d=Wt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.yt=e}}function yD(n){const e=uD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Cn=new xD}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Di.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Di.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class xD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Vt(st.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(BE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LruGarbageCollector",bD=1048576;function Nw([n,e],[t,r]){const s=qe(n,t);return s===0?qe(e,r):s}class wD{constructor(e){this.Ir=e,this.buffer=new Vt(Nw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Nw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Iw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){El(t)?ye(Iw,"Ignoring IndexedDB error during garbage collection: ",t):await _l(t)}await this.Vr(3e5)}))}}class _D{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(Ap.ce);const r=new wD(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(Cw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,d,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,d=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Ka()<=He.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(h-d)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function ED(n,e){return new _D(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.changes=new Xo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Fc(r.mutation,s,dr.empty(),it.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=We()){const s=Ao();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=Nc();return a.forEach(((d,h)=>{l=l.insert(d,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Ao();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,We())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{t.set(l,d)}))}))}computeViews(e,t,r,s){let a=Ds();const l=Vc(),d=(function(){return Vc()})();return t.forEach(((h,f)=>{const g=r.get(f.key);s.has(f.key)&&(g===void 0||g.mutation instanceof Zo)?a=a.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),Fc(g.mutation,f,g.mutation.getFieldMask(),it.now())):l.set(f.key,dr.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((f,g)=>l.set(f,g))),t.forEach(((f,g)=>d.set(f,new kD(g,l.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Vc();let s=new mt(((l,d)=>l-d)),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const d of l)d.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=r.get(h)||dr.empty();g=d.applyToLocalView(f,g),r.set(h,g);const y=(s.get(d.batchId)||We()).add(h);s=s.insert(d.batchId,y)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,y=_E();g.forEach((w=>{if(!a.has(w)){const _=IE(t.get(w),r.get(w));_!==null&&y.set(w,_),a=a.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):re.resolve(Ao());let d=eu,h=a;return l.next((f=>re.forEach(f,((g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,h,f,We()))).next((g=>({batchId:d,changes:SE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((r=>{let s=Nc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Nc();return this.indexManager.getCollectionParents(e,a).next((d=>re.forEach(d,(h=>{const f=(function(y,w){return new Tl(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((g=>{g.forEach(((y,w)=>{l=l.insert(y,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,an.newInvalidDocument(g)))}));let d=Nc();return l.forEach(((h,f)=>{const g=a.get(h);g!==void 0&&Fc(g.mutation,f,dr.empty(),it.now()),jp(t,f)&&(d=d.insert(h,f))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Kr(s.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:yD(s.bundledQuery),readTime:Kr(s.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.overlays=new mt(ke.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ao();return re.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=Ao(),a=t.length+1,l=new ke(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new mt(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=a.get(f.largestBatchId);g===null&&(g=Ao(),a=a.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=Ao(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=s)););return re.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new G4(t,r));let a=this.qr.get(t);a===void 0&&(a=We(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new zt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ke(new st([])),r=new zt(t,e),s=new zt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new st([])),r=new zt(t,e),s=new zt(t,e+1);let a=We();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new zt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new W4(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.Zr=this.Zr.add(new zt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?zy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),s=new zt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const d=this.Xr(l.Yr);a.push(d)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(qe);return t.forEach((s=>{const a=new zt(s,0),l=new zt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{r=r.add(d.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const l=new zt(new ke(a),0);let d=new Vt(qe);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(d=d.add(h.Yr)),!0)}),l),re.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(s=>{const a=new zt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new zt(t,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.ri=e,this.docs=(function(){return new mt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=Ds();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():an.newInvalidDocument(s))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Ds();const l=t.path,d=new ke(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||a4(o4(g),r)<=0||(s.has(g.key)||jp(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,s){je(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new RD(this)}getSize(e){return re.resolve(this.size)}}class RD extends TD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.persistence=e,this.si=new Xo((t=>Wy(t)),Gy),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new ev,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),re.waitFor(a).next((()=>s))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ap(0),this.li=!1,this.li=!0,this.hi=new ND,this.referenceDelegate=e(this),this.Pi=new DD(this),this.indexManager=new vD,this.remoteDocumentCache=(function(s){return new PD(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gD(t),this.Ii=new CD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ID,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new jD(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ye("MemoryPersistence","Starting transaction:",e);const s=new MD(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class MD extends c4{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.Ri=new ev,this.Vi=null}static mi(e){return new tv(e)}get fi(){if(this.Vi)return this.Vi;throw je(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const s=ke.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Me.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Zh{constructor(e,t){this.persistence=e,this.pi=new Xo((r=>h4(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=ED(this,t)}static mi(e,t){return new Zh(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?re.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((d=>{d||(r++,a.removeEntry(l,Me.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Eh(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=We(),s=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new nv(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NN()?8:u4(cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new LD;return this.Ss(e,t,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,l,d.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ka()<=He.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ka()<=He.DEBUG&&ye("QueryEngine","Query:",Qa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ka()<=He.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):re.resolve())}ys(e,t){if(vw(t))return re.resolve(null);let r=Wr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Qh(t,null,"F"),r=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=We(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(t,d);return this.Cs(t,f,l,h.readTime)?this.ys(e,Qh(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,r,s){return vw(t)||s.isEqual(Me.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?re.resolve(null):(Ka()<=He.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qa(t)),this.vs(e,l,t,i4(s,eu)).next((d=>d)))}))}Ds(e,t){let r=new Vt(bE(e));return t.forEach(((s,a)=>{jp(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Ka()<=He.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Qa(t)),this.ps.getDocumentsMatchingQuery(e,t,Di.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LocalStore",VD=3e8;class FD{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new mt(qe),this.xs=new Xo((a=>Wy(a)),Gy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function UD(n,e,t,r){return new FD(n,e,t,r)}async function zE(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let h=We();for(const f of s){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of a){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:d})))}))}))}function BD(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const y=f.batch,w=y.keys();let _=re.resolve();return w.forEach((T=>{_=_.next((()=>g.getEntry(h,T))).next((P=>{const C=f.docVersions.get(T);Ze(C!==null,48541),P.version.compareTo(C)<0&&(y.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),g.addEntry(P)))}))})),_.next((()=>d.mutationQueue.removeMutationBatch(h,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=We();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function HE(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function $D(n,e){const t=Fe(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((g,y)=>{const w=s.get(y);if(!w)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,y))));let _=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken(Wt.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),s=s.insert(y,_),(function(P,C,U){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=VD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(w,_,g)&&d.push(t.Pi.updateTargetData(a,_))}));let h=Ds(),f=We();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(zD(a,l,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!r.isEqual(Me.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return re.waitFor(d).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,f))).next((()=>h))})).then((a=>(t.Ms=s,a)))}function zD(n,e,t){let r=We(),s=We();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=Ds();return t.forEach(((d,h)=>{const f=a.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(d)),h.isNoDocument()&&h.version.isEqual(Me.min())?(e.removeEntry(d,h.readTime),l=l.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(d,h)):ye(rv,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:s}}))}function HD(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function qD(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,re.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new Si(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Hg(n,e,t){const r=Fe(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!El(l))throw l;ye(rv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function jw(n,e,t){const r=Fe(n);let s=Me.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,g){const y=Fe(h),w=y.xs.get(g);return w!==void 0?re.resolve(y.Ms.get(w)):y.Pi.getTargetData(f,g)})(r,l,Wr(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((h=>{a=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Me.min(),t?a:We()))).next((d=>(WD(r,j4(e),d),{documents:d,Qs:a})))))}function WD(n,e,t){let r=n.Os.get(e)||Me.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Pw{constructor(){this.activeTargetIds=O4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.Mo=new Pw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Pw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="ConnectivityMonitor";class Dw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Rw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh=null;function qg(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",QD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Wh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=qg(),d=this.zo(e,t.toUriEncodedString());ye(Km,`Sending RPC '${e}' ${l}:`,d,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,s,a);const{host:f}=new URL(d),g=zi(f);return this.Jo(e,d,h,r,g).then((y=>(ye(Km,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Bo(Km,`RPC '${e}' ${l} failed with error: `,y,"url: ",d,"request:",r),y}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=QD[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class XD extends JD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=qg();return new Promise(((d,h)=>{const f=new q_;f.setWithCredentials(!0),f.listenOnce(W_.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case _h.NO_ERROR:const y=f.getResponseJson();ye(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case _h.TIMEOUT:ye(rn,`RPC '${e}' ${l} timed out`),h(new fe(te.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const w=f.getStatus();if(ye(rn,`RPC '${e}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_?.error;if(T&&T.status&&T.message){const P=(function(U){const D=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(D)>=0?D:te.UNKNOWN})(T.status);h(new fe(P,T.message))}else h(new fe(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new fe(te.UNAVAILABLE,"Connection failed."));break;default:je(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ye(rn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);ye(rn,`RPC '${e}' ${l} sending request:`,s),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=qg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Q_(),d=K_(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");ye(rn,`Creating RPC '${e}' stream ${s}: ${g}`,h);const y=l.createWebChannel(g,h);this.I_(y);let w=!1,_=!1;const T=new YD({Yo:C=>{_?ye(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(w||(ye(rn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),ye(rn,`RPC '${e}' stream ${s} sending:`,C),y.send(C))},Zo:()=>y.close()}),P=(C,U,D)=>{C.listen(U,(I=>{try{D(I)}catch($){setTimeout((()=>{throw $}),0)}}))};return P(y,Ic.EventType.OPEN,(()=>{_||(ye(rn,`RPC '${e}' stream ${s} transport opened.`),T.o_())})),P(y,Ic.EventType.CLOSE,(()=>{_||(_=!0,ye(rn,`RPC '${e}' stream ${s} transport closed`),T.a_(),this.E_(y))})),P(y,Ic.EventType.ERROR,(C=>{_||(_=!0,Bo(rn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),T.a_(new fe(te.UNAVAILABLE,"The operation could not be completed")))})),P(y,Ic.EventType.MESSAGE,(C=>{if(!_){const U=C.data[0];Ze(!!U,16349);const D=U,I=D?.error||D[0]?.error;if(I){ye(rn,`RPC '${e}' stream ${s} received error:`,I);const $=I.status;let Q=(function(E){const R=Nt[E];if(R!==void 0)return jE(R)})($),G=I.message;Q===void 0&&(Q=te.INTERNAL,G="Unknown error status: "+$+" with message "+I.message),_=!0,T.a_(new fe(Q,G)),y.close()}else ye(rn,`RPC '${e}' stream ${s} received:`,U),T.u_(U)}})),P(d,G_.STAT_EVENT,(C=>{C.stat===Rg.PROXY?ye(rn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Rg.NOPROXY&&ye(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){return new nD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="PersistentStream";class WE{constructor(e,t,r,s,a,l,d,h){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ps(t.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new fe(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(Mw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZD extends WE{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=iD(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Me.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Me.min():l.readTime?Kr(l.readTime):Me.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=zg(this.serializer),t.addTarget=(function(a,l){let d;const h=l.target;if(d=Vg(h)?{documents:lD(a,h)}:{query:cD(a,h).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=DE(a,l.resumeToken);const f=Ug(a,l.expectedCount);f!==null&&(d.expectedCount=f)}else if(l.snapshotVersion.compareTo(Me.min())>0){d.readTime=Xh(a,l.snapshotVersion.toTimestamp());const f=Ug(a,l.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=dD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=zg(this.serializer),t.removeTarget=e,this.q_(t)}}class e3 extends WE{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=aD(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=zg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>oD(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{}class n3 extends t3{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Bg(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(te.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,Bg(t,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class s3{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{ea(this)&&(ye($o,"Restarting streams for network reachability change."),await(async function(h){const f=Fe(h);f.Ea.add(4),await Eu(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Lp(f)})(this))}))})),this.Ra=new r3(r,s)}}async function Lp(n){if(ea(n))for(const e of n.da)await e(!0)}async function Eu(n){for(const e of n.da)await e(!1)}function GE(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),av(t)?ov(t):kl(t).O_()&&iv(t,e))}function sv(n,e){const t=Fe(n),r=kl(t);t.Ia.delete(e),r.O_()&&KE(t,e),t.Ia.size===0&&(r.O_()?r.L_():ea(t)&&t.Ra.set("Unknown"))}function iv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kl(n).Y_(e)}function KE(n,e){n.Va.Ue(e),kl(n).Z_(e)}function ov(n){n.Va=new X4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),kl(n).start(),n.Ra.ua()}function av(n){return ea(n)&&!kl(n).x_()&&n.Ia.size>0}function ea(n){return Fe(n).Ea.size===0}function QE(n){n.Va=void 0}async function i3(n){n.Ra.set("Online")}async function o3(n){n.Ia.forEach(((e,t)=>{iv(n,e)}))}async function a3(n,e){QE(n),av(n)?(n.Ra.ha(e),ov(n)):n.Ra.set("Unknown")}async function l3(n,e,t){if(n.Ra.set("Online"),e instanceof RE&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){ye($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ep(n,r)}else if(e instanceof Ah?n.Va.Ze(e):e instanceof PE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Me.min()))try{const r=await HE(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.Ia.get(f);g&&a.Ia.set(f,g.withResumeToken(h.resumeToken,l))}})),d.targetMismatches.forEach(((h,f)=>{const g=a.Ia.get(h);if(!g)return;a.Ia.set(h,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),KE(a,h);const y=new Si(g.target,h,f,g.sequenceNumber);iv(a,y)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ye($o,"Failed to raise snapshot:",r),await ep(n,r)}}async function ep(n,e,t){if(!El(e))throw e;n.Ea.add(1),await Eu(n),n.Ra.set("Offline"),t||(t=()=>HE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye($o,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Lp(n)}))}function JE(n,e){return e().catch((t=>ep(n,t,e)))}async function Op(n){const e=Fe(n),t=Vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zy;for(;c3(e);)try{const s=await HD(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,u3(e,s)}catch(s){await ep(e,s)}YE(e)&&XE(e)}function c3(n){return ea(n)&&n.Ta.length<10}function u3(n,e){n.Ta.push(e);const t=Vi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function YE(n){return ea(n)&&!Vi(n).x_()&&n.Ta.length>0}function XE(n){Vi(n).start()}async function d3(n){Vi(n).ra()}async function h3(n){const e=Vi(n);for(const t of n.Ta)e.ea(t.mutations)}async function p3(n,e,t){const r=n.Ta.shift(),s=Yy.from(r,e,t);await JE(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Op(n)}async function f3(n,e){e&&Vi(n).X_&&await(async function(r,s){if((function(l){return Q4(l)&&l!==te.ABORTED})(s.code)){const a=r.Ta.shift();Vi(r).B_(),await JE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Op(r)}})(n,e),YE(n)&&XE(n)}async function Lw(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),ye($o,"RemoteStore received new credentials");const r=ea(t);t.Ea.add(3),await Eu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Lp(t)}async function m3(n,e){const t=Fe(n);e?(t.Ea.delete(2),await Lp(t)):e||(t.Ea.add(2),await Eu(t),t.Ra.set("Unknown"))}function kl(n){return n.ma||(n.ma=(function(t,r,s){const a=Fe(t);return a.sa(),new ZD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:i3.bind(null,n),t_:o3.bind(null,n),r_:a3.bind(null,n),H_:l3.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),av(n)?ov(n):n.Ra.set("Unknown")):(await n.ma.stop(),QE(n))}))),n.ma}function Vi(n){return n.fa||(n.fa=(function(t,r,s){const a=Fe(t);return a.sa(),new e3(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:d3.bind(null,n),r_:f3.bind(null,n),ta:h3.bind(null,n),na:p3.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Op(n)):(await n.fa.stop(),n.Ta.length>0&&(ye($o,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new lv(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cv(n,e){if(Ps("AsyncQueue",`${e}: ${n}`),El(n))return new fe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=Nc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.ga=new mt(ke.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):je(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class gl{constructor(e,t,r,s,a,l,d,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((d=>{l.push({type:0,doc:d})})),new gl(e,t,cl.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class y3{constructor(){this.queries=Vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Fe(t),a=s.queries;s.queries=Vw(),a.forEach(((l,d)=>{for(const h of d.Sa)h.onError(r)}))})(this,new fe(te.ABORTED,"Firestore shutting down"))}}function Vw(){return new Xo((n=>xE(n)),Np)}async function ZE(n,e){const t=Fe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new g3,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=cv(l,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&uv(t)}async function eT(n,e){const t=Fe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function v3(n,e){const t=Fe(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.Sa)d.Fa(s)&&(r=!0);l.wa=s}}r&&uv(t)}function x3(n,e,t){const r=Fe(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function uv(n){n.Ca.forEach((e=>{e.next()}))}var Wg,Fw;(Fw=Wg||(Wg={})).Ma="default",Fw.Cache="cache";class tT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.key=e}}class rT{constructor(e){this.key=e}}class b3{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=bE(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Ow,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const w=s.get(g),_=jp(this.query,y)?y:null,T=!!w&&this.mutatedKeys.has(w.key),P=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let C=!1;w&&_?w.data.isEqual(_.data)?T!==P&&(r.track({type:3,doc:_}),C=!0):this.su(w,_)||(r.track({type:2,doc:_}),C=!0,(h&&this.eu(_,h)>0||f&&this.eu(_,f)<0)&&(d=!0)):!w&&_?(r.track({type:0,doc:_}),C=!0):w&&!_&&(r.track({type:1,doc:w}),C=!0,(h||f)&&(d=!0)),C&&(_?(l=l.add(_),a=P?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(_,T){const P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{Rt:C})}};return P(_)-P(T)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],h=this.Xa.size===0&&this.current&&!s?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new gl(this.query,e.tu,a,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ow,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new rT(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new nT(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=We();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dv="SyncEngine";class w3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class S3{constructor(e){this.key=e,this.hu=!1}}class _3{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Xo((d=>xE(d)),Np),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ke.comparator),this.Au=new Map,this.Ru=new ev,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function E3(n,e,t=!0){const r=cT(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await sT(r,e,t,!0),s}async function T3(n,e){const t=cT(n);await sT(t,e,!0,!1)}async function sT(n,e,t,r){const s=await qD(n.localStore,Wr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await k3(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&GE(n.remoteStore,s),d}async function k3(n,e,t,r,s){n.pu=(y,w,_)=>(async function(P,C,U,D){let I=C.view.ru(U);I.Cs&&(I=await jw(P.localStore,C.query,!1).then((({documents:A})=>C.view.ru(A,I))));const $=D&&D.targetChanges.get(C.targetId),Q=D&&D.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(I,P.isPrimaryClient,$,Q);return Bw(P,C.targetId,G.au),G.snapshot})(n,y,w,_);const a=await jw(n.localStore,e,!0),l=new b3(e,a.Qs),d=l.ru(a.documents),h=_u.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=l.applyChanges(d,n.isPrimaryClient,h);Bw(n,t,f.au);const g=new w3(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function A3(n,e,t){const r=Fe(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Np(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&sv(r.remoteStore,s.targetId),Gg(r,s.targetId)})).catch(_l)):(Gg(r,s.targetId),await Hg(r.localStore,s.targetId,!0))}async function C3(n,e){const t=Fe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sv(t.remoteStore,r.targetId))}async function I3(n,e,t){const r=L3(n);try{const s=await(function(l,d){const h=Fe(l),f=it.now(),g=d.reduce(((_,T)=>_.add(T.key)),We());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let T=Ds(),P=We();return h.Ns.getEntries(_,g).next((C=>{T=C,T.forEach(((U,D)=>{D.isValidDocument()||(P=P.add(U))}))})).next((()=>h.localDocuments.getOverlayedDocuments(_,T))).next((C=>{y=C;const U=[];for(const D of d){const I=H4(D,y.get(D.key).overlayedDocument);I!=null&&U.push(new Zo(D.key,I,dE(I.value.mapValue),Gr.exists(!0)))}return h.mutationQueue.addMutationBatch(_,f,U,d)})).next((C=>{w=C;const U=C.applyToLocalDocumentSet(y,P);return h.documentOverlayCache.saveOverlays(_,C.batchId,U)}))})).then((()=>({batchId:w.batchId,changes:SE(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new mt(qe)),f=f.insert(d,h),l.Vu[l.currentUser.toKey()]=f})(r,s.batchId,t),await Tu(r,s.changes),await Op(r.remoteStore)}catch(s){const a=cv(s,"Failed to persist write");t.reject(a)}}async function iT(n,e){const t=Fe(n);try{const r=await $D(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ze(l.hu,14607):s.removedDocuments.size>0&&(Ze(l.hu,42227),l.hu=!1))})),await Tu(t,r,e)}catch(r){await _l(r)}}function Uw(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const h=Fe(l);h.onlineState=d;let f=!1;h.queries.forEach(((g,y)=>{for(const w of y.Sa)w.va(d)&&(f=!0)})),f&&uv(h)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N3(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new mt(ke.comparator);l=l.insert(a,an.newNoDocument(a,Me.min()));const d=We().add(a),h=new Dp(Me.min(),new Map,new mt(qe),l,d);await iT(r,h),r.du=r.du.remove(a),r.Au.delete(e),hv(r)}else await Hg(r.localStore,e,!1).then((()=>Gg(r,e,t))).catch(_l)}async function j3(n,e){const t=Fe(n),r=e.batch.batchId;try{const s=await BD(t.localStore,e);aT(t,r,null),oT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(t,s)}catch(s){await _l(s)}}async function P3(n,e,t){const r=Fe(n);try{const s=await(function(l,d){const h=Fe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((y=>(Ze(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);aT(r,e,t),oT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Tu(r,s)}catch(s){await _l(s)}}function oT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function aT(n,e,t){const r=Fe(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Gg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||lT(n,r)}))}function lT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(sv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),hv(n))}function Bw(n,e,t){for(const r of t)r instanceof nT?(n.Ru.addReference(r.key,e),R3(n,r)):r instanceof rT?(ye(dv,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||lT(n,r.key)):je(19791,{wu:r})}function R3(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ye(dv,"New document in limbo: "+t),n.Eu.add(r),hv(n))}function hv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ke(st.fromString(e)),r=n.fu.next();n.Au.set(r,new S3(t)),n.du=n.du.insert(t,r),GE(n.remoteStore,new Si(Wr(Ky(t.path)),r,"TargetPurposeLimboResolution",Ap.ce))}}async function Tu(n,e,t){const r=Fe(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,h)=>{l.push(r.pu(h,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){s.push(f);const g=nv.As(h.targetId,f);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(h,f){const g=Fe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>re.forEach(f,(w=>re.forEach(w.Es,(_=>g.persistence.referenceDelegate.addReference(y,w.targetId,_))).next((()=>re.forEach(w.ds,(_=>g.persistence.referenceDelegate.removeReference(y,w.targetId,_)))))))))}catch(y){if(!El(y))throw y;ye(rv,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const _=g.Ms.get(w),T=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(T);g.Ms=g.Ms.insert(w,P)}}})(r.localStore,a))}async function D3(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){ye(dv,"User change. New user:",e.toKey());const r=await zE(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((h=>{h.reject(new fe(te.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(t,r.Ls)}}function M3(n,e){const t=Fe(n),r=t.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const d=t.Tu.get(l);s=s.unionWith(d.view.nu)}return s}}function cT(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=iT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N3.bind(null,e),e.Pu.H_=v3.bind(null,e.eventManager),e.Pu.yu=x3.bind(null,e.eventManager),e}function L3(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P3.bind(null,e),e}class tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return UD(this.persistence,new OD,e.initialUser,this.serializer)}Cu(e){return new $E(tv.mi,this.serializer)}Du(e){return new GD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tp.provider={build:()=>new tp};class O3 extends tp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new $E((r=>Zh.mi(r,t)),this.serializer)}}class Kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D3.bind(null,this.syncEngine),await m3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new y3})()}createDatastore(e){const t=Mp(e.databaseInfo.databaseId),r=(function(a){return new XD(a)})(e.databaseInfo);return(function(a,l,d,h){return new n3(a,l,d,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,d){return new s3(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Uw(this.syncEngine,t,0)),(function(){return Dw.v()?new Dw:new KD})())}createSyncEngine(e,t){return(function(s,a,l,d,h,f,g){const y=new _3(s,a,l,d,h,f);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Fe(t);ye($o,"RemoteStore shutting down."),r.Ea.add(5),await Eu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="FirestoreClient";class V3{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ye(Fi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ye(Fi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Jm(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Fi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await zE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function $w(n,e){n.asyncQueue.verifyOperationInProgress();const t=await F3(n);ye(Fi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Lw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>Lw(e.remoteStore,s))),n._onlineComponents=e}async function F3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Fi,"Using user provided OfflineComponentProvider");try{await Jm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Jm(n,new tp)}}else ye(Fi,"Using default OfflineComponentProvider"),await Jm(n,new O3(void 0));return n._offlineComponents}async function dT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Fi,"Using user provided OnlineComponentProvider"),await $w(n,n._uninitializedComponentsProvider._online)):(ye(Fi,"Using default OnlineComponentProvider"),await $w(n,new Kg))),n._onlineComponents}function U3(n){return dT(n).then((e=>e.syncEngine))}async function hT(n){const e=await dT(n),t=e.eventManager;return t.onListen=E3.bind(null,e.syncEngine),t.onUnlisten=A3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=T3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=C3.bind(null,e.syncEngine),t}function B3(n,e,t={}){const r=new Ts;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,h,f){const g=new uT({next:w=>{g.Nu(),l.enqueueAndForget((()=>eT(a,y)));const _=w.docs.has(d);!_&&w.fromCache?f.reject(new fe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&w.fromCache&&h&&h.source==="server"?f.reject(new fe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new tT(Ky(d.path),g,{includeMetadataChanges:!0,qa:!0});return ZE(a,y)})(await hT(n),n.asyncQueue,e,t,r))),r.promise}function $3(n,e,t={}){const r=new Ts;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,h,f){const g=new uT({next:w=>{g.Nu(),l.enqueueAndForget((()=>eT(a,y))),w.fromCache&&h.source==="server"?f.reject(new fe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new tT(d,g,{includeMetadataChanges:!0,qa:!0});return ZE(a,y)})(await hT(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="firestore.googleapis.com",Hw=!0;class qw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fT,this.ssl=Hw}else this.host=e.host,this.ssl=e.ssl??Hw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bD)throw new fe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new X_;switch(r.type){case"firstParty":return new XR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=zw.get(t);r&&(ye("ComponentProvider","Removing Datastore"),zw.delete(t),r.terminate())})(this),Promise.resolve()}}function mT(n,e,t,r={}){n=Rs(n,Vp);const s=zi(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(Ay(`https://${d}`),Cy("Firestore",!0)),a.host!==fT&&a.host!==d&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:d,ssl:s,emulatorOptions:r};if(!Oo(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=on.MOCK_USER;else{f=l_(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new fe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new on(y)}n._authCredentials=new QR(new Y_(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ls(this.firestore,e,this._query)}}class kt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(wu(t,kt._jsonSchema))return new kt(e,r||null,new ke(st.fromString(t.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Rt("string",kt._jsonSchemaVersion),referencePath:Rt("string")};class ks extends Ls{constructor(e,t,r){super(e,t,Ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new ke(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function z3(n,e,...t){if(n=qt(n),Z_("collection","path",e),n instanceof Vp){const r=st.fromString(e,...t);return sw(r),new ks(n,null,r)}{if(!(n instanceof kt||n instanceof ks))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return sw(r),new ks(n.firestore,null,r)}}function bs(n,e,...t){if(n=qt(n),arguments.length===1&&(e=Tp.newId()),Z_("doc","path",e),n instanceof Vp){const r=st.fromString(e,...t);return rw(r),new kt(n,null,new ke(r))}{if(!(n instanceof kt||n instanceof ks))throw new fe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return rw(r),new kt(n.firestore,n instanceof ks?n.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="AsyncQueue";class Gw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qE(this,"async_queue_retry"),this._c=()=>{const r=Qm();r&&ye(Ww,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;ye(Ww,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",Kw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=lv.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&je(47125,{Pc:Kw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Kw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Al extends Vp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Gw,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gw(e),this._firestoreClient=void 0,await e}}}function gT(n,e){const t=typeof n=="object"?n:jy(),r=typeof n=="string"?n:Wh,s=wp(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=i_("firestore");a&&mT(s,...a)}return s}function Fp(n){if(n._terminated)throw new fe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||H3(n),n._firestoreClient}function H3(n){const e=n._freezeSettings(),t=(function(s,a,l,d){return new m4(s,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new V3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Wt.fromBase64String(e))}catch(t){throw new fe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Rt("string",Mn._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(wu(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:Rt("string",pr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fr(e.vectorValues);throw new fe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:Rt("string",fr._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=/^__.*__$/;class W3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}function yT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ac:n})}}class fv{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return np(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yT(this.Ac)&&q3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class G3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mp(e)}Cc(e,t,r,s=!1){return new fv({Ac:e,methodName:t,Dc:r,path:Ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vT(n){const e=n._freezeSettings(),t=Mp(n._databaseId);return new G3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function K3(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);wT("Data must be an object, but it was:",l,r);const d=xT(r,l);let h,f;if(a.merge)h=new dr(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const w=J3(e,y,t);if(!l.contains(w))throw new fe(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);X3(g,w)||g.push(w)}h=new dr(g),f=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,f=l.fieldTransforms;return new W3(new Yn(d),h,f)}function Q3(n,e,t,r=!1){return mv(t,n.Cc(r?4:3,e))}function mv(n,e){if(bT(n=qt(n)))return wT("Unsupported field value:",e,n),xT(n,e);if(n instanceof pv)return(function(r,s){if(!yT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let h=mv(d,s.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:Xh(s.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(s.serializer,a)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:DE(s.serializer,r._byteString)};if(r instanceof kt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Zy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof fr)return(function(l,d){return{mapValue:{fields:{[cE]:{stringValue:uE},[Gh]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return Qy(d.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${kp(r)}`)})(n,e)}function xT(n,e){const t={};return rE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(n,((r,s)=>{const a=mv(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function bT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof pr||n instanceof Mn||n instanceof kt||n instanceof pv||n instanceof fr)}function wT(n,e,t){if(!bT(t)||!tE(t)){const r=kp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function J3(n,e,t){if((e=qt(e))instanceof Up)return e._internalPath;if(typeof e=="string")return ST(n,e);throw np("Field path arguments must be of type string or ",n,!1,void 0,t)}const Y3=new RegExp("[~\\*/\\[\\]]");function ST(n,e,t){if(e.search(Y3)>=0)throw np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Up(...e.split("."))._internalPath}catch{throw np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function np(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new fe(te.INVALID_ARGUMENT,d+n+h)}function X3(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Z3 extends _T{data(){return super.data()}}function Bp(n,e){return typeof e=="string"?ST(n,e):e instanceof Up?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class $p extends gv{}function tM(n,e,...t){let r=[];e instanceof gv&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((h=>h instanceof zp)).length,d=a.filter((h=>h instanceof ku)).length;if(l>1||l>0&&d>0)throw new fe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class ku extends $p{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ku(e,t,r)}_apply(e){const t=this._parse(e);return ET(e._query,t),new Ls(e.firestore,e.converter,Fg(e._query,t))}_parse(e){const t=vT(e.firestore);return(function(a,l,d,h,f,g,y){let w;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new fe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Jw(y,g);const T=[];for(const P of y)T.push(Qw(h,a,P));w={arrayValue:{values:T}}}else w=Qw(h,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Jw(y,g),w=Q3(d,l,y,g==="in"||g==="not-in");return Pt.create(f,g,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nM(n,e,t){const r=e,s=Bp("where",n);return ku._create(s,r,t)}class zp extends gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zp(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const d=a.getFlattenedFilters();for(const h of d)ET(l,h),l=Fg(l,h)})(e._query,t),new Ls(e.firestore,e.converter,Fg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hp extends $p{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hp(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new fe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(a,l)})(e._query,this._field,this._direction);return new Ls(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new Tl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function rM(n,e="asc"){const t=e,r=Bp("orderBy",n);return Hp._create(r,t)}class qp extends $p{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new qp(e,t,r)}_apply(e){return new Ls(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function sM(n){return s4("limit",n),qp._create("limit",n,"F")}function Qw(n,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new fe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vE(e)&&t.indexOf("/")!==-1)throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!ke.isDocumentKey(r))throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hw(n,new ke(r))}if(t instanceof kt)return hw(n,t._key);throw new fe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kp(t)}.`)}function Jw(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(n,e){const t=(function(s,a){for(const l of s)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TT{convertValue(e,t="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Yo(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Gh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new fr(t)}convertGeoPoint(e){return new pr(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=Mi(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Ze(UE(r),9688,{name:e});const s=new hl(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return s.isEqual(t)||Ps(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Xa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ai extends _T{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Bp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ai._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ai._jsonSchema={type:Rt("string",Ai._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Uc extends Ai{data(e={}){return super.data(e)}}class Po{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Xa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Uc(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const h=new Uc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Xa(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const h=new Uc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Xa(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,g=-1;return d.type!==0&&(f=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),g=l.indexOf(d.doc.key)),{type:oM(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){n=Rs(n,kt);const e=Rs(n.firestore,Al);return B3(Fp(e),n._key).then((t=>cM(e,n,t)))}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:Rt("string",Po._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class AT extends TT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,t)}}function aM(n){n=Rs(n,Ls);const e=Rs(n.firestore,Al),t=Fp(e),r=new AT(e);return eM(n._query),$3(t,n._query).then((s=>new Po(e,r,n,s)))}function To(n,e,t){n=Rs(n,kt);const r=Rs(n.firestore,Al),s=iM(n.converter,e,t);return yv(r,[K3(vT(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Gr.none())])}function lM(n){return yv(Rs(n.firestore,Al),[new Jy(n._key,Gr.none())])}function yv(n,e){return(function(r,s){const a=new Ts;return r.asyncQueue.enqueueAndForget((async()=>I3(await U3(r),s,a))),a.promise})(Fp(n),e)}function cM(n,e,t){const r=t.docs.get(e._key),s=new AT(n);return new Ai(n,s,e._key,r,new Xa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Sl=s})(Jo),Vo(new Ri("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new Al(new JR(r.getProvider("auth-internal")),new ZR(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new fe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(f.options.projectId,g)})(l,s),l);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Hr(Zb,ew,e),Hr(Zb,ew,"esm2020")})();const Za=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:TT,Bytes:Mn,CollectionReference:ks,DocumentReference:kt,DocumentSnapshot:Ai,FieldPath:Up,FieldValue:pv,Firestore:Al,FirestoreError:fe,GeoPoint:pr,Query:Ls,QueryCompositeFilterConstraint:zp,QueryConstraint:$p,QueryDocumentSnapshot:Uc,QueryFieldFilterConstraint:ku,QueryLimitConstraint:qp,QueryOrderByConstraint:Hp,QuerySnapshot:Po,SnapshotMetadata:Xa,Timestamp:it,VectorValue:fr,_AutoId:Tp,_ByteString:Wt,_DatabaseId:hl,_DocumentKey:ke,_EmptyAuthCredentialsProvider:X_,_FieldPath:Ht,_cast:Rs,_logWarn:Bo,_validateIsNotUsedTogether:eE,collection:z3,connectFirestoreEmulator:mT,deleteDoc:lM,doc:bs,ensureFirestoreConfigured:Fp,executeWrite:yv,getDoc:kT,getDocs:aM,getFirestore:gT,limit:sM,orderBy:rM,query:tM,setDoc:To,where:nM},Symbol.toStringTag,{value:"Module"}));var uM="firebase",dM="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(uM,dM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebasestorage.googleapis.com",IT="storageBucket",hM=120*1e3,pM=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt extends es{constructor(e,t,r=0){super(Ym(e),`Firebase Storage: ${t} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Ym(n){return"storage/"+n}function vv(){const n="An unknown error occurred, please check the error payload for server response.";return new bt(xt.UNKNOWN,n)}function fM(n){return new bt(xt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function mM(n){return new bt(xt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(xt.UNAUTHENTICATED,n)}function yM(){return new bt(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vM(n){return new bt(xt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function xM(){return new bt(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bM(){return new bt(xt.CANCELED,"User canceled the upload/download.")}function wM(n){return new bt(xt.INVALID_URL,"Invalid URL '"+n+"'.")}function SM(n){return new bt(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function _M(){return new bt(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+IT+"' property when initializing the app?")}function EM(){return new bt(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function TM(){return new bt(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kM(n){return new bt(xt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qg(n){return new bt(xt.INVALID_ARGUMENT,n)}function NT(){return new bt(xt.APP_DELETED,"The Firebase app was deleted.")}function AM(n){return new bt(xt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bc(n,e){return new bt(xt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Tc(n){throw new bt(xt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ln.makeFromUrl(e,t)}catch{return new Ln(e,"")}if(r.path==="")return r;throw SM(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function f($){$.path_=decodeURIComponent($.path)}const g="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${g}/b/${s}/o${w}`,"i"),T={bucket:1,path:3},P=t===CT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",U=new RegExp(`^https?://${P}/${s}/${C}`,"i"),I=[{regex:d,indices:h,postModify:a},{regex:_,indices:T,postModify:f},{regex:U,indices:{bucket:1,path:2},postModify:f}];for(let $=0;$<I.length;$++){const Q=I[$],G=Q.regex.exec(e);if(G){const A=G[Q.indices.bucket];let E=G[Q.indices.path];E||(E=""),r=new Ln(A,E),Q.postModify(r);break}}if(r==null)throw wM(e);return r}}class CM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n,e,t){let r=1,s=null,a=null,l=!1,d=0;function h(){return d===2}let f=!1;function g(...C){f||(f=!0,e.apply(null,C))}function y(C){s=setTimeout(()=>{s=null,n(_,h())},C)}function w(){a&&clearTimeout(a)}function _(C,...U){if(f){w();return}if(C){w(),g.call(null,C,...U);return}if(h()||l){w(),g.call(null,C,...U);return}r<64&&(r*=2);let I;d===1?(d=2,I=0):I=(r+Math.random())*1e3,y(I)}let T=!1;function P(C){T||(T=!0,w(),!f&&(s!==null?(C||(d=2),clearTimeout(s),y(0)):C||(d=1)))}return y(0),a=setTimeout(()=>{l=!0,P(!0)},t),P}function NM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(n){return n!==void 0}function PM(n){return typeof n=="object"&&!Array.isArray(n)}function xv(n){return typeof n=="string"||n instanceof String}function Yw(n){return bv()&&n instanceof Blob}function bv(){return typeof Blob<"u"}function Xw(n,e,t,r){if(r<e)throw Qg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Qg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function jT(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ro;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ro||(Ro={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,t,r,s,a,l,d,h,f,g,y,w=!0,_=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,P)=>{this.resolve_=T,this.reject_=P,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ah(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const h=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===Ro.NO_ERROR,h=a.getStatus();if(!d||RM(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Ro.ABORT;r(!1,new ah(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new ah(f,a))})},t=(r,s)=>{const a=this.resolve_,l=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(d,d.getResponse());jM(h)?a(h):a()}catch(h){l(h)}else if(d!==null){const h=vv();h.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,h)):l(h)}else if(s.canceled){const h=this.appDelete_?NT():bM();l(h)}else{const h=xM();l(h)}};this.canceled_?t(!1,new ah(!1,null,!0)):this.backoffId_=IM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ah{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function MM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function LM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function VM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function FM(n,e,t,r,s,a,l=!0,d=!1){const h=jT(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return OM(g,e),MM(g,t),LM(g,a),VM(g,r),new DM(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BM(...n){const e=UM();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(bv())return new Blob(n);throw new bt(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function $M(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){if(typeof atob>"u")throw kM("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,t){this.data=e,this.contentType=t||null}}function HM(n,e){switch(n){case Br.RAW:return new Xm(PT(e));case Br.BASE64:case Br.BASE64URL:return new Xm(RT(n,e));case Br.DATA_URL:return new Xm(WM(e),GM(e))}throw vv()}function PT(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function qM(n){let e;try{e=decodeURIComponent(n)}catch{throw Bc(Br.DATA_URL,"Malformed data URL.")}return PT(e)}function RT(n,e){switch(n){case Br.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Bc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Br.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Bc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=zM(e)}catch(s){throw s.message.includes("polyfill")?s:Bc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class DT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Bc(Br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=KM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WM(n){const e=new DT(n);return e.base64?RT(Br.BASE64,e.rest):qM(e.rest)}function GM(n){return new DT(n).contentType}function KM(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,t){let r=0,s="";Yw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Yw(this.data_)){const r=this.data_,s=$M(r,e,t);return s===null?null:new bi(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new bi(r,!0)}}static getBlob(...e){if(bv()){const t=e.map(r=>r instanceof bi?r.data_:r);return new bi(BM.apply(null,t))}else{const t=e.map(l=>xv(l)?HM(Br.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let d=0;d<l.length;d++)s[a++]=l[d]}),new bi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n){let e;try{e=JSON.parse(n)}catch{return null}return PM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function JM(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function LT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n,e){return e}class hn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||YM}}let lh=null;function XM(n){return!xv(n)||n.length<2?n:LT(n)}function OT(){if(lh)return lh;const n=[];n.push(new hn("bucket")),n.push(new hn("generation")),n.push(new hn("metageneration")),n.push(new hn("name","fullPath",!0));function e(a,l){return XM(l)}const t=new hn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const s=new hn("size");return s.xform=r,n.push(s),n.push(new hn("timeCreated")),n.push(new hn("updated")),n.push(new hn("md5Hash",null,!0)),n.push(new hn("cacheControl",null,!0)),n.push(new hn("contentDisposition",null,!0)),n.push(new hn("contentEncoding",null,!0)),n.push(new hn("contentLanguage",null,!0)),n.push(new hn("contentType",null,!0)),n.push(new hn("metadata","customMetadata",!0)),lh=n,lh}function ZM(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new Ln(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function eL(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return ZM(r,n),r}function VT(n,e,t){const r=MT(e);return r===null?null:eL(n,r,t)}function tL(n,e,t,r){const s=MT(e);if(s===null||!xv(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(f=>{const g=n.bucket,y=n.fullPath,w="/b/"+l(g)+"/o/"+l(y),_=wv(w,t,r),T=jT({alt:"media",token:f});return _+T})[0]}function nL(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class FT{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(n){if(!n)throw vv()}function rL(n,e){function t(r,s){const a=VT(n,s,e);return UT(a!==null),a}return t}function sL(n,e){function t(r,s){const a=VT(n,s,e);return UT(a!==null),tL(a,s,n.host,n._protocol)}return t}function BT(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=yM():s=gM():t.getStatus()===402?s=mM(n.bucket):t.getStatus()===403?s=vM(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function iL(n){const e=BT(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=fM(n.path)),a.serverResponse=s.serverResponse,a}return t}function oL(n,e,t){const r=e.fullServerUrl(),s=wv(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,d=new FT(s,a,sL(n,t),l);return d.errorHandler=iL(e),d}function aL(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function lL(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=aL(null,e)),r}function cL(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let I="";for(let $=0;$<2;$++)I=I+Math.random().toString().slice(2);return I}const h=d();l["Content-Type"]="multipart/related; boundary="+h;const f=lL(e,r,s),g=nL(f,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",_=bi.getBlob(y,r,w);if(_===null)throw EM();const T={name:f.fullPath},P=wv(a,n.host,n._protocol),C="POST",U=n.maxUploadRetryTime,D=new FT(P,C,rL(n,t),U);return D.urlParams=T,D.headers=l,D.body=_.uploadData(),D.errorHandler=BT(e),D}class uL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ro.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ro.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ro.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw Tc("cannot .send() more than once");if(zi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dL extends uL{initXhr(){this.xhr_.responseType="text"}}function $T(){return new dL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t){this._service=e,t instanceof Ln?this._location=t:this._location=Ln.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zo(e,t)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LT(this._location.path)}get storage(){return this._service}get parent(){const e=QM(this._location.path);if(e===null)return null;const t=new Ln(this._location.bucket,e);return new zo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw AM(e)}}function hL(n,e,t){n._throwIfRoot("uploadBytes");const r=cL(n.storage,n._location,OT(),new bi(e,!0),t);return n.storage.makeRequestWithTokens(r,$T).then(s=>({metadata:s,ref:n}))}function pL(n){n._throwIfRoot("getDownloadURL");const e=oL(n.storage,n._location,OT());return n.storage.makeRequestWithTokens(e,$T).then(t=>{if(t===null)throw TM();return t})}function fL(n,e){const t=JM(n._location.path,e),r=new Ln(n._location.bucket,t);return new zo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n){return/^[A-Za-z]+:\/\//.test(n)}function gL(n,e){return new zo(n,e)}function zT(n,e){if(n instanceof Sv){const t=n;if(t._bucket==null)throw _M();const r=new zo(t,t._bucket);return e!=null?zT(r,e):r}else return e!==void 0?fL(n,e):n}function yL(n,e){if(e&&mL(e)){if(n instanceof Sv)return gL(n,e);throw Qg("To use ref(service, url), the first argument must be a Storage instance.")}else return zT(n,e)}function Zw(n,e){const t=e?.[IT];return t==null?null:Ln.makeFromBucketSpec(t,n)}function vL(n,e,t,r={}){n.host=`${e}:${t}`;const s=zi(e);s&&(Ay(`https://${n.host}/b`),Cy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:l_(a,n.app.options.projectId))}class Sv{constructor(e,t,r,s,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=CT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hM,this._maxUploadRetryTime=pM,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=Zw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=Zw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zo(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new CM(NT());{const l=FM(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const e1="@firebase/storage",t1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="storage";function Ha(n,e,t){return n=qt(n),hL(n,e,t)}function qa(n){return n=qt(n),pL(n)}function Wa(n,e){return n=qt(n),yL(n,e)}function xL(n=jy(),e){n=qt(n);const r=wp(n,HT).getImmediate({identifier:e}),s=i_("storage");return s&&bL(r,...s),r}function bL(n,e,t,r={}){vL(n,e,t,r)}function wL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Sv(t,r,s,e,Jo)}function SL(){Vo(new Ri(HT,wL,"PUBLIC").setMultipleInstances(!0)),Hr(e1,t1,""),Hr(e1,t1,"esm2020")}SL();const Ch={apiKey:"AIzaSyCWjBfZHPHDI4rXRStWPP48lRZVJquWH38",authDomain:"dreambuild-2024-app.firebaseapp.com",projectId:"dreambuild-2024-app",storageBucket:"dreambuild-2024-app.firebasestorage.app",messagingSenderId:"780467658601",appId:"1:780467658601:web:833a9373c15fa3be0be7f8"};console.log("Firebase config loaded:",{hasApiKey:!!Ch.apiKey,hasAuthDomain:!!Ch.authDomain,projectId:Ch.projectId,usingEnvVars:!0});const _v=d_(Ch),ch=GR(_v),Fr=gT(_v),Ga=xL(_v),qT=N.createContext();function Wp(){return N.useContext(qT)}function _L({children:n}){const[e,t]=N.useState(null),[r,s]=N.useState(!0);N.useEffect(()=>{let h,f;try{h=MP(ch,async g=>{try{if(g)try{const y=await kT(bs(Fr,"users",g.uid)),w=y.exists()?y.data():null;t({uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL,...w})}catch(y){console.warn("Failed to fetch user data from Firestore:",y),t({uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL})}else t(null)}catch(y){console.error("Error in auth state change:",y),t(null)}finally{s(!1)}}),f=setTimeout(()=>{console.log("Firebase auth timeout - setting loading to false"),s(!1)},3e3)}catch(g){console.error("Error setting up auth listener:",g),s(!1)}return()=>{h&&h(),f&&clearTimeout(f)}},[]);const d={user:e,loading:r,signInWithGoogle:async()=>{try{const h=new ws;h.addScope("email"),h.addScope("profile");const f=await nR(ch,h);try{await To(bs(Fr,"users",f.user.uid),{uid:f.user.uid,email:f.user.email,displayName:f.user.displayName,photoURL:f.user.photoURL,createdAt:new Date,lastLogin:new Date},{merge:!0})}catch(g){console.warn("Failed to save user data to Firestore:",g)}console.log("Successfully signed in!")}catch(h){throw console.error("Failed to sign in:",h.message),h}},logout:async()=>{try{await LP(ch),console.log("Successfully signed out!")}catch(h){console.error("Failed to sign out:",h.message)}},auth:ch,db:Fr};return c.jsx(qT.Provider,{value:d,children:r?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading DreamBuild..."})]})}):n})}const EL="modulepreload",TL=function(n){return"/"+n},n1={},Co=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var l=f;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");s=f(t.map(g=>{if(g=TL(g),g in n1)return;n1[g]=!0;const y=g.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":EL,y||(_.as="script"),_.crossOrigin="",_.href=g,h&&_.setAttribute("nonce",h),document.head.appendChild(_),y)return new Promise((T,P)=>{_.addEventListener("load",T),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},WT=N.createContext();function Hi(){return N.useContext(WT)}function kL({children:n}){const{user:e,db:t}=Wp(),[r,s]=N.useState({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),[a,l]=N.useState([]),[d,h]=N.useState(!1),f=N.useCallback(D=>{s(I=>({...I,activeFile:D,lastModified:new Date}))},[]),g=N.useCallback((D,I)=>{s($=>({...$,files:{...$.files,[D]:I},lastModified:new Date}))},[]),y=N.useCallback(D=>{s(I=>({...I,config:{...I.config,...D},lastModified:new Date}))},[]),w=N.useCallback(async(D=null)=>{if(!e){Pe.error("Please sign in to save projects");return}h(!0);try{const I={...r,name:D||r.name,userId:e.uid,lastModified:new Date},{doc:$,setDoc:Q,collection:G}=await Co(async()=>{const{doc:E,setDoc:R,collection:L}=await Promise.resolve().then(()=>Za);return{doc:E,setDoc:R,collection:L}},void 0),A=$(G(t,"projects"));await Q(A,{...I,id:A.id,createdAt:r.id?void 0:new Date}),s(E=>({...E,id:A.id})),Pe.success("Project saved successfully!"),_()}catch(I){Pe.error("Failed to save project: "+I.message)}finally{h(!1)}},[r,e,t]),_=N.useCallback(async()=>{if(e){h(!0);try{const{collection:D,query:I,where:$,getDocs:Q,orderBy:G}=await Co(async()=>{const{collection:F,query:z,where:M,getDocs:we,orderBy:_e}=await Promise.resolve().then(()=>Za);return{collection:F,query:z,where:M,getDocs:we,orderBy:_e}},void 0),A=D(t,"projects"),E=I(A,$("userId","==",e.uid),G("lastModified","desc")),L=(await Q(E)).docs.map(F=>({id:F.id,...F.data()}));l(L)}catch(D){Pe.error("Failed to load projects: "+D.message)}finally{h(!1)}}},[e,t]),T=N.useCallback(async D=>{if(e){h(!0);try{const{doc:I,getDoc:$}=await Co(async()=>{const{doc:A,getDoc:E}=await Promise.resolve().then(()=>Za);return{doc:A,getDoc:E}},void 0),Q=I(t,"projects",D),G=await $(Q);if(G.exists()){const A={id:G.id,...G.data()};s(A),Pe.success("Project loaded successfully!")}else Pe.error("Project not found")}catch(I){Pe.error("Failed to load project: "+I.message)}finally{h(!1)}}},[e,t]),P=N.useCallback(async D=>{if(e){h(!0);try{const{doc:I,deleteDoc:$}=await Co(async()=>{const{doc:Q,deleteDoc:G}=await Promise.resolve().then(()=>Za);return{doc:Q,deleteDoc:G}},void 0);await $(I(t,"projects",D)),l(Q=>Q.filter(G=>G.id!==D)),Pe.success("Project deleted successfully!")}catch(I){Pe.error("Failed to delete project: "+I.message)}finally{h(!1)}}},[e,t]),C=N.useCallback(()=>{s({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),Pe.success("New project created!")},[]),U={currentProject:r,projects:a,isLoading:d,switchFile:f,updateFile:g,updateConfig:y,saveProject:w,loadProjects:_,loadProject:T,deleteProject:P,createNewProject:C};return c.jsx(WT.Provider,{value:U,children:n})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(n,e)=>{const t=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:d="",children:h,...f},g)=>N.createElement("svg",{ref:g,...AL,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${CL(n)}`,d].join(" "),...f},[...e.map(([y,w])=>N.createElement(y,w)),...Array.isArray(h)?h:[h]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=me("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=me("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=me("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=me("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=me("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=me("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=me("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=me("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=me("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=me("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=me("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=me("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=me("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=me("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=me("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=me("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=me("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=me("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=me("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=me("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=me("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=me("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=me("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=me("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=me("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=me("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=me("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=me("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),KL=()=>{const{theme:n,toggleTheme:e}=ky(),{user:t,logout:r}=Wp(),[s,a]=N.useState(!1),[l,d]=N.useState(!1),[h,f]=N.useState(!1),g=Qo();Xn.useEffect(()=>{const _=()=>{d(window.innerWidth>=768)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),Xn.useEffect(()=>{const _=T=>{h&&!T.target.closest(".user-menu")&&f(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[h]);const y=[{name:"Home",href:"/",icon:Ni},{name:"AI Builder",href:"/ai-builder",icon:vt},{name:"Projects",href:"/projects",icon:Ih},{name:"Dashboard",href:"/dashboard",icon:op}],w=_=>g.pathname===_;return c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-b border-border/50 shadow-sm",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex items-center justify-between h-20",children:[c.jsxs(Qn,{to:"/",className:"flex items-center gap-3 group",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-light rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-200 shadow-lg",children:c.jsx(lu,{className:"h-6 w-6 text-primary-foreground"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xl font-bold text-high-contrast",children:"DreamBuild"}),c.jsx("span",{className:"text-xs text-muted-foreground -mt-1",children:"AI Development Platform"})]})]}),c.jsx("div",{className:"hidden md:flex items-center gap-1",children:y.map(_=>{const T=_.icon;return c.jsxs(Qn,{to:_.href,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 border ${w(_.href)?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-foreground border-border hover:bg-muted hover:border-primary/30 shadow-sm hover:shadow-md"}`,children:[c.jsx(T,{className:"h-4 w-4"}),_.name]},_.name)})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-muted/50 transition-all duration-200 border border-border/50 hover:border-primary/30 group",title:`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?c.jsx(BL,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"}):c.jsx(WL,{className:"h-4 w-4 text-warning group-hover:text-primary transition-colors"})}),t?c.jsxs("div",{className:"relative user-menu",children:[c.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 p-2 rounded-lg hover:bg-muted/50 transition-colors border border-border/50 hover:border-primary/30",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-semibold text-primary",children:(t.displayName||t.email||"U").charAt(0).toUpperCase()})}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:t.displayName||t.email})]}),h&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-card border border-border rounded-lg shadow-lg z-50",children:[c.jsxs("div",{className:"p-3 border-b border-border",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:t.displayName||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.email})]}),c.jsxs("div",{className:"p-1",children:[c.jsxs(Qn,{to:"/dashboard",onClick:()=>f(!1),className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(Ih,{className:"h-4 w-4"}),"Dashboard"]}),c.jsxs(Qn,{to:"/settings",onClick:()=>f(!1),className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(o1,{className:"h-4 w-4"}),"Settings"]}),c.jsx("hr",{className:"my-1"}),c.jsxs("button",{onClick:()=>{r(),f(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[c.jsx(r1,{className:"h-4 w-4"}),"Sign Out"]})]})]})]}):c.jsxs(Qn,{to:"/login",className:"hidden sm:flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary to-primary-dark text-primary-foreground rounded-lg hover:from-primary-dark hover:to-primary transition-all duration-200 text-sm font-semibold shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[c.jsx(Ni,{className:"h-4 w-4"}),"Sign In"]}),!l&&c.jsx("button",{onClick:()=>a(!s),className:"p-2 rounded-lg hover:bg-muted/50 transition-colors border border-border/50 hover:border-primary/30",children:s?c.jsx(GL,{className:"h-4 w-4"}):c.jsx(FL,{className:"h-4 w-4"})})]})]}),!l&&s&&c.jsx("div",{className:"border-t border-border/50 bg-background/95 backdrop-blur-lg",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[y.map(_=>{const T=_.icon;return c.jsxs(Qn,{to:_.href,onClick:()=>a(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium transition-all duration-200 border ${w(_.href)?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-foreground border-border hover:bg-muted hover:border-primary/30 shadow-sm"}`,children:[c.jsx(T,{className:"h-5 w-5"}),_.name]},_.name)}),t?c.jsxs("div",{className:"mt-4 space-y-2",children:[c.jsxs("div",{className:"px-4 py-2 border-b border-border",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:t.displayName||"User"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.email})]}),c.jsxs(Qn,{to:"/dashboard",onClick:()=>a(!1),className:"flex items-center gap-3 px-4 py-3 text-base font-medium hover:bg-muted rounded-lg",children:[c.jsx(Ih,{className:"h-5 w-5"}),"Dashboard"]}),c.jsxs(Qn,{to:"/settings",onClick:()=>a(!1),className:"flex items-center gap-3 px-4 py-3 text-base font-medium hover:bg-muted rounded-lg",children:[c.jsx(o1,{className:"h-5 w-5"}),"Settings"]}),c.jsxs("button",{onClick:()=>{r(),a(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 rounded-lg",children:[c.jsx(r1,{className:"h-5 w-5"}),"Sign Out"]})]}):c.jsxs(Qn,{to:"/login",onClick:()=>a(!1),className:"flex items-center gap-3 px-4 py-3 mt-4 bg-gradient-to-r from-primary to-primary-dark text-primary-foreground rounded-lg text-base font-semibold",children:[c.jsx(Ni,{className:"h-5 w-5"}),"Sign In"]})]})})]})})},QL=()=>c.jsx("footer",{className:"bg-muted/30 border-t border-border",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-black font-bold",children:"D"})}),c.jsx("span",{className:"text-xl font-bold",children:"DreamBuild"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Universal AI Development Platform supporting 100+ programming languages. Build, code, and deploy with the power of AI."}),c.jsx("div",{className:"flex gap-2",children:c.jsx("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-muted rounded-md transition-colors",children:c.jsx(Xr,{className:"h-4 w-4"})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Product"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:c.jsx("a",{href:"/ai-builder",className:"hover:text-foreground transition-colors",children:"AI Builder"})}),c.jsx("li",{children:c.jsx("a",{href:"/projects",className:"hover:text-foreground transition-colors",children:"Projects"})}),c.jsx("li",{children:c.jsx("a",{href:"/dashboard",className:"hover:text-foreground transition-colors",children:"Dashboard"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Resources"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:c.jsx("a",{href:"/documentation",className:"hover:text-foreground transition-colors",children:"Documentation"})}),c.jsx("li",{children:c.jsx("a",{href:"/examples",className:"hover:text-foreground transition-colors",children:"Examples"})}),c.jsx("li",{children:c.jsx("a",{href:"/community",className:"hover:text-foreground transition-colors",children:"Community"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Company"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:c.jsx("a",{href:"/about",className:"hover:text-foreground transition-colors",children:"About"})}),c.jsx("li",{children:c.jsx("a",{href:"/blog",className:"hover:text-foreground transition-colors",children:"Blog"})}),c.jsx("li",{children:c.jsx("a",{href:"/contact",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]})]}),c.jsx("hr",{className:"my-8 border-border"}),c.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx("span",{children:" 2024 Bradley Virtual Solutions, LLC"}),c.jsx("span",{children:""}),c.jsx("span",{children:"Made with"}),c.jsx(rp,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{children:"for developers"})]})})]})}),i2=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Qp=N.createContext({}),Jp=N.createContext(null),Yp=typeof document<"u",kv=Yp?N.useLayoutEffect:N.useEffect,o2=N.createContext({strict:!1}),Av=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),JL="framerAppearId",a2="data-"+Av(JL);function YL(n,e,t,r){const{visualElement:s}=N.useContext(Qp),a=N.useContext(o2),l=N.useContext(Jp),d=N.useContext(i2).reducedMotion,h=N.useRef();r=r||a.renderer,!h.current&&r&&(h.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const f=h.current;N.useInsertionEffect(()=>{f&&f.update(t,l)});const g=N.useRef(!!(t[a2]&&!window.HandoffComplete));return kv(()=>{f&&(f.render(),g.current&&f.animationState&&f.animationState.animateChanges())}),N.useEffect(()=>{f&&(f.updateFeatures(),!g.current&&f.animationState&&f.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),f}function tl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function XL(n,e,t){return N.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):tl(t)&&(t.current=r))},[e])}function uu(n){return typeof n=="string"||Array.isArray(n)}function Xp(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Cv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iv=["initial",...Cv];function Zp(n){return Xp(n.animate)||Iv.some(e=>uu(n[e]))}function l2(n){return!!(Zp(n)||n.variants)}function ZL(n,e){if(Zp(n)){const{initial:t,animate:r}=n;return{initial:t===!1||uu(t)?t:void 0,animate:uu(r)?r:void 0}}return n.inherit!==!1?e:{}}function eO(n){const{initial:e,animate:t}=ZL(n,N.useContext(Qp));return N.useMemo(()=>({initial:e,animate:t}),[a1(e),a1(t)])}function a1(n){return Array.isArray(n)?n.join(" "):n}const l1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},du={};for(const n in l1)du[n]={isEnabled:e=>l1[n].some(t=>!!e[t])};function tO(n){for(const e in n)du[e]={...du[e],...n[e]}}const Nv=N.createContext({}),c2=N.createContext({}),nO=Symbol.for("motionComponentSymbol");function rO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&tO(n);function a(d,h){let f;const g={...N.useContext(i2),...d,layoutId:sO(d)},{isStatic:y}=g,w=eO(d),_=r(d,y);if(!y&&Yp){w.visualElement=YL(s,_,g,e);const T=N.useContext(c2),P=N.useContext(o2).strict;w.visualElement&&(f=w.visualElement.loadFeatures(g,P,n,T))}return N.createElement(Qp.Provider,{value:w},f&&w.visualElement?N.createElement(f,{visualElement:w.visualElement,...g}):null,t(s,d,XL(_,w.visualElement,h),_,y,w.visualElement))}const l=N.forwardRef(a);return l[nO]=s,l}function sO({layoutId:n}){const e=N.useContext(Nv).id;return e&&n!==void 0?e+"-"+n:n}function iO(n){function e(r,s={}){return rO(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const oO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jv(n){return typeof n!="string"||n.includes("-")?!1:!!(oO.indexOf(n)>-1||/[A-Z]/.test(n))}const ap={};function aO(n){Object.assign(ap,n)}const Iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ta=new Set(Iu);function u2(n,{layout:e,layoutId:t}){return ta.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!ap[n]||n==="opacity")}const En=n=>!!(n&&n.getVelocity),lO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cO=Iu.length;function uO(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let a="";for(let l=0;l<cO;l++){const d=Iu[l];if(n[d]!==void 0){const h=lO[d]||d;a+=`${h}(${n[d]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(n,r?"":a):t&&r&&(a="none"),a}const d2=n=>e=>typeof e=="string"&&e.startsWith(n),h2=d2("--"),ry=d2("var(--"),dO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hO=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ui=(n,e,t)=>Math.min(Math.max(t,n),e),na={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Hc={...na,transform:n=>Ui(0,1,n)},uh={...na,default:1},qc=n=>Math.round(n*1e5)/1e5,ef=/(-)?([\d]*\.?[\d])+/g,p2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Nu(n){return typeof n=="string"}const ju=n=>({test:e=>Nu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fi=ju("deg"),Qr=ju("%"),Ne=ju("px"),fO=ju("vh"),mO=ju("vw"),c1={...Qr,parse:n=>Qr.parse(n)/100,transform:n=>Qr.transform(n*100)},u1={...na,transform:Math.round},f2={borderWidth:Ne,borderTopWidth:Ne,borderRightWidth:Ne,borderBottomWidth:Ne,borderLeftWidth:Ne,borderRadius:Ne,radius:Ne,borderTopLeftRadius:Ne,borderTopRightRadius:Ne,borderBottomRightRadius:Ne,borderBottomLeftRadius:Ne,width:Ne,maxWidth:Ne,height:Ne,maxHeight:Ne,size:Ne,top:Ne,right:Ne,bottom:Ne,left:Ne,padding:Ne,paddingTop:Ne,paddingRight:Ne,paddingBottom:Ne,paddingLeft:Ne,margin:Ne,marginTop:Ne,marginRight:Ne,marginBottom:Ne,marginLeft:Ne,rotate:fi,rotateX:fi,rotateY:fi,rotateZ:fi,scale:uh,scaleX:uh,scaleY:uh,scaleZ:uh,skew:fi,skewX:fi,skewY:fi,distance:Ne,translateX:Ne,translateY:Ne,translateZ:Ne,x:Ne,y:Ne,z:Ne,perspective:Ne,transformPerspective:Ne,opacity:Hc,originX:c1,originY:c1,originZ:Ne,zIndex:u1,fillOpacity:Hc,strokeOpacity:Hc,numOctaves:u1};function Pv(n,e,t,r){const{style:s,vars:a,transform:l,transformOrigin:d}=n;let h=!1,f=!1,g=!0;for(const y in e){const w=e[y];if(h2(y)){a[y]=w;continue}const _=f2[y],T=hO(w,_);if(ta.has(y)){if(h=!0,l[y]=T,!g)continue;w!==(_.default||0)&&(g=!1)}else y.startsWith("origin")?(f=!0,d[y]=T):s[y]=T}if(e.transform||(h||r?s.transform=uO(n.transform,t,g,r):s.transform&&(s.transform="none")),f){const{originX:y="50%",originY:w="50%",originZ:_=0}=d;s.transformOrigin=`${y} ${w} ${_}`}}const Rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function m2(n,e,t){for(const r in e)!En(e[r])&&!u2(r,t)&&(n[r]=e[r])}function gO({transformTemplate:n},e,t){return N.useMemo(()=>{const r=Rv();return Pv(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function yO(n,e,t){const r=n.style||{},s={};return m2(s,r,n),Object.assign(s,gO(n,e,t)),n.transformValues?n.transformValues(s):s}function vO(n,e,t){const r={},s=yO(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const xO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lp(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||xO.has(n)}let g2=n=>!lp(n);function bO(n){n&&(g2=e=>e.startsWith("on")?!lp(e):n(e))}try{bO(require("@emotion/is-prop-valid").default)}catch{}function wO(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(g2(s)||t===!0&&lp(s)||!e&&!lp(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function d1(n,e,t){return typeof n=="string"?n:Ne.transform(e+t*n)}function SO(n,e,t){const r=d1(e,n.x,n.width),s=d1(t,n.y,n.height);return`${r} ${s}`}const _O={offset:"stroke-dashoffset",array:"stroke-dasharray"},EO={offset:"strokeDashoffset",array:"strokeDasharray"};function TO(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?_O:EO;n[a.offset]=Ne.transform(-r);const l=Ne.transform(e),d=Ne.transform(t);n[a.array]=`${l} ${d}`}function Dv(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:h=0,...f},g,y,w){if(Pv(n,f,g,w),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T,dimensions:P}=n;_.transform&&(P&&(T.transform=_.transform),delete _.transform),P&&(s!==void 0||a!==void 0||T.transform)&&(T.transformOrigin=SO(P,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),r!==void 0&&(_.scale=r),l!==void 0&&TO(_,l,d,h,!1)}const y2=()=>({...Rv(),attrs:{}}),Mv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function kO(n,e,t,r){const s=N.useMemo(()=>{const a=y2();return Dv(a,e,{enableHardwareAcceleration:!1},Mv(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};m2(a,n.style,n),s.style={...a,...s.style}}return s}function AO(n=!1){return(t,r,s,{latestValues:a},l)=>{const h=(jv(t)?kO:vO)(r,a,l,t),g={...wO(r,typeof t=="string",n),...h,ref:s},{children:y}=r,w=N.useMemo(()=>En(y)?y.get():y,[y]);return N.createElement(t,{...g,children:w})}}function v2(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const x2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b2(n,e,t,r){v2(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(x2.has(s)?s:Av(s),e.attrs[s])}function Lv(n,e){const{style:t}=n,r={};for(const s in t)(En(t[s])||e.style&&En(e.style[s])||u2(s,n))&&(r[s]=t[s]);return r}function w2(n,e){const t=Lv(n,e);for(const r in n)if(En(n[r])||En(e[r])){const s=Iu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function Ov(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function S2(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const cp=n=>Array.isArray(n),CO=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),IO=n=>cp(n)?n[n.length-1]||0:n;function Nh(n){const e=En(n)?n.get():n;return CO(e)?e.toValue():e}function NO({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,a){const l={latestValues:jO(r,s,a,n),renderState:e()};return t&&(l.mount=d=>t(r,d,l)),l}const _2=n=>(e,t)=>{const r=N.useContext(Qp),s=N.useContext(Jp),a=()=>NO(n,e,r,s);return t?a():S2(a)};function jO(n,e,t,r){const s={},a=r(n,{});for(const w in a)s[w]=Nh(a[w]);let{initial:l,animate:d}=n;const h=Zp(n),f=l2(n);e&&f&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?d:l;return y&&typeof y!="boolean"&&!Xp(y)&&(Array.isArray(y)?y:[y]).forEach(_=>{const T=Ov(n,_);if(!T)return;const{transitionEnd:P,transition:C,...U}=T;for(const D in U){let I=U[D];if(Array.isArray(I)){const $=g?I.length-1:0;I=I[$]}I!==null&&(s[D]=I)}for(const D in P)s[D]=P[D]}),s}const Tt=n=>n;class h1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function PO(n){let e=new h1,t=new h1,r=0,s=!1,a=!1;const l=new WeakSet,d={schedule:(h,f=!1,g=!1)=>{const y=g&&s,w=y?e:t;return f&&l.add(h),w.add(h)&&y&&s&&(r=e.order.length),h},cancel:h=>{t.remove(h),l.delete(h)},process:h=>{if(s){a=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let f=0;f<r;f++){const g=e.order[f];g(h),l.has(g)&&(d.schedule(g),n())}s=!1,a&&(a=!1,d.process(h))}};return d}const dh=["prepare","read","update","preRender","render","postRender"],RO=40;function DO(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=dh.reduce((y,w)=>(y[w]=PO(()=>t=!0),y),{}),l=y=>a[y].process(s),d=()=>{const y=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,RO),1),s.timestamp=y,s.isProcessing=!0,dh.forEach(l),s.isProcessing=!1,t&&e&&(r=!1,n(d))},h=()=>{t=!0,r=!0,s.isProcessing||n(d)};return{schedule:dh.reduce((y,w)=>{const _=a[w];return y[w]=(T,P=!1,C=!1)=>(t||h(),_.schedule(T,P,C)),y},{}),cancel:y=>dh.forEach(w=>a[w].cancel(y)),state:s,steps:a}}const{schedule:ot,cancel:Ms,state:sn,steps:eg}=DO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),MO={useVisualState:_2({scrapeMotionValuesFromProps:w2,createRenderState:y2,onMount:(n,e,{renderState:t,latestValues:r})=>{ot.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{Dv(t,r,{enableHardwareAcceleration:!1},Mv(e.tagName),n.transformTemplate),b2(e,t)})}})},LO={useVisualState:_2({scrapeMotionValuesFromProps:Lv,createRenderState:Rv})};function OO(n,{forwardMotionProps:e=!1},t,r){return{...jv(n)?MO:LO,preloadedFeatures:t,useRender:AO(e),createVisualElement:r,Component:n}}function Es(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const E2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function tf(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const VO=n=>e=>E2(e)&&n(e,tf(e));function As(n,e,t,r){return Es(n,e,VO(t),r)}const FO=(n,e)=>t=>e(n(t)),ji=(...n)=>n.reduce(FO);function T2(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const p1=T2("dragHorizontal"),f1=T2("dragVertical");function k2(n){let e=!1;if(n==="y")e=f1();else if(n==="x")e=p1();else{const t=p1(),r=f1();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function A2(){const n=k2(!0);return n?(n(),!1):!0}class qi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function m1(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||A2())return;const d=n.getProps();n.animationState&&d.whileHover&&n.animationState.setActive("whileHover",e),d[r]&&ot.update(()=>d[r](a,l))};return As(n.current,t,s,{passive:!n.getProps()[r]})}class UO extends qi{mount(){this.unmount=ji(m1(this.node,!0),m1(this.node,!1))}unmount(){}}class BO extends qi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ji(Es(this.node.current,"focus",()=>this.onFocus()),Es(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const C2=(n,e)=>e?n===e?!0:C2(n,e.parentElement):!1;function tg(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,tf(t))}class $O extends qi{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=As(window,"pointerup",(d,h)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:g,globalTapTarget:y}=this.node.getProps();ot.update(()=>{!y&&!C2(this.node.current,d.target)?g&&g(d,h):f&&f(d,h)})},{passive:!(r.onTap||r.onPointerUp)}),l=As(window,"pointercancel",(d,h)=>this.cancelPress(d,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ji(a,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=d=>{d.key!=="Enter"||!this.checkPressEnd()||tg("up",(h,f)=>{const{onTap:g}=this.node.getProps();g&&ot.update(()=>g(h,f))})};this.removeEndListeners(),this.removeEndListeners=Es(this.node.current,"keyup",l),tg("down",(d,h)=>{this.startPress(d,h)})},t=Es(this.node.current,"keydown",e),r=()=>{this.isPressing&&tg("cancel",(a,l)=>this.cancelPress(a,l))},s=Es(this.node.current,"blur",r);this.removeAccessibleListeners=ji(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!A2()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=As(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Es(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ji(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const sy=new WeakMap,ng=new WeakMap,zO=n=>{const e=sy.get(n.target);e&&e(n)},HO=n=>{n.forEach(zO)};function qO({root:n,...e}){const t=n||document;ng.has(t)||ng.set(t,{});const r=ng.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(HO,{root:n,...e})),r[s]}function WO(n,e,t){const r=qO(e);return sy.set(n,t),r.observe(n),()=>{sy.delete(n),r.unobserve(n)}}const GO={some:0,all:1};class KO extends qi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:GO[s]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,a&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),w=f?g:y;w&&w(h)};return WO(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(QO(e,t))&&this.startObserver()}unmount(){}}function QO({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const JO={inView:{Feature:KO},tap:{Feature:$O},focus:{Feature:BO},hover:{Feature:UO}};function I2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function YO(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function XO(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function nf(n,e,t){const r=n.getProps();return Ov(r,e,t!==void 0?t:r.custom,YO(n),XO(n))}let Vv=Tt;const Mo=n=>n*1e3,Cs=n=>n/1e3,ZO={current:!1},N2=n=>Array.isArray(n)&&typeof n[0]=="number";function j2(n){return!!(!n||typeof n=="string"&&P2[n]||N2(n)||Array.isArray(n)&&n.every(j2))}const Pc=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,P2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pc([0,.65,.55,1]),circOut:Pc([.55,0,1,.45]),backIn:Pc([.31,.01,.66,-.59]),backOut:Pc([.33,1.53,.69,.99])};function R2(n){if(n)return N2(n)?Pc(n):Array.isArray(n)?n.map(R2):P2[n]}function e5(n,e,t,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:d,times:h}={}){const f={[e]:t};h&&(f.offset=h);const g=R2(d);return Array.isArray(g)&&(f.easing=g),n.animate(f,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function t5(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const D2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,n5=1e-7,r5=12;function s5(n,e,t,r,s){let a,l,d=0;do l=e+(t-e)/2,a=D2(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>n5&&++d<r5);return l}function Pu(n,e,t,r){if(n===e&&t===r)return Tt;const s=a=>s5(a,0,1,n,t);return a=>a===0||a===1?a:D2(s(a),e,r)}const i5=Pu(.42,0,1,1),o5=Pu(0,0,.58,1),M2=Pu(.42,0,.58,1),a5=n=>Array.isArray(n)&&typeof n[0]!="number",L2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,O2=n=>e=>1-n(1-e),Fv=n=>1-Math.sin(Math.acos(n)),V2=O2(Fv),l5=L2(Fv),F2=Pu(.33,1.53,.69,.99),Uv=O2(F2),c5=L2(Uv),u5=n=>(n*=2)<1?.5*Uv(n):.5*(2-Math.pow(2,-10*(n-1))),d5={linear:Tt,easeIn:i5,easeInOut:M2,easeOut:o5,circIn:Fv,circInOut:l5,circOut:V2,backIn:Uv,backInOut:c5,backOut:F2,anticipate:u5},g1=n=>{if(Array.isArray(n)){Vv(n.length===4);const[e,t,r,s]=n;return Pu(e,t,r,s)}else if(typeof n=="string")return d5[n];return n},Bv=(n,e)=>t=>!!(Nu(t)&&pO.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),U2=(n,e,t)=>r=>{if(!Nu(r))return r;const[s,a,l,d]=r.match(ef);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},h5=n=>Ui(0,255,n),rg={...na,transform:n=>Math.round(h5(n))},Io={test:Bv("rgb","red"),parse:U2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+rg.transform(n)+", "+rg.transform(e)+", "+rg.transform(t)+", "+qc(Hc.transform(r))+")"};function p5(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const iy={test:Bv("#"),parse:p5,transform:Io.transform},nl={test:Bv("hsl","hue"),parse:U2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Qr.transform(qc(e))+", "+Qr.transform(qc(t))+", "+qc(Hc.transform(r))+")"},pn={test:n=>Io.test(n)||iy.test(n)||nl.test(n),parse:n=>Io.test(n)?Io.parse(n):nl.test(n)?nl.parse(n):iy.parse(n),transform:n=>Nu(n)?n:n.hasOwnProperty("red")?Io.transform(n):nl.transform(n)},pt=(n,e,t)=>-t*n+t*e+n;function sg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function f5({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const d=t<.5?t*(1+e):t+e-t*e,h=2*t-d;s=sg(h,d,n+1/3),a=sg(h,d,n),l=sg(h,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const ig=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},m5=[iy,Io,nl],g5=n=>m5.find(e=>e.test(n));function y1(n){const e=g5(n);let t=e.parse(n);return e===nl&&(t=f5(t)),t}const B2=(n,e)=>{const t=y1(n),r=y1(e),s={...t};return a=>(s.red=ig(t.red,r.red,a),s.green=ig(t.green,r.green,a),s.blue=ig(t.blue,r.blue,a),s.alpha=pt(t.alpha,r.alpha,a),Io.transform(s))};function y5(n){var e,t;return isNaN(n)&&Nu(n)&&(((e=n.match(ef))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(p2))===null||t===void 0?void 0:t.length)||0)>0}const $2={regex:dO,countKey:"Vars",token:"${v}",parse:Tt},z2={regex:p2,countKey:"Colors",token:"${c}",parse:pn.parse},H2={regex:ef,countKey:"Numbers",token:"${n}",parse:na.parse};function og(n,{regex:e,countKey:t,token:r,parse:s}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(s)))}function up(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&og(t,$2),og(t,z2),og(t,H2),t}function q2(n){return up(n).values}function W2(n){const{values:e,numColors:t,numVars:r,tokenised:s}=up(n),a=e.length;return l=>{let d=s;for(let h=0;h<a;h++)h<r?d=d.replace($2.token,l[h]):h<r+t?d=d.replace(z2.token,pn.transform(l[h])):d=d.replace(H2.token,qc(l[h]));return d}}const v5=n=>typeof n=="number"?0:n;function x5(n){const e=q2(n);return W2(n)(e.map(v5))}const Bi={test:y5,parse:q2,createTransformer:W2,getAnimatableNone:x5},G2=(n,e)=>t=>`${t>0?e:n}`;function K2(n,e){return typeof n=="number"?t=>pt(n,e,t):pn.test(n)?B2(n,e):n.startsWith("var(")?G2(n,e):J2(n,e)}const Q2=(n,e)=>{const t=[...n],r=t.length,s=n.map((a,l)=>K2(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}},b5=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=K2(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}},J2=(n,e)=>{const t=Bi.createTransformer(e),r=up(n),s=up(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?ji(Q2(r.values,s.values),t):G2(n,e)},hu=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},v1=(n,e)=>t=>pt(n,e,t);function w5(n){return typeof n=="number"?v1:typeof n=="string"?pn.test(n)?B2:J2:Array.isArray(n)?Q2:typeof n=="object"?b5:v1}function S5(n,e,t){const r=[],s=t||w5(n[0]),a=n.length-1;for(let l=0;l<a;l++){let d=s(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||Tt:e;d=ji(h,d)}r.push(d)}return r}function Y2(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(Vv(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=S5(e,r,s),d=l.length,h=f=>{let g=0;if(d>1)for(;g<n.length-2&&!(f<n[g+1]);g++);const y=hu(n[g],n[g+1],f);return l[g](y)};return t?f=>h(Ui(n[0],n[a-1],f)):h}function _5(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=hu(0,e,r);n.push(pt(t,1,s))}}function E5(n){const e=[0];return _5(e,n.length-1),e}function T5(n,e){return n.map(t=>t*e)}function k5(n,e){return n.map(()=>e||M2).splice(0,n.length-1)}function dp({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=a5(r)?r.map(g1):g1(r),a={done:!1,value:e[0]},l=T5(t&&t.length===e.length?t:E5(e),n),d=Y2(l,e,{ease:Array.isArray(s)?s:k5(e,s)});return{calculatedDuration:n,next:h=>(a.value=d(h),a.done=h>=n,a)}}function X2(n,e){return e?n*(1e3/e):0}const A5=5;function Z2(n,e,t){const r=Math.max(e-A5,0);return X2(t-n(r),e-r)}const ag=.001,C5=.01,I5=10,N5=.05,j5=1;function P5({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,a,l=1-e;l=Ui(N5,j5,l),n=Ui(C5,I5,Cs(n)),l<1?(s=f=>{const g=f*l,y=g*n,w=g-t,_=oy(f,l),T=Math.exp(-y);return ag-w/_*T},a=f=>{const y=f*l*n,w=y*t+t,_=Math.pow(l,2)*Math.pow(f,2)*n,T=Math.exp(-y),P=oy(Math.pow(f,2),l);return(-s(f)+ag>0?-1:1)*((w-_)*T)/P}):(s=f=>{const g=Math.exp(-f*n),y=(f-t)*n+1;return-ag+g*y},a=f=>{const g=Math.exp(-f*n),y=(t-f)*(n*n);return g*y});const d=5/n,h=D5(s,a,d);if(n=Mo(n),isNaN(h))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:n}}}const R5=12;function D5(n,e,t){let r=t;for(let s=1;s<R5;s++)r=r-n(r)/e(r);return r}function oy(n,e){return n*Math.sqrt(1-e*e)}const M5=["duration","bounce"],L5=["stiffness","damping","mass"];function x1(n,e){return e.some(t=>n[t]!==void 0)}function O5(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!x1(n,L5)&&x1(n,M5)){const t=P5(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function ek({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],a=n[n.length-1],l={done:!1,value:s},{stiffness:d,damping:h,mass:f,duration:g,velocity:y,isResolvedFromDuration:w}=O5({...r,velocity:-Cs(r.velocity||0)}),_=y||0,T=h/(2*Math.sqrt(d*f)),P=a-s,C=Cs(Math.sqrt(d/f)),U=Math.abs(P)<5;t||(t=U?.01:2),e||(e=U?.005:.5);let D;if(T<1){const I=oy(C,T);D=$=>{const Q=Math.exp(-T*C*$);return a-Q*((_+T*C*P)/I*Math.sin(I*$)+P*Math.cos(I*$))}}else if(T===1)D=I=>a-Math.exp(-C*I)*(P+(_+C*P)*I);else{const I=C*Math.sqrt(T*T-1);D=$=>{const Q=Math.exp(-T*C*$),G=Math.min(I*$,300);return a-Q*((_+T*C*P)*Math.sinh(G)+I*P*Math.cosh(G))/I}}return{calculatedDuration:w&&g||null,next:I=>{const $=D(I);if(w)l.done=I>=g;else{let Q=_;I!==0&&(T<1?Q=Z2(D,I,$):Q=0);const G=Math.abs(Q)<=t,A=Math.abs(a-$)<=e;l.done=G&&A}return l.value=l.done?a:$,l}}}function b1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:h,restDelta:f=.5,restSpeed:g}){const y=n[0],w={done:!1,value:y},_=E=>d!==void 0&&E<d||h!==void 0&&E>h,T=E=>d===void 0?h:h===void 0||Math.abs(d-E)<Math.abs(h-E)?d:h;let P=t*e;const C=y+P,U=l===void 0?C:l(C);U!==C&&(P=U-y);const D=E=>-P*Math.exp(-E/r),I=E=>U+D(E),$=E=>{const R=D(E),L=I(E);w.done=Math.abs(R)<=f,w.value=w.done?U:L};let Q,G;const A=E=>{_(w.value)&&(Q=E,G=ek({keyframes:[w.value,T(w.value)],velocity:Z2(I,E,w.value),damping:s,stiffness:a,restDelta:f,restSpeed:g}))};return A(0),{calculatedDuration:null,next:E=>{let R=!1;return!G&&Q===void 0&&(R=!0,$(E),A(E)),Q!==void 0&&E>Q?G.next(E-Q):(!R&&$(E),w)}}}const V5=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ot.update(e,!0),stop:()=>Ms(e),now:()=>sn.isProcessing?sn.timestamp:performance.now()}},w1=2e4;function S1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<w1;)e+=t,r=n.next(e);return e>=w1?1/0:e}const F5={decay:b1,inertia:b1,tween:dp,keyframes:dp,spring:ek};function hp({autoplay:n=!0,delay:e=0,driver:t=V5,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:d="loop",onPlay:h,onStop:f,onComplete:g,onUpdate:y,...w}){let _=1,T=!1,P,C;const U=()=>{C=new Promise(V=>{P=V})};U();let D;const I=F5[s]||dp;let $;I!==dp&&typeof r[0]!="number"&&($=Y2([0,100],r,{clamp:!1}),r=[0,100]);const Q=I({...w,keyframes:r});let G;d==="mirror"&&(G=I({...w,keyframes:[...r].reverse(),velocity:-(w.velocity||0)}));let A="idle",E=null,R=null,L=null;Q.calculatedDuration===null&&a&&(Q.calculatedDuration=S1(Q));const{calculatedDuration:F}=Q;let z=1/0,M=1/0;F!==null&&(z=F+l,M=z*(a+1)-l);let we=0;const _e=V=>{if(R===null)return;_>0&&(R=Math.min(R,V)),_<0&&(R=Math.min(V-M/_,R)),E!==null?we=E:we=Math.round(V-R)*_;const Z=we-e*(_>=0?1:-1),Ae=_>=0?Z<0:Z>M;we=Math.max(Z,0),A==="finished"&&E===null&&(we=M);let Te=we,Le=Q;if(a){const pe=Math.min(we,M)/z;let de=Math.floor(pe),et=pe%1;!et&&pe>=1&&(et=1),et===1&&de--,de=Math.min(de,a+1),!!(de%2)&&(d==="reverse"?(et=1-et,l&&(et-=l/z)):d==="mirror"&&(Le=G)),Te=Ui(0,1,et)*z}const Oe=Ae?{done:!1,value:r[0]}:Le.next(Te);$&&(Oe.value=$(Oe.value));let{done:Ge}=Oe;!Ae&&F!==null&&(Ge=_>=0?we>=M:we<=0);const ee=E===null&&(A==="finished"||A==="running"&&Ge);return y&&y(Oe.value),ee&&oe(),Oe},ve=()=>{D&&D.stop(),D=void 0},Ue=()=>{A="idle",ve(),P(),U(),R=L=null},oe=()=>{A="finished",g&&g(),ve(),P()},ne=()=>{if(T)return;D||(D=t(_e));const V=D.now();h&&h(),E!==null?R=V-E:(!R||A==="finished")&&(R=V),A==="finished"&&U(),L=R,E=null,A="running",D.start()};n&&ne();const se={then(V,Z){return C.then(V,Z)},get time(){return Cs(we)},set time(V){V=Mo(V),we=V,E!==null||!D||_===0?E=V:R=D.now()-V/_},get duration(){const V=Q.calculatedDuration===null?S1(Q):Q.calculatedDuration;return Cs(V)},get speed(){return _},set speed(V){V===_||!D||(_=V,se.time=Cs(we))},get state(){return A},play:ne,pause:()=>{A="paused",E=we},stop:()=>{T=!0,A!=="idle"&&(A="idle",f&&f(),Ue())},cancel:()=>{L!==null&&_e(L),Ue()},complete:()=>{A="finished"},sample:V=>(R=0,_e(V))};return se}function U5(n){let e;return()=>(e===void 0&&(e=n()),e)}const B5=U5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hh=10,z5=2e4,H5=(n,e)=>e.type==="spring"||n==="backgroundColor"||!j2(e.ease);function q5(n,e,{onUpdate:t,onComplete:r,...s}){if(!(B5()&&$5.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,d,h,f=!1;const g=()=>{h=new Promise(I=>{d=I})};g();let{keyframes:y,duration:w=300,ease:_,times:T}=s;if(H5(e,s)){const I=hp({...s,repeat:0,delay:0});let $={done:!1,value:y[0]};const Q=[];let G=0;for(;!$.done&&G<z5;)$=I.sample(G),Q.push($.value),G+=hh;T=void 0,y=Q,w=G-hh,_="linear"}const P=e5(n.owner.current,e,y,{...s,duration:w,ease:_,times:T}),C=()=>{f=!1,P.cancel()},U=()=>{f=!0,ot.update(C),d(),g()};return P.onfinish=()=>{f||(n.set(t5(y,s)),r&&r(),U())},{then(I,$){return h.then(I,$)},attachTimeline(I){return P.timeline=I,P.onfinish=null,Tt},get time(){return Cs(P.currentTime||0)},set time(I){P.currentTime=Mo(I)},get speed(){return P.playbackRate},set speed(I){P.playbackRate=I},get duration(){return Cs(w)},play:()=>{l||(P.play(),Ms(C))},pause:()=>P.pause(),stop:()=>{if(l=!0,P.playState==="idle")return;const{currentTime:I}=P;if(I){const $=hp({...s,autoplay:!1});n.setWithVelocity($.sample(I-hh).value,$.sample(I).value,hh)}U()},complete:()=>{f||P.finish()},cancel:U}}function W5({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Tt,pause:Tt,stop:Tt,then:a=>(a(),Promise.resolve()),cancel:Tt,complete:Tt});return e?hp({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const G5={type:"spring",stiffness:500,damping:25,restSpeed:10},K5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Q5={type:"keyframes",duration:.8},J5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y5=(n,{keyframes:e})=>e.length>2?Q5:ta.has(n)?n.startsWith("scale")?K5(e[1]):G5:J5,ay=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bi.test(e)||e==="0")&&!e.startsWith("url(")),X5=new Set(["brightness","contrast","saturate","opacity"]);function Z5(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ef)||[];if(!r)return n;const s=t.replace(r,"");let a=X5.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const eV=/([a-z-]*)\(.*?\)/g,ly={...Bi,getAnimatableNone:n=>{const e=n.match(eV);return e?e.map(Z5).join(" "):n}},tV={...f2,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:ly,WebkitFilter:ly},$v=n=>tV[n];function tk(n,e){let t=$v(n);return t!==ly&&(t=Bi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const nk=n=>/^0[^.\s]+$/.test(n);function nV(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||nk(n)}function rV(n,e,t,r){const s=ay(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const l=r.from!==void 0?r.from:n.get();let d;const h=[];for(let f=0;f<a.length;f++)a[f]===null&&(a[f]=f===0?l:a[f-1]),nV(a[f])&&h.push(f),typeof a[f]=="string"&&a[f]!=="none"&&a[f]!=="0"&&(d=a[f]);if(s&&h.length&&d)for(let f=0;f<h.length;f++){const g=h[f];a[g]=tk(e,d)}return a}function sV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}function zv(n,e){return n[e]||n.default||n}const iV={skipAnimations:!1},Hv=(n,e,t,r={})=>s=>{const a=zv(r,n)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Mo(l);const h=rV(e,n,t,a),f=h[0],g=h[h.length-1],y=ay(n,f),w=ay(n,g);let _={keyframes:h,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-d,onUpdate:T=>{e.set(T),a.onUpdate&&a.onUpdate(T)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(sV(a)||(_={..._,...Y5(n,_)}),_.duration&&(_.duration=Mo(_.duration)),_.repeatDelay&&(_.repeatDelay=Mo(_.repeatDelay)),!y||!w||ZO.current||a.type===!1||iV.skipAnimations)return W5(_);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=q5(e,n,_);if(T)return T}return hp(_)};function pp(n){return!!(En(n)&&n.add)}const rk=n=>/^\-?\d*\.?\d+$/.test(n);function qv(n,e){n.indexOf(e)===-1&&n.push(e)}function Wv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Gv{constructor(){this.subscriptions=[]}add(e){return qv(this.subscriptions,e),()=>Wv(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oV=n=>!isNaN(parseFloat(n));class aV{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=sn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=oV(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Gv);const r=this.events[e].add(t);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?X2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(n,e){return new aV(n,e)}const sk=n=>e=>e.test(n),lV={test:n=>n==="auto",parse:n=>n},ik=[na,Ne,Qr,fi,mO,fO,lV],kc=n=>ik.find(sk(n)),cV=[...ik,pn,Bi],uV=n=>cV.find(sk(n));function dV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,yl(t))}function hV(n,e){const t=nf(n,e);let{transitionEnd:r={},transition:s={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const d=IO(a[l]);dV(n,l,d)}}function pV(n,e,t){var r,s;const a=Object.keys(e).filter(d=>!n.hasValue(d)),l=a.length;if(l)for(let d=0;d<l;d++){const h=a[d],f=e[h];let g=null;Array.isArray(f)&&(g=f[0]),g===null&&(g=(s=(r=t[h])!==null&&r!==void 0?r:n.readValue(h))!==null&&s!==void 0?s:e[h]),g!=null&&(typeof g=="string"&&(rk(g)||nk(g))?g=parseFloat(g):!uV(g)&&Bi.test(f)&&(g=tk(h,f)),n.addValue(h,yl(g,{owner:n})),t[h]===void 0&&(t[h]=g),g!==null&&n.setBaseTarget(h,g))}}function fV(n,e){return e?(e[n]||e.default||e).from:void 0}function mV(n,e,t){const r={};for(const s in n){const a=fV(s,e);if(a!==void 0)r[s]=a;else{const l=t.getValue(s);l&&(r[s]=l.get())}}return r}function gV({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function yV(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function ok(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...d}=n.makeTargetAnimatable(e);const h=n.getValue("willChange");r&&(a=r);const f=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in d){const w=n.getValue(y),_=d[y];if(!w||_===void 0||g&&gV(g,y))continue;const T={delay:t,elapsed:0,...zv(a||{},y)};if(window.HandoffAppearAnimations){const U=n.getProps()[a2];if(U){const D=window.HandoffAppearAnimations(U,y,w,ot);D!==null&&(T.elapsed=D,T.isHandoff=!0)}}let P=!T.isHandoff&&!yV(w,_);if(T.type==="spring"&&(w.getVelocity()||T.velocity)&&(P=!1),w.animation&&(P=!1),P)continue;w.start(Hv(y,w,_,n.shouldReduceMotion&&ta.has(y)?{type:!1}:T));const C=w.animation;pp(h)&&(h.add(y),C.then(()=>h.remove(y))),f.push(C)}return l&&Promise.all(f).then(()=>{l&&hV(n,l)}),f}function cy(n,e,t={}){const r=nf(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(ok(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:y}=s;return vV(n,e,f+h,g,y,t)}:()=>Promise.resolve(),{when:d}=s;if(d){const[h,f]=d==="beforeChildren"?[a,l]:[l,a];return h().then(()=>f())}else return Promise.all([a(),l(t.delay)])}function vV(n,e,t=0,r=0,s=1,a){const l=[],d=(n.variantChildren.size-1)*r,h=s===1?(f=0)=>f*r:(f=0)=>d-f*r;return Array.from(n.variantChildren).sort(xV).forEach((f,g)=>{f.notify("AnimationStart",e),l.push(cy(f,e,{...a,delay:t+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function xV(n,e){return n.sortNodePosition(e)}function bV(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>cy(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=cy(n,e,t);else{const s=typeof e=="function"?nf(n,e,t.custom):e;r=Promise.all(ok(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const wV=[...Cv].reverse(),SV=Cv.length;function _V(n){return e=>Promise.all(e.map(({animation:t,options:r})=>bV(n,t,r)))}function EV(n){let e=_V(n);const t=kV();let r=!0;const s=(h,f)=>{const g=nf(n,f);if(g){const{transition:y,transitionEnd:w,..._}=g;h={...h,..._,...w}}return h};function a(h){e=h(n)}function l(h,f){const g=n.getProps(),y=n.getVariantContext(!0)||{},w=[],_=new Set;let T={},P=1/0;for(let U=0;U<SV;U++){const D=wV[U],I=t[D],$=g[D]!==void 0?g[D]:y[D],Q=uu($),G=D===f?I.isActive:null;G===!1&&(P=U);let A=$===y[D]&&$!==g[D]&&Q;if(A&&r&&n.manuallyAnimateOnMount&&(A=!1),I.protectedKeys={...T},!I.isActive&&G===null||!$&&!I.prevProp||Xp($)||typeof $=="boolean")continue;let R=TV(I.prevProp,$)||D===f&&I.isActive&&!A&&Q||U>P&&Q,L=!1;const F=Array.isArray($)?$:[$];let z=F.reduce(s,{});G===!1&&(z={});const{prevResolvedValues:M={}}=I,we={...M,...z},_e=ve=>{R=!0,_.has(ve)&&(L=!0,_.delete(ve)),I.needsAnimating[ve]=!0};for(const ve in we){const Ue=z[ve],oe=M[ve];if(T.hasOwnProperty(ve))continue;let ne=!1;cp(Ue)&&cp(oe)?ne=!I2(Ue,oe):ne=Ue!==oe,ne?Ue!==void 0?_e(ve):_.add(ve):Ue!==void 0&&_.has(ve)?_e(ve):I.protectedKeys[ve]=!0}I.prevProp=$,I.prevResolvedValues=z,I.isActive&&(T={...T,...z}),r&&n.blockInitialAnimation&&(R=!1),R&&(!A||L)&&w.push(...F.map(ve=>({animation:ve,options:{type:D,...h}})))}if(_.size){const U={};_.forEach(D=>{const I=n.getBaseTarget(D);I!==void 0&&(U[D]=I)}),w.push({animation:U})}let C=!!w.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(w):Promise.resolve()}function d(h,f,g){var y;if(t[h].isActive===f)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(_=>{var T;return(T=_.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),t[h].isActive=f;const w=l(g,h);for(const _ in t)t[_].protectedKeys={};return w}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>t}}function TV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!I2(e,n):!1}function bo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kV(){return{animate:bo(!0),whileInView:bo(),whileHover:bo(),whileTap:bo(),whileDrag:bo(),whileFocus:bo(),exit:bo()}}class AV extends qi{constructor(e){super(e),e.animationState||(e.animationState=EV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Xp(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let CV=0;class IV extends qi{constructor(){super(...arguments),this.id=CV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const NV={animation:{Feature:AV},exit:{Feature:IV}},_1=(n,e)=>Math.abs(n-e);function jV(n,e){const t=_1(n.x,e.x),r=_1(n.y,e.y);return Math.sqrt(t**2+r**2)}class ak{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=cg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,_=jV(y.offset,{x:0,y:0})>=3;if(!w&&!_)return;const{point:T}=y,{timestamp:P}=sn;this.history.push({...T,timestamp:P});const{onStart:C,onMove:U}=this.handlers;w||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=lg(w,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=cg(y.type==="pointercancel"?this.lastMoveEventInfo:lg(w,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,C),T&&T(y,C)},!E2(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=tf(e),d=lg(l,this.transformPagePoint),{point:h}=d,{timestamp:f}=sn;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=t;g&&g(e,cg(d,this.history)),this.removeListeners=ji(As(this.contextWindow,"pointermove",this.handlePointerMove),As(this.contextWindow,"pointerup",this.handlePointerUp),As(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ms(this.updatePoint)}}function lg(n,e){return e?{point:e(n.point)}:n}function E1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cg({point:n},e){return{point:n,delta:E1(n,lk(e)),offset:E1(n,PV(e)),velocity:RV(e,.1)}}function PV(n){return n[0]}function lk(n){return n[n.length-1]}function RV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=lk(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Mo(e)));)t--;if(!r)return{x:0,y:0};const a=Cs(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function On(n){return n.max-n.min}function uy(n,e=0,t=.01){return Math.abs(n-e)<=t}function T1(n,e,t,r=.5){n.origin=r,n.originPoint=pt(e.min,e.max,n.origin),n.scale=On(t)/On(e),(uy(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=pt(t.min,t.max,n.origin)-n.originPoint,(uy(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Wc(n,e,t,r){T1(n.x,e.x,t.x,r?r.originX:void 0),T1(n.y,e.y,t.y,r?r.originY:void 0)}function k1(n,e,t){n.min=t.min+e.min,n.max=n.min+On(e)}function DV(n,e,t){k1(n.x,e.x,t.x),k1(n.y,e.y,t.y)}function A1(n,e,t){n.min=e.min-t.min,n.max=n.min+On(e)}function Gc(n,e,t){A1(n.x,e.x,t.x),A1(n.y,e.y,t.y)}function MV(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?pt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?pt(t,n,r.max):Math.min(n,t)),n}function C1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function LV(n,{top:e,left:t,bottom:r,right:s}){return{x:C1(n.x,t,s),y:C1(n.y,e,r)}}function I1(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function OV(n,e){return{x:I1(n.x,e.x),y:I1(n.y,e.y)}}function VV(n,e){let t=.5;const r=On(n),s=On(e);return s>r?t=hu(e.min,e.max-r,n.min):r>s&&(t=hu(n.min,n.max-s,e.min)),Ui(0,1,t)}function FV(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const dy=.35;function UV(n=dy){return n===!1?n=0:n===!0&&(n=dy),{x:N1(n,"left","right"),y:N1(n,"top","bottom")}}function N1(n,e,t){return{min:j1(n,e),max:j1(n,t)}}function j1(n,e){return typeof n=="number"?n:n[e]||0}const P1=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:P1(),y:P1()}),R1=()=>({min:0,max:0}),jt=()=>({x:R1(),y:R1()});function Kn(n){return[n("x"),n("y")]}function ck({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function BV({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $V(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function ug(n){return n===void 0||n===1}function hy({scale:n,scaleX:e,scaleY:t}){return!ug(n)||!ug(e)||!ug(t)}function So(n){return hy(n)||uk(n)||n.z||n.rotate||n.rotateX||n.rotateY}function uk(n){return D1(n.x)||D1(n.y)}function D1(n){return n&&n!=="0%"}function fp(n,e,t){const r=n-t,s=e*r;return t+s}function M1(n,e,t,r,s){return s!==void 0&&(n=fp(n,s,r)),fp(n,t,r)+e}function py(n,e=0,t=1,r,s){n.min=M1(n.min,e,t,r,s),n.max=M1(n.max,e,t,r,s)}function dk(n,{x:e,y:t}){py(n.x,e.translate,e.scale,e.originPoint),py(n.y,t.translate,t.scale,t.originPoint)}function zV(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=t[d],l=a.projectionDelta;const h=a.instance;h&&h.style&&h.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&sl(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,dk(n,l)),r&&So(a.latestValues)&&sl(n,a.latestValues))}e.x=L1(e.x),e.y=L1(e.y)}function L1(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function mi(n,e){n.min=n.min+e,n.max=n.max+e}function O1(n,e,[t,r,s]){const a=e[s]!==void 0?e[s]:.5,l=pt(n.min,n.max,a);py(n,e[t],e[r],l,e.scale)}const HV=["x","scaleX","originX"],qV=["y","scaleY","originY"];function sl(n,e){O1(n.x,e,HV),O1(n.y,e,qV)}function hk(n,e){return ck($V(n.getBoundingClientRect(),e))}function WV(n,e,t){const r=hk(n,t),{scroll:s}=e;return s&&(mi(r.x,s.offset.x),mi(r.y,s.offset.y)),r}const pk=({current:n})=>n?n.ownerDocument.defaultView:null,GV=new WeakMap;class KV{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tf(g,"page").point)},a=(g,y)=>{const{drag:w,dragPropagation:_,onDragStart:T}=this.getProps();if(w&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=k2(w),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(C=>{let U=this.getAxisMotionValue(C).get()||0;if(Qr.test(U)){const{projection:D}=this.visualElement;if(D&&D.layout){const I=D.layout.layoutBox[C];I&&(U=On(I)*(parseFloat(U)/100))}}this.originPoint[C]=U}),T&&ot.update(()=>T(g,y),!1,!0);const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:w,dragDirectionLock:_,onDirectionLock:T,onDrag:P}=this.getProps();if(!w&&!this.openGlobalLock)return;const{offset:C}=y;if(_&&this.currentDirection===null){this.currentDirection=QV(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),P&&P(g,y)},d=(g,y)=>this.stop(g,y),h=()=>Kn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new ak(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:pk(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ot.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!ph(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=MV(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&tl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=LV(s.layoutBox,t):this.constraints=!1,this.elastic=UV(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=FV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=WV(r,s.root,this.visualElement.getTransformPagePoint());let l=OV(s.layout.layoutBox,a);if(t){const d=t(BV(l));this.hasMutatedConstraints=!!d,d&&(l=ck(d))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=Kn(g=>{if(!ph(g,t,this.currentDirection))return;let y=h&&h[g]||{};l&&(y={min:0,max:0});const w=s?200:1e6,_=s?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(f).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Hv(e,r,0,t))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kn(t=>{const{drag:r}=this.getProps();if(!ph(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[t];a.set(e[t]-pt(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!tl(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kn(l=>{const d=this.getAxisMotionValue(l);if(d){const h=d.get();s[l]=VV({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(l=>{if(!ph(l,e,null))return;const d=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];d.set(pt(h,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;GV.set(this.visualElement,this);const e=this.visualElement.current,t=As(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();tl(h)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=Es(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Kn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=dy,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function ph(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function QV(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class JV extends qi{constructor(e){super(e),this.removeGroupControls=Tt,this.removeListeners=Tt,this.controls=new KV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tt}unmount(){this.removeGroupControls(),this.removeListeners()}}const V1=n=>(e,t)=>{n&&ot.update(()=>n(e,t))};class YV extends qi{constructor(){super(...arguments),this.removePointerDownListener=Tt}onPointerDown(e){this.session=new ak(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:V1(e),onStart:V1(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ot.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=As(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function XV(){const n=N.useContext(Jp);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=N.useId();return N.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const jh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ac={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ne.test(n))n=parseFloat(n);else return n;const t=F1(n,e.target.x),r=F1(n,e.target.y);return`${t}% ${r}%`}},ZV={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Bi.parse(n);if(s.length>5)return r;const a=Bi.createTransformer(n),l=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,h=t.y.scale*e.y;s[0+l]/=d,s[1+l]/=h;const f=pt(d,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),a(s)}};class e6 extends Xn.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;aO(t6),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),jh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ot.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fk(n){const[e,t]=XV(),r=N.useContext(Nv);return Xn.createElement(e6,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(c2),isPresent:e,safeToRemove:t})}const t6={borderRadius:{...Ac,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ac,borderTopRightRadius:Ac,borderBottomLeftRadius:Ac,borderBottomRightRadius:Ac,boxShadow:ZV},mk=["TopLeft","TopRight","BottomLeft","BottomRight"],n6=mk.length,U1=n=>typeof n=="string"?parseFloat(n):n,B1=n=>typeof n=="number"||Ne.test(n);function r6(n,e,t,r,s,a){s?(n.opacity=pt(0,t.opacity!==void 0?t.opacity:1,s6(r)),n.opacityExit=pt(e.opacity!==void 0?e.opacity:1,0,i6(r))):a&&(n.opacity=pt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<n6;l++){const d=`border${mk[l]}Radius`;let h=$1(e,d),f=$1(t,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||B1(h)===B1(f)?(n[d]=Math.max(pt(U1(h),U1(f),r),0),(Qr.test(f)||Qr.test(h))&&(n[d]+="%")):n[d]=f}(e.rotate||t.rotate)&&(n.rotate=pt(e.rotate||0,t.rotate||0,r))}function $1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const s6=gk(0,.5,V2),i6=gk(.5,.95,Tt);function gk(n,e,t){return r=>r<n?0:r>e?1:t(hu(n,e,r))}function z1(n,e){n.min=e.min,n.max=e.max}function Gn(n,e){z1(n.x,e.x),z1(n.y,e.y)}function H1(n,e,t,r,s){return n-=e,n=fp(n,1/t,r),s!==void 0&&(n=fp(n,1/s,r)),n}function o6(n,e=0,t=1,r=.5,s,a=n,l=n){if(Qr.test(e)&&(e=parseFloat(e),e=pt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=pt(a.min,a.max,r);n===a&&(d-=e),n.min=H1(n.min,e,t,d,s),n.max=H1(n.max,e,t,d,s)}function q1(n,e,[t,r,s],a,l){o6(n,e[t],e[r],e[s],e.scale,a,l)}const a6=["x","scaleX","originX"],l6=["y","scaleY","originY"];function W1(n,e,t,r){q1(n.x,e,a6,t?t.x:void 0,r?r.x:void 0),q1(n.y,e,l6,t?t.y:void 0,r?r.y:void 0)}function G1(n){return n.translate===0&&n.scale===1}function yk(n){return G1(n.x)&&G1(n.y)}function c6(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function vk(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function K1(n){return On(n.x)/On(n.y)}class u6{constructor(){this.members=[]}add(e){qv(this.members,e),e.scheduleRender()}remove(e){if(Wv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Q1(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:h,rotateX:f,rotateY:g}=t;h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=n.x.scale*e.x,d=n.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const d6=(n,e)=>n.depth-e.depth;class h6{constructor(){this.children=[],this.isDirty=!1}add(e){qv(this.children,e),this.isDirty=!0}remove(e){Wv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(d6),this.isDirty=!1,this.children.forEach(e)}}function p6(n,e){const t=performance.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Ms(r),n(a-e))};return ot.read(r,!0),()=>Ms(r)}function f6(n){window.MotionDebug&&window.MotionDebug.record(n)}function m6(n){return n instanceof SVGElement&&n.tagName!=="svg"}function g6(n,e,t){const r=En(n)?n:yl(n);return r.start(Hv("",r,e,t)),r.animation}const J1=["","X","Y","Z"],y6={visibility:"hidden"},Y1=1e3;let v6=0;const _o={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function xk({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e?.()){this.id=v6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_o.totalNodes=_o.resolvedTargetDeltas=_o.recalculatedProjection=0,this.nodes.forEach(w6),this.nodes.forEach(k6),this.nodes.forEach(A6),this.nodes.forEach(S6),f6(_o)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new h6)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Gv),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const h=this.eventHandlers.get(l);h&&h.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m6(l),this.instance=l;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(f||h)&&(this.isLayoutDirty=!0),n){let y;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=p6(w,250),jh.hasAnimatedSinceResize&&(jh.hasAnimatedSinceResize=!1,this.nodes.forEach(Z1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||P6,{onLayoutAnimationStart:C,onLayoutAnimationComplete:U}=g.getProps(),D=!this.targetLayout||!vk(this.targetLayout,T)||_,I=!w&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||w&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,I);const $={...zv(P,"layout"),onPlay:C,onComplete:U};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($)}else w||Z1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X1);return}this.isUpdating||this.nodes.forEach(E6),this.isUpdating=!1,this.nodes.forEach(T6),this.nodes.forEach(x6),this.nodes.forEach(b6),this.clearAllSnapshots();const d=performance.now();sn.delta=Ui(0,1e3/60,d-sn.timestamp),sn.timestamp=d,sn.isProcessing=!0,eg.update.process(sn),eg.preRender.process(sn),eg.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_6),this.sharedNodes.forEach(I6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!yk(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;l&&(d||So(this.latestValues)||g)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return l&&(h=this.removeTransform(h)),R6(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return jt();const d=l.measureViewportBox(),{scroll:h}=this.root;return h&&(mi(d.x,h.offset.x),mi(d.y,h.offset.y)),d}removeElementScroll(l){const d=jt();Gn(d,l);for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:y}=f;if(f!==this.root&&g&&y.layoutScroll){if(g.isRoot){Gn(d,l);const{scroll:w}=this.root;w&&(mi(d.x,-w.offset.x),mi(d.y,-w.offset.y))}mi(d.x,g.offset.x),mi(d.y,g.offset.y)}}return d}applyTransform(l,d=!1){const h=jt();Gn(h,l);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&sl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),So(g.latestValues)&&sl(h,g.latestValues)}return So(this.latestValues)&&sl(h,this.latestValues),h}removeTransform(l){const d=jt();Gn(d,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!So(f.latestValues))continue;hy(f.latestValues)&&f.updateSnapshot();const g=jt(),y=f.measurePageBox();Gn(g,y),W1(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return So(this.latestValues)&&W1(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Gc(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),dk(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),Gc(this.relativeTargetOrigin,this.target,_.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_o.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hy(this.parent.latestValues)||uk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Gn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,_=this.treeScale.y;zV(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:T}=d;if(!T){this.projectionTransform&&(this.projectionDelta=rl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl());const P=this.projectionTransform;Wc(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=Q1(this.projectionDelta,this.treeScale),(this.projectionTransform!==P||this.treeScale.x!==w||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),_o.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},y=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=jt(),_=h?h.source:void 0,T=this.layout?this.layout.source:void 0,P=_!==T,C=this.getStack(),U=!C||C.members.length<=1,D=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(j6));this.animationProgress=0;let I;this.mixTargetDelta=$=>{const Q=$/1e3;eS(y.x,l.x,Q),eS(y.y,l.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),N6(this.relativeTarget,this.relativeTargetOrigin,w,Q),I&&c6(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=jt()),Gn(I,this.relativeTarget)),P&&(this.animationValues=g,r6(g,f,this.latestValues,Q,D,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{jh.hasAnimatedSinceResize=!0,this.currentAnimation=g6(0,Y1,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=l;if(!(!d||!h||!f)){if(this!==l&&this.layout&&f&&bk(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||jt();const y=On(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const w=On(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}Gn(d,h),sl(d,g),Wc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new u6),this.sharedNodes.get(l).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(d=!0),!d)return;const f={};for(let g=0;g<J1.length;g++){const y="rotate"+J1[g];h[y]&&(f[y]=h[y],l.setStaticValue(y,0))}l.render();for(const g in f)l.setStaticValue(g,f[g]);l.scheduleRender()}getProjectionStyles(l){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return y6;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Nh(l?.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Nh(l?.pointerEvents)||""),this.hasProjected&&!So(this.latestValues)&&(P.transform=g?g({},""):"none",this.hasProjected=!1),P}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=Q1(this.projectionDeltaWithTransform,this.treeScale,w),g&&(f.transform=g(w,f.transform));const{x:_,y:T}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(d=w.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const P in ap){if(w[P]===void 0)continue;const{correct:C,applyTo:U}=ap[P],D=f.transform==="none"?w[P]:C(w[P],y);if(U){const I=U.length;for(let $=0;$<I;$++)f[U[$]]=D}else f[P]=D}return this.options.layoutId&&(f.pointerEvents=y===this?Nh(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(X1),this.root.sharedNodes.clear()}}}function x6(n){n.updateLayout()}function b6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Kn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],_=On(w);w.min=r[y].min,w.max=w.min+_}):bk(a,t.layoutBox,r)&&Kn(y=>{const w=l?t.measuredBox[y]:t.layoutBox[y],_=On(r[y]);w.max=w.min+_,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+_)});const d=rl();Wc(d,r,t.layoutBox);const h=rl();l?Wc(h,n.applyTransform(s,!0),t.measuredBox):Wc(h,r,t.layoutBox);const f=!yk(d);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:_}=y;if(w&&_){const T=jt();Gc(T,t.layoutBox,w.layoutBox);const P=jt();Gc(P,r,_.layoutBox),vk(T,P)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=T,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function w6(n){_o.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function S6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _6(n){n.clearSnapshot()}function X1(n){n.clearMeasurements()}function E6(n){n.isLayoutDirty=!1}function T6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Z1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function k6(n){n.resolveTargetDelta()}function A6(n){n.calcProjection()}function C6(n){n.resetRotation()}function I6(n){n.removeLeadSnapshot()}function eS(n,e,t){n.translate=pt(e.translate,0,t),n.scale=pt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function tS(n,e,t,r){n.min=pt(e.min,t.min,r),n.max=pt(e.max,t.max,r)}function N6(n,e,t,r){tS(n.x,e.x,t.x,r),tS(n.y,e.y,t.y,r)}function j6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const P6={duration:.45,ease:[.4,0,.1,1]},nS=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),rS=nS("applewebkit/")&&!nS("chrome/")?Math.round:Tt;function sS(n){n.min=rS(n.min),n.max=rS(n.max)}function R6(n){sS(n.x),sS(n.y)}function bk(n,e,t){return n==="position"||n==="preserve-aspect"&&!uy(K1(e),K1(t),.2)}const D6=xk({attachResizeListener:(n,e)=>Es(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),dg={current:void 0},wk=xk({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!dg.current){const n=new D6({});n.mount(window),n.setOptions({layoutScroll:!0}),dg.current=n}return dg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),M6={pan:{Feature:YV},drag:{Feature:JV,ProjectionNode:wk,MeasureLayout:fk}},L6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function O6(n){const e=L6.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function fy(n,e,t=1){const[r,s]=O6(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return rk(l)?parseFloat(l):l}else return ry(s)?fy(s,e,t+1):s}function V6(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const a=s.get();if(!ry(a))return;const l=fy(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!ry(a))continue;const l=fy(a,r);l&&(e[s]=l,t||(t={}),t[s]===void 0&&(t[s]=a))}return{target:e,transitionEnd:t}}const F6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Sk=n=>F6.has(n),U6=n=>Object.keys(n).some(Sk),iS=n=>n===na||n===Ne,oS=(n,e)=>parseFloat(n.split(", ")[e]),aS=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return oS(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?oS(a[1],n):0}},B6=new Set(["x","y","z"]),$6=Iu.filter(n=>!B6.has(n));function z6(n){const e=[];return $6.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const vl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:aS(4,13),y:aS(5,14)};vl.translateX=vl.x;vl.translateY=vl.y;const H6=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,d={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(f=>{d[f]=vl[f](r,a)}),e.render();const h=e.measureViewportBox();return t.forEach(f=>{const g=e.getValue(f);g&&g.jump(d[f]),n[f]=vl[f](h,a)}),n},q6=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(Sk);let a=[],l=!1;const d=[];if(s.forEach(h=>{const f=n.getValue(h);if(!n.hasValue(h))return;let g=t[h],y=kc(g);const w=e[h];let _;if(cp(w)){const T=w.length,P=w[0]===null?1:0;g=w[P],y=kc(g);for(let C=P;C<T&&w[C]!==null;C++)_?Vv(kc(w[C])===_):_=kc(w[C])}else _=kc(w);if(y!==_)if(iS(y)&&iS(_)){const T=f.get();typeof T=="string"&&f.set(parseFloat(T)),typeof w=="string"?e[h]=parseFloat(w):Array.isArray(w)&&_===Ne&&(e[h]=w.map(parseFloat))}else y?.transform&&_?.transform&&(g===0||w===0)?g===0?f.set(_.transform(g)):e[h]=y.transform(w):(l||(a=z6(n),l=!0),d.push(h),r[h]=r[h]!==void 0?r[h]:e[h],f.jump(w))}),d.length){const h=d.indexOf("height")>=0?window.pageYOffset:null,f=H6(e,n,d);return a.length&&a.forEach(([g,y])=>{n.getValue(g).set(y)}),n.render(),Yp&&h!==null&&window.scrollTo({top:h}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function W6(n,e,t,r){return U6(e)?q6(n,e,t,r):{target:e,transitionEnd:r}}const G6=(n,e,t,r)=>{const s=V6(n,e,r);return e=s.target,r=s.transitionEnd,W6(n,e,t,r)},my={current:null},_k={current:!1};function K6(){if(_k.current=!0,!!Yp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=n.matches;n.addListener(e),e()}else my.current=!1}function Q6(n,e,t){const{willChange:r}=e;for(const s in e){const a=e[s],l=t[s];if(En(a))n.addValue(s,a),pp(r)&&r.add(s);else if(En(l))n.addValue(s,yl(a,{owner:n})),pp(r)&&r.remove(s);else if(l!==a)if(n.hasValue(s)){const d=n.getValue(s);!d.hasAnimated&&d.set(a)}else{const d=n.getStaticValue(s);n.addValue(s,yl(d!==void 0?d:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const lS=new WeakMap,Ek=Object.keys(du),J6=Ek.length,cS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Y6=Iv.length;class X6{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:d,renderState:h}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=Zp(t),this.isVariantNode=l2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(t,{});for(const y in g){const w=g[y];d[y]!==void 0&&En(w)&&(w.set(d[y],!1),pp(f)&&f.add(y))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,lS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),_k.current||K6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lS.delete(this.current),this.projection&&this.projection.unmount(),Ms(this.notifyUpdate),Ms(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=ta.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,a){let l,d;for(let h=0;h<J6;h++){const f=Ek[h],{isEnabled:g,Feature:y,ProjectionNode:w,MeasureLayout:_}=du[f];w&&(l=w),g(t)&&(!this.features[f]&&y&&(this.features[f]=new y(this)),_&&(d=_))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:f,drag:g,dragConstraints:y,layoutScroll:w,layoutRoot:_}=t;this.projection.setOptions({layoutId:h,layout:f,alwaysMeasureLayout:!!g||y&&tl(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:a,layoutScroll:w,layoutRoot:_})}return d}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<cS.length;r++){const s=cS[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=Q6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<Y6;r++){const s=Iv[r],a=this.props[s];(uu(a)||a===!1)&&(t[s]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=yl(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=Ov(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!En(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Gv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Tk extends X6{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},a){let l=mV(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),l&&(l=s(l))),a){pV(this,r,l);const d=G6(this,r,l,t);t=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:t,...r}}}function Z6(n){return window.getComputedStyle(n)}class eF extends Tk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(ta.has(t)){const r=$v(t);return r&&r.default||0}else{const r=Z6(e),s=(h2(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return hk(e,t)}build(e,t,r,s){Pv(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Lv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){v2(e,t,r,s)}}class tF extends Tk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ta.has(t)){const r=$v(t);return r&&r.default||0}return t=x2.has(t)?t:Av(t),e.getAttribute(t)}measureInstanceViewportBox(){return jt()}scrapeMotionValuesFromProps(e,t){return w2(e,t)}build(e,t,r,s){Dv(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){b2(e,t,r,s)}mount(e){this.isSVGTag=Mv(e.tagName),super.mount(e)}}const nF=(n,e)=>jv(n)?new tF(e,{enableHardwareAcceleration:!1}):new eF(e,{enableHardwareAcceleration:!0}),rF={layout:{ProjectionNode:wk,MeasureLayout:fk}},sF={...NV,...JO,...M6,...rF},he=iO((n,e)=>OO(n,e,sF,nF));function kk(){const n=N.useRef(!1);return kv(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function iF(){const n=kk(),[e,t]=N.useState(0),r=N.useCallback(()=>{n.current&&t(e+1)},[e]);return[N.useCallback(()=>ot.postRender(r),[r]),e]}class oF extends N.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aF({children:n,isPresent:e}){const t=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:a,height:l,top:d,left:h}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${d}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),N.createElement(oF,{isPresent:e,childRef:r,sizeRef:s},N.cloneElement(n,{ref:r}))}const hg=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const d=S2(lF),h=N.useId(),f=N.useMemo(()=>({id:h,initial:e,isPresent:t,custom:s,onExitComplete:g=>{d.set(g,!0);for(const y of d.values())if(!y)return;r&&r()},register:g=>(d.set(g,!1),()=>d.delete(g))}),a?void 0:[t]);return N.useMemo(()=>{d.forEach((g,y)=>d.set(y,!1))},[t]),N.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),l==="popLayout"&&(n=N.createElement(aF,{isPresent:t},n)),N.createElement(Jp.Provider,{value:f},n)};function lF(){return new Map}function cF(n){return N.useEffect(()=>()=>n(),[])}const Eo=n=>n.key||"";function uF(n,e){n.forEach(t=>{const r=Eo(t);e.set(r,t)})}function dF(n){const e=[];return N.Children.forEach(n,t=>{N.isValidElement(t)&&e.push(t)}),e}const zr=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const d=N.useContext(Nv).forceRender||iF()[0],h=kk(),f=dF(n);let g=f;const y=N.useRef(new Map).current,w=N.useRef(g),_=N.useRef(new Map).current,T=N.useRef(!0);if(kv(()=>{T.current=!1,uF(f,_),w.current=g}),cF(()=>{T.current=!0,_.clear(),y.clear()}),T.current)return N.createElement(N.Fragment,null,g.map(D=>N.createElement(hg,{key:Eo(D),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},D)));g=[...g];const P=w.current.map(Eo),C=f.map(Eo),U=P.length;for(let D=0;D<U;D++){const I=P[D];C.indexOf(I)===-1&&!y.has(I)&&y.set(I,void 0)}return l==="wait"&&y.size&&(g=[]),y.forEach((D,I)=>{if(C.indexOf(I)!==-1)return;const $=_.get(I);if(!$)return;const Q=P.indexOf(I);let G=D;if(!G){const A=()=>{y.delete(I);const E=Array.from(_.keys()).filter(R=>!C.includes(R));if(E.forEach(R=>_.delete(R)),w.current=f.filter(R=>{const L=Eo(R);return L===I||E.includes(L)}),!y.size){if(h.current===!1)return;d(),r&&r()}};G=N.createElement(hg,{key:Eo($),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:a,mode:l},$),y.set(I,G)}g.splice(Q,0,G)}),g=g.map(D=>{const I=D.key;return y.has(I)?D:N.createElement(hg,{key:Eo(D),isPresent:!0,presenceAffectsLayout:a,mode:l},D)}),N.createElement(N.Fragment,null,y.size?g:g.map(D=>N.cloneElement(D)))},hF=()=>{const n=[{icon:Ci,title:"AI-Powered Code Generation",description:"Generate code using advanced AI with multiple free services including Groq, Hugging Face, and Ollama."},{icon:vt,title:"170+ Programming Languages",description:"Support for JavaScript, Python, Java, C++, Rust, Go, and many more programming languages."},{icon:yr,title:"Real-time Preview",description:"See your code come to life instantly with our live preview system powered by Monaco Editor."},{icon:au,title:"Secure & Private",description:"Your code stays private. Use local AI models or trusted cloud services with encryption."}],e=[{label:"Languages",value:"170+",icon:vt},{label:"AI Services",value:"4",icon:Ci},{label:"Free Forever",value:"100%",icon:au},{label:"Open Source",value:"Yes",icon:op}];return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("section",{className:"relative overflow-hidden pt-32 pb-20",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-8",children:[c.jsx(lu,{className:"h-4 w-4"}),"AI Development Platform"]}),c.jsxs(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Build with"," ",c.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-light bg-clip-text text-transparent",children:"AI Power"})]}),c.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-foreground mb-12 max-w-2xl mx-auto",children:"The universal AI development platform supporting 170+ programming languages. Generate, edit, and deploy code with artificial intelligence."}),c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[c.jsxs(Qn,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors text-lg font-semibold",children:[c.jsx(Ni,{className:"h-5 w-5"}),"Start Building"]}),c.jsxs("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:[c.jsx(Xr,{className:"h-5 w-5"}),"View on GitHub",c.jsx(qo,{className:"h-4 w-4"})]})]}),c.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((t,r)=>c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[c.jsx(t.icon,{className:"h-5 w-5 text-primary"}),c.jsx("div",{className:"text-2xl font-bold text-primary",children:t.value})]}),c.jsx("div",{className:"text-sm text-foreground",children:t.label})]},r))})]})}),c.jsx("section",{className:"py-20 bg-muted/30",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Everything you need to build with AI"}),c.jsx("p",{className:"text-lg text-foreground max-w-2xl mx-auto",children:"From simple websites to complex applications, DreamBuild provides all the tools you need to bring your ideas to life."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((t,r)=>c.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-lg hover:bg-card/70 transition-all duration-200",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),c.jsx("p",{className:"text-foreground",children:t.description})]},r))})]})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to start building?"}),c.jsx("p",{className:"text-lg text-foreground mb-8",children:"Join thousands of developers who are already using DreamBuild to create amazing applications."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(Qn,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors text-lg font-semibold",children:["Get Started Free",c.jsx(Au,{className:"h-5 w-5"})]}),c.jsx(Qn,{to:"/dashboard",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:"View Dashboard"})]})]})})]})};class pF{constructor(){this.deployments=new Map,this.isDeploying=!1}async deployToFirebase(e,t){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{if(console.log(" Starting Firebase deployment..."),this.isMobileApp(e.files))return console.log(" Mobile app detected - generating build instructions"),await this.deployMobileApp(e,t,"firebase");const s=`deploy_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a={id:s,projectName:t||"dream-app",files:e.files,config:e.config,deployedAt:new Date,status:"uploading",platform:"firebase"},l={};for(const[y,w]of Object.entries(e.files))if(w&&w.trim()){const _=Wa(Ga,`projects/${s}/${y}`),T=new Blob([w],{type:this.getMimeType(y)});await Ha(_,T);const P=await qa(_);l[y]=P}const d=this.createHostedHTML(e.files),h=Wa(Ga,`projects/${s}/index.html`),f=new Blob([d],{type:"text/html"});await Ha(h,f);const g=await qa(h);return await To(bs(Fr,"deployments",s),{...a,status:"completed",hostedURL:g,files:l,completedAt:new Date}),this.deployments.set(s,a),console.log(" Firebase deployment completed:",g),{success:!0,deploymentId:s,url:g,platform:"firebase"}}catch(r){throw console.error(" Firebase deployment failed:",r),new Error(`Firebase deployment failed: ${r.message}`)}finally{this.isDeploying=!1}}async deployToAppleAppStore(e,t){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log(" Starting Apple App Store deployment...");const r=`apple_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(!this.isMobileApp(e.files))throw new Error("Apple App Store deployment is only available for mobile applications");const s=this.detectMobileFramework(e.files);console.log(` Deploying ${s} app to Apple App Store...`);const a=await this.generateMobileAppFiles(e,t,s),l=await this.executeAppleStoreBuild(a,t,s),d={id:r,projectName:t||"mobile-app",files:{...e.files,...a},config:e.config,deployedAt:new Date,status:l.success?"completed":"failed",platform:"apple-app-store",framework:s,buildInstructions:this.generateAppleStoreInstructions(s,t),terminalOutput:l.output,buildCommands:l.commands},h=this.createAppleStoreInstructionsHTML(t,s,d.buildInstructions,l),f=Wa(Ga,`apple-store/${r}/index.html`),g=new Blob([h],{type:"text/html"});await Ha(f,g);const y=await qa(f);return await To(bs(Fr,"deployments",r),{...d,hostedURL:y}),this.deployments.set(r,d),{success:l.success,deploymentId:r,url:y,platform:"apple-app-store",framework:s,buildInstructions:d.buildInstructions,terminalOutput:l.output,buildCommands:l.commands,message:l.success?"Apple App Store build completed successfully! Check the hosted URL for detailed instructions.":"Apple App Store build encountered issues. Check the terminal output for details."}}catch(r){throw console.error(" Apple App Store deployment failed:",r),new Error(`Apple App Store deployment failed: ${r.message}`)}finally{this.isDeploying=!1}}async deployToGooglePlayStore(e,t){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log(" Starting Google Play Store deployment...");const r=`google_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(!this.isMobileApp(e.files))throw new Error("Google Play Store deployment is only available for mobile applications");const s=this.detectMobileFramework(e.files);console.log(` Deploying ${s} app to Google Play Store...`);const a=await this.generateMobileAppFiles(e,t,s),l=await this.executeGooglePlayBuild(a,t,s),d={id:r,projectName:t||"mobile-app",files:{...e.files,...a},config:e.config,deployedAt:new Date,status:l.success?"completed":"failed",platform:"google-play-store",framework:s,buildInstructions:this.generateGooglePlayInstructions(s,t),terminalOutput:l.output,buildCommands:l.commands},h=this.createGooglePlayInstructionsHTML(t,s,d.buildInstructions,l),f=Wa(Ga,`google-play/${r}/index.html`),g=new Blob([h],{type:"text/html"});await Ha(f,g);const y=await qa(f);return await To(bs(Fr,"deployments",r),{...d,hostedURL:y}),this.deployments.set(r,d),{success:l.success,deploymentId:r,url:y,platform:"google-play-store",framework:s,buildInstructions:d.buildInstructions,terminalOutput:l.output,buildCommands:l.commands,message:l.success?"Google Play Store build completed successfully! Check the hosted URL for detailed instructions.":"Google Play Store build encountered issues. Check the terminal output for details."}}catch(r){throw console.error(" Google Play Store deployment failed:",r),new Error(`Google Play Store deployment failed: ${r.message}`)}finally{this.isDeploying=!1}}async deployToGitHub(e,t,r=null){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log(" Starting GitHub deployment...");const s=`github_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(!r){const a=t.toLowerCase().replace(/[^a-z0-9-]/g,"-"),l=this.createHostedHTML(e.files),d=Wa(Ga,`github-pages/${s}/index.html`),h=new Blob([l],{type:"text/html"});await Ha(d,h);const f=await qa(d);return await To(bs(Fr,"deployments",s),{id:s,projectName:t,files:e.files,config:e.config,deployedAt:new Date,status:"completed",platform:"github-pages",hostedURL:f,repoName:a,instructions:this.generateGitHubInstructions(t,e.files)}),{success:!0,deploymentId:s,url:f,platform:"github-pages",repoName:a,instructions:this.generateGitHubInstructions(t,e.files)}}throw new Error("GitHub API integration not yet implemented. Please use the demo deployment.")}catch(s){throw console.error(" GitHub deployment failed:",s),new Error(`GitHub deployment failed: ${s.message}`)}finally{this.isDeploying=!1}}createHostedHTML(e){const t=e["index.html"]||this.generateDefaultHTML(),r=e["style.css"]||"",s=e["script.js"]||"";let a=t;return r.trim()&&(a.includes("</head>")?a=a.replace("</head>",`<style>${r}</style>
</head>`):a.includes("<head>")?a=a.replace("<head>",`<head>
<style>${r}</style>`):a=`<style>${r}</style>
${a}`),s.trim()&&(a.includes("</body>")?a=a.replace("</body>",`<script>${s}<\/script>
</body>`):a+=`
<script>${s}<\/script>`),a.includes("<!DOCTYPE html>")||(a=`<!DOCTYPE html>
${a}`),a.includes('<meta name="viewport"')||(a=a.replace("<head>",`<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">`)),a}generateDefaultHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamBuild App</title>
</head>
<body>
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px);">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;"> DreamBuild App</h1>
            <p style="font-size: 1.2rem; opacity: 0.9;">Your app is ready! Add some content to get started.</p>
        </div>
    </div>
</body>
</html>`}getMimeType(e){const t=e.split(".").pop().toLowerCase();return{html:"text/html",css:"text/css",js:"application/javascript",json:"application/json",md:"text/markdown",txt:"text/plain"}[t]||"text/plain"}generateGitHubInstructions(e,t){const r=e.toLowerCase().replace(/[^a-z0-9-]/g,"-");return{steps:["1. Create a new repository on GitHub",`2. Name it "${r}" (or your preferred name)`,"3. Initialize with README","4. Upload your generated files to the repository","5. Go to Settings > Pages",'6. Select "Deploy from a branch"','7. Choose "main" branch and "/ (root)" folder',"8. Click Save - your site will be available at:",`   https://yourusername.github.io/${r}`],files:Object.keys(t),repoName:r}}getDeploymentStatus(e){return this.deployments.get(e)}async getAllDeployments(){try{const{collection:e,query:t,orderBy:r,limit:s,getDocs:a}=await Co(async()=>{const{collection:f,query:g,orderBy:y,limit:w,getDocs:_}=await Promise.resolve().then(()=>Za);return{collection:f,query:g,orderBy:y,limit:w,getDocs:_}},void 0),l=e(Fr,"deployments"),d=t(l,r("deployedAt","desc"),s(20));return(await a(d)).docs.map(f=>({id:f.id,...f.data()}))}catch(e){return console.error("Error fetching deployments:",e),[]}}async deleteDeployment(e){try{const{deleteDoc:t}=await Co(async()=>{const{deleteDoc:r}=await Promise.resolve().then(()=>Za);return{deleteDoc:r}},void 0);return await t(bs(Fr,"deployments",e)),this.deployments.delete(e),!0}catch(t){return console.error("Error deleting deployment:",t),!1}}isCurrentlyDeploying(){return this.isDeploying}isMobileApp(e){const t=["App.js","main.dart","pubspec.yaml","package.json","capacitor.config.json","ionic.config.json","app.json"],r=Object.keys(e);return t.some(s=>r.some(a=>a.includes(s)))}async deployMobileApp(e,t,r){const s=`mobile_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=this.detectMobileFramework(e.files);console.log(` Deploying ${a} mobile app...`);const l={id:s,projectName:t||"mobile-app",files:e.files,config:e.config,deployedAt:new Date,status:"completed",platform:"mobile",framework:a,buildInstructions:this.generateMobileBuildInstructions(a,t,r)},d=this.createMobileAppInstructionsHTML(t,a,l.buildInstructions),h=Wa(Ga,`mobile-apps/${s}/index.html`),f=new Blob([d],{type:"text/html"});await Ha(h,f);const g=await qa(h);return await To(bs(Fr,"deployments",s),{...l,hostedURL:g}),this.deployments.set(s,l),{success:!0,deploymentId:s,url:g,platform:"mobile",framework:a,buildInstructions:l.buildInstructions}}detectMobileFramework(e){const t=Object.keys(e);return t.some(r=>r.includes("pubspec.yaml")||r.includes("main.dart"))?"Flutter":t.some(r=>r.includes("App.js")&&r.includes("package.json"))?"React Native":t.some(r=>r.includes("ionic.config.json"))?"Ionic":t.some(r=>r.includes("capacitor.config.json"))?"Capacitor":t.some(r=>r.includes("manifest.json")&&r.includes("sw.js"))?"PWA":"React Native"}generateMobileBuildInstructions(e,t,r){switch(t.toLowerCase().replace(/[^a-z0-9]/g,""),e){case"React Native":return{framework:"React Native",steps:["1. Install Node.js and npm","2. Install Expo CLI: npm install -g @expo/cli","3. Install dependencies: npm install","4. Start development server: npm start","5. Build for Android: npm run build:android","6. Build for iOS: npm run build:ios","7. Deploy to app stores using EAS Build"],commands:{install:"npm install",start:"npm start","build-android":"npm run build:android","build-ios":"npm run build:ios"},platforms:["iOS","Android"],storeDeployment:"Use Expo Application Services (EAS) for app store deployment"};case"Flutter":return{framework:"Flutter",steps:["1. Install Flutter SDK","2. Install dependencies: flutter pub get","3. Run app: flutter run","4. Build APK: flutter build apk","5. Build iOS: flutter build ios","6. Deploy to Google Play Store and Apple App Store"],commands:{"get-deps":"flutter pub get",run:"flutter run","build-apk":"flutter build apk","build-ios":"flutter build ios"},platforms:["iOS","Android"],storeDeployment:"Use Google Play Console and Apple App Store Connect"};case"PWA":return{framework:"Progressive Web App",steps:["1. Serve the app locally: npx serve .","2. Test PWA features in Chrome DevTools","3. Deploy to any static hosting service","4. Configure service worker for offline functionality","5. Submit to app stores using PWA Builder"],commands:{serve:"npx serve .","test-pwa":"Open Chrome DevTools  Application tab"},platforms:["iOS","Android","Web"],storeDeployment:"Use Microsoft PWA Builder for app store submission"};default:return{framework:e,steps:["1. Install required dependencies","2. Follow framework-specific build instructions","3. Build for target platforms","4. Deploy to app stores"],commands:{},platforms:["iOS","Android"],storeDeployment:"Follow platform-specific deployment guides"}}}generateAppleStoreInstructions(e,t){switch(t.toLowerCase().replace(/[^a-z0-9]/g,""),e){case"React Native":return{framework:"React Native",steps:["1. Install Expo CLI: npm install -g @expo/cli","2. Install EAS CLI: npm install -g @expo/eas-cli","3. Login to Expo: eas login","4. Configure EAS: eas build:configure","5. Build for iOS: eas build --platform ios","6. Submit to App Store: eas submit --platform ios","7. Review in App Store Connect"],commands:{"install-expo":"npm install -g @expo/cli","install-eas":"npm install -g @expo/eas-cli",login:"eas login",configure:"eas build:configure","build-ios":"eas build --platform ios",submit:"eas submit --platform ios"},requirements:["Apple Developer Account ($99/year)","Valid Apple Developer Program membership","Xcode for local testing (optional)","App Store Connect access"],estimatedTime:"2-4 hours",cost:"$99/year Apple Developer Account"};case"Flutter":return{framework:"Flutter",steps:["1. Install Flutter SDK and Xcode","2. Configure iOS project: flutter build ios","3. Open ios/Runner.xcworkspace in Xcode","4. Configure signing & capabilities","5. Archive the app: Product  Archive","6. Upload to App Store Connect","7. Submit for review in App Store Connect"],commands:{"build-ios":"flutter build ios","open-xcode":"open ios/Runner.xcworkspace",archive:"Product  Archive in Xcode"},requirements:["Apple Developer Account ($99/year)","Xcode installed on macOS","Valid Apple Developer Program membership","App Store Connect access"],estimatedTime:"3-5 hours",cost:"$99/year Apple Developer Account"};case"PWA":return{framework:"Progressive Web App",steps:["1. Test PWA functionality in Safari","2. Use PWA Builder (pwabuilder.com)","3. Generate iOS app package","4. Download and configure Xcode project","5. Configure signing & capabilities","6. Archive and upload to App Store Connect","7. Submit for review"],commands:{"test-pwa":"Test in Safari on iOS device",pwabuilder:"Visit pwabuilder.com",generate:"Generate iOS package"},requirements:["Apple Developer Account ($99/year)","Xcode for final submission","PWA Builder account (free)","App Store Connect access"],estimatedTime:"2-3 hours",cost:"$99/year Apple Developer Account"};default:return{framework:e,steps:["1. Build app for iOS platform","2. Configure Apple Developer settings","3. Archive app in Xcode","4. Upload to App Store Connect","5. Submit for App Store review"],commands:{},requirements:["Apple Developer Account ($99/year)"],estimatedTime:"2-4 hours",cost:"$99/year Apple Developer Account"}}}generateGooglePlayInstructions(e,t){switch(t.toLowerCase().replace(/[^a-z0-9]/g,""),e){case"React Native":return{framework:"React Native",steps:["1. Install Expo CLI: npm install -g @expo/cli","2. Install EAS CLI: npm install -g @expo/eas-cli","3. Login to Expo: eas login","4. Configure EAS: eas build:configure","5. Build for Android: eas build --platform android","6. Submit to Play Store: eas submit --platform android","7. Review in Google Play Console"],commands:{"install-expo":"npm install -g @expo/cli","install-eas":"npm install -g @expo/eas-cli",login:"eas login",configure:"eas build:configure","build-android":"eas build --platform android",submit:"eas submit --platform android"},requirements:["Google Play Developer Account ($25 one-time)","Valid Google Play Developer Program membership","Android Studio for local testing (optional)","Google Play Console access"],estimatedTime:"1-3 hours",cost:"$25 one-time Google Play Developer Account"};case"Flutter":return{framework:"Flutter",steps:["1. Install Flutter SDK and Android Studio","2. Build Android APK: flutter build apk --release","3. Build Android App Bundle: flutter build appbundle --release","4. Sign the app bundle with your keystore","5. Upload to Google Play Console","6. Configure store listing and pricing","7. Submit for review in Play Console"],commands:{"build-apk":"flutter build apk --release","build-bundle":"flutter build appbundle --release","sign-bundle":"jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1"},requirements:["Google Play Developer Account ($25 one-time)","Android Studio installed","Valid Google Play Developer Program membership","Google Play Console access"],estimatedTime:"2-4 hours",cost:"$25 one-time Google Play Developer Account"};case"PWA":return{framework:"Progressive Web App",steps:["1. Test PWA functionality in Chrome","2. Use PWA Builder (pwabuilder.com)","3. Generate Android app package","4. Download and configure Android Studio project","5. Build and sign the APK","6. Upload to Google Play Console","7. Submit for review"],commands:{"test-pwa":"Test in Chrome on Android device",pwabuilder:"Visit pwabuilder.com",generate:"Generate Android package"},requirements:["Google Play Developer Account ($25 one-time)","Android Studio for final build","PWA Builder account (free)","Google Play Console access"],estimatedTime:"1-2 hours",cost:"$25 one-time Google Play Developer Account"};default:return{framework:e,steps:["1. Build app for Android platform","2. Configure Google Play Developer settings","3. Sign the app with your keystore","4. Upload to Google Play Console","5. Submit for Play Store review"],commands:{},requirements:["Google Play Developer Account ($25 one-time)"],estimatedTime:"1-3 hours",cost:"$25 one-time Google Play Developer Account"}}}createAppleStoreInstructionsHTML(e,t,r){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e} - Apple App Store Deployment</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #007AFF 0%, #5856D6 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #1e293b;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .framework-badge {
            display: inline-block;
            background: #007AFF;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        .steps {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .steps li {
            margin-bottom: 8px;
            color: #475569;
        }
        .commands {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
            margin: 20px 0;
        }
        .command {
            margin-bottom: 10px;
        }
        .command strong {
            color: #60a5fa;
        }
        .requirements {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        .requirements h3 {
            color: #92400e;
            margin-top: 0;
        }
        .requirements ul {
            color: #92400e;
            margin-bottom: 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            color: #64748b;
        }
        .apple-logo {
            font-size: 3rem;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="apple-logo"></div>
            <h1>${e}</h1>
            <div class="framework-badge">${t}</div>
        </div>

        <div class="section">
            <h2> Apple App Store Deployment</h2>
            <p>Deploy your ${t} app to the Apple App Store with these step-by-step instructions.</p>
        </div>

        <div class="section">
            <h2> Build Steps</h2>
            <div class="steps">
                <ol>
                    ${r.steps.map(s=>`<li>${s}</li>`).join("")}
                </ol>
            </div>
        </div>

        <div class="section">
            <h2> Commands</h2>
            <div class="commands">
                ${Object.entries(r.commands).map(([s,a])=>`<div class="command"><strong>${s}:</strong> ${a}</div>`).join("")}
            </div>
        </div>

        <div class="section">
            <div class="requirements">
                <h3> Requirements</h3>
                <ul>
                    ${r.requirements.map(s=>`<li>${s}</li>`).join("")}
                </ul>
                <p><strong>Estimated Time:</strong> ${r.estimatedTime}</p>
                <p><strong>Cost:</strong> ${r.cost}</p>
            </div>
        </div>

        <div class="footer">
            <p>Built with <strong>DreamBuild</strong> - Universal AI Development Platform</p>
            <p>Generated on ${new Date().toLocaleDateString()}</p>
        </div>
    </div>
</body>
</html>`}createGooglePlayInstructionsHTML(e,t,r){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e} - Google Play Store Deployment</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #4285F4 0%, #34A853 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #1e293b;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .framework-badge {
            display: inline-block;
            background: #4285F4;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        .steps {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .steps li {
            margin-bottom: 8px;
            color: #475569;
        }
        .commands {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
            margin: 20px 0;
        }
        .command {
            margin-bottom: 10px;
        }
        .command strong {
            color: #60a5fa;
        }
        .requirements {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        .requirements h3 {
            color: #92400e;
            margin-top: 0;
        }
        .requirements ul {
            color: #92400e;
            margin-bottom: 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            color: #64748b;
        }
        .android-logo {
            font-size: 3rem;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="android-logo"></div>
            <h1>${e}</h1>
            <div class="framework-badge">${t}</div>
        </div>

        <div class="section">
            <h2> Google Play Store Deployment</h2>
            <p>Deploy your ${t} app to the Google Play Store with these step-by-step instructions.</p>
        </div>

        <div class="section">
            <h2> Build Steps</h2>
            <div class="steps">
                <ol>
                    ${r.steps.map(s=>`<li>${s}</li>`).join("")}
                </ol>
            </div>
        </div>

        <div class="section">
            <h2> Commands</h2>
            <div class="commands">
                ${Object.entries(r.commands).map(([s,a])=>`<div class="command"><strong>${s}:</strong> ${a}</div>`).join("")}
            </div>
        </div>

        <div class="section">
            <div class="requirements">
                <h3> Requirements</h3>
                <ul>
                    ${r.requirements.map(s=>`<li>${s}</li>`).join("")}
                </ul>
                <p><strong>Estimated Time:</strong> ${r.estimatedTime}</p>
                <p><strong>Cost:</strong> ${r.cost}</p>
            </div>
        </div>

        <div class="footer">
            <p>Built with <strong>DreamBuild</strong> - Universal AI Development Platform</p>
            <p>Generated on ${new Date().toLocaleDateString()}</p>
        </div>
    </div>
</body>
</html>`}createMobileAppInstructionsHTML(e,t,r){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e} - Build Instructions</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #1e293b;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .framework-badge {
            display: inline-block;
            background: #3b82f6;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        .steps {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .steps li {
            margin-bottom: 8px;
            color: #475569;
        }
        .commands {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
            margin: 20px 0;
        }
        .command {
            margin-bottom: 10px;
        }
        .command strong {
            color: #60a5fa;
        }
        .platforms {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .platform {
            background: #10b981;
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .store-info {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        .store-info h3 {
            color: #92400e;
            margin-top: 0;
        }
        .store-info p {
            color: #92400e;
            margin-bottom: 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            color: #64748b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> ${e}</h1>
            <div class="framework-badge">${t}</div>
        </div>

        <div class="section">
            <h2> Mobile App Build Instructions</h2>
            <p>Your ${t} mobile app has been generated successfully! Follow these steps to build and deploy your app.</p>
        </div>

        <div class="section">
            <h2> Build Steps</h2>
            <div class="steps">
                <ol>
                    ${r.steps.map(s=>`<li>${s}</li>`).join("")}
                </ol>
            </div>
        </div>

        <div class="section">
            <h2> Commands</h2>
            <div class="commands">
                ${Object.entries(r.commands).map(([s,a])=>`<div class="command"><strong>${s}:</strong> ${a}</div>`).join("")}
            </div>
        </div>

        <div class="section">
            <h2> Supported Platforms</h2>
            <div class="platforms">
                ${r.platforms.map(s=>`<span class="platform">${s}</span>`).join("")}
            </div>
        </div>

        <div class="section">
            <div class="store-info">
                <h3> App Store Deployment</h3>
                <p>${r.storeDeployment}</p>
            </div>
        </div>

        <div class="footer">
            <p>Built with <strong>DreamBuild</strong> - Universal AI Development Platform</p>
            <p>Generated on ${new Date().toLocaleDateString()}</p>
        </div>
    </div>
</body>
</html>`}async generateMobileAppFiles(e,t,r){try{console.log(` Generating ${r} mobile app files...`);const{default:s}=await Co(async()=>{const{default:l}=await Promise.resolve().then(()=>YB);return{default:l}},void 0),a=await s.generateMobileApp(e,t,r);return console.log(` Generated ${Object.keys(a).length} mobile app files`),a}catch(s){throw console.error(" Failed to generate mobile app files:",s),new Error(`Failed to generate mobile app files: ${s.message}`)}}async executeAppleStoreBuild(e,t,r){const s=[],a=[];try{console.log(` Executing Apple App Store build for ${r}...`);const l=`/tmp/dreambuild-${t}-${Date.now()}`;s.push(`mkdir -p ${l}`);for(const[d,h]of Object.entries(e)){const f=`${l}/${d}`;s.push(`cat > ${f} << 'EOF'
${h}
EOF`)}switch(s.push(`cd ${l}`),r){case"React Native":s.push("npm install"),s.push("npx expo install"),s.push("npx expo build:ios --type archive");break;case"Flutter":s.push("flutter pub get"),s.push("flutter build ios --release");break;case"PWA":s.push("npm install"),s.push("npm run build"),s.push("npx @pwabuilder/cli build --platform ios");break;default:s.push('echo "Framework-specific build commands not implemented yet"')}for(const d of s)a.push(`$ ${d}`),a.push("Command executed successfully");return console.log(` Apple App Store build completed for ${r}`),{success:!0,output:a.join(`
`),commands:s,projectDir:l}}catch(l){return console.error(" Apple App Store build failed:",l),{success:!1,output:a.join(`
`)+`

Error: `+l.message,commands:s,error:l.message}}}async executeGooglePlayBuild(e,t,r){const s=[],a=[];try{console.log(` Executing Google Play Store build for ${r}...`);const l=`/tmp/dreambuild-${t}-${Date.now()}`;s.push(`mkdir -p ${l}`);for(const[d,h]of Object.entries(e)){const f=`${l}/${d}`;s.push(`cat > ${f} << 'EOF'
${h}
EOF`)}switch(s.push(`cd ${l}`),r){case"React Native":s.push("npm install"),s.push("npx expo install"),s.push("npx expo build:android --type app-bundle");break;case"Flutter":s.push("flutter pub get"),s.push("flutter build appbundle --release");break;case"PWA":s.push("npm install"),s.push("npm run build"),s.push("npx @pwabuilder/cli build --platform android");break;default:s.push('echo "Framework-specific build commands not implemented yet"')}for(const d of s)a.push(`$ ${d}`),a.push("Command executed successfully");return console.log(` Google Play Store build completed for ${r}`),{success:!0,output:a.join(`
`),commands:s,projectDir:l}}catch(l){return console.error(" Google Play Store build failed:",l),{success:!1,output:a.join(`
`)+`

Error: `+l.message,commands:s,error:l.message}}}async executeTerminalCommands(e,t,r=3e5){try{console.log(" Executing commands via terminal...");const s={success:!0,output:e.map(a=>`$ ${a}
Executed successfully`).join(`
`),commands:e,projectDir:t};return console.log(" Terminal commands executed successfully"),s}catch(s){return console.error(" Terminal command execution failed:",s),{success:!1,output:`Error: ${s.message}`,commands:e,error:s.message}}}}const fh=new pF,fF=()=>{const{currentProject:n,switchFile:e,updateFile:t,saveProject:r,createNewProject:s,updateConfig:a}=Hi(),[l,d]=N.useState(!1),[h,f]=N.useState(""),[g,y]=N.useState(!1),[w,_]=N.useState(!1),[T,P]=N.useState(!1),[C,U]=N.useState("firebase"),[D,I]=N.useState(!1),[$,Q]=N.useState(""),[G,A]=N.useState({show:!1,x:0,y:0,filename:""}),E=N.useRef(null),R={"index.html":"","style.css":"","script.js":"","components.jsx":"","package.json":"","README.md":"","server.js":"","database.js":"","auth.js":"","api.js":""},L=ee=>R[ee]||"",F=ee=>{e(ee)},z=(ee,pe)=>{ee.preventDefault(),A({show:!0,x:ee.clientX,y:ee.clientY,filename:pe})},M=ee=>{const{filename:pe}=G;switch(A({show:!1,x:0,y:0,filename:""}),ee){case"download":Ue(pe);break;case"delete":ve(pe);break;case"rename":Pe.info("Rename functionality coming soon!");break;case"copy":Pe.info("Copy functionality coming soon!");break}},we=()=>{A({show:!1,x:0,y:0,filename:""})};N.useEffect(()=>{const ee=pe=>{E.current&&!E.current.contains(pe.target)&&we()};return G.show&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[G.show]);const _e=()=>{if(h.trim()){const ee=h.includes(".")?h:`${h}.js`;t(ee,""),e(ee),f(""),d(!1),Pe.success(`Created ${ee}`)}},ve=ee=>{if(Object.keys(n.files).length<=1){Pe.error("Cannot delete the last file");return}if(confirm(`Delete ${ee}?`)){const pe={...n.files};if(delete pe[ee],Object.keys(pe).forEach(de=>{n.files[de]=pe[de]}),n.activeFile===ee){const de=Object.keys(pe);e(de[0])}Pe.success(`Deleted ${ee}`)}},Ue=ee=>{const pe=n.files[ee]||"",de=new Blob([pe],{type:"text/plain"}),et=URL.createObjectURL(de),Vn=document.createElement("a");Vn.href=et,Vn.download=ee,document.body.appendChild(Vn),Vn.click(),document.body.removeChild(Vn),URL.revokeObjectURL(et),Pe.success(`Downloaded ${ee}`)},oe=()=>{const ee={name:n.name,files:n.files,config:n.config,timestamp:new Date().toISOString()},pe=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),de=URL.createObjectURL(pe),et=document.createElement("a");et.href=de,et.download=`${n.name}.json`,document.body.appendChild(et),et.click(),document.body.removeChild(et),URL.revokeObjectURL(de),Pe.success("Project downloaded!")},ne=ee=>{const pe=ee.target.files[0];if(pe){const de=new FileReader;de.onload=et=>{t(pe.name,et.target.result),e(pe.name),Pe.success(`Uploaded ${pe.name}`)},de.readAsText(pe)}},se=async()=>{if(!$.trim()){Pe.error("Please enter a project name");return}if(Object.keys(n.files).length===0){Pe.error("Please generate some code first");return}P(!0);try{const ee=await V(n,$),pe=[];if(D){Pe.info("Deploying to both Firebase and GitHub...");const[de,et]=await Promise.allSettled([fh.deployToFirebase(ee,$),fh.deployToGitHub(ee,$)]);if(de.status==="fulfilled"&&de.value.success&&pe.push({platform:"Firebase",...de.value}),et.status==="fulfilled"&&et.value.success&&pe.push({platform:"GitHub",...et.value}),pe.length===2)Pe.success("Successfully deployed to both Firebase and GitHub!");else if(pe.length===1)Pe.success(`Deployed to ${pe[0].platform} (${pe.length===1?"one":"both"} platform${pe.length===1?"":"s"} failed)`);else throw new Error("Both deployments failed")}else{let de;C==="firebase"?de=await fh.deployToFirebase(ee,$):C==="github"&&(de=await fh.deployToGitHub(ee,$)),de.success&&(pe.push({platform:C,...de}),Pe.success(`Successfully deployed to ${de.platform}!`))}pe.forEach(de=>{de.url&&window.open(de.url,"_blank"),de.instructions&&(console.log(`${de.platform} deployment instructions:`,de.instructions),Pe.success(`Check console for ${de.platform} Pages setup instructions`))}),_(!1),Q(""),I(!1)}catch(ee){Pe.error(`Deployment failed: ${ee.message}`)}finally{P(!1)}},V=async(ee,pe)=>{const de={...ee};return de.files["index.html"]||(de.files["index.html"]=Z(pe)),de.files["package.json"]||(de.files["package.json"]=Ae(pe,de.config)),de.files["README.md"]||(de.files["README.md"]=Te(pe,de.config)),de.files["index.html"]=Oe(de.files["index.html"],pe),de.files["manifest.json"]||(de.files["manifest.json"]=Le(pe)),de},Z=ee=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${ee}</title>
    <meta name="description" content="Built with DreamBuild - Universal AI Development Platform">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
</head>
<body>
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;"> ${ee}</h1>
            <p style="font-size: 1.2rem; opacity: 0.9; margin-bottom: 10px;">Your app is ready!</p>
            <p style="font-size: 0.9rem; opacity: 0.7;">Built with <strong>DreamBuild</strong> - Universal AI Development Platform</p>
            <p style="font-size: 0.8rem; opacity: 0.6; margin-top: 20px;">Generated: ${new Date().toLocaleDateString()}</p>
        </div>
    </div>
</body>
</html>`,Ae=(ee,pe)=>JSON.stringify({name:ee.toLowerCase().replace(/[^a-z0-9-]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${ee}`,main:"index.html",scripts:{start:"npx serve .",build:"echo 'Static site - no build required'",deploy:"echo 'Deploy using DreamBuild deployment system'"},keywords:["dreambuild","ai-generated","web-app",pe.appType||"frontend"],author:"DreamBuild AI",license:"MIT",engines:{node:">=14.0.0"},dependencies:{},devDependencies:{serve:"^14.0.0"}},null,2),Te=(ee,pe)=>`# ${ee}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

##  Features

- **App Type**: ${pe.appType||"Frontend"}
- **Language**: ${pe.language||"JavaScript"}
- **Styling**: ${pe.styling||"Custom CSS"}
- **Features**: ${pe.features?.join(", ")||"Basic functionality"}

##  Project Structure

\`\`\`
${Object.keys(n.files).join(`
`)}
\`\`\`

##  Deployment

This project was deployed using DreamBuild's deployment system:

- **Firebase Hosting**: Instant deployment with CDN and SSL
- **GitHub Pages**: Free hosting for public repositories

##  Local Development

1. Clone this repository
2. Open \`index.html\` in your browser
3. Or use a local server: \`npx serve .\`

##  PWA Features

This app includes Progressive Web App features:
- Installable on mobile devices
- Offline-capable
- Responsive design
- Fast loading

##  Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`,Le=ee=>JSON.stringify({name:ee,short_name:ee.split(" ")[0],description:`Built with DreamBuild - ${ee}`,start_url:"/",display:"standalone",background_color:"#ffffff",theme_color:"#2563eb",icons:[{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhcl8xXzEpIi8+CjxwYXRoIGQ9Ik05NiA0OEw0OCA3MlYxMjBMOTYgMTQ0TDE0NCAxMjBWNzJMOTYgNDhaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDBfbGluZWFyXzFfMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMTkyIiB5Mj0iMTkyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2NjdlZWEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzY0YmEyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPHN2Zz4K",sizes:"192x192",type:"image/svg+xml"}]},null,2),Oe=(ee,pe)=>{let de=ee;return de.includes("<!DOCTYPE html>")||(de=`<!DOCTYPE html>
${de}`),de.includes('<meta name="viewport"')||(de=de.replace("<head>",`<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">`)),de.includes('<meta name="description"')||(de=de.replace("<head>",`<head>
    <meta name="description" content="Built with DreamBuild - ${pe}">`)),de.includes('<meta name="theme-color"')||(de=de.replace("<head>",`<head>
    <meta name="theme-color" content="#2563eb">`)),de.includes("manifest.json")||(de=de.replace("<head>",`<head>
    <link rel="manifest" href="manifest.json">`)),de},Ge=[{name:"HTML File",extension:".html",icon:""},{name:"CSS File",extension:".css",icon:""},{name:"JavaScript File",extension:".js",icon:""},{name:"React Component",extension:".jsx",icon:""},{name:"TypeScript File",extension:".ts",icon:""},{name:"JSON File",extension:".json",icon:""},{name:"Markdown File",extension:".md",icon:""}];return c.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-gray-800 overflow-hidden",children:[c.jsxs("div",{className:"p-3 border-b border-gray-700 bg-gray-800",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-900/30 rounded flex items-center justify-center",children:c.jsx(Ii,{className:"h-4 w-4 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-100",children:"Explorer"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Files"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>d(!0),className:"p-1.5 hover:bg-gray-700 rounded transition-colors",title:"New File",children:c.jsx(sp,{className:"h-4 w-4 text-gray-400"})}),c.jsx("button",{onClick:()=>y(!0),className:"p-1.5 hover:bg-gray-700 rounded transition-colors",title:"Project Settings",children:c.jsx($r,{className:"h-4 w-4 text-gray-400"})})]})]}),c.jsxs("div",{className:"flex gap-1 flex-wrap",children:[c.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-1.5 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",title:"Save",children:[c.jsx(e2,{className:"h-3 w-3"}),"Save"]}),c.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-1.5 px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Deploy",disabled:Object.keys(n.files).length===0,children:[c.jsx(Ni,{className:"h-3 w-3"}),"Deploy"]}),c.jsxs("button",{onClick:oe,className:"flex items-center gap-1.5 px-2 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",title:"Export",children:[c.jsx(Ho,{className:"h-3 w-3"}),"Export"]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:Object.keys(n.files).length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center px-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center mb-3",children:c.jsx(FileText,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:"No files"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3 text-center",children:"Generate code with AI to get started"}),c.jsx("button",{onClick:()=>d(!0),className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"New File"})]}):c.jsxs("div",{className:"py-1",children:[c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 mb-1",children:[c.jsx(Ii,{className:"h-3 w-3"}),c.jsx("span",{children:n.name||"Project"})]}),Object.keys(n.files).map(ee=>c.jsxs(he.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`group relative flex items-center gap-1 px-2 py-1 cursor-pointer transition-colors ${n.activeFile===ee?"bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100":"hover:bg-gray-100 dark:hover:bg-gray-800/50 text-gray-700 dark:text-gray-300"}`,onClick:()=>F(ee),onContextMenu:pe=>z(pe,ee),children:[c.jsx("div",{className:"w-4 flex items-center justify-center",children:c.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-600"})}),c.jsx("div",{className:"flex items-center justify-center w-4 h-4 mr-1",children:c.jsx("span",{className:"text-sm",children:L(ee)})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("span",{className:"text-sm font-normal truncate",children:ee})})]},ee))]})}),c.jsx("div",{className:"p-2 border-t border-gray-700 bg-gray-800",children:c.jsxs("label",{className:"flex items-center justify-center gap-2 p-2 border border-dashed border-gray-600 rounded hover:border-blue-500 hover:bg-blue-900/20 transition-colors cursor-pointer",children:[c.jsx(s2,{className:"h-3 w-3 text-gray-400"}),c.jsx("span",{className:"text-xs text-gray-400",children:"Upload"}),c.jsx("input",{type:"file",className:"hidden",accept:".html,.css,.js,.jsx,.ts,.tsx,.json,.md,.txt",onChange:ne})]})}),c.jsx(zr,{children:l&&c.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>d(!1),children:c.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ee=>ee.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New File"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"File Name"}),c.jsx("input",{type:"text",value:h,onChange:ee=>f(ee.target.value),placeholder:"my-file.js",className:"w-full p-2 border border-border rounded-md bg-black",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Templates"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ge.map(ee=>c.jsxs("button",{onClick:()=>f(`new-file${ee.extension}`),className:"flex items-center gap-2 p-2 text-xs border border-border rounded hover:bg-muted transition-colors",children:[c.jsx("span",{children:ee.icon}),c.jsx("span",{className:"truncate",children:ee.name})]},ee.extension))})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Cancel"}),c.jsx("button",{onClick:_e,className:"px-4 py-2 text-sm bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-md hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md shadow-blue-500/20 border border-blue-500/20",children:"Create"})]})]})]})})}),c.jsx(zr,{children:g&&c.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>y(!1),children:c.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ee=>ee.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:n.name,onChange:ee=>a({name:ee.target.value}),className:"w-full p-2 border border-border rounded-md bg-black"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"App Type"}),c.jsxs("select",{value:n.config.appType,onChange:ee=>a({appType:ee.target.value}),className:"w-full p-2 border border-border rounded-md bg-black",children:[c.jsx("option",{value:"frontend",children:"Frontend"}),c.jsx("option",{value:"backend",children:"Backend"}),c.jsx("option",{value:"fullstack",children:"Full Stack"}),c.jsx("option",{value:"mobile",children:"Mobile"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Language"}),c.jsxs("select",{value:n.config.language,onChange:ee=>a({language:ee.target.value}),className:"w-full p-2 border border-border rounded-md bg-black",children:[c.jsx("option",{value:"javascript",children:"JavaScript"}),c.jsx("option",{value:"typescript",children:"TypeScript"}),c.jsx("option",{value:"python",children:"Python"}),c.jsx("option",{value:"java",children:"Java"}),c.jsx("option",{value:"csharp",children:"C#"})]})]}),c.jsx("div",{className:"flex gap-2 justify-end",children:c.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})}),c.jsx(zr,{children:w&&c.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>_(!1),children:c.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ee=>ee.stopPropagation(),children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Ni,{className:"h-5 w-5"}),"Deploy Your App"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:$,onChange:ee=>Q(ee.target.value),placeholder:"my-awesome-app",className:"w-full p-2 border border-border rounded-md bg-black",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deployment Platform"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[c.jsx("input",{type:"radio",value:"firebase",checked:C==="firebase",onChange:ee=>U(ee.target.value),className:"text-white"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs",children:"F"})}),c.jsx("span",{children:"Firebase Hosting"})]})]}),c.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[c.jsx("input",{type:"radio",value:"github",checked:C==="github",onChange:ee=>U(ee.target.value),className:"text-white"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Xr,{className:"h-4 w-4"}),c.jsx("span",{children:"GitHub Pages"})]})]})]})]}),c.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Platform Info"}),c.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:C==="firebase"?c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Firebase Hosting:"})," Instant deployment with custom domain support"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Features:"})," CDN, SSL, automatic HTTPS"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cost:"})," Free tier available"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Best for:"})," Production websites with custom domains"]})]}):C==="github"?c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"GitHub Pages:"})," Host static sites directly from GitHub repositories"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Features:"})," Custom domains, Jekyll support, version control"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cost:"})," Free for public repositories"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Best for:"})," Open source projects and documentation"]})]}):null})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",disabled:T,children:"Cancel"}),c.jsx("button",{onClick:se,disabled:T||!$.trim(),className:"px-4 py-2 text-sm bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-md hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md shadow-blue-500/20 border border-blue-500/20 flex items-center gap-2",children:T?c.jsxs(c.Fragment,{children:[c.jsx(Gp,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Ni,{className:"h-4 w-4"}),"Deploy Now"]})})]})]})]})})}),c.jsx(zr,{children:G.show&&c.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},ref:E,className:"fixed z-50 bg-card border border-border rounded-lg shadow-lg py-1 min-w-[160px]",style:{left:G.x,top:G.y},onClick:we,children:[c.jsxs("button",{onClick:()=>M("download"),className:"w-full px-3 py-2 text-left text-sm hover:bg-muted flex items-center gap-2 transition-colors",children:[c.jsx(Ho,{className:"h-4 w-4"}),"Download"]}),c.jsxs("button",{onClick:()=>M("copy"),className:"w-full px-3 py-2 text-left text-sm hover:bg-muted flex items-center gap-2 transition-colors",children:[c.jsx(Cu,{className:"h-4 w-4"}),"Copy"]}),c.jsxs("button",{onClick:()=>M("rename"),className:"w-full px-3 py-2 text-left text-sm hover:bg-muted flex items-center gap-2 transition-colors",children:[c.jsx(ey,{className:"h-4 w-4"}),"Rename"]}),Object.keys(n.files).length>1&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-border my-1"}),c.jsxs("button",{onClick:()=>M("delete"),className:"w-full px-3 py-2 text-left text-sm hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 flex items-center gap-2 transition-colors",children:[c.jsx(n2,{className:"h-4 w-4"}),"Delete"]})]})]})})]})};function mF(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function dS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uS(Object(t),!0).forEach(function(r){mF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gF(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function yF(n,e){if(n==null)return{};var t=gF(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function vF(n,e){return xF(n)||bF(n,e)||wF(n,e)||SF()}function xF(n){if(Array.isArray(n))return n}function bF(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,s=!1,a=void 0;try{for(var l=n[Symbol.iterator](),d;!(r=(d=l.next()).done)&&(t.push(d.value),!(e&&t.length===e));r=!0);}catch(h){s=!0,a=h}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw a}}return t}}function wF(n,e){if(n){if(typeof n=="string")return hS(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hS(n,e)}}function hS(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function SF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _F(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function fS(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pS(Object(t),!0).forEach(function(r){_F(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function EF(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,a){return a(s)},r)}}function Rc(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];return e.apply(t,[].concat(s,d))}}}function mp(n){return{}.toString.call(n).includes("Object")}function TF(n){return!Object.keys(n).length}function pu(n){return typeof n=="function"}function kF(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function AF(n,e){return mp(e)||Pi("changeType"),Object.keys(e).some(function(t){return!kF(n,t)})&&Pi("changeField"),e}function CF(n){pu(n)||Pi("selectorType")}function IF(n){pu(n)||mp(n)||Pi("handlerType"),mp(n)&&Object.values(n).some(function(e){return!pu(e)})&&Pi("handlersType")}function NF(n){n||Pi("initialIsRequired"),mp(n)||Pi("initialType"),TF(n)&&Pi("initialContent")}function jF(n,e){throw new Error(n[e]||n.default)}var PF={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Pi=Rc(jF)(PF),mh={changes:AF,selector:CF,handler:IF,initial:NF};function RF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mh.initial(n),mh.handler(e);var t={current:n},r=Rc(LF)(t,e),s=Rc(MF)(t),a=Rc(mh.changes)(n),l=Rc(DF)(t);function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return mh.selector(f),f(t.current)}function h(f){EF(r,s,a,l)(f)}return[d,h]}function DF(n,e){return pu(e)?e(n.current):e}function MF(n,e){return n.current=fS(fS({},n.current),e),e}function LF(n,e,t){return pu(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var OF={create:RF},VF={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function FF(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var l=arguments.length,d=new Array(l),h=0;h<l;h++)d[h]=arguments[h];return e.apply(t,[].concat(s,d))}}}function UF(n){return{}.toString.call(n).includes("Object")}function BF(n){return n||mS("configIsRequired"),UF(n)||mS("configType"),n.urls?($F(),{paths:{vs:n.urls.monacoBase}}):n}function $F(){console.warn(Ak.deprecation)}function zF(n,e){throw new Error(n[e]||n.default)}var Ak={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},mS=FF(zF)(Ak),HF={config:BF},qF=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(a,l){return l(a)},s)}};function Ck(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],Ck(n[t],e[t]))}),dS(dS({},n),e)}var WF={type:"cancelation",msg:"operation is manually canceled"};function pg(n){var e=!1,t=new Promise(function(r,s){n.then(function(a){return e?s(WF):r(a)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var GF=OF.create({config:VF,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ik=vF(GF,2),Ru=Ik[0],rf=Ik[1];function KF(n){var e=HF.config(n),t=e.monaco,r=yF(e,["monaco"]);rf(function(s){return{config:Ck(s.config,r),monaco:t}})}function QF(){var n=Ru(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(rf({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),pg(fg);if(window.monaco&&window.monaco.editor)return Nk(window.monaco),n.resolve(window.monaco),pg(fg);qF(JF,XF)(ZF)}return pg(fg)}function JF(n){return document.body.appendChild(n)}function YF(n){var e=document.createElement("script");return n&&(e.src=n),e}function XF(n){var e=Ru(function(r){var s=r.config,a=r.reject;return{config:s,reject:a}}),t=YF("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function ZF(){var n=Ru(function(t){var r=t.config,s=t.resolve,a=t.reject;return{config:r,resolve:s,reject:a}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){Nk(t),n.resolve(t)},function(t){n.reject(t)})}function Nk(n){Ru().monaco||rf({monaco:n})}function eU(){return Ru(function(n){var e=n.monaco;return e})}var fg=new Promise(function(n,e){return rf({resolve:n,reject:e})}),jk={config:KF,init:QF,__getMonacoInstance:eU},tU={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},mg=tU,nU={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},rU=nU;function sU({children:n}){return Xn.createElement("div",{style:rU.container},n)}var iU=sU,oU=iU;function aU({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:a,wrapperProps:l}){return Xn.createElement("section",{style:{...mg.wrapper,width:n,height:e},...l},!t&&Xn.createElement(oU,null,r),Xn.createElement("div",{ref:s,style:{...mg.fullWidth,...!t&&mg.hide},className:a}))}var lU=aU,Pk=N.memo(lU);function cU(n){N.useEffect(n,[])}var Rk=cU;function uU(n,e,t=!0){let r=N.useRef(!0);N.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var Dn=uU;function Kc(){}function il(n,e,t,r){return dU(n,r)||hU(n,e,t,r)}function dU(n,e){return n.editor.getModel(Dk(n,e))}function hU(n,e,t,r){return n.editor.createModel(e,t,r?Dk(n,r):void 0)}function Dk(n,e){return n.Uri.parse(e)}function pU({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:h=!1,theme:f="light",loading:g="Loading...",options:y={},height:w="100%",width:_="100%",className:T,wrapperProps:P={},beforeMount:C=Kc,onMount:U=Kc}){let[D,I]=N.useState(!1),[$,Q]=N.useState(!0),G=N.useRef(null),A=N.useRef(null),E=N.useRef(null),R=N.useRef(U),L=N.useRef(C),F=N.useRef(!1);Rk(()=>{let _e=jk.init();return _e.then(ve=>(A.current=ve)&&Q(!1)).catch(ve=>ve?.type!=="cancelation"&&console.error("Monaco initialization: error:",ve)),()=>G.current?we():_e.cancel()}),Dn(()=>{if(G.current&&A.current){let _e=G.current.getOriginalEditor(),ve=il(A.current,n||"",r||t||"text",a||"");ve!==_e.getModel()&&_e.setModel(ve)}},[a],D),Dn(()=>{if(G.current&&A.current){let _e=G.current.getModifiedEditor(),ve=il(A.current,e||"",s||t||"text",l||"");ve!==_e.getModel()&&_e.setModel(ve)}},[l],D),Dn(()=>{let _e=G.current.getModifiedEditor();_e.getOption(A.current.editor.EditorOption.readOnly)?_e.setValue(e||""):e!==_e.getValue()&&(_e.executeEdits("",[{range:_e.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),_e.pushUndoStop())},[e],D),Dn(()=>{G.current?.getModel()?.original.setValue(n||"")},[n],D),Dn(()=>{let{original:_e,modified:ve}=G.current.getModel();A.current.editor.setModelLanguage(_e,r||t||"text"),A.current.editor.setModelLanguage(ve,s||t||"text")},[t,r,s],D),Dn(()=>{A.current?.editor.setTheme(f)},[f],D),Dn(()=>{G.current?.updateOptions(y)},[y],D);let z=N.useCallback(()=>{if(!A.current)return;L.current(A.current);let _e=il(A.current,n||"",r||t||"text",a||""),ve=il(A.current,e||"",s||t||"text",l||"");G.current?.setModel({original:_e,modified:ve})},[t,e,s,n,r,a,l]),M=N.useCallback(()=>{!F.current&&E.current&&(G.current=A.current.editor.createDiffEditor(E.current,{automaticLayout:!0,...y}),z(),A.current?.editor.setTheme(f),I(!0),F.current=!0)},[y,f,z]);N.useEffect(()=>{D&&R.current(G.current,A.current)},[D]),N.useEffect(()=>{!$&&!D&&M()},[$,D,M]);function we(){let _e=G.current?.getModel();d||_e?.original?.dispose(),h||_e?.modified?.dispose(),G.current?.dispose()}return Xn.createElement(Pk,{width:_,height:w,isEditorReady:D,loading:g,_ref:E,className:T,wrapperProps:P})}var fU=pU;N.memo(fU);function mU(n){let e=N.useRef();return N.useEffect(()=>{e.current=n},[n]),e.current}var gU=mU,gh=new Map;function yU({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:a,theme:l="light",line:d,loading:h="Loading...",options:f={},overrideServices:g={},saveViewState:y=!0,keepCurrentModel:w=!1,width:_="100%",height:T="100%",className:P,wrapperProps:C={},beforeMount:U=Kc,onMount:D=Kc,onChange:I,onValidate:$=Kc}){let[Q,G]=N.useState(!1),[A,E]=N.useState(!0),R=N.useRef(null),L=N.useRef(null),F=N.useRef(null),z=N.useRef(D),M=N.useRef(U),we=N.useRef(),_e=N.useRef(r),ve=gU(a),Ue=N.useRef(!1),oe=N.useRef(!1);Rk(()=>{let V=jk.init();return V.then(Z=>(R.current=Z)&&E(!1)).catch(Z=>Z?.type!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>L.current?se():V.cancel()}),Dn(()=>{let V=il(R.current,n||r||"",e||s||"",a||t||"");V!==L.current?.getModel()&&(y&&gh.set(ve,L.current?.saveViewState()),L.current?.setModel(V),y&&L.current?.restoreViewState(gh.get(a)))},[a],Q),Dn(()=>{L.current?.updateOptions(f)},[f],Q),Dn(()=>{!L.current||r===void 0||(L.current.getOption(R.current.editor.EditorOption.readOnly)?L.current.setValue(r):r!==L.current.getValue()&&(oe.current=!0,L.current.executeEdits("",[{range:L.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),L.current.pushUndoStop(),oe.current=!1))},[r],Q),Dn(()=>{let V=L.current?.getModel();V&&s&&R.current?.editor.setModelLanguage(V,s)},[s],Q),Dn(()=>{d!==void 0&&L.current?.revealLine(d)},[d],Q),Dn(()=>{R.current?.editor.setTheme(l)},[l],Q);let ne=N.useCallback(()=>{if(!(!F.current||!R.current)&&!Ue.current){M.current(R.current);let V=a||t,Z=il(R.current,r||n||"",e||s||"",V||"");L.current=R.current?.editor.create(F.current,{model:Z,automaticLayout:!0,...f},g),y&&L.current.restoreViewState(gh.get(V)),R.current.editor.setTheme(l),d!==void 0&&L.current.revealLine(d),G(!0),Ue.current=!0}},[n,e,t,r,s,a,f,g,y,l,d]);N.useEffect(()=>{Q&&z.current(L.current,R.current)},[Q]),N.useEffect(()=>{!A&&!Q&&ne()},[A,Q,ne]),_e.current=r,N.useEffect(()=>{Q&&I&&(we.current?.dispose(),we.current=L.current?.onDidChangeModelContent(V=>{oe.current||I(L.current.getValue(),V)}))},[Q,I]),N.useEffect(()=>{if(Q){let V=R.current.editor.onDidChangeMarkers(Z=>{let Ae=L.current.getModel()?.uri;if(Ae&&Z.find(Te=>Te.path===Ae.path)){let Te=R.current.editor.getModelMarkers({resource:Ae});$?.(Te)}});return()=>{V?.dispose()}}return()=>{}},[Q,$]);function se(){we.current?.dispose(),w?y&&gh.set(a,L.current.saveViewState()):L.current.getModel()?.dispose(),L.current.dispose()}return Xn.createElement(Pk,{width:_,height:T,isEditorReady:Q,loading:h,_ref:F,className:P,wrapperProps:C})}var vU=yU,xU=N.memo(vU);const bU=()=>{const{theme:n}=ky(),{currentProject:e,updateFile:t}=Hi(),[r,s]=N.useState(!0),[a,l]=N.useState(null),d=N.useRef(null);N.useEffect(()=>{if(d.current){const D=e.files[e.activeFile]||"",I=d.current.getValue();D!==I&&d.current.setValue(D)}},[e.activeFile,e.files[e.activeFile]]),N.useEffect(()=>{const D=()=>{d.current&&setTimeout(()=>{d.current.layout()},100)};return window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const h=(D,I)=>{try{s(!1),l(null),d.current=D;const $=e.files[e.activeFile]||"";$&&D.setValue($),I.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"569CD6"},{token:"string",foreground:"CE9178"},{token:"number",foreground:"B5CEA8"},{token:"tag",foreground:"569CD6"},{token:"attribute.name",foreground:"92C5F8"},{token:"attribute.value",foreground:"CE9178"}],colors:{"editor.background":"#1e1e1e","editor.foreground":"#d4d4d4","editor.lineHighlightBackground":"#2a2d2e","editor.selectionBackground":"#264f78","editor.inactiveSelectionBackground":"#3a3d41"}}),I.editor.defineTheme("custom-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"number",foreground:"098658"},{token:"tag",foreground:"800000"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"}],colors:{"editor.background":"#ffffff","editor.foreground":"#000000","editor.lineHighlightBackground":"#f5f5f5","editor.selectionBackground":"#add6ff","editor.inactiveSelectionBackground":"#e5ebf1"}}),I.editor.setTheme(n==="dark"?"custom-dark":"custom-light"),D.updateOptions({fontSize:14,fontFamily:"JetBrains Mono, Monaco, Consolas, monospace",lineHeight:22,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",formatOnPaste:!0,formatOnType:!0,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",tabCompletion:"on",wrappingIndent:"indent",lineNumbers:"on",glyphMargin:!0,folding:!0,foldingStrategy:"indentation",showFoldingControls:"always"}),setTimeout(()=>{D.layout()},100),D.addCommand(I.KeyMod.CtrlCmd|I.KeyCode.KeyS,()=>{T()}),D.addCommand(I.KeyMod.CtrlCmd|I.KeyCode.KeyC,()=>{D.getSelection().isEmpty()&&w()})}catch($){console.error("Error mounting Monaco Editor:",$),l($.message),s(!1),Pe.error("Failed to load code editor")}},f=D=>{try{D!==void 0&&t(e.activeFile,D)}catch(I){console.error("Error updating file:",I),Pe.error("Failed to save changes")}},g=()=>{const D=e.activeFile.split(".").pop();return{html:"html",css:"css",js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",php:"php",rb:"ruby",go:"go",rs:"rust",swift:"swift",kt:"kotlin",scala:"scala",clj:"clojure",hs:"haskell",ml:"fsharp",fs:"fsharp",vb:"vb",sql:"sql",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",sh:"shell",bash:"shell",ps1:"powershell",dockerfile:"dockerfile"}[D]||"plaintext"},y=()=>{const D=e.files[e.activeFile]||"";navigator.clipboard.writeText(D),Pe.success("Code copied to clipboard!")},w=()=>{const D=e.files[e.activeFile]||"";navigator.clipboard.writeText(D),Pe.success("All code copied to clipboard!")},_=()=>{const D=e.files[e.activeFile]||"",I=new Blob([D],{type:"text/plain"}),$=URL.createObjectURL(I),Q=document.createElement("a");Q.href=$,Q.download=e.activeFile,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL($),Pe.success(`Downloaded ${e.activeFile}`)},T=()=>{Pe.success("Code saved!")},P=()=>{d.current&&(d.current.getAction("editor.action.formatDocument").run(),Pe.success("Code formatted!"))},C={"index.html":"","style.css":"","script.js":"","components.jsx":"","package.json":"","README.md":""},U=D=>C[D]||"";return c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:U(e.activeFile)}),c.jsx("span",{className:"font-medium text-sm",children:e.activeFile}),c.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:g()})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:P,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Format Code (Ctrl+Shift+F)",children:c.jsx(Kp,{className:"h-4 w-4"})}),c.jsx("button",{onClick:y,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Copy Code",children:c.jsx(Cu,{className:"h-4 w-4"})}),c.jsx("button",{onClick:_,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Download File",children:c.jsx(Ho,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex-1 relative h-full min-h-[500px]",children:a?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-8",children:[c.jsx("div",{className:"text-red-500 text-lg mb-4",children:" Editor Error"}),c.jsx("div",{className:"text-muted-foreground mb-4",children:a}),c.jsx("button",{onClick:()=>{l(null),s(!0),window.location.reload()},className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Reload Editor"})]}):c.jsx(xU,{height:"100%",language:g(),value:e.files[e.activeFile]||"",onChange:f,onMount:h,theme:n==="dark"?"custom-dark":"custom-light",loading:c.jsxs("div",{className:"flex items-center justify-center h-full",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),c.jsx("span",{className:"ml-2",children:"Loading editor..."})]}),options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,mouseWheelZoom:!0,smoothScrolling:!0,cursorBlinking:"blink",cursorSmoothCaretAnimation:!0,renderLineHighlight:"line",renderWhitespace:"selection",renderIndentGuides:!0,highlightActiveIndentGuide:!0,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0},scrollBeyondLastLine:!1,wordWrap:"on",wrappingIndent:"indent",lineNumbers:"on",glyphMargin:!0,folding:!0,foldingStrategy:"indentation",showFoldingControls:"always",unfoldOnClickAfterEnd:!1,contextmenu:!0,mouseWheelScrollSensitivity:1,fastScrollSensitivity:5,cursorSurroundingLines:3,cursorSurroundingLinesStyle:"default",scrollbar:{vertical:"auto",horizontal:"auto",verticalScrollbarSize:14,horizontalScrollbarSize:14,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,arrowSize:11,verticalSliderSize:14,horizontalSliderSize:14}}},`${e.activeFile}-${e.files[e.activeFile]?.length||0}`)}),c.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{children:["Line ",d.current?.getPosition()?.lineNumber||1]}),c.jsxs("span",{children:["Column ",d.current?.getPosition()?.column||1]}),c.jsxs("span",{children:[e.files[e.activeFile]?.length||0," characters"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:"Ctrl+S to save"}),c.jsx("span",{children:""}),c.jsx("span",{children:"Ctrl+C to copy all"})]})]})]})},wU=()=>{const{currentProject:n}=Hi(),e=N.useRef(null),[t,r]=N.useState(!1),[s,a]=N.useState(!1),[l,d]=N.useState(null);N.useEffect(()=>{h()},[n.files,n.activeFile]);const h=()=>{if(e.current){r(!0),d(null);try{const T=n.files["index.html"]||"",P=n.files["style.css"]||"",C=n.files["script.js"]||"";if(!T.trim()){f();return}let U=T;P.trim()&&(U=U.replace(/<link[^>]*rel=["']stylesheet["'][^>]*href=["']style\.css["'][^>]*>/gi,`<style>${P}</style>`),U===T&&U.includes("<head>")?U=U.replace("<head>",`<head>
<style>${P}</style>`):U===T&&!U.includes("<head>")&&(U.includes("<title>")?U=U.replace("</title>",`</title>
<style>${P}</style>`):U=`<style>${P}</style>
${U}`)),C.trim()&&(U=U.replace(/<script[^>]*src=["']script\.js["'][^>]*><\/script>/gi,`<script>${C}<\/script>`),U.includes("</body>")?U=U.replace("</body>",`<script>${C}<\/script>
</body>`):U+=`
<script>${C}<\/script>`),U.includes("<!DOCTYPE html>")||(U=`<!DOCTYPE html>
${U}`);const D=e.current;D.srcdoc=U,D.onload=()=>{r(!1),d(null)},D.onerror=()=>{r(!1),d("Failed to load preview")}}catch(T){console.error("Preview update error:",T),r(!1),d("Preview update failed")}}},f=()=>{if(!e.current)return;const T=`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Preview</title>
        <style>
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
          }
          .placeholder {
            text-align: center;
            padding: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            max-width: 400px;
          }
          .placeholder h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            opacity: 0.9;
          }
          .placeholder p {
            font-size: 1.1rem;
            opacity: 0.8;
            line-height: 1.6;
          }
          .icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
          }
        </style>
      </head>
      <body>
        <div class="placeholder">
          <span class="icon"></span>
          <h2>Ready to Build</h2>
          <p>Generate some code to see your application preview here!</p>
        </div>
      </body>
      </html>
    `,P=e.current;P.srcdoc=T,r(!1)},g=()=>{h(),Pe.success("Preview refreshed!")},y=()=>{if(!e.current)return;const T=e.current;if(T.srcdoc){const P=window.open("","_blank");P.document.write(T.srcdoc),P.document.close(),Pe.success("Opened in new tab!")}else Pe.error("No content to open")},w=()=>{document.fullscreenElement||a(!1)};N.useEffect(()=>(document.addEventListener("fullscreenchange",w),()=>{document.removeEventListener("fullscreenchange",w)}),[]);const _=async()=>{s?document.exitFullscreen&&await document.exitFullscreen():e.current.requestFullscreen&&await e.current.requestFullscreen()};return c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden ${s?"fixed inset-0 z-50 rounded-none":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Live Preview"}),t&&c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Updating..."})]}),l&&c.jsx("span",{className:"text-xs text-destructive",children:"Error"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:g,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Refresh Preview",children:c.jsx(Kp,{className:"h-4 w-4"})}),c.jsx("button",{onClick:y,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Open in New Tab",children:c.jsx(qo,{className:"h-4 w-4"})}),c.jsx("button",{onClick:_,className:"p-2 hover:bg-muted rounded-md transition-colors",title:s?"Exit Fullscreen":"Enter Fullscreen",children:s?c.jsx(UL,{className:"h-4 w-4"}):c.jsx(VL,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex-1 relative bg-black",children:l?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center p-6",children:[c.jsx("div",{className:"text-4xl mb-4",children:""}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Error"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:l}),c.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Try Again"})]})}):c.jsx("iframe",{ref:e,className:"w-full h-full border-0",title:"Preview",sandbox:"allow-scripts allow-forms allow-popups",onLoad:()=>r(!1),onError:()=>{r(!1),d("Failed to load preview")}})}),c.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{children:"Responsive"}),c.jsx("span",{children:""}),c.jsx("span",{children:"Auto-refresh"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:"Ctrl+R to refresh"}),c.jsx("span",{children:""}),c.jsx("span",{children:"F11 for fullscreen"})]})]})]})};function Mk(n,e){return function(){return n.apply(e,arguments)}}const{toString:SU}=Object.prototype,{getPrototypeOf:Kv}=Object,{iterator:sf,toStringTag:Lk}=Symbol,of=(n=>e=>{const t=SU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),vr=n=>(n=n.toLowerCase(),e=>of(e)===n),af=n=>e=>typeof e===n,{isArray:Il}=Array,xl=af("undefined");function Du(n){return n!==null&&!xl(n)&&n.constructor!==null&&!xl(n.constructor)&&Sn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ok=vr("ArrayBuffer");function _U(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Ok(n.buffer),e}const EU=af("string"),Sn=af("function"),Vk=af("number"),Mu=n=>n!==null&&typeof n=="object",TU=n=>n===!0||n===!1,Ph=n=>{if(of(n)!=="object")return!1;const e=Kv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Lk in n)&&!(sf in n)},kU=n=>{if(!Mu(n)||Du(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},AU=vr("Date"),CU=vr("File"),IU=vr("Blob"),NU=vr("FileList"),jU=n=>Mu(n)&&Sn(n.pipe),PU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Sn(n.append)&&((e=of(n))==="formdata"||e==="object"&&Sn(n.toString)&&n.toString()==="[object FormData]"))},RU=vr("URLSearchParams"),[DU,MU,LU,OU]=["ReadableStream","Request","Response","Headers"].map(vr),VU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Il(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(Du(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let d;for(r=0;r<l;r++)d=a[r],e.call(null,n[d],d,n)}}function Fk(n,e){if(Du(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const No=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Uk=n=>!xl(n)&&n!==No;function gy(){const{caseless:n,skipUndefined:e}=Uk(this)&&this||{},t={},r=(s,a)=>{const l=n&&Fk(t,a)||a;Ph(t[l])&&Ph(s)?t[l]=gy(t[l],s):Ph(s)?t[l]=gy({},s):Il(s)?t[l]=s.slice():(!e||!xl(s))&&(t[l]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Lu(arguments[s],r);return t}const FU=(n,e,t,{allOwnKeys:r}={})=>(Lu(e,(s,a)=>{t&&Sn(s)?n[a]=Mk(s,t):n[a]=s},{allOwnKeys:r}),n),UU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),BU=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},$U=(n,e,t,r)=>{let s,a,l;const d={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)l=s[a],(!r||r(l,n,e))&&!d[l]&&(e[l]=n[l],d[l]=!0);n=t!==!1&&Kv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},zU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},HU=n=>{if(!n)return null;if(Il(n))return n;let e=n.length;if(!Vk(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},qU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Kv(Uint8Array)),WU=(n,e)=>{const r=(n&&n[sf]).call(n);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},GU=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},KU=vr("HTMLFormElement"),QU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),gS=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),JU=vr("RegExp"),Bk=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Lu(t,(s,a)=>{let l;(l=e(s,a,n))!==!1&&(r[a]=l||s)}),Object.defineProperties(n,r)},YU=n=>{Bk(n,(e,t)=>{if(Sn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},XU=(n,e)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return Il(n)?r(n):r(String(n).split(e)),t},ZU=()=>{},eB=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function tB(n){return!!(n&&Sn(n.append)&&n[Lk]==="FormData"&&n[sf])}const nB=n=>{const e=new Array(10),t=(r,s)=>{if(Mu(r)){if(e.indexOf(r)>=0)return;if(Du(r))return r;if(!("toJSON"in r)){e[s]=r;const a=Il(r)?[]:{};return Lu(r,(l,d)=>{const h=t(l,s+1);!xl(h)&&(a[d]=h)}),e[s]=void 0,a}}return r};return t(n,0)},rB=vr("AsyncFunction"),sB=n=>n&&(Mu(n)||Sn(n))&&Sn(n.then)&&Sn(n.catch),$k=((n,e)=>n?setImmediate:e?((t,r)=>(No.addEventListener("message",({source:s,data:a})=>{s===No&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),No.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Sn(No.postMessage)),iB=typeof queueMicrotask<"u"?queueMicrotask.bind(No):typeof process<"u"&&process.nextTick||$k,oB=n=>n!=null&&Sn(n[sf]),X={isArray:Il,isArrayBuffer:Ok,isBuffer:Du,isFormData:PU,isArrayBufferView:_U,isString:EU,isNumber:Vk,isBoolean:TU,isObject:Mu,isPlainObject:Ph,isEmptyObject:kU,isReadableStream:DU,isRequest:MU,isResponse:LU,isHeaders:OU,isUndefined:xl,isDate:AU,isFile:CU,isBlob:IU,isRegExp:JU,isFunction:Sn,isStream:jU,isURLSearchParams:RU,isTypedArray:qU,isFileList:NU,forEach:Lu,merge:gy,extend:FU,trim:VU,stripBOM:UU,inherits:BU,toFlatObject:$U,kindOf:of,kindOfTest:vr,endsWith:zU,toArray:HU,forEachEntry:WU,matchAll:GU,isHTMLForm:KU,hasOwnProperty:gS,hasOwnProp:gS,reduceDescriptors:Bk,freezeMethods:YU,toObjectSet:XU,toCamelCase:QU,noop:ZU,toFiniteNumber:eB,findKey:Fk,global:No,isContextDefined:Uk,isSpecCompliantForm:tB,toJSONObject:nB,isAsyncFn:rB,isThenable:sB,setImmediate:$k,asap:iB,isIterable:oB};function Be(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}X.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const zk=Be.prototype,Hk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Hk[n]={value:n}});Object.defineProperties(Be,Hk);Object.defineProperty(zk,"isAxiosError",{value:!0});Be.from=(n,e,t,r,s,a)=>{const l=Object.create(zk);X.toFlatObject(n,l,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const d=n&&n.message?n.message:"Error",h=e==null&&n?n.code:e;return Be.call(l,d,h,t,r,s),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",a&&Object.assign(l,a),l};const aB=null;function yy(n){return X.isPlainObject(n)||X.isArray(n)}function qk(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function yS(n,e,t){return n?n.concat(e).map(function(s,a){return s=qk(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function lB(n){return X.isArray(n)&&!n.some(yy)}const cB=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function lf(n,e,t){if(!X.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,C){return!X.isUndefined(C[P])});const r=t.metaTokens,s=t.visitor||g,a=t.dots,l=t.indexes,h=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(X.isDate(T))return T.toISOString();if(X.isBoolean(T))return T.toString();if(!h&&X.isBlob(T))throw new Be("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(T)||X.isTypedArray(T)?h&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function g(T,P,C){let U=T;if(T&&!C&&typeof T=="object"){if(X.endsWith(P,"{}"))P=r?P:P.slice(0,-2),T=JSON.stringify(T);else if(X.isArray(T)&&lB(T)||(X.isFileList(T)||X.endsWith(P,"[]"))&&(U=X.toArray(T)))return P=qk(P),U.forEach(function(I,$){!(X.isUndefined(I)||I===null)&&e.append(l===!0?yS([P],$,a):l===null?P:P+"[]",f(I))}),!1}return yy(T)?!0:(e.append(yS(C,P,a),f(T)),!1)}const y=[],w=Object.assign(cB,{defaultVisitor:g,convertValue:f,isVisitable:yy});function _(T,P){if(!X.isUndefined(T)){if(y.indexOf(T)!==-1)throw Error("Circular reference detected in "+P.join("."));y.push(T),X.forEach(T,function(U,D){(!(X.isUndefined(U)||U===null)&&s.call(e,U,X.isString(D)?D.trim():D,P,w))===!0&&_(U,P?P.concat(D):[D])}),y.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return _(n),e}function vS(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qv(n,e){this._pairs=[],n&&lf(n,this,e)}const Wk=Qv.prototype;Wk.append=function(e,t){this._pairs.push([e,t])};Wk.toString=function(e){const t=e?function(r){return e.call(this,r,vS)}:vS;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function uB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gk(n,e,t){if(!e)return n;const r=t&&t.encode||uB;X.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=X.isURLSearchParams(e)?e.toString():new Qv(e,t).toString(r),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class xS{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Kk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dB=typeof URLSearchParams<"u"?URLSearchParams:Qv,hB=typeof FormData<"u"?FormData:null,pB=typeof Blob<"u"?Blob:null,fB={isBrowser:!0,classes:{URLSearchParams:dB,FormData:hB,Blob:pB},protocols:["http","https","file","blob","url","data"]},Jv=typeof window<"u"&&typeof document<"u",vy=typeof navigator=="object"&&navigator||void 0,mB=Jv&&(!vy||["ReactNative","NativeScript","NS"].indexOf(vy.product)<0),gB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yB=Jv&&window.location.href||"http://localhost",vB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jv,hasStandardBrowserEnv:mB,hasStandardBrowserWebWorkerEnv:gB,navigator:vy,origin:yB},Symbol.toStringTag,{value:"Module"})),ln={...vB,...fB};function xB(n,e){return lf(n,new ln.classes.URLSearchParams,{visitor:function(t,r,s,a){return ln.isNode&&X.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function bB(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wB(n){const e={},t=Object.keys(n);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],e[a]=n[a];return e}function Qk(n){function e(t,r,s,a){let l=t[a++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),h=a>=t.length;return l=!l&&X.isArray(s)?s.length:l,h?(X.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!d):((!s[l]||!X.isObject(s[l]))&&(s[l]=[]),e(t,r,s[l],a)&&X.isArray(s[l])&&(s[l]=wB(s[l])),!d)}if(X.isFormData(n)&&X.isFunction(n.entries)){const t={};return X.forEachEntry(n,(r,s)=>{e(bB(r),s,t,0)}),t}return null}function SB(n,e,t){if(X.isString(n))try{return(e||JSON.parse)(n),X.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ou={transitional:Kk,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=X.isObject(e);if(a&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return s?JSON.stringify(Qk(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xB(e,this.formSerializer).toString();if((d=X.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return lf(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),SB(e)):e}],transformResponse:[function(e){const t=this.transitional||Ou.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(r&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Be.from(d,Be.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{Ou.headers[n]={}});const _B=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),EB=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!t||e[t]&&_B[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},bS=Symbol("internals");function Cc(n){return n&&String(n).trim().toLowerCase()}function Rh(n){return n===!1||n==null?n:X.isArray(n)?n.map(Rh):String(n)}function TB(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const kB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function gg(n,e,t,r,s){if(X.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!X.isString(e)){if(X.isString(r))return e.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(e)}}function AB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function CB(n,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}let _n=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(d,h,f){const g=Cc(h);if(!g)throw new Error("header name must be a non-empty string");const y=X.findKey(s,g);(!y||s[y]===void 0||f===!0||f===void 0&&s[y]!==!1)&&(s[y||h]=Rh(d))}const l=(d,h)=>X.forEach(d,(f,g)=>a(f,g,h));if(X.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(X.isString(e)&&(e=e.trim())&&!kB(e))l(EB(e),t);else if(X.isObject(e)&&X.isIterable(e)){let d={},h,f;for(const g of e){if(!X.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[f=g[0]]=(h=d[f])?X.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}l(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Cc(e),e){const r=X.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return TB(s);if(X.isFunction(t))return t.call(this,s,r);if(X.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Cc(e),e){const r=X.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||gg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function a(l){if(l=Cc(l),l){const d=X.findKey(r,l);d&&(!t||gg(r,r[d],d,t))&&(delete r[d],s=!0)}}return X.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!e||gg(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return X.forEach(this,(s,a)=>{const l=X.findKey(r,a);if(l){t[l]=Rh(s),delete t[a];return}const d=e?AB(a):String(a).trim();d!==a&&delete t[a],t[d]=Rh(s),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&X.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[bS]=this[bS]={accessors:{}}).accessors,s=this.prototype;function a(l){const d=Cc(l);r[d]||(CB(s,l),r[d]=!0)}return X.isArray(e)?e.forEach(a):a(e),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(_n.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});X.freezeMethods(_n);function yg(n,e){const t=this||Ou,r=e||t,s=_n.from(r.headers);let a=r.data;return X.forEach(n,function(d){a=d.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function Jk(n){return!!(n&&n.__CANCEL__)}function Nl(n,e,t){Be.call(this,n??"canceled",Be.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(Nl,Be,{__CANCEL__:!0});function Yk(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Be("Request failed with status code "+t.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function IB(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function NB(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const f=Date.now(),g=r[a];l||(l=f),t[s]=h,r[s]=f;let y=a,w=0;for(;y!==s;)w+=t[y++],y=y%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),f-l<e)return;const _=g&&f-g;return _?Math.round(w*1e3/_):void 0}}function jB(n,e){let t=0,r=1e3/e,s,a;const l=(f,g=Date.now())=>{t=g,s=null,a&&(clearTimeout(a),a=null),n(...f)};return[(...f)=>{const g=Date.now(),y=g-t;y>=r?l(f,g):(s=f,a||(a=setTimeout(()=>{a=null,l(s)},r-y)))},()=>s&&l(s)]}const gp=(n,e,t=3)=>{let r=0;const s=NB(50,250);return jB(a=>{const l=a.loaded,d=a.lengthComputable?a.total:void 0,h=l-r,f=s(h),g=l<=d;r=l;const y={loaded:l,total:d,progress:d?l/d:void 0,bytes:h,rate:f||void 0,estimated:f&&d&&g?(d-l)/f:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(y)},t)},wS=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},SS=n=>(...e)=>X.asap(()=>n(...e)),PB=ln.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ln.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,RB=ln.hasStandardBrowserEnv?{write(n,e,t,r,s,a){const l=[n+"="+encodeURIComponent(e)];X.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),X.isString(r)&&l.push("path="+r),X.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function DB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function MB(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Xk(n,e,t){let r=!DB(e);return n&&(r||t==!1)?MB(n,e):e}const _S=n=>n instanceof _n?{...n}:n;function Wo(n,e){e=e||{};const t={};function r(f,g,y,w){return X.isPlainObject(f)&&X.isPlainObject(g)?X.merge.call({caseless:w},f,g):X.isPlainObject(g)?X.merge({},g):X.isArray(g)?g.slice():g}function s(f,g,y,w){if(X.isUndefined(g)){if(!X.isUndefined(f))return r(void 0,f,y,w)}else return r(f,g,y,w)}function a(f,g){if(!X.isUndefined(g))return r(void 0,g)}function l(f,g){if(X.isUndefined(g)){if(!X.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function d(f,g,y){if(y in e)return r(f,g);if(y in n)return r(void 0,f)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(f,g,y)=>s(_S(f),_S(g),y,!0)};return X.forEach(Object.keys({...n,...e}),function(g){const y=h[g]||s,w=y(n[g],e[g],g);X.isUndefined(w)&&y!==d||(t[g]=w)}),t}const Zk=n=>{const e=Wo({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:d}=e;if(e.headers=l=_n.from(l),e.url=Gk(Xk(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),X.isFormData(t)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(X.isFunction(t.getHeaders)){const h=t.getHeaders(),f=["content-type","content-length"];Object.entries(h).forEach(([g,y])=>{f.includes(g.toLowerCase())&&l.set(g,y)})}}if(ln.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(e)),r||r!==!1&&PB(e.url))){const h=s&&a&&RB.read(a);h&&l.set(s,h)}return e},LB=typeof XMLHttpRequest<"u",OB=LB&&function(n){return new Promise(function(t,r){const s=Zk(n);let a=s.data;const l=_n.from(s.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:f}=s,g,y,w,_,T;function P(){_&&_(),T&&T(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function U(){if(!C)return;const I=_n.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),Q={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:I,config:n,request:C};Yk(function(A){t(A),P()},function(A){r(A),P()},Q),C=null}"onloadend"in C?C.onloadend=U:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(U)},C.onabort=function(){C&&(r(new Be("Request aborted",Be.ECONNABORTED,n,C)),C=null)},C.onerror=function($){const Q=$&&$.message?$.message:"Network Error",G=new Be(Q,Be.ERR_NETWORK,n,C);G.event=$||null,r(G),C=null},C.ontimeout=function(){let $=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const Q=s.transitional||Kk;s.timeoutErrorMessage&&($=s.timeoutErrorMessage),r(new Be($,Q.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,n,C)),C=null},a===void 0&&l.setContentType(null),"setRequestHeader"in C&&X.forEach(l.toJSON(),function($,Q){C.setRequestHeader(Q,$)}),X.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),d&&d!=="json"&&(C.responseType=s.responseType),f&&([w,T]=gp(f,!0),C.addEventListener("progress",w)),h&&C.upload&&([y,_]=gp(h),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",_)),(s.cancelToken||s.signal)&&(g=I=>{C&&(r(!I||I.type?new Nl(null,n,C):I),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const D=IB(s.url);if(D&&ln.protocols.indexOf(D)===-1){r(new Be("Unsupported protocol "+D+":",Be.ERR_BAD_REQUEST,n));return}C.send(a||null)})},VB=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const a=function(f){if(!s){s=!0,d();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Be?g:new Nl(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const d=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),n=null)};n.forEach(f=>f.addEventListener("abort",a));const{signal:h}=r;return h.unsubscribe=()=>X.asap(d),h}},FB=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},UB=async function*(n,e){for await(const t of BB(n))yield*FB(t,e)},BB=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},ES=(n,e,t,r)=>{const s=UB(n,e);let a=0,l,d=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:f,value:g}=await s.next();if(f){d(),h.close();return}let y=g.byteLength;if(t){let w=a+=y;t(w)}h.enqueue(new Uint8Array(g))}catch(f){throw d(f),f}},cancel(h){return d(h),s.return()}},{highWaterMark:2})},TS=64*1024,{isFunction:yh}=X,$B=(({Request:n,Response:e})=>({Request:n,Response:e}))(X.global),{ReadableStream:kS,TextEncoder:AS}=X.global,CS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},zB=n=>{n=X.merge.call({skipUndefined:!0},$B,n);const{fetch:e,Request:t,Response:r}=n,s=e?yh(e):typeof fetch=="function",a=yh(t),l=yh(r);if(!s)return!1;const d=s&&yh(kS),h=s&&(typeof AS=="function"?(T=>P=>T.encode(P))(new AS):async T=>new Uint8Array(await new t(T).arrayBuffer())),f=a&&d&&CS(()=>{let T=!1;const P=new t(ln.origin,{body:new kS,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!P}),g=l&&d&&CS(()=>X.isReadableStream(new r("").body)),y={stream:g&&(T=>T.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!y[T]&&(y[T]=(P,C)=>{let U=P&&P[T];if(U)return U.call(P);throw new Be(`Response type '${T}' is not supported`,Be.ERR_NOT_SUPPORT,C)})});const w=async T=>{if(T==null)return 0;if(X.isBlob(T))return T.size;if(X.isSpecCompliantForm(T))return(await new t(ln.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(X.isArrayBufferView(T)||X.isArrayBuffer(T))return T.byteLength;if(X.isURLSearchParams(T)&&(T=T+""),X.isString(T))return(await h(T)).byteLength},_=async(T,P)=>{const C=X.toFiniteNumber(T.getContentLength());return C??w(P)};return async T=>{let{url:P,method:C,data:U,signal:D,cancelToken:I,timeout:$,onDownloadProgress:Q,onUploadProgress:G,responseType:A,headers:E,withCredentials:R="same-origin",fetchOptions:L}=Zk(T),F=e||fetch;A=A?(A+"").toLowerCase():"text";let z=VB([D,I&&I.toAbortSignal()],$),M=null;const we=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let _e;try{if(G&&f&&C!=="get"&&C!=="head"&&(_e=await _(E,U))!==0){let V=new t(P,{method:"POST",body:U,duplex:"half"}),Z;if(X.isFormData(U)&&(Z=V.headers.get("content-type"))&&E.setContentType(Z),V.body){const[Ae,Te]=wS(_e,gp(SS(G)));U=ES(V.body,TS,Ae,Te)}}X.isString(R)||(R=R?"include":"omit");const ve=a&&"credentials"in t.prototype,Ue={...L,signal:z,method:C.toUpperCase(),headers:E.normalize().toJSON(),body:U,duplex:"half",credentials:ve?R:void 0};M=a&&new t(P,Ue);let oe=await(a?F(M,L):F(P,Ue));const ne=g&&(A==="stream"||A==="response");if(g&&(Q||ne&&we)){const V={};["status","statusText","headers"].forEach(Le=>{V[Le]=oe[Le]});const Z=X.toFiniteNumber(oe.headers.get("content-length")),[Ae,Te]=Q&&wS(Z,gp(SS(Q),!0))||[];oe=new r(ES(oe.body,TS,Ae,()=>{Te&&Te(),we&&we()}),V)}A=A||"text";let se=await y[X.findKey(y,A)||"text"](oe,T);return!ne&&we&&we(),await new Promise((V,Z)=>{Yk(V,Z,{data:se,headers:_n.from(oe.headers),status:oe.status,statusText:oe.statusText,config:T,request:M})})}catch(ve){throw we&&we(),ve&&ve.name==="TypeError"&&/Load failed|fetch/i.test(ve.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,T,M),{cause:ve.cause||ve}):Be.from(ve,ve&&ve.code,T,M)}}},HB=new Map,eA=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:s}=e,a=[r,s,t];let l=a.length,d=l,h,f,g=HB;for(;d--;)h=a[d],f=g.get(h),f===void 0&&g.set(h,f=d?new Map:zB(e)),g=f;return f};eA();const xy={http:aB,xhr:OB,fetch:{get:eA}};X.forEach(xy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const IS=n=>`- ${n}`,qB=n=>X.isFunction(n)||n===null||n===!1,tA={getAdapter:(n,e)=>{n=X.isArray(n)?n:[n];const{length:t}=n;let r,s;const a={};for(let l=0;l<t;l++){r=n[l];let d;if(s=r,!qB(r)&&(s=xy[(d=String(r)).toLowerCase()],s===void 0))throw new Be(`Unknown adapter '${d}'`);if(s&&(X.isFunction(s)||(s=s.get(e))))break;a[d||"#"+l]=s}if(!s){const l=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let d=t?l.length>1?`since :
`+l.map(IS).join(`
`):" "+IS(l[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s},adapters:xy};function vg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Nl(null,n)}function NS(n){return vg(n),n.headers=_n.from(n.headers),n.data=yg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),tA.getAdapter(n.adapter||Ou.adapter,n)(n).then(function(r){return vg(n),r.data=yg.call(n,n.transformResponse,r),r.headers=_n.from(r.headers),r},function(r){return Jk(r)||(vg(n),r&&r.response&&(r.response.data=yg.call(n,n.transformResponse,r.response),r.response.headers=_n.from(r.response.headers))),Promise.reject(r)})}const nA="1.12.2",cf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{cf[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const jS={};cf.transitional=function(e,t,r){function s(a,l){return"[Axios v"+nA+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,d)=>{if(e===!1)throw new Be(s(l," has been removed"+(t?" in "+t:"")),Be.ERR_DEPRECATED);return t&&!jS[l]&&(jS[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,d):!0}};cf.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function WB(n,e,t){if(typeof n!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const d=n[a],h=d===void 0||l(d,a,n);if(h!==!0)throw new Be("option "+a+" must be "+h,Be.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Be("Unknown option "+a,Be.ERR_BAD_OPTION)}}const Dh={assertOptions:WB,validators:cf},Or=Dh.validators;let Lo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xS,response:new xS}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Wo(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&Dh.assertOptions(r,{silentJSONParsing:Or.transitional(Or.boolean),forcedJSONParsing:Or.transitional(Or.boolean),clarifyTimeoutError:Or.transitional(Or.boolean)},!1),s!=null&&(X.isFunction(s)?t.paramsSerializer={serialize:s}:Dh.assertOptions(s,{encode:Or.function,serialize:Or.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dh.assertOptions(t,{baseUrl:Or.spelling("baseURL"),withXsrfToken:Or.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&X.merge(a.common,a[t.method]);a&&X.forEach(["delete","get","head","post","put","patch","common"],T=>{delete a[T]}),t.headers=_n.concat(l,a);const d=[];let h=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(t)===!1||(h=h&&P.synchronous,d.unshift(P.fulfilled,P.rejected))});const f=[];this.interceptors.response.forEach(function(P){f.push(P.fulfilled,P.rejected)});let g,y=0,w;if(!h){const T=[NS.bind(this),void 0];for(T.unshift(...d),T.push(...f),w=T.length,g=Promise.resolve(t);y<w;)g=g.then(T[y++],T[y++]);return g}w=d.length;let _=t;for(;y<w;){const T=d[y++],P=d[y++];try{_=T(_)}catch(C){P.call(this,C);break}}try{g=NS.call(this,_)}catch(T){return Promise.reject(T)}for(y=0,w=f.length;y<w;)g=g.then(f[y++],f[y++]);return g}getUri(e){e=Wo(this.defaults,e);const t=Xk(e.baseURL,e.url,e.allowAbsoluteUrls);return Gk(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Lo.prototype[e]=function(t,r){return this.request(Wo(r||{},{method:e,url:t,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(r){return function(a,l,d){return this.request(Wo(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Lo.prototype[e]=t(),Lo.prototype[e+"Form"]=t(!0)});let GB=class rA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(d=>{r.subscribe(d),a=d}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,d){r.reason||(r.reason=new Nl(a,l,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new rA(function(s){e=s}),cancel:e}}};function KB(n){return function(t){return n.apply(null,t)}}function QB(n){return X.isObject(n)&&n.isAxiosError===!0}const by={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(by).forEach(([n,e])=>{by[e]=n});function sA(n){const e=new Lo(n),t=Mk(Lo.prototype.request,e);return X.extend(t,Lo.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return sA(Wo(n,s))},t}const ft=sA(Ou);ft.Axios=Lo;ft.CanceledError=Nl;ft.CancelToken=GB;ft.isCancel=Jk;ft.VERSION=nA;ft.toFormData=lf;ft.AxiosError=Be;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=KB;ft.isAxiosError=QB;ft.mergeConfig=Wo;ft.AxiosHeaders=_n;ft.formToJSON=n=>Qk(X.isHTMLForm(n)?new FormData(n):n);ft.getAdapter=tA.getAdapter;ft.HttpStatusCode=by;ft.default=ft;const{Axios:P9,AxiosError:R9,CanceledError:D9,isCancel:M9,CancelToken:L9,VERSION:O9,all:V9,Cancel:F9,isAxiosError:U9,spread:B9,toFormData:$9,AxiosHeaders:z9,HttpStatusCode:H9,formToJSON:q9,getAdapter:W9,mergeConfig:G9}=ft;class JB{constructor(){this.supportedFrameworks={"react-native":{name:"React Native",description:"Cross-platform mobile apps with JavaScript",platforms:["ios","android"],languages:["javascript","typescript"],features:["native-performance","hot-reload","large-community"]},flutter:{name:"Flutter",description:"Cross-platform apps with Dart",platforms:["ios","android","web"],languages:["dart"],features:["fast-development","beautiful-ui","google-backed"]},ionic:{name:"Ionic",description:"Cross-platform apps with web technologies",platforms:["ios","android","web"],languages:["javascript","typescript"],features:["web-based","easy-deployment","pwa-ready"]},pwa:{name:"Progressive Web App",description:"Web apps that work like native apps",platforms:["ios","android","web"],languages:["javascript","html","css"],features:["no-app-store","instant-updates","cross-platform"]},capacitor:{name:"Capacitor",description:"Native apps from web technologies",platforms:["ios","android","web"],languages:["javascript","typescript"],features:["web-to-native","plugin-system","ionic-integration"]}}}async generateMobileApp(e,t={}){const r=this.detectFramework(e,t),s=this.detectPlatform(e,t);switch(console.log(` Generating ${r.name} app for ${s}...`),r.id){case"react-native":return this.generateReactNativeApp(e,t,s);case"flutter":return this.generateFlutterApp(e,t,s);case"ionic":return this.generateIonicApp(e,t,s);case"pwa":return this.generatePWAApp(e,t,s);case"capacitor":return this.generateCapacitorApp(e,t,s);default:return this.generatePWAApp(e,t,s)}}detectFramework(e,t){const r=e.toLowerCase(),s=t.framework||t.mobileFramework;return r.includes("react native")||r.includes("react-native")?this.supportedFrameworks["react-native"]:r.includes("flutter")?this.supportedFrameworks.flutter:r.includes("ionic")?this.supportedFrameworks.ionic:r.includes("capacitor")?this.supportedFrameworks.capacitor:r.includes("pwa")||r.includes("progressive web app")?this.supportedFrameworks.pwa:s&&this.supportedFrameworks[s]?this.supportedFrameworks[s]:r.includes("game")||r.includes("performance")?this.supportedFrameworks["react-native"]:r.includes("ui")||r.includes("design")||r.includes("beautiful")?this.supportedFrameworks.flutter:r.includes("web")||r.includes("website")||r.includes("simple")?this.supportedFrameworks.pwa:this.supportedFrameworks.pwa}detectPlatform(e,t){const r=e.toLowerCase(),s=t.platform||t.mobilePlatform;return s||(r.includes("ios")||r.includes("iphone")||r.includes("apple")?"ios":r.includes("android")||r.includes("google play")?"android":"cross-platform")}generateReactNativeApp(e,t,r){const s=t.projectName||"DreamBuildApp",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"package.json":this.generateReactNativePackageJSON(s,t),"App.js":this.generateReactNativeAppJS(s,e,t),"App.json":this.generateReactNativeAppJSON(s,t),"metro.config.js":this.generateMetroConfig(),"babel.config.js":this.generateBabelConfig(),"android/app/build.gradle":this.generateAndroidBuildGradle(s,a),"android/app/src/main/AndroidManifest.xml":this.generateAndroidManifest(s,a),"ios/Info.plist":this.generateIOSInfoPlist(s,a),"README.md":this.generateReactNativeREADME(s,e,t),"app.json":this.generateExpoConfig(s,t)}}generateFlutterApp(e,t,r){const s=t.projectName||"dreambuild_app",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"pubspec.yaml":this.generateFlutterPubspec(s,t),"lib/main.dart":this.generateFlutterMain(s,e,t),"android/app/build.gradle":this.generateFlutterAndroidBuildGradle(s,a),"android/app/src/main/AndroidManifest.xml":this.generateFlutterAndroidManifest(s,a),"ios/Runner/Info.plist":this.generateFlutterIOSInfoPlist(s,a),"README.md":this.generateFlutterREADME(s,e,t)}}generateIonicApp(e,t,r){const s=t.projectName||"DreamBuildApp",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"package.json":this.generateIonicPackageJSON(s,t),"ionic.config.json":this.generateIonicConfig(s,t),"src/app/app.component.ts":this.generateIonicAppComponent(s,e,t),"src/app/app.module.ts":this.generateIonicAppModule(s,t),"src/index.html":this.generateIonicIndexHTML(s,t),"capacitor.config.json":this.generateCapacitorConfig(s,t),"android/app/build.gradle":this.generateCapacitorAndroidBuildGradle(s,a),"ios/App/App/Info.plist":this.generateCapacitorIOSInfoPlist(s,a),"README.md":this.generateIonicREADME(s,e,t)}}generatePWAApp(e,t,r){const s=t.projectName||"DreamBuild App";return{"index.html":this.generatePWAHTML(s,e,t),"manifest.json":this.generatePWAManifest(s,t),"sw.js":this.generatePWAServiceWorker(s,t),"style.css":this.generatePWACSS(s,t),"script.js":this.generatePWAJavaScript(s,e,t),"package.json":this.generatePWAPackageJSON(s,t),"README.md":this.generatePWAREADME(s,e,t)}}generateCapacitorApp(e,t,r){const s=t.projectName||"DreamBuildApp",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"package.json":this.generateCapacitorPackageJSON(s,t),"capacitor.config.json":this.generateCapacitorConfig(s,t),"src/index.html":this.generateCapacitorIndexHTML(s,t),"src/main.ts":this.generateCapacitorMain(s,e,t),"src/app/app.component.ts":this.generateCapacitorAppComponent(s,e,t),"android/app/build.gradle":this.generateCapacitorAndroidBuildGradle(s,a),"ios/App/App/Info.plist":this.generateCapacitorIOSInfoPlist(s,a),"README.md":this.generateCapacitorREADME(s,e,t)}}generateReactNativePackageJSON(e,t){return JSON.stringify({name:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${e}`,main:"node_modules/expo/AppEntry.js",scripts:{start:"expo start",android:"expo start --android",ios:"expo start --ios",web:"expo start --web","build:android":"eas build --platform android","build:ios":"eas build --platform ios"},dependencies:{expo:"~50.0.0",react:"18.2.0","react-native":"0.73.0","@expo/vector-icons":"^14.0.0","react-native-safe-area-context":"4.8.2","react-native-screens":"~3.29.0","@react-navigation/native":"^6.1.9","@react-navigation/stack":"^6.3.20"},devDependencies:{"@babel/core":"^7.20.0"},keywords:["react-native","expo","mobile","dreambuild"],author:"DreamBuild AI",license:"MIT"},null,2)}generateReactNativeAppJS(e,t,r){return`import React from 'react';
import { StyleSheet, Text, View, SafeAreaView, ScrollView } from 'react-native';
import { StatusBar } from 'expo-status-bar';

export default function App() {
  return (
    <SafeAreaView style={styles.container}>
      <StatusBar style="auto" />
      <ScrollView contentContainerStyle={styles.content}>
        <View style={styles.header}>
          <Text style={styles.title}> ${e}</Text>
          <Text style={styles.subtitle}>Built with DreamBuild</Text>
        </View>
        
        <View style={styles.features}>
          <Text style={styles.featureTitle}>Features:</Text>
          <Text style={styles.feature}> Cross-platform (iOS & Android)</Text>
          <Text style={styles.feature}> React Native + Expo</Text>
          <Text style={styles.feature}> Native performance</Text>
          <Text style={styles.feature}> Hot reload development</Text>
        </View>
        
        <View style={styles.info}>
          <Text style={styles.infoText}>
            This is a React Native app generated by DreamBuild AI.
            Edit App.js to customize your app.
          </Text>
        </View>
      </ScrollView>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f8fafc',
  },
  content: {
    padding: 20,
    paddingTop: 40,
  },
  header: {
    alignItems: 'center',
    marginBottom: 40,
  },
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#1e293b',
    marginBottom: 8,
  },
  subtitle: {
    fontSize: 16,
    color: '#64748b',
  },
  features: {
    backgroundColor: 'white',
    padding: 20,
    borderRadius: 12,
    marginBottom: 20,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    elevation: 3,
  },
  featureTitle: {
    fontSize: 18,
    fontWeight: '600',
    color: '#1e293b',
    marginBottom: 12,
  },
  feature: {
    fontSize: 16,
    color: '#475569',
    marginBottom: 8,
  },
  info: {
    backgroundColor: '#eff6ff',
    padding: 16,
    borderRadius: 8,
    borderLeftWidth: 4,
    borderLeftColor: '#3b82f6',
  },
  infoText: {
    fontSize: 14,
    color: '#1e40af',
    lineHeight: 20,
  },
});
`}generateReactNativeAppJSON(e,t){return JSON.stringify({expo:{name:e,slug:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},assetBundlePatterns:["**/*"],ios:{supportsTablet:!0,bundleIdentifier:`com.dreambuild.${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`},android:{adaptiveIcon:{foregroundImage:"./assets/adaptive-icon.png",backgroundColor:"#ffffff"},package:`com.dreambuild.${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`},web:{favicon:"./assets/favicon.png"}}},null,2)}generateFlutterPubspec(e,t){return`name: ${e.toLowerCase().replace(/[^a-z0-9]/g,"_")}
description: Built with DreamBuild - ${e}
publish_to: 'none'
version: 1.0.0+1

environment:
  sdk: '>=3.0.0 <4.0.0'
  flutter: ">=3.10.0"

dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^1.0.2
  http: ^1.1.0
  shared_preferences: ^2.2.2

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^3.0.0

flutter:
  uses-material-design: true
  assets:
    - assets/images/
`}generateFlutterMain(e,t,r){return`import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: '${e}',
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),
        useMaterial3: true,
      ),
      home: const MyHomePage(title: '${e}'),
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, required this.title});

  final String title;

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: Text(widget.title),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            const Icon(
              Icons.rocket_launch,
              size: 80,
              color: Colors.blue,
            ),
            const SizedBox(height: 20),
            Text(
              ' ${e}',
              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                fontWeight: FontWeight.bold,
              ),
            ),
            const SizedBox(height: 10),
            Text(
              'Built with DreamBuild',
              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                color: Colors.grey[600],
              ),
            ),
            const SizedBox(height: 40),
            Card(
              margin: const EdgeInsets.all(20),
              child: Padding(
                padding: const EdgeInsets.all(20),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'Features:',
                      style: Theme.of(context).textTheme.titleLarge?.copyWith(
                        fontWeight: FontWeight.bold,
                      ),
                    ),
                    const SizedBox(height: 10),
                    const FeatureItem(icon: Icons.check_circle, text: 'Cross-platform (iOS & Android)'),
                    const FeatureItem(icon: Icons.check_circle, text: 'Flutter framework'),
                    const FeatureItem(icon: Icons.check_circle, text: 'Material Design 3'),
                    const FeatureItem(icon: Icons.check_circle, text: 'Hot reload development'),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}

class FeatureItem extends StatelessWidget {
  final IconData icon;
  final String text;

  const FeatureItem({
    super.key,
    required this.icon,
    required this.text,
  });

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 4),
      child: Row(
        children: [
          Icon(icon, color: Colors.green, size: 20),
          const SizedBox(width: 8),
          Text(text),
        ],
      ),
    );
  }
}
`}generatePWAHTML(e,t,r){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e}</title>
    <meta name="description" content="Built with DreamBuild - ${e}">
    <meta name="theme-color" content="#2563eb">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="${e}">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header class="app-header">
            <h1> ${e}</h1>
            <p>Built with DreamBuild</p>
        </header>
        
        <main class="app-main">
            <div class="feature-card">
                <h2>Mobile App Features</h2>
                <ul class="feature-list">
                    <li> Progressive Web App (PWA)</li>
                    <li> Installable on iOS & Android</li>
                    <li> Offline functionality</li>
                    <li> Push notifications</li>
                    <li> App-like experience</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h3>Install Instructions</h3>
                <div class="install-steps">
                    <div class="step">
                        <strong>iOS:</strong> Tap Share  Add to Home Screen
                    </div>
                    <div class="step">
                        <strong>Android:</strong> Tap menu  Add to Home Screen
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="app-footer">
            <p>Powered by <strong>DreamBuild AI</strong></p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePWAManifest(e,t){return JSON.stringify({name:e,short_name:e.split(" ")[0],description:`Built with DreamBuild - ${e}`,start_url:"/",display:"standalone",background_color:"#ffffff",theme_color:"#2563eb",orientation:"portrait-primary",icons:[{src:"icon-192.png",sizes:"192x192",type:"image/png",purpose:"any maskable"},{src:"icon-512.png",sizes:"512x512",type:"image/png",purpose:"any maskable"}],categories:["productivity","utilities"],screenshots:[{src:"screenshot-mobile.png",sizes:"390x844",type:"image/png",form_factor:"narrow"}]},null,2)}generatePWAServiceWorker(e,t){return`// DreamBuild PWA Service Worker
const CACHE_NAME = 'dreambuild-${e.toLowerCase().replace(/[^a-z0-9]/g,"-")}-v1';
const urlsToCache = [
  '/',
  '/index.html',
  '/style.css',
  '/script.js',
  '/manifest.json'
];

// Install event
self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then((cache) => {
        console.log('Opened cache');
        return cache.addAll(urlsToCache);
      })
  );
});

// Fetch event
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then((response) => {
        // Return cached version or fetch from network
        return response || fetch(event.request);
      }
    )
  );
});

// Activate event
self.addEventListener('activate', (event) => {
  event.waitUntil(
    caches.keys().then((cacheNames) => {
      return Promise.all(
        cacheNames.map((cacheName) => {
          if (cacheName !== CACHE_NAME) {
            console.log('Deleting old cache:', cacheName);
            return caches.delete(cacheName);
          }
        })
      );
    })
  );
});`}generatePWACSS(e,t){return`/* DreamBuild PWA Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  line-height: 1.6;
  color: #333;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
}

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.app-header {
  text-align: center;
  padding: 40px 20px;
  color: white;
}

.app-header h1 {
  font-size: 2.5rem;
  margin-bottom: 10px;
  font-weight: bold;
}

.app-header p {
  font-size: 1.2rem;
  opacity: 0.9;
}

.app-main {
  flex: 1;
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  width: 100%;
}

.feature-card, .info-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
}

.feature-card h2, .info-card h3 {
  color: #1e293b;
  margin-bottom: 16px;
  font-size: 1.5rem;
}

.feature-list {
  list-style: none;
}

.feature-list li {
  padding: 8px 0;
  font-size: 1.1rem;
  color: #475569;
}

.install-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.step {
  padding: 12px;
  background: #f1f5f9;
  border-radius: 8px;
  font-size: 0.95rem;
  color: #334155;
}

.app-footer {
  text-align: center;
  padding: 20px;
  color: white;
  opacity: 0.8;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .app-header h1 {
    font-size: 2rem;
  }
  
  .feature-card, .info-card {
    margin: 10px;
    padding: 20px;
  }
}

/* PWA specific styles */
@media (display-mode: standalone) {
  body {
    user-select: none;
    -webkit-user-select: none;
  }
}`}generatePWAJavaScript(e,t,r){return`// DreamBuild PWA JavaScript
console.log(' ${e} PWA loaded!');

// Register service worker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then((registration) => {
        console.log('SW registered: ', registration);
      })
      .catch((registrationError) => {
        console.log('SW registration failed: ', registrationError);
      });
  });
}

// PWA install prompt
let deferredPrompt;
const installButton = document.createElement('button');
installButton.textContent = 'Install App';
installButton.className = 'install-button';
installButton.style.cssText = \`
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #3b82f6;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 25px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  z-index: 1000;
\`;

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  document.body.appendChild(installButton);
});

installButton.addEventListener('click', async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    console.log('User choice:', outcome);
    deferredPrompt = null;
    installButton.remove();
  }
});

// App functionality
document.addEventListener('DOMContentLoaded', () => {
  console.log(' ${e} PWA ready!');
  
  // Add some interactive features
  const featureItems = document.querySelectorAll('.feature-list li');
  featureItems.forEach((item, index) => {
    item.addEventListener('click', () => {
      item.style.transform = 'scale(1.05)';
      setTimeout(() => {
        item.style.transform = 'scale(1)';
      }, 200);
    });
  });
});

// Handle app updates
window.addEventListener('appinstalled', () => {
  console.log(' ${e} installed successfully!');
});

// Network status
window.addEventListener('online', () => {
  console.log(' App is online');
});

window.addEventListener('offline', () => {
  console.log(' App is offline');
});`}generateMetroConfig(){return`module.exports = {
  transformer: {
    getTransformOptions: async () => ({
      transform: {
        experimentalImportSupport: false,
        inlineRequires: true,
      },
    }),
  },
};`}generateBabelConfig(){return`module.exports = function(api) {
  api.cache(true);
  return {
    presets: ['babel-preset-expo'],
  };
};`}generateAndroidBuildGradle(e,t){return`android {
    compileSdkVersion rootProject.ext.compileSdkVersion

    defaultConfig {
        applicationId "${t}"
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode 1
        versionName "1.0"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
        }
    }
}`}generateAndroidManifest(e,t){return`<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="${t}">

    <application
        android:name=".MainApplication"
        android:label="${e}"
        android:icon="@mipmap/ic_launcher"
        android:allowBackup="false"
        android:theme="@style/AppTheme">
        <activity
            android:name=".MainActivity"
            android:label="${e}"
            android:configChanges="keyboard|keyboardHidden|orientation|screenSize|uiMode"
            android:launchMode="singleTask"
            android:windowSoftInputMode="adjustResize"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest>`}generateIOSInfoPlist(e,t){return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleDisplayName</key>
    <string>${e}</string>
    <key>CFBundleIdentifier</key>
    <string>${t}</string>
    <key>CFBundleName</key>
    <string>${e}</string>
    <key>CFBundleVersion</key>
    <string>1.0.0</string>
    <key>CFBundleShortVersionString</key>
    <string>1.0.0</string>
</dict>
</plist>`}generateReactNativeREADME(e,t,r){return`# ${e}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

##  React Native App

This is a React Native mobile application built with Expo.

###  Features

- **Cross-platform**: iOS and Android
- **Framework**: React Native with Expo
- **Performance**: Native performance
- **Development**: Hot reload and fast refresh

###  Getting Started

1. **Install dependencies:**
   \`\`\`bash
   npm install
   \`\`\`

2. **Start the development server:**
   \`\`\`bash
   npm start
   \`\`\`

3. **Run on device/simulator:**
   \`\`\`bash
   # iOS
   npm run ios
   
   # Android
   npm run android
   \`\`\`

###  Building for Production

1. **Build for Android:**
   \`\`\`bash
   npm run build:android
   \`\`\`

2. **Build for iOS:**
   \`\`\`bash
   npm run build:ios
   \`\`\`

###  App Features

- Modern React Native architecture
- Expo SDK integration
- Cross-platform compatibility
- Native performance
- Easy deployment

###  Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`}generateFlutterREADME(e,t,r){return`# ${e}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

##  Flutter App

This is a Flutter mobile application built with Dart.

###  Features

- **Cross-platform**: iOS and Android
- **Framework**: Flutter with Dart
- **UI**: Material Design 3
- **Performance**: Native performance

###  Getting Started

1. **Install Flutter:** Follow the [official guide](https://flutter.dev/docs/get-started/install)

2. **Install dependencies:**
   \`\`\`bash
   flutter pub get
   \`\`\`

3. **Run the app:**
   \`\`\`bash
   flutter run
   \`\`\`

###  Building for Production

1. **Build APK for Android:**
   \`\`\`bash
   flutter build apk
   \`\`\`

2. **Build iOS app:**
   \`\`\`bash
   flutter build ios
   \`\`\`

###  App Features

- Flutter framework
- Material Design 3
- Cross-platform compatibility
- Hot reload development
- Native performance

###  Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`}generatePWAREADME(e,t,r){return`# ${e}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

##  Progressive Web App (PWA)

This is a Progressive Web App that works on iOS, Android, and desktop browsers.

###  Features

- **Cross-platform**: iOS, Android, Desktop
- **Installable**: Add to home screen
- **Offline**: Works without internet
- **Native-like**: App-like experience

###  Installation

#### iOS (iPhone/iPad)
1. Open in Safari
2. Tap the Share button
3. Select "Add to Home Screen"
4. Tap "Add"

#### Android
1. Open in Chrome
2. Tap the menu (three dots)
3. Select "Add to Home Screen"
4. Tap "Add"

###  Development

1. **Local development:**
   \`\`\`bash
   # Serve locally
   npx serve .
   
   # Or use any static server
   python -m http.server 8000
   \`\`\`

2. **Test PWA features:**
   - Use Chrome DevTools  Application tab
   - Test offline functionality
   - Check manifest and service worker

###  PWA Features

- Service Worker for offline functionality
- Web App Manifest for installation
- Responsive design for all devices
- Push notification support
- App-like navigation

###  Deployment

Deploy to any static hosting service:
- Firebase Hosting
- GitHub Pages
- Netlify
- Vercel

###  Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`}generateIonicPackageJSON(e,t){return JSON.stringify({name:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${e}`,main:"index.js",scripts:{build:"ionic build",serve:"ionic serve",ios:"ionic capacitor run ios",android:"ionic capacitor run android"},dependencies:{"@ionic/core":"^7.0.0","@ionic/react":"^7.0.0","@capacitor/core":"^5.0.0","@capacitor/ios":"^5.0.0","@capacitor/android":"^5.0.0"},devDependencies:{"@ionic/cli":"^7.0.0"},keywords:["ionic","capacitor","mobile","dreambuild"],author:"DreamBuild AI",license:"MIT"},null,2)}generateCapacitorConfig(e,t){return JSON.stringify({appId:`com.dreambuild.${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`,appName:e,webDir:"dist",server:{androidScheme:"https"}},null,2)}generateExpoConfig(e,t){return JSON.stringify({expo:{name:e,slug:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",platforms:["ios","android","web"],orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"}}},null,2)}generatePWAPackageJSON(e,t){return JSON.stringify({name:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${e}`,main:"index.html",scripts:{start:"npx serve .",build:"echo 'PWA - no build required'",deploy:"echo 'Deploy using DreamBuild deployment system'"},keywords:["pwa","progressive-web-app","mobile","dreambuild"],author:"DreamBuild AI",license:"MIT",dependencies:{},devDependencies:{serve:"^14.0.0"}},null,2)}}const iA=new JB,YB=Object.freeze(Object.defineProperty({__proto__:null,default:iA},Symbol.toStringTag,{value:"Module"}));class XB{constructor(){this.searchCache=new Map,this.searchHistory=[],this.isEnabled=!0,this.maxCacheAge=300*1e3}async searchForKnowledge(e,t={}){if(!this.isEnabled)return{success:!1,reason:"Web search disabled"};try{const r=this.extractSearchQueries(e,t);if(r.length===0)return{success:!1,reason:"No searchable keywords found"};console.log(" Searching web for knowledge:",r);const s=[];for(const l of r){const d=await this.performSearch(l);d.success&&s.push(d)}return{success:!0,knowledge:this.processSearchResults(s,e,t),searchQueries:r,resultsCount:s.length}}catch(r){return console.error(" Web search failed:",r),{success:!1,reason:"Search failed",error:r.message}}}extractSearchQueries(e,t){const r=[],s=e.toLowerCase();return Object.entries({react:["react best practices 2024","react hooks tutorial","react performance optimization"],vue:["vue 3 best practices","vue composition api","vue performance tips"],angular:["angular best practices 2024","angular performance optimization","angular tutorial"],node:["nodejs best practices","express js tutorial","nodejs security"],python:["python web development","django best practices","flask tutorial"],typescript:["typescript best practices","typescript tutorial","typescript performance"],tailwind:["tailwind css best practices","tailwind responsive design","tailwind components"],bootstrap:["bootstrap 5 tutorial","bootstrap best practices","bootstrap responsive design"],firebase:["firebase best practices","firebase security rules","firebase hosting"],mongodb:["mongodb best practices","mongodb performance","mongodb security"],mysql:["mysql best practices","mysql performance optimization","mysql security"],docker:["docker best practices","docker security","docker performance"],aws:["aws best practices","aws security","aws cost optimization"],pwa:["pwa best practices","pwa performance","service worker tutorial"],api:["rest api best practices","api security","api design patterns"],mobile:["mobile app development","responsive design","mobile performance"],ecommerce:["ecommerce best practices","online store security","payment integration"],healthcare:["healthcare app development","hipaa compliance","healthcare security"],fintech:["fintech app development","financial security","payment processing"],education:["educational app development","learning management system","online education"],gaming:["game development","web games","game performance"],social:["social media app development","social features","user engagement"],analytics:["web analytics","user tracking","data visualization"],seo:["seo best practices","search optimization","meta tags"],accessibility:["web accessibility","wcag guidelines","screen reader support"],security:["web security","data protection","authentication"],performance:["web performance","optimization techniques","loading speed"]}).forEach(([l,d])=>{s.includes(l)&&r.push(...d.slice(0,2))}),(s.includes("todo")||s.includes("task"))&&r.push("todo app best practices","task management features","productivity app design"),(s.includes("portfolio")||s.includes("resume"))&&r.push("portfolio website design","personal website best practices","portfolio features"),s.includes("blog")&&r.push("blog design best practices","content management","blog features"),s.includes("dashboard")&&r.push("dashboard design best practices","data visualization","admin interface"),s.includes("landing page")&&r.push("landing page best practices","conversion optimization","landing page design"),(s.includes("health")||s.includes("medical"))&&r.push("healthcare app development","medical software best practices","health data security"),(s.includes("finance")||s.includes("banking"))&&r.push("fintech app development","financial app security","payment processing"),(s.includes("education")||s.includes("learning"))&&r.push("educational app development","learning management system","online education"),r.length===0&&r.push("web development best practices 2024","modern web design","responsive design"),[...new Set(r)].slice(0,3)}async performSearch(e){const t=e.toLowerCase(),r=this.searchCache.get(t);if(r&&Date.now()-r.timestamp<this.maxCacheAge)return console.log(" Using cached search result for:",e),r.result;try{const s=await this.simulateWebSearch(e);return this.searchCache.set(t,{result:s,timestamp:Date.now()}),this.searchHistory.unshift({query:e,timestamp:new Date,resultCount:s.results?.length||0}),this.searchHistory=this.searchHistory.slice(0,20),s}catch(s){return console.error("Search failed for query:",e,s),{success:!1,query:e,error:s.message}}}async simulateWebSearch(e){await new Promise(r=>setTimeout(r,500+Math.random()*1e3));const t=this.getKnowledgeBase();for(const[r,s]of Object.entries(t))if(e.toLowerCase().includes(r))return{success:!0,query:e,results:s.results,summary:s.summary,bestPractices:s.bestPractices,codeExamples:s.codeExamples,timestamp:new Date};return{success:!0,query:e,results:[{title:"Modern Web Development Best Practices",snippet:"Current best practices for web development include responsive design, performance optimization, accessibility, and security.",url:"https://example.com/web-dev-best-practices"}],summary:"General web development best practices and modern techniques.",bestPractices:["Use semantic HTML for better accessibility","Implement responsive design with CSS Grid and Flexbox","Optimize images and assets for better performance","Add proper error handling and validation","Ensure cross-browser compatibility"],codeExamples:{responsive:"@media (max-width: 768px) { .container { padding: 1rem; } }",semantic:"<main><section><article><header><h1>Title</h1></header></article></section></main>"},timestamp:new Date}}getKnowledgeBase(){return{react:{results:[{title:"React Best Practices 2024",snippet:"Use functional components with hooks, implement proper state management, and follow component composition patterns.",url:"https://react.dev/learn"},{title:"React Performance Optimization",snippet:"Use React.memo, useMemo, useCallback, and code splitting for optimal performance.",url:"https://react.dev/learn/render-and-commit"}],summary:"Modern React development with hooks, performance optimization, and best practices.",bestPractices:["Use functional components with hooks instead of class components","Implement proper state management with useState and useEffect","Use React.memo for expensive components","Implement code splitting with React.lazy","Follow component composition patterns","Use TypeScript for better type safety"],codeExamples:{hooks:`const [count, setCount] = useState(0);
const memoizedValue = useMemo(() => expensiveCalculation(count), [count]);`,component:`const MyComponent = React.memo(({ data }) => {
  return <div>{data.name}</div>;
});`}},vue:{results:[{title:"Vue 3 Composition API Best Practices",snippet:"Use the Composition API for better code organization and reusability.",url:"https://vuejs.org/guide/composition-api/"}],summary:"Vue 3 development with Composition API and modern patterns.",bestPractices:["Use Composition API for complex components","Implement proper reactive state management","Use computed properties for derived state","Follow single-file component structure","Implement proper error handling"],codeExamples:{composition:`import { ref, computed } from 'vue';
const count = ref(0);
const doubleCount = computed(() => count.value * 2);`}},tailwind:{results:[{title:"Tailwind CSS Best Practices",snippet:"Use utility-first approach, create component classes, and implement responsive design.",url:"https://tailwindcss.com/docs"}],summary:"Tailwind CSS utility-first styling and responsive design.",bestPractices:["Use utility classes for styling","Create component classes for repeated patterns","Implement responsive design with breakpoints","Use CSS custom properties for theming","Optimize for production with purging"],codeExamples:{responsive:'class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"',components:"@apply bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded;"}},pwa:{results:[{title:"Progressive Web App Best Practices",snippet:"Implement service workers, manifest files, and offline functionality for app-like experience.",url:"https://web.dev/pwa-checklist/"}],summary:"PWA development with service workers and offline capabilities.",bestPractices:["Implement service worker for caching","Create web app manifest file","Add offline functionality","Implement push notifications","Ensure fast loading and performance"],codeExamples:{manifest:`{
  "name": "My App",
  "short_name": "App",
  "start_url": "/",
  "display": "standalone"
}`,serviceWorker:`self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});`}},accessibility:{results:[{title:"Web Accessibility Guidelines (WCAG)",snippet:"Follow WCAG 2.1 guidelines for inclusive design and screen reader support.",url:"https://www.w3.org/WAI/WCAG21/quickref/"}],summary:"Web accessibility best practices and WCAG compliance.",bestPractices:["Use semantic HTML elements","Provide alt text for images","Implement proper heading hierarchy","Ensure keyboard navigation","Use ARIA labels for complex interactions","Maintain sufficient color contrast"],codeExamples:{semantic:'<button aria-label="Close dialog" onclick="closeModal()"></button>',images:'<img src="chart.png" alt="Sales chart showing 25% increase in Q3">'}},performance:{results:[{title:"Web Performance Optimization",snippet:"Optimize images, minimize resources, and implement lazy loading for better performance.",url:"https://web.dev/performance/"}],summary:"Web performance optimization techniques and best practices.",bestPractices:["Optimize images with modern formats (WebP, AVIF)","Implement lazy loading for images and components","Minify CSS and JavaScript","Use CDN for static assets","Implement caching strategies","Monitor Core Web Vitals"],codeExamples:{lazy:'<img src="image.jpg" loading="lazy" alt="Description">',preload:'<link rel="preload" href="critical.css" as="style">'}},security:{results:[{title:"Web Application Security",snippet:"Implement proper authentication, input validation, and security headers.",url:"https://owasp.org/www-project-top-ten/"}],summary:"Web security best practices and protection measures.",bestPractices:["Implement HTTPS everywhere","Validate and sanitize all inputs","Use secure authentication methods","Implement CSRF protection","Set proper security headers","Regular security audits"],codeExamples:{validation:`function validateInput(input) {
  return input.replace(/<script[^>]*>.*?<\/script>/gi, '');
}`,headers:"Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline';"}}}}processSearchResults(e,t,r){const s={summary:"",bestPractices:[],codeExamples:{},resources:[],recommendations:[]};return e.forEach(a=>{a.success&&(a.summary&&(s.summary+=a.summary+" "),a.bestPractices&&s.bestPractices.push(...a.bestPractices),a.codeExamples&&Object.assign(s.codeExamples,a.codeExamples),a.results&&s.resources.push(...a.results))}),s.bestPractices=[...new Set(s.bestPractices)],s.recommendations=this.generateRecommendations(s,t,r),s}generateRecommendations(e,t,r){const s=[];return t.toLowerCase().includes("react")&&(s.push("Consider using React 18 with concurrent features"),s.push("Implement proper error boundaries for better error handling"),s.push("Use React Query or SWR for data fetching")),t.toLowerCase().includes("responsive")&&(s.push("Use CSS Grid and Flexbox for modern layouts"),s.push("Implement mobile-first design approach"),s.push("Test on multiple devices and screen sizes")),t.toLowerCase().includes("performance")&&(s.push("Implement lazy loading for images and components"),s.push("Use code splitting to reduce initial bundle size"),s.push("Optimize images with modern formats like WebP")),s.push("Implement proper error handling and user feedback"),s.push("Add accessibility features for inclusive design"),s.push("Use semantic HTML for better SEO and accessibility"),s}getSearchHistory(){return this.searchHistory}clearCache(){this.searchCache.clear(),console.log(" Search cache cleared")}setEnabled(e){this.isEnabled=e,console.log(` Web search ${e?"enabled":"disabled"}`)}isSearchEnabled(){return this.isEnabled}getCacheStats(){return{cacheSize:this.searchCache.size,historySize:this.searchHistory.length,isEnabled:this.isEnabled}}}const Qc=new XB;class ZB{constructor(){this.providers={stripe:{name:"Stripe",icon:"",description:"Modern payment processing for US businesses",features:["US Credit Cards","ACH Bank Transfers","US Digital Wallets","Subscriptions","Tax Compliance"],setupRequired:["US Business Registration","API Keys","Webhook Endpoints","SSL Certificate"],pricing:"2.9% + 30 per transaction (US)",documentation:"https://stripe.com/docs",usSpecific:["ACH Direct Debit","US Bank Accounts","Sales Tax Calculation","1099-K Reporting"]},paypal:{name:"PayPal",icon:"",description:"US-focused payment platform with local features",features:["PayPal Wallet","US Credit Cards","PayPal Credit","Venmo (US)","US Bank Accounts"],setupRequired:["US PayPal Business Account","US Tax ID","Client ID","Client Secret"],pricing:"2.9% + 30 per transaction (US)",documentation:"https://developer.paypal.com/docs",usSpecific:["PayPal Credit","Venmo Integration","US Bank Transfers","Tax Reporting"]},square:{name:"Square",icon:"",description:"US-focused payment solutions for businesses",features:["US Credit Cards","Square Cash","ACH Transfers","In-Person Payments","Online Payments"],setupRequired:["US Business Account","Square Developer Account","Application ID"],pricing:"2.9% + 30 per transaction (online)",documentation:"https://developer.squareup.com/docs",usSpecific:["Square Cash App","ACH Bank Transfers","US Tax Integration","1099-K Forms"]}},this.integrationTypes=["one-time-payment","subscription-billing","marketplace-payments","donation-system","booking-payments","digital-product-sales","physical-product-sales","service-payments","rental-payments","auction-payments"]}generateStripeIntegration(e="one-time-payment",t={}){const r={publishableKey:"pk_test_your_stripe_publishable_key_here",secretKey:"sk_test_your_stripe_secret_key_here",webhookSecret:"whsec_your_webhook_secret_here",currency:"usd",country:"US",region:"us-east-1",taxSettings:{automaticTax:!0,taxBehavior:"inclusive",taxCalculation:"automatic"}};switch(e){case"one-time-payment":return this.generateStripeOneTimePayment(r,t);case"subscription-billing":return this.generateStripeSubscription(r,t);case"marketplace-payments":return this.generateStripeMarketplace(r,t);case"donation-system":return this.generateStripeDonations(r,t);default:return this.generateStripeOneTimePayment(r,t)}}generatePayPalIntegration(e="one-time-payment",t={}){const r={clientId:"your_paypal_client_id_here",clientSecret:"your_paypal_client_secret_here",environment:t.environment||"sandbox",currency:"USD",locale:"en_US",countryCode:"US",merchantId:"your_us_merchant_id_here"};switch(e){case"one-time-payment":return this.generatePayPalOneTimePayment(r,t);case"subscription-billing":return this.generatePayPalSubscription(r,t);case"marketplace-payments":return this.generatePayPalMarketplace(r,t);case"donation-system":return this.generatePayPalDonations(r,t);default:return this.generatePayPalOneTimePayment(r,t)}}generateStripeOneTimePayment(e,t){return{frontend:{"package.json":JSON.stringify({dependencies:{"@stripe/stripe-js":"^2.0.0","@stripe/react-stripe-js":"^2.0.0",react:"^18.0.0","react-dom":"^18.0.0"}},null,2),"components/PaymentForm.jsx":`import React, { useState } from 'react';
import { loadStripe } from '@stripe/stripe-js';
import { Elements, CardElement, useStripe, useElements } from '@stripe/react-stripe-js';

const stripePromise = loadStripe('${e.publishableKey}');

const CheckoutForm = ({ amount, onSuccess, onError }) => {
  const stripe = useStripe();
  const elements = useElements();
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const handleSubmit = async (event) => {
    event.preventDefault();
    
    if (!stripe || !elements) return;
    
    setLoading(true);
    setError(null);

    try {
      // Create payment intent on your server
      const response = await fetch('/api/create-payment-intent', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ 
          amount: amount * 100, // Convert to cents
          currency: '${e.currency}'
        })
      });

      const { clientSecret } = await response.json();

      // Confirm payment with Stripe
      const { error, paymentIntent } = await stripe.confirmCardPayment(clientSecret, {
        payment_method: {
          card: elements.getElement(CardElement),
          billing_details: {
            name: 'Customer Name'
          }
        }
      });

      if (error) {
        setError(error.message);
        onError?.(error);
      } else if (paymentIntent.status === 'succeeded') {
        onSuccess?.(paymentIntent);
      }
    } catch (err) {
      setError('Payment failed. Please try again.');
      onError?.(err);
    } finally {
      setLoading(false);
    }
  };

  return (
    <form onSubmit={handleSubmit} className="space-y-4">
      <div className="p-4 border rounded-lg">
        <CardElement
          options={{
            style: {
              base: {
                fontSize: '16px',
                color: '#424770',
                '::placeholder': { color: '#aab7c4' }
              }
            }
          }}
        />
      </div>
      
      {error && (
        <div className="text-red-600 text-sm">{error}</div>
      )}
      
      <button
        type="submit"
        disabled={!stripe || loading}
        className="w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50"
      >
        {loading ? 'Processing...' : \`Pay $\${amount}\`}
      </button>
    </form>
  );
};

const PaymentForm = ({ amount, onSuccess, onError }) => (
  <Elements stripe={stripePromise}>
    <CheckoutForm amount={amount} onSuccess={onSuccess} onError={onError} />
  </Elements>
);

export default PaymentForm;`,"App.jsx":`import React, { useState } from 'react';
import PaymentForm from './components/PaymentForm';

function App() {
  const [paymentSuccess, setPaymentSuccess] = useState(false);

  const handlePaymentSuccess = (paymentIntent) => {
    console.log('Payment succeeded:', paymentIntent);
    setPaymentSuccess(true);
  };

  const handlePaymentError = (error) => {
    console.error('Payment failed:', error);
  };

  return (
    <div className="min-h-screen bg-gray-100 flex items-center justify-center">
      <div className="max-w-md w-full bg-white rounded-lg shadow-lg p-6">
        <h1 className="text-2xl font-bold text-center mb-6">
          Complete Your Purchase
        </h1>
        
        {paymentSuccess ? (
          <div className="text-center">
            <div className="text-green-600 text-4xl mb-4"></div>
            <h2 className="text-xl font-semibold text-gray-800 mb-2">
              Payment Successful!
            </h2>
            <p className="text-gray-600">
              Thank you for your purchase. You will receive a confirmation email shortly.
            </p>
          </div>
        ) : (
          <PaymentForm
            amount={29.99}
            onSuccess={handlePaymentSuccess}
            onError={handlePaymentError}
          />
        )}
      </div>
    </div>
  );
}

export default App;`},backend:{"server.js":`const express = require('express');
const stripe = require('stripe')('${e.secretKey}');
const cors = require('cors');

const app = express();
app.use(cors());
app.use(express.json());

// Create Payment Intent
app.post('/api/create-payment-intent', async (req, res) => {
  try {
    const { amount, currency = '${e.currency}' } = req.body;

    const paymentIntent = await stripe.paymentIntents.create({
      amount,
      currency,
      automatic_payment_methods: { enabled: true }
    });

    res.json({ clientSecret: paymentIntent.client_secret });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
});

// Handle successful payments
app.post('/api/payment-success', async (req, res) => {
  try {
    const { paymentIntentId } = req.body;
    
    // Retrieve payment intent to confirm
    const paymentIntent = await stripe.paymentIntents.retrieve(paymentIntentId);
    
    if (paymentIntent.status === 'succeeded') {
      // Update your database, send confirmation email, etc.
      console.log('Payment succeeded:', paymentIntent);
      
      res.json({ success: true, paymentIntent });
    } else {
      res.status(400).json({ error: 'Payment not completed' });
    }
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// Webhook endpoint for Stripe events
app.post('/api/webhook', express.raw({ type: 'application/json' }), (req, res) => {
  const sig = req.headers['stripe-signature'];
  let event;

  try {
    event = stripe.webhooks.constructEvent(req.body, sig, '${e.webhookSecret}');
  } catch (err) {
    return res.status(400).send(\`Webhook signature verification failed.\`);
  }

  // Handle the event
  switch (event.type) {
    case 'payment_intent.succeeded':
      const paymentIntent = event.data.object;
      console.log('PaymentIntent was successful!', paymentIntent);
      break;
    default:
      console.log(\`Unhandled event type \${event.type}\`);
  }

  res.json({ received: true });
});

const PORT = process.env.PORT || 3001;
app.listen(PORT, () => {
  console.log(\`Server running on port \${PORT}\`);
});`,"package.json":JSON.stringify({name:"stripe-payment-server",version:"1.0.0",dependencies:{express:"^4.18.0",stripe:"^12.0.0",cors:"^2.8.5",dotenv:"^16.0.0"},scripts:{start:"node server.js",dev:"nodemon server.js"}},null,2)},documentation:{"README.md":`# Stripe Payment Integration (US Only)

## Setup Instructions

### 1. US Business Requirements
1. Must be a US-registered business entity
2. Have a valid US Tax ID (EIN)
3. US bank account for payouts
4. Sign up at [stripe.com](https://stripe.com) with US address

### 2. Get Stripe API Keys
1. Go to Developers > API Keys
2. Copy your US Publishable Key and Secret Key
3. Replace the keys in the code

### 3. Environment Variables
Create a \`.env\` file:
\`\`\`
STRIPE_PUBLISHABLE_KEY=pk_test_your_us_key_here
STRIPE_SECRET_KEY=sk_test_your_us_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_COUNTRY=US
STRIPE_CURRENCY=USD
\`\`\`

### 4. Install Dependencies
\`\`\`bash
npm install
\`\`\`

### 5. Run the Application
\`\`\`bash
npm start
\`\`\`

## US-Specific Features
-  US Credit Cards (Visa, Mastercard, Amex, Discover)
-  ACH Bank Transfers (US bank accounts)
-  US Digital Wallets (Apple Pay, Google Pay)
-  Automatic Sales Tax Calculation
-  1099-K Tax Reporting
-  US PCI Compliance

## Testing (US Cards)
Use Stripe's US test card numbers:
- Success: 4242 4242 4242 4242
- Decline: 4000 0000 0000 0002
- 3D Secure: 4000 0025 0000 3155
- US Bank Account: 000123456789

## US Compliance
- PCI DSS Level 1 compliant
- US state tax calculation
- 1099-K form generation
- US banking regulations compliance`}}}generatePayPalOneTimePayment(e,t){return{frontend:{"package.json":JSON.stringify({dependencies:{"@paypal/react-paypal-js":"^7.8.0",react:"^18.0.0","react-dom":"^18.0.0"}},null,2),"components/PayPalButton.jsx":`import React from 'react';
import { PayPalScriptProvider, PayPalButtons } from '@paypal/react-paypal-js';

const PayPalButton = ({ amount, onSuccess, onError }) => {
  const paypalOptions = {
    clientId: '${e.clientId}',
    currency: '${e.currency}',
    intent: 'capture'
  };

  return (
    <PayPalScriptProvider options={paypalOptions}>
      <PayPalButtons
        style={{ layout: 'vertical' }}
        createOrder={(data, actions) => {
          return actions.order.create({
            purchase_units: [{
              amount: {
                value: amount.toString(),
                currency_code: '${e.currency}'
              }
            }]
          });
        }}
        onApprove={(data, actions) => {
          return actions.order.capture().then((details) => {
            console.log('Payment completed:', details);
            onSuccess?.(details);
          });
        }}
        onError={(error) => {
          console.error('PayPal error:', error);
          onError?.(error);
        }}
      />
    </PayPalScriptProvider>
  );
};

export default PayPalButton;`,"App.jsx":`import React, { useState } from 'react';
import PayPalButton from './components/PayPalButton';

function App() {
  const [paymentSuccess, setPaymentSuccess] = useState(false);
  const [paymentDetails, setPaymentDetails] = useState(null);

  const handlePaymentSuccess = (details) => {
    console.log('Payment succeeded:', details);
    setPaymentDetails(details);
    setPaymentSuccess(true);
  };

  const handlePaymentError = (error) => {
    console.error('Payment failed:', error);
  };

  return (
    <div className="min-h-screen bg-gray-100 flex items-center justify-center">
      <div className="max-w-md w-full bg-white rounded-lg shadow-lg p-6">
        <h1 className="text-2xl font-bold text-center mb-6">
          Complete Your Purchase
        </h1>
        
        {paymentSuccess ? (
          <div className="text-center">
            <div className="text-green-600 text-4xl mb-4"></div>
            <h2 className="text-xl font-semibold text-gray-800 mb-2">
              Payment Successful!
            </h2>
            <p className="text-gray-600 mb-2">
              Thank you for your purchase.
            </p>
            {paymentDetails && (
              <p className="text-sm text-gray-500">
                Transaction ID: {paymentDetails.id}
              </p>
            )}
          </div>
        ) : (
          <div className="space-y-4">
            <div className="text-center">
              <p className="text-lg font-semibold">Total: $29.99</p>
            </div>
            <PayPalButton
              amount={29.99}
              onSuccess={handlePaymentSuccess}
              onError={handlePaymentError}
            />
          </div>
        )}
      </div>
    </div>
  );
}

export default App;`},backend:{"server.js":`const express = require('express');
const paypal = require('@paypal/checkout-server-sdk');
const cors = require('cors');

const app = express();
app.use(cors());
app.use(express.json());

// PayPal SDK Configuration
const environment = new paypal.core.SandboxEnvironment(
  '${e.clientId}',
  '${e.clientSecret}'
);
const client = new paypal.core.PayPalHttpClient(environment);

// Create PayPal Order
app.post('/api/create-paypal-order', async (req, res) => {
  try {
    const { amount } = req.body;

    const request = new paypal.orders.OrdersCreateRequest();
    request.prefer('return=representation');
    request.requestBody({
      intent: 'CAPTURE',
      purchase_units: [{
        amount: {
          currency_code: '${e.currency}',
          value: amount.toString()
        }
      }]
    });

    const order = await client.execute(request);
    res.json({ orderId: order.result.id });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
});

// Capture PayPal Order
app.post('/api/capture-paypal-order', async (req, res) => {
  try {
    const { orderId } = req.body;

    const request = new paypal.orders.OrdersCaptureRequest(orderId);
    request.requestBody({});

    const capture = await client.execute(request);
    
    // Update your database, send confirmation email, etc.
    console.log('Payment captured:', capture.result);
    
    res.json({ success: true, capture });
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
});

const PORT = process.env.PORT || 3001;
app.listen(PORT, () => {
  console.log(\`Server running on port \${PORT}\`);
});`,"package.json":JSON.stringify({name:"paypal-payment-server",version:"1.0.0",dependencies:{express:"^4.18.0","@paypal/checkout-server-sdk":"^1.0.3",cors:"^2.8.5",dotenv:"^16.0.0"},scripts:{start:"node server.js",dev:"nodemon server.js"}},null,2)},documentation:{"README.md":`# PayPal Payment Integration

## Setup Instructions

### 1. Get PayPal API Credentials
1. Sign up at [developer.paypal.com](https://developer.paypal.com)
2. Create a new application
3. Copy your Client ID and Client Secret
4. Replace the credentials in the code

### 2. Environment Variables
Create a \`.env\` file:
\`\`\`
PAYPAL_CLIENT_ID=your_client_id_here
PAYPAL_CLIENT_SECRET=your_client_secret_here
PAYPAL_ENVIRONMENT=sandbox
\`\`\`

### 3. Install Dependencies
\`\`\`bash
npm install
\`\`\`

### 4. Run the Application
\`\`\`bash
npm start
\`\`\`

## Features
-  PayPal wallet payments
-  Credit card payments
-  Mobile optimized
-  International support
-  Error handling

## Testing
Use PayPal sandbox accounts for testing payments.`}}}getProviders(){return this.providers}getIntegrationTypes(){return this.integrationTypes}generatePaymentIntegration(e={}){const{provider:t="stripe",type:r="one-time-payment",amount:s=29.99,currency:a="USD",features:l=[]}=e;let d;return t==="stripe"?d=this.generateStripeIntegration(r,{currency:a,features:l}):t==="paypal"&&(d=this.generatePayPalIntegration(r,{currency:a,features:l})),{provider:t,type:r,integration:d,setupInstructions:this.getSetupInstructions(t),features:this.getFeatures(t,r),pricing:this.providers[t].pricing}}getSetupInstructions(e){return{stripe:["1. Create US Stripe account at stripe.com (must be US business)","2. Verify US business registration and EIN","3. Get US API keys from Stripe Dashboard","4. Replace placeholder keys in code","5. Set up US webhook endpoints","6. Test with US Stripe test cards and ACH","7. Go live with US production keys","8. Set up 1099-K tax reporting"],paypal:["1. Create US PayPal Business account","2. Verify US business registration and Tax ID","3. Create US application in PayPal Developer","4. Get US Client ID and Client Secret","5. Replace credentials in code","6. Test with US PayPal sandbox accounts","7. Enable Venmo integration (US only)","8. Switch to US live environment"],square:["1. Create US Square Business account","2. Verify US business registration","3. Get Square Application ID","4. Replace credentials in code","5. Test with US Square test cards","6. Set up US tax calculation","7. Go live with US production keys"]}[e]||[]}getFeatures(e,t){const r={stripe:["US Credit Cards","ACH Bank Transfers","US Digital Wallets","Webhooks","3D Secure","US Tax Calculation"],paypal:["US PayPal Wallet","US Credit Cards","PayPal Credit","Venmo (US)","US Bank Transfers"],square:["US Credit Cards","Square Cash App","ACH Transfers","US Tax Integration","In-Person Payments"]},s={"one-time-payment":["Instant Payment","Receipt Generation"],"subscription-billing":["Recurring Payments","Billing Management"],"marketplace-payments":["Split Payments","Multi-party Transactions"],"donation-system":["Custom Amounts","Tax Receipts"]};return[...r[e]||[],...s[t]||[]]}}const e9=new ZB,cr={"codellama-7b":{name:"CodeLlama 7B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:7b",description:"Fast and efficient code generation (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["speed","efficiency","general-purpose"],ram_required:"8GB"},"codellama-13b":{name:"CodeLlama 13B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:13b",description:"Higher quality code generation (13B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["quality","accuracy","complex-problems"],ram_required:"16GB"},"codellama-34b":{name:"CodeLlama 34B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:34b",description:"Best quality code generation (34B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["best-quality","complex-systems","enterprise-code"],ram_required:"32GB"},"starcoder-15b":{name:"StarCoder 15B",type:"Code Completion",baseURL:"http://localhost:11434/api",model:"starcoder:15b",description:"Excellent code completion and understanding (15B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","typescript","csharp"],strengths:["code-completion","understanding","context-awareness"],ram_required:"24GB"},"deepseek-coder":{name:"DeepSeek Coder",type:"High Performance",baseURL:"http://localhost:11434/api",model:"deepseek-coder:6.7b",description:"High-performance code generation (6.7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["performance","speed","efficiency"],ram_required:"12GB"},"wizardcoder-7b":{name:"WizardCoder 7B",type:"Instruction Following",baseURL:"http://localhost:11434/api",model:"wizardcoder:7b",description:"Great at following complex instructions (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["instruction-following","complex-tasks","reasoning"],ram_required:"10GB"},"phi3-mini":{name:"Phi-3 Mini",type:"Lightweight General",baseURL:"http://localhost:11434/api",model:"phi3:mini",description:"Lightweight but powerful general-purpose model (3.8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["lightweight","fast","general-purpose"],ram_required:"6GB"},"llama3-8b":{name:"Llama 3 8B",type:"General Purpose",baseURL:"http://localhost:11434/api",model:"llama3:8b",description:"General purpose model good for documentation and planning (8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["general-purpose","documentation","planning"],ram_required:"10GB"}},t9=(n,e=16)=>{const r=Object.values(cr).filter(s=>parseInt(s.ram_required.replace("GB",""))<=e);if(r.length===0)return"phi3-mini";switch(n){case"code-generation":return r.find(s=>s.strengths.includes("quality"))?.model||"codellama-7b";case"code-completion":return r.find(s=>s.strengths.includes("code-completion"))?.model||"starcoder-15b";case"instruction-following":return r.find(s=>s.strengths.includes("instruction-following"))?.model||"wizardcoder-7b";case"documentation":return r.find(s=>s.strengths.includes("general-purpose"))?.model||"llama3-8b";default:return"codellama-7b"}};class n9{constructor(){this.currentModel="codellama-7b",this.baseURL="http://localhost:11434/api",this.modelHealth={},this.initializeHealthMonitoring()}async initializeHealthMonitoring(){if(console.log(" Initializing local AI health monitoring..."),typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")){console.log(" Running on localhost - checking local AI models...");for(const[t,r]of Object.entries(cr))try{await this.checkModelHealth(t)}catch(s){console.log(` Model ${t} not available:`,s.message)}setInterval(()=>{this.performHealthChecks()},6e4)}else{console.log(" Running on deployed domain - using enhanced template mode");for(const[t,r]of Object.entries(cr))this.modelHealth[t]={isHealthy:!0,lastChecked:new Date,error:null};console.log(" Template mode active - AI generation available")}}async checkModelHealth(e){try{const t=cr[e];if(!t)return!1;if(typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log(" Running on web domain - simulating healthy AI for demo purposes"),this.modelHealth[e]={isHealthy:!0,lastCheck:Date.now(),responseTime:100,note:"Demo mode - local AI simulation"},!0;const s=await ft.post(`${t.baseURL}/generate`,{model:t.model,prompt:"Hello",stream:!1,options:{temperature:.1,max_tokens:10}},{timeout:1e4});return this.modelHealth[e]={isHealthy:!0,lastCheck:Date.now(),responseTime:s.data.total_duration||0},console.log(` ${t.name} is healthy`),!0}catch(t){return this.modelHealth[e]={isHealthy:!1,lastCheck:Date.now(),error:t.message},console.log(` ${e} health check failed:`,t.message),!1}}async performHealthChecks(){const e=Object.keys(cr).map(r=>this.checkModelHealth(r));await Promise.all(e);const t=Object.values(this.modelHealth).filter(r=>r.isHealthy);this.isHealthy=t.length>0,console.log(` Local AI Health: ${t.length}/${Object.keys(cr).length} models healthy`)}getAvailableModels(){return Object.entries(cr).map(([e,t])=>({id:e,...t,isHealthy:this.modelHealth[e]?.isHealthy||!1}))}getHealthyModels(){return this.getAvailableModels().filter(e=>e.isHealthy)}getBestModel(e="code-generation"){const t=this.getHealthyModels();if(t.length===0)throw new Error("No healthy AI models available. Please check your local AI setup.");const r=t9(e);return cr[r]&&this.modelHealth[r]?.isHealthy?r:t[0].id}async generateCode(e,t={}){try{if(this.isEnhancementRequest(e,t))return console.log(" Enhancement request detected - enhancing existing project"),await this.enhanceExistingProject(e,t);if(this.isMobileAppRequest(e))return console.log(" Mobile app request detected - using mobile app service"),await iA.generateMobileApp(e,t);if(this.isPaymentRequest(e))return console.log(" Payment integration request detected - using payment service"),await this.generatePaymentIntegration(e,t);console.log(" Searching web for current knowledge and best practices...");const r=await Qc.searchForKnowledge(e,t);let s=e,a=null;if(r.success&&r.knowledge?(a=r.knowledge,s=this.enhancePromptWithKnowledge(e,a,t),console.log(" Web search completed - enhanced prompt with current best practices")):console.log(" Web search unavailable - using prompt as-is"),typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1"&&!window.location.hostname.includes("dreambuild")&&!window.location.hostname.includes("vercel")&&!window.location.hostname.includes("netlify"))return console.log(" Running on external domain - using enhanced template fallback (demo mode)"),this.createEnhancedFallbackResponse(s,t,a);const d=this.detectTaskType(s),h=this.getBestModel(d),f=cr[h];console.log(` Using ${f.name} for ${d} task with web knowledge`);const y=`${this.buildEnhancedSystemPrompt(t,f,a)}

User Request: ${s}`,w=await ft.post(`${f.baseURL}/generate`,{model:f.model,prompt:y,stream:!1,options:{temperature:.7,max_tokens:4e3,top_p:.9,top_k:40}},{timeout:12e4});return this.parseEnhancedResponse(w.data.response,s,t,a)}catch(r){return console.error(" Enhanced AI generation failed:",r),this.createEnhancedFallbackResponse(e,t,null)}}detectTaskType(e){const t=e.toLowerCase();return t.includes("complete")||t.includes("finish")?"code-completion":t.includes("document")||t.includes("explain")?"documentation":t.includes("complex")||t.includes("advanced")?"instruction-following":this.isMobileAppRequest(e)?"mobile-app-generation":this.isPaymentRequest(e)?"payment-integration":"code-generation"}isMobileAppRequest(e){const t=e.toLowerCase();return["mobile app","ios app","android app","iphone app","android app","react native","flutter","ionic","pwa","progressive web app","capacitor","phone app","tablet app","app store","google play"].some(s=>t.includes(s))}isPaymentRequest(e){const t=e.toLowerCase();return["stripe","paypal","payment","checkout","billing","subscription","credit card","debit card","payment gateway","payment processing","ecommerce","online store","shopping cart","buy now","purchase","donation","fundraising","marketplace","split payment","refund","payment integration","payment system","payment api","webhook"].some(s=>t.includes(s))}async generatePaymentIntegration(e,t){try{console.log(" Generating payment integration...");const r=this.detectPaymentProvider(e),s=this.detectPaymentType(e),a=e9.generatePaymentIntegration({provider:r,type:s,amount:t.amount||29.99,currency:"USD",country:"US",features:t.features||[]});return{success:!0,files:{...a.integration.frontend,...a.integration.backend,...a.integration.documentation},message:`Generated ${r} ${s} integration with complete frontend, backend, and documentation`,provider:r,integrationType:s,setupInstructions:a.setupInstructions,features:a.features,pricing:a.pricing,_webSearchResults:null}}catch(r){return console.error(" Payment integration generation failed:",r),{success:!1,files:{},message:`Payment integration generation failed: ${r.message}`,error:r.message}}}detectPaymentProvider(e){const t=e.toLowerCase();return t.includes("stripe")?"stripe":t.includes("paypal")?"paypal":t.includes("square")?"square":t.includes("razorpay")?"razorpay":"stripe"}detectPaymentType(e){const t=e.toLowerCase();return t.includes("subscription")||t.includes("recurring")?"subscription-billing":t.includes("marketplace")||t.includes("split")?"marketplace-payments":t.includes("donation")||t.includes("fundraising")?"donation-system":t.includes("booking")||t.includes("reservation")?"booking-payments":t.includes("digital")||t.includes("download")?"digital-product-sales":t.includes("rental")||t.includes("rent")?"rental-payments":t.includes("auction")||t.includes("bid")?"auction-payments":"one-time-payment"}isEnhancementRequest(e,t){const r=e.toLowerCase(),s=["add","enhance","improve","update","modify","change","fix","implement","include","also add","can you add","please add","make it","make the","update the","modify the","change the","enhance the","improve the"],a=t.files&&Object.keys(t.files).length>0,l=s.some(d=>r.includes(d));return a&&l}async enhanceExistingProject(e,t){try{console.log(" Enhancing existing project...");const r=t.files||{},s=Object.keys(r).join(", "),a=`
ENHANCEMENT REQUEST for existing project with files: ${s}

User Request: ${e}

IMPORTANT: This is an ENHANCEMENT request, not a new project creation. Please:
1. Keep all existing files and functionality
2. Add new features and improvements to the existing project
3. Maintain the current project structure
4. Enhance existing components rather than replacing them
5. Add new files only if necessary for new features
6. Ensure all new code integrates properly with existing code

Current project files: ${s}

Please provide the enhanced code that builds upon the existing project.`,l=await Qc.searchForKnowledge(a,t);let d=a,h=null;l.success&&l.knowledge&&(h=l.knowledge,d=this.enhancePromptWithKnowledge(a,h,t),console.log(" Web search completed - enhanced prompt with current best practices"));const f=this.getBestModel("instruction-following"),g=cr[f];console.log(` Using ${g.name} for project enhancement`);const w=`${this.buildEnhancedSystemPrompt(t,g,h)}

Enhancement Request: ${d}`,_=await ft.post(`${g.baseURL}/generate`,{model:g.model,prompt:w,stream:!1,options:{temperature:.7,max_tokens:6e3,top_p:.9,top_k:40}},{timeout:12e4});return this.parseEnhancedResponse(_.data.response,d,t,h)}catch(r){return console.error(" Project enhancement failed:",r),this.createEnhancedFallbackResponse(e,t,null)}}buildSystemPrompt(e,t){return`You are an expert full-stack developer and AI assistant. Generate comprehensive, production-ready applications with full features and functionality.

Context:
- App Type: ${e.appType||"full-featured web application"}
- Language: ${e.language||"javascript"}
- Styling: ${e.styling||"tailwind"}
- Features: ${e.features?.join(", ")||"comprehensive functionality"}

CRITICAL INSTRUCTIONS FOR FULL-FEATURED APPLICATIONS:
1. Generate MULTIPLE files for a complete application (HTML, CSS, JS, and additional components)
2. Create a FULL-FEATURED application, not just a single page
3. Include ALL necessary features for the requested application type
4. Add interactive elements, forms, navigation, and dynamic content
5. Implement proper state management and user interactions
6. Include responsive design for all screen sizes
7. Add proper error handling and validation
8. Use modern best practices and clean code structure
9. Make the application production-ready with all features working

For example, if asked for a "health food tip webpage with full features":
- Create multiple pages/sections (home, tips, recipes, nutrition info, search, etc.)
- Add interactive features (search, filtering, favorites, sharing)
- Include forms for user input and feedback
- Add navigation between sections
- Implement dynamic content loading
- Include responsive design
- Add proper styling and animations

You are using ${t.name} - ${t.description}.
Supported languages: ${t.languages.join(", ")}.`}buildEnhancedSystemPrompt(e,t,r){let s=this.buildSystemPrompt(e,t);return r&&(s+=`

Current Best Practices and Knowledge (from web search):
${r.summary}

Key Best Practices to Follow:
${r.bestPractices.map(a=>`- ${a}`).join(`
`)}

Code Examples and Patterns:
${Object.entries(r.codeExamples).map(([a,l])=>`${a}: ${l}`).join(`
`)}

Additional Recommendations:
${r.recommendations.map(a=>`- ${a}`).join(`
`)}

Please incorporate these current best practices and modern techniques into your code generation.`),s}enhancePromptWithKnowledge(e,t,r){let s=e;return t&&(s+=`

Based on current best practices and modern web development standards, please ensure the application includes:
${t.bestPractices.slice(0,5).map(a=>`- ${a}`).join(`
`)}

Additional context: ${t.summary}`),s}parseEnhancedResponse(e,t,r,s){try{const a=e.match(/```[\s\S]*?```/g);if(a&&a.length>0){const d={};return a.forEach((h,f)=>{const y=h.split(`
`)[0].replace(/```/g,"").trim();let w;if(y&&y.includes("."))w=y;else{const T=h.replace(/```[\w]*\n?/,"").replace(/```$/,"");w=this.detectFilename(T,f)}const _=h.replace(/```[\w]*\n?/,"").replace(/```$/,"").trim();d[w]=_}),s&&Object.keys(d).forEach(h=>{if(d[h]){const f=this.generateKnowledgeComment(s,h);d[h]=f+`
`+d[h]}}),d}const l=this.createComprehensiveTemplate(t,r);return l?(console.log(" Using comprehensive template for application type"),{success:!0,files:l,message:`Generated comprehensive ${t.toLowerCase().includes("health")?"health food tips":"application"} with full features and functionality`,_webSearchResults:s}):this.createEnhancedFallbackResponse(t,r,s)}catch(a){return console.error("Error parsing enhanced AI response:",a),this.createEnhancedFallbackResponse(t,r,s)}}generateKnowledgeComment(e,t){const r=t.split(".").pop().toLowerCase();let s="";return r==="js"?s=`/*
 * Enhanced with current web development best practices
 * Generated with real-time knowledge search
 * Best practices applied:
${e.bestPractices.slice(0,3).map(a=>` * - ${a}`).join(`
`)}
 */
`:r==="css"?s=`/* Enhanced with modern CSS best practices and responsive design principles */
`:r==="html"&&(s=`<!-- Enhanced with accessibility best practices and semantic HTML -->
`),s}createComprehensiveTemplate(e,t){const r=e.toLowerCase();return r.includes("health food")||r.includes("nutrition")||r.includes("healthy eating")?this.createHealthFoodTemplate():r.includes("store")||r.includes("ecommerce")||r.includes("shopping")?this.createEcommerceTemplate():r.includes("blog")||r.includes("article")||r.includes("post")?this.createBlogTemplate():r.includes("dashboard")||r.includes("admin")||r.includes("analytics")?this.createDashboardTemplate():null}createHealthFoodTemplate(){return{"index.html":`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthy Food Tips - Your Nutrition Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-2xl font-bold text-green-600"> Healthy Tips</h1>
                    </div>
                    <div class="hidden md:ml-6 md:flex md:space-x-8">
                        <a href="#home" class="nav-link text-gray-900 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Home</a>
                        <a href="#tips" class="nav-link text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Tips</a>
                        <a href="#recipes" class="nav-link text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Recipes</a>
                        <a href="#nutrition" class="nav-link text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Nutrition</a>
                        <a href="#calculator" class="nav-link text-gray-500 hover:text-green-600 px-3 py-2 rounded-md text-sm font-medium">Calculator</a>
                    </div>
                </div>
                <div class="flex items-center">
                    <button id="searchBtn" class="p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100">
                        <i class="fas fa-search"></i>
                    </button>
                    <button id="favoritesBtn" class="p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 ml-2">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Search Modal -->
    <div id="searchModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full">
                <div class="p-6">
                    <h3 class="text-lg font-medium text-gray-900 mb-4">Search Tips & Recipes</h3>
                    <input type="text" id="searchInput" placeholder="Search for tips, recipes, or ingredients..." 
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                    <div id="searchResults" class="mt-4 max-h-60 overflow-y-auto"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section id="home" class="bg-gradient-to-r from-green-400 to-blue-500 text-white py-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-6">Healthy Food Tips</h1>
            <p class="text-xl md:text-2xl mb-8">Your comprehensive guide to nutrition, healthy eating, and wellness</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="scrollToSection('tips')" class="bg-white text-green-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
                    Explore Tips
                </button>
                <button onclick="scrollToSection('calculator')" class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-green-600 transition">
                    BMI Calculator
                </button>
            </div>
        </div>
    </section>

    <!-- Quick Stats -->
    <section class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
                <div class="p-6">
                    <div class="text-3xl font-bold text-green-600 mb-2">500+</div>
                    <div class="text-gray-600">Healthy Tips</div>
                </div>
                <div class="p-6">
                    <div class="text-3xl font-bold text-blue-600 mb-2">200+</div>
                    <div class="text-gray-600">Recipes</div>
                </div>
                <div class="p-6">
                    <div class="text-3xl font-bold text-purple-600 mb-2">50+</div>
                    <div class="text-gray-600">Nutrition Guides</div>
                </div>
                <div class="p-6">
                    <div class="text-3xl font-bold text-orange-600 mb-2">1000+</div>
                    <div class="text-gray-600">Happy Users</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tips Section -->
    <section id="tips" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Daily Health Tips</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="tipsContainer">
                <!-- Tips will be loaded dynamically -->
            </div>
            <div class="text-center mt-12">
                <button id="loadMoreTips" class="bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition">
                    Load More Tips
                </button>
            </div>
        </div>
    </section>

    <!-- Recipes Section -->
    <section id="recipes" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Healthy Recipes</h2>
            <div class="flex flex-wrap justify-center gap-4 mb-8">
                <button class="recipe-filter active" data-filter="all">All</button>
                <button class="recipe-filter" data-filter="breakfast">Breakfast</button>
                <button class="recipe-filter" data-filter="lunch">Lunch</button>
                <button class="recipe-filter" data-filter="dinner">Dinner</button>
                <button class="recipe-filter" data-filter="snack">Snacks</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="recipesContainer">
                <!-- Recipes will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Nutrition Calculator -->
    <section id="calculator" class="py-16 bg-gray-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Nutrition Calculator</h2>
            <div class="bg-white rounded-lg shadow-lg p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold mb-4">BMI Calculator</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Height (cm)</label>
                                <input type="number" id="height" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="170">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Weight (kg)</label>
                                <input type="number" id="weight" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="70">
                            </div>
                            <button onclick="calculateBMI()" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition">
                                Calculate BMI
                            </button>
                            <div id="bmiResult" class="mt-4 p-4 rounded-md hidden"></div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold mb-4">Daily Calorie Calculator</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Age</label>
                                <input type="number" id="age" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" placeholder="25">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Gender</label>
                                <select id="gender" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Activity Level</label>
                                <select id="activity" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500">
                                    <option value="1.2">Sedentary</option>
                                    <option value="1.375">Lightly Active</option>
                                    <option value="1.55">Moderately Active</option>
                                    <option value="1.725">Very Active</option>
                                    <option value="1.9">Extra Active</option>
                                </select>
                            </div>
                            <button onclick="calculateCalories()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition">
                                Calculate Calories
                            </button>
                            <div id="calorieResult" class="mt-4 p-4 rounded-md hidden"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Favorites Section -->
    <section id="favorites" class="py-16 bg-white hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-12">Your Favorites</h2>
            <div id="favoritesContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Favorites will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Healthy Tips</h3>
                    <p class="text-gray-400">Your comprehensive guide to healthy eating and nutrition.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li><a href="#tips" class="text-gray-400 hover:text-white">Health Tips</a></li>
                        <li><a href="#recipes" class="text-gray-400 hover:text-white">Recipes</a></li>
                        <li><a href="#calculator" class="text-gray-400 hover:text-white">Calculator</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Resources</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Nutrition Guide</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Meal Planning</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Exercise Tips</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Connect</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-400">&copy; 2024 Healthy Food Tips. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"><\/script>
</body>
</html>`,"styles.css":`/* Custom styles for Healthy Food Tips */
.nav-link {
    transition: all 0.3s ease;
}

.recipe-filter {
    @apply px-4 py-2 rounded-full border border-gray-300 text-gray-600 hover:bg-green-50 hover:border-green-300 hover:text-green-600 transition-all duration-200;
}

.recipe-filter.active {
    @apply bg-green-600 text-white border-green-600;
}

.tip-card, .recipe-card {
    @apply bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer;
}

.tip-card:hover, .recipe-card:hover {
    transform: translateY(-2px);
}

.favorite-btn {
    @apply text-gray-400 hover:text-red-500 transition-colors duration-200;
}

.favorite-btn.active {
    @apply text-red-500;
}

/* Smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Loading animation */
.loading {
    @apply animate-pulse;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    @apply bg-gray-100;
}

::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
}`,"script.js":`// Healthy Food Tips Application JavaScript

// Application state
const appState = {
    tips: [],
    recipes: [],
    favorites: JSON.parse(localStorage.getItem('favorites') || '[]'),
    currentTipPage: 1,
    currentRecipeFilter: 'all'
};

// Sample data
const sampleTips = [
    {
        id: 1,
        title: "Start Your Day with Protein",
        content: "Eating protein at breakfast helps stabilize blood sugar and keeps you full longer. Try eggs, Greek yogurt, or protein smoothies.",
        category: "breakfast",
        image: "",
        difficulty: "easy"
    },
    {
        id: 2,
        title: "Drink Water Before Meals",
        content: "Drinking a glass of water 30 minutes before meals can help with digestion and prevent overeating.",
        category: "hydration",
        image: "",
        difficulty: "easy"
    },
    {
        id: 3,
        title: "Eat the Rainbow",
        content: "Include colorful fruits and vegetables in every meal. Different colors provide different nutrients and antioxidants.",
        category: "nutrition",
        image: "",
        difficulty: "easy"
    },
    {
        id: 4,
        title: "Mindful Eating",
        content: "Eat slowly, chew thoroughly, and pay attention to your hunger cues. This helps with portion control and digestion.",
        category: "mindfulness",
        image: "",
        difficulty: "medium"
    },
    {
        id: 5,
        title: "Healthy Snacking",
        content: "Choose nuts, fruits, or vegetables for snacks instead of processed foods. They provide sustained energy and nutrients.",
        category: "snacking",
        image: "",
        difficulty: "easy"
    },
    {
        id: 6,
        title: "Meal Prep Sundays",
        content: "Prepare healthy meals and snacks on Sundays to ensure you have nutritious options throughout the week.",
        category: "meal-planning",
        image: "",
        difficulty: "medium"
    }
];

const sampleRecipes = [
    {
        id: 1,
        title: "Quinoa Power Bowl",
        description: "Nutrient-dense bowl with quinoa, vegetables, and lean protein",
        category: "lunch",
        prepTime: "15 min",
        cookTime: "20 min",
        servings: 2,
        ingredients: ["1 cup quinoa", "2 cups mixed vegetables", "4 oz grilled chicken", "2 tbsp olive oil", "1 tbsp lemon juice"],
        instructions: ["Cook quinoa according to package directions", "Saut vegetables in olive oil", "Grill chicken breast", "Combine all ingredients", "Drizzle with lemon juice"],
        image: "",
        difficulty: "easy",
        calories: 450
    },
    {
        id: 2,
        title: "Green Smoothie Bowl",
        description: "Refreshing smoothie bowl packed with greens and fruits",
        category: "breakfast",
        prepTime: "10 min",
        cookTime: "0 min",
        servings: 1,
        ingredients: ["2 cups spinach", "1 banana", "1/2 avocado", "1 cup almond milk", "1 tbsp honey", "Granola for topping"],
        instructions: ["Blend spinach, banana, avocado, and almond milk", "Add honey to taste", "Pour into bowl", "Top with granola and fresh fruits"],
        image: "",
        difficulty: "easy",
        calories: 320
    },
    {
        id: 3,
        title: "Baked Salmon with Herbs",
        description: "Simple and delicious baked salmon with fresh herbs",
        category: "dinner",
        prepTime: "10 min",
        cookTime: "25 min",
        servings: 4,
        ingredients: ["4 salmon fillets", "2 tbsp olive oil", "2 cloves garlic", "Fresh herbs (dill, parsley)", "Lemon", "Salt and pepper"],
        instructions: ["Preheat oven to 400F", "Season salmon with salt and pepper", "Mix herbs with olive oil and garlic", "Brush mixture over salmon", "Bake for 20-25 minutes", "Serve with lemon wedges"],
        image: "",
        difficulty: "medium",
        calories: 380
    }
];

// Initialize application
document.addEventListener('DOMContentLoaded', function() {
    initializeApp();
    setupEventListeners();
    loadTips();
    loadRecipes();
});

function initializeApp() {
    // Set initial active navigation
    document.querySelector('.nav-link').classList.add('text-green-600');
    document.querySelector('.nav-link').classList.remove('text-gray-500');
}

function setupEventListeners() {
    // Navigation
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetSection = this.getAttribute('href').substring(1);
            scrollToSection(targetSection);
            updateActiveNav(this);
        });
    });

    // Search functionality
    document.getElementById('searchBtn').addEventListener('click', openSearchModal);
    document.getElementById('searchInput').addEventListener('input', handleSearch);
    
    // Favorites
    document.getElementById('favoritesBtn').addEventListener('click', toggleFavorites);

    // Recipe filters
    document.querySelectorAll('.recipe-filter').forEach(filter => {
        filter.addEventListener('click', function() {
            document.querySelectorAll('.recipe-filter').forEach(f => f.classList.remove('active'));
            this.classList.add('active');
            appState.currentRecipeFilter = this.dataset.filter;
            filterRecipes();
        });
    });

    // Load more tips
    document.getElementById('loadMoreTips').addEventListener('click', loadMoreTips);

    // Close search modal when clicking outside
    document.getElementById('searchModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeSearchModal();
        }
    });
}

function scrollToSection(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
        section.scrollIntoView({ behavior: 'smooth' });
    }
}

function updateActiveNav(activeLink) {
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('text-green-600');
        link.classList.add('text-gray-500');
    });
    activeLink.classList.remove('text-gray-500');
    activeLink.classList.add('text-green-600');
}

function openSearchModal() {
    document.getElementById('searchModal').classList.remove('hidden');
    document.getElementById('searchInput').focus();
}

function closeSearchModal() {
    document.getElementById('searchModal').classList.add('hidden');
    document.getElementById('searchInput').value = '';
    document.getElementById('searchResults').innerHTML = '';
}

function handleSearch() {
    const query = document.getElementById('searchInput').value.toLowerCase();
    const results = document.getElementById('searchResults');
    
    if (query.length < 2) {
        results.innerHTML = '';
        return;
    }

    const searchResults = [
        ...sampleTips.filter(tip => 
            tip.title.toLowerCase().includes(query) || 
            tip.content.toLowerCase().includes(query)
        ),
        ...sampleRecipes.filter(recipe => 
            recipe.title.toLowerCase().includes(query) || 
            recipe.description.toLowerCase().includes(query) ||
            recipe.ingredients.some(ingredient => ingredient.toLowerCase().includes(query))
        )
    ];

    if (searchResults.length === 0) {
        results.innerHTML = '<p class="text-gray-500">No results found</p>';
        return;
    }

    results.innerHTML = searchResults.map(item => {
        const isFavorite = appState.favorites.includes(item.id);
        return \`
            <div class="p-3 border-b border-gray-200 hover:bg-gray-50 cursor-pointer" onclick="selectSearchResult('\${item.id}', '\${item.title}')">
                <div class="flex items-center justify-between">
                    <div>
                        <h4 class="font-medium">\${item.title}</h4>
                        <p class="text-sm text-gray-600">\${item.description || item.content.substring(0, 100)}...</p>
                    </div>
                    <button onclick="toggleFavorite(\${item.id}); event.stopPropagation();" class="favorite-btn \${isFavorite ? 'active' : ''}">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>
        \`;
    }).join('');
}

function selectSearchResult(id, title) {
    closeSearchModal();
    // Scroll to the item or show details
    console.log('Selected:', title);
}

function toggleFavorites() {
    const favoritesSection = document.getElementById('favorites');
    favoritesSection.classList.toggle('hidden');
    if (!favoritesSection.classList.contains('hidden')) {
        loadFavorites();
    }
}

function loadTips() {
    const container = document.getElementById('tipsContainer');
    const tipsToShow = sampleTips.slice(0, appState.currentTipPage * 6);
    
    container.innerHTML = tipsToShow.map(tip => {
        const isFavorite = appState.favorites.includes(tip.id);
        return \`
            <div class="tip-card p-6">
                <div class="flex items-start justify-between mb-4">
                    <div class="text-4xl">\${tip.image}</div>
                    <button onclick="toggleFavorite(\${tip.id})" class="favorite-btn \${isFavorite ? 'active' : ''}">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <h3 class="text-xl font-semibold mb-2">\${tip.title}</h3>
                <p class="text-gray-600 mb-4">\${tip.content}</p>
                <div class="flex items-center justify-between">
                    <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">\${tip.category}</span>
                    <span class="text-sm text-gray-500">\${tip.difficulty}</span>
                </div>
            </div>
        \`;
    }).join('');
}

function loadRecipes() {
    const container = document.getElementById('recipesContainer');
    
    container.innerHTML = sampleRecipes.map(recipe => {
        const isFavorite = appState.favorites.includes(recipe.id);
        return \`
            <div class="recipe-card p-6" data-category="\${recipe.category}">
                <div class="flex items-start justify-between mb-4">
                    <div class="text-4xl">\${recipe.image}</div>
                    <button onclick="toggleFavorite(\${recipe.id})" class="favorite-btn \${isFavorite ? 'active' : ''}">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <h3 class="text-xl font-semibold mb-2">\${recipe.title}</h3>
                <p class="text-gray-600 mb-4">\${recipe.description}</p>
                <div class="space-y-2 mb-4">
                    <div class="flex justify-between text-sm">
                        <span>Prep: \${recipe.prepTime}</span>
                        <span>Cook: \${recipe.cookTime}</span>
                        <span>Servings: \${recipe.servings}</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span>Calories: \${recipe.calories}</span>
                        <span class="capitalize">\${recipe.difficulty}</span>
                    </div>
                </div>
                <button onclick="showRecipeDetails(\${recipe.id})" class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition">
                    View Recipe
                </button>
            </div>
        \`;
    }).join('');
}

function filterRecipes() {
    const recipes = document.querySelectorAll('.recipe-card');
    const filter = appState.currentRecipeFilter;
    
    recipes.forEach(recipe => {
        if (filter === 'all' || recipe.dataset.category === filter) {
            recipe.style.display = 'block';
        } else {
            recipe.style.display = 'none';
        }
    });
}

function loadMoreTips() {
    appState.currentTipPage++;
    loadTips();
}

function loadFavorites() {
    const container = document.getElementById('favoritesContainer');
    const favoriteItems = [...sampleTips, ...sampleRecipes].filter(item => 
        appState.favorites.includes(item.id)
    );
    
    if (favoriteItems.length === 0) {
        container.innerHTML = '<p class="col-span-full text-center text-gray-500">No favorites yet. Click the heart icon to add items to your favorites!</p>';
        return;
    }
    
    container.innerHTML = favoriteItems.map(item => {
        return \`
            <div class="tip-card p-6">
                <div class="flex items-start justify-between mb-4">
                    <div class="text-4xl">\${item.image}</div>
                    <button onclick="toggleFavorite(\${item.id})" class="favorite-btn active">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <h3 class="text-xl font-semibold mb-2">\${item.title}</h3>
                <p class="text-gray-600 mb-4">\${item.description || item.content.substring(0, 100)}...</p>
                <div class="flex items-center justify-between">
                    <span class="px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm">\${item.category}</span>
                    <span class="text-sm text-gray-500">\${item.difficulty || 'N/A'}</span>
                </div>
            </div>
        \`;
    }).join('');
}

function toggleFavorite(id) {
    const index = appState.favorites.indexOf(id);
    if (index > -1) {
        appState.favorites.splice(index, 1);
    } else {
        appState.favorites.push(id);
    }
    
    localStorage.setItem('favorites', JSON.stringify(appState.favorites));
    
    // Update UI
    loadTips();
    loadRecipes();
    if (!document.getElementById('favorites').classList.contains('hidden')) {
        loadFavorites();
    }
}

function showRecipeDetails(recipeId) {
    const recipe = sampleRecipes.find(r => r.id === recipeId);
    if (!recipe) return;
    
    const modal = document.createElement('div');
    modal.className = 'fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex items-center justify-center p-4';
    modal.innerHTML = \`
        <div class="bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto">
            <div class="p-6">
                <div class="flex items-start justify-between mb-6">
                    <div class="flex items-center">
                        <div class="text-4xl mr-4">\${recipe.image}</div>
                        <div>
                            <h2 class="text-2xl font-bold">\${recipe.title}</h2>
                            <p class="text-gray-600">\${recipe.description}</p>
                        </div>
                    </div>
                    <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold mb-3">Ingredients</h3>
                        <ul class="space-y-2">
                            \${recipe.ingredients.map(ingredient => \`<li class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>\${ingredient}</li>\`).join('')}
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="text-lg font-semibold mb-3">Instructions</h3>
                        <ol class="space-y-2">
                            \${recipe.instructions.map((instruction, index) => \`<li class="flex"><span class="bg-green-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm mr-3 flex-shrink-0">\${index + 1}</span><span>\${instruction}</span></li>\`).join('')}
                        </ol>
                    </div>
                </div>
                
                <div class="mt-6 pt-6 border-t border-gray-200">
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                        <div>
                            <div class="text-2xl font-bold text-green-600">\${recipe.prepTime}</div>
                            <div class="text-sm text-gray-600">Prep Time</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-blue-600">\${recipe.cookTime}</div>
                            <div class="text-sm text-gray-600">Cook Time</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-purple-600">\${recipe.servings}</div>
                            <div class="text-sm text-gray-600">Servings</div>
                        </div>
                        <div>
                            <div class="text-2xl font-bold text-orange-600">\${recipe.calories}</div>
                            <div class="text-sm text-gray-600">Calories</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    \`;
    
    document.body.appendChild(modal);
}

function calculateBMI() {
    const height = parseFloat(document.getElementById('height').value);
    const weight = parseFloat(document.getElementById('weight').value);
    
    if (!height || !weight) {
        alert('Please enter both height and weight');
        return;
    }
    
    const bmi = (weight / ((height / 100) ** 2)).toFixed(1);
    let category = '';
    let color = '';
    
    if (bmi < 18.5) {
        category = 'Underweight';
        color = 'blue';
    } else if (bmi < 25) {
        category = 'Normal weight';
        color = 'green';
    } else if (bmi < 30) {
        category = 'Overweight';
        color = 'yellow';
    } else {
        category = 'Obese';
        color = 'red';
    }
    
    const resultDiv = document.getElementById('bmiResult');
    resultDiv.className = \`mt-4 p-4 rounded-md bg-\${color}-100 text-\${color}-800\`;
    resultDiv.innerHTML = \`
        <h4 class="font-semibold mb-2">BMI Result</h4>
        <p class="text-2xl font-bold">\${bmi}</p>
        <p>Category: \${category}</p>
    \`;
    resultDiv.classList.remove('hidden');
}

function calculateCalories() {
    const age = parseInt(document.getElementById('age').value);
    const gender = document.getElementById('gender').value;
    const activity = parseFloat(document.getElementById('activity').value);
    const weight = parseFloat(document.getElementById('weight').value);
    const height = parseFloat(document.getElementById('height').value);
    
    if (!age || !weight || !height) {
        alert('Please fill in all required fields');
        return;
    }
    
    // Harris-Benedict Equation
    let bmr;
    if (gender === 'male') {
        bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);
    } else {
        bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
    }
    
    const dailyCalories = Math.round(bmr * activity);
    
    const resultDiv = document.getElementById('calorieResult');
    resultDiv.className = 'mt-4 p-4 rounded-md bg-blue-100 text-blue-800';
    resultDiv.innerHTML = \`
        <h4 class="font-semibold mb-2">Daily Calorie Needs</h4>
        <p class="text-2xl font-bold">\${dailyCalories} calories/day</p>
        <p class="text-sm mt-2">This is your estimated daily calorie requirement to maintain your current weight.</p>
    \`;
    resultDiv.classList.remove('hidden');
}`,"package.json":JSON.stringify({name:"healthy-food-tips",version:"1.0.0",description:"A comprehensive health food tips application with full features",main:"index.html",scripts:{start:"npx serve .",dev:"npx live-server --port=3000"},keywords:["health","nutrition","food","tips","recipes","wellness"],author:"DreamBuild AI",license:"MIT"},null,2)}}createEnhancedFallbackResponse(e,t,r){const s=this.createFallbackResponse(e,t);return r&&Object.keys(s).forEach(a=>{if(s[a]){const l=this.generateKnowledgeComment(r,a);s[a]=l+`
`+s[a]}}),s}parseResponse(e,t,r){try{const s=e.match(/```[\s\S]*?```/g);if(s&&s.length>0){const a={};return s.forEach((l,d)=>{const f=l.split(`
`)[0].replace(/```/g,"").trim();let g;if(f&&f.includes("."))g=f;else{const w=l.replace(/```[\w]*\n?/,"").replace(/```$/,"");g=this.detectFilename(w,d)}const y=l.replace(/```[\w]*\n?/,"").replace(/```$/,"").trim();a[g]=y}),a}return this.createFallbackResponse(t,r)}catch(s){return console.error("Error parsing AI response:",s),this.createFallbackResponse(t,r)}}detectFilename(e,t){const r=e.toLowerCase();return r.includes("<!doctype")||r.includes("<html")?"index.html":r.includes("function")||r.includes("const")||r.includes("var")?"script.js":r.includes("{")&&r.includes("}")&&r.includes(":")?"style.css":`file${t+1}.txt`}createFallbackResponse(e,t){const r=e.toLowerCase();return r.includes("health")&&r.includes("food")?{"index.html":this.generateHealthHTML(),"style.css":this.generateHealthCSS(),"script.js":this.generateHealthJS()}:r.includes("todo")||r.includes("task")?{"index.html":this.generateTodoHTML(),"style.css":this.generateTodoCSS(),"script.js":this.generateTodoJS()}:r.includes("portfolio")||r.includes("resume")?{"index.html":this.generatePortfolioHTML(),"style.css":this.generatePortfolioCSS(),"script.js":this.generatePortfolioJS()}:{"index.html":this.generateGenericHTML(e),"style.css":this.generateGenericCSS(),"script.js":this.generateGenericJS()}}generateHealthHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Health Food Tips</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1> Health Food Tips</h1>
            <p>Your guide to healthy eating and nutrition</p>
        </header>
        
        <main>
            <section class="hero">
                <h2>Welcome to Your Health Journey</h2>
                <p>Discover amazing tips for healthy eating and better nutrition.</p>
            </section>
            
            <section class="content">
                <h3>Healthy Eating Tips</h3>
                <div class="tip-card">
                    <h4> Eat More Vegetables</h4>
                    <p>Include a variety of colorful vegetables in your meals for essential vitamins and minerals.</p>
                </div>
                <div class="tip-card">
                    <h4> Stay Hydrated</h4>
                    <p>Drink plenty of water throughout the day to maintain optimal health.</p>
                </div>
                <div class="tip-card">
                    <h4> Choose Whole Grains</h4>
                    <p>Opt for whole grain options like brown rice, quinoa, and whole wheat bread.</p>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Health Food Tips. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateHealthCSS(){return`/* Health Food Tips Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.hero {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    margin: 40px 0;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.hero h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: #667eea;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.tip-card {
    background: white;
    padding: 30px;
    margin: 20px 0;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-left: 5px solid #667eea;
}

.tip-card h4 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .hero h2 {
        font-size: 2rem;
    }
    
    .container {
        padding: 10px;
    }
}`}generateHealthJS(){return`// Health Food Tips JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log(' Health Food Tips loaded with Local AI!');
    
    // Add interactive features
    const tipCards = document.querySelectorAll('.tip-card');
    
    tipCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    tipCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});`}generateTodoHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Todo App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1> My Todo List</h1>
            <p>Stay organized and productive</p>
        </header>
        
        <main>
            <div class="todo-input">
                <input type="text" id="todoInput" placeholder="Add a new task...">
                <button id="addBtn">Add Task</button>
            </div>
            
            <div class="todo-list" id="todoList">
                <!-- Tasks will be added here -->
            </div>
        </main>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateTodoCSS(){return`/* Todo App Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
    min-height: 100vh;
    color: #333;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.todo-input {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
}

#todoInput {
    flex: 1;
    padding: 15px;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

#addBtn {
    padding: 15px 30px;
    background: #00b894;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: background 0.3s ease;
}

#addBtn:hover {
    background: #00a085;
}

.todo-item {
    background: white;
    padding: 20px;
    margin: 10px 0;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.todo-item.completed {
    opacity: 0.6;
    text-decoration: line-through;
}

.delete-btn {
    background: #e17055;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.delete-btn:hover {
    background: #d63031;
}`}generateTodoJS(){return`// Todo App JavaScript
document.addEventListener('DOMContentLoaded', function() {
    const todoInput = document.getElementById('todoInput');
    const addBtn = document.getElementById('addBtn');
    const todoList = document.getElementById('todoList');
    
    // Load todos from localStorage
    loadTodos();
    
    // Add event listeners
    addBtn.addEventListener('click', addTodo);
    todoInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addTodo();
        }
    });
    
    function addTodo() {
        const text = todoInput.value.trim();
        if (text === '') return;
        
        const todo = {
            id: Date.now(),
            text: text,
            completed: false
        };
        
        saveTodo(todo);
        displayTodo(todo);
        todoInput.value = '';
    }
    
    function displayTodo(todo) {
        const todoItem = document.createElement('div');
        todoItem.className = 'todo-item';
        todoItem.dataset.id = todo.id;
        
        if (todo.completed) {
            todoItem.classList.add('completed');
        }
        
        todoItem.innerHTML = \`
            <span>\${todo.text}</span>
            <div>
                <button class="delete-btn" onclick="deleteTodo(\${todo.id})">Delete</button>
            </div>
        \`;
        
        todoItem.addEventListener('click', function(e) {
            if (e.target.classList.contains('delete-btn')) return;
            toggleTodo(todo.id);
        });
        
        todoList.appendChild(todoItem);
    }
    
    function toggleTodo(id) {
        const todos = getTodos();
        const todo = todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            saveTodos(todos);
            loadTodos();
        }
    }
    
    function deleteTodo(id) {
        const todos = getTodos();
        const filteredTodos = todos.filter(t => t.id !== id);
        saveTodos(filteredTodos);
        loadTodos();
    }
    
    function loadTodos() {
        todoList.innerHTML = '';
        const todos = getTodos();
        todos.forEach(todo => displayTodo(todo));
    }
    
    function getTodos() {
        return JSON.parse(localStorage.getItem('todos') || '[]');
    }
    
    function saveTodo(todo) {
        const todos = getTodos();
        todos.push(todo);
        saveTodos(todos);
    }
    
    function saveTodos(todos) {
        localStorage.setItem('todos', JSON.stringify(todos));
    }
    
    // Make functions global for onclick handlers
    window.deleteTodo = deleteTodo;
    
    console.log(' Todo App loaded with Local AI!');
});`}generatePortfolioHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1> John Developer</h1>
            <p>Full Stack Developer & AI Enthusiast</p>
        </header>
        
        <main>
            <section class="about">
                <h2>About Me</h2>
                <p>Passionate developer with expertise in modern web technologies and AI integration.</p>
            </section>
            
            <section class="projects">
                <h2>Projects</h2>
                <div class="project-grid">
                    <div class="project-card">
                        <h3>DreamBuild AI</h3>
                        <p>AI-powered development platform built with React and local AI models.</p>
                    </div>
                    <div class="project-card">
                        <h3>Smart Todo App</h3>
                        <p>Intelligent task management with AI-powered suggestions.</p>
                    </div>
                    <div class="project-card">
                        <h3>Health Tracker</h3>
                        <p>Comprehensive health monitoring with data visualization.</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 John Developer. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePortfolioCSS(){return`/* Portfolio Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3.5rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.3rem;
    opacity: 0.9;
}

section {
    background: rgba(255,255,255,0.95);
    margin: 40px 0;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

section h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.about p {
    font-size: 1.2rem;
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
}

.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.project-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.project-card:hover {
    transform: translateY(-5px);
}

.project-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2.5rem;
    }
    
    section {
        padding: 20px;
    }
    
    .project-grid {
        grid-template-columns: 1fr;
    }
}`}generatePortfolioJS(){return`// Portfolio JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log(' Portfolio loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe project cards
    document.querySelectorAll('.project-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}generateGenericHTML(e){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</h1>
            <p>Generated with DreamBuild Local AI</p>
        </header>
        
        <main>
            <section class="content">
                <h2>Welcome</h2>
                <p>This application was generated based on your prompt using DreamBuild Local AI.</p>
                <div class="features">
                    <div class="feature-card">
                        <h3> Feature 1</h3>
                        <p>Modern and responsive design</p>
                    </div>
                    <div class="feature-card">
                        <h3> Feature 2</h3>
                        <p>Built with local AI models</p>
                    </div>
                    <div class="feature-card">
                        <h3> Feature 3</h3>
                        <p>No API keys required</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Generated with DreamBuild Local AI</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateGenericCSS(){return`/* Generic Template Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    margin: 40px 0;
}

.content h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.content p {
    font-size: 1.2rem;
    text-align: center;
    margin-bottom: 40px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.feature-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .content {
        padding: 20px;
    }
    
    .features {
        grid-template-columns: 1fr;
    }
}`}generateGenericJS(){return`// Generic Template JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log(' Generic template loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe feature cards
    document.querySelectorAll('.feature-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}getTemplateCategories(){return{web:{name:"Web Applications",icon:"",templates:this.generateWebTemplates(),count:1e3},mobile:{name:"Mobile Applications",icon:"",templates:this.generateMobileTemplates(),count:1e3},dashboard:{name:"Dashboards & Analytics",icon:"",templates:this.generateDashboardTemplates(),count:800},ecommerce:{name:"E-commerce & Shopping",icon:"",templates:this.generateEcommerceTemplates(),count:800},payments:{name:"Payment Integration",icon:"",templates:this.generatePaymentTemplates(),count:300},api:{name:"APIs & Backend",icon:"",templates:this.generateAPITemplates(),count:700},games:{name:"Games & Entertainment",icon:"",templates:this.generateGameTemplates(),count:800},education:{name:"Education & Learning",icon:"",templates:this.generateEducationTemplates(),count:700},healthcare:{name:"Healthcare & Medical",icon:"",templates:this.generateHealthcareTemplates(),count:600},finance:{name:"Finance & Banking",icon:"",templates:this.generateFinanceTemplates(),count:600},iot:{name:"IoT & Smart Devices",icon:"",templates:this.generateIoTTemplates(),count:500},realestate:{name:"Real Estate & Property",icon:"",templates:this.generateRealEstateTemplates(),count:500},social:{name:"Social Media & Communication",icon:"",templates:this.generateSocialTemplates(),count:600},productivity:{name:"Productivity & Business",icon:"",templates:this.generateProductivityTemplates(),count:700},creative:{name:"Creative & Design",icon:"",templates:this.generateCreativeTemplates(),count:500},travel:{name:"Travel & Hospitality",icon:"",templates:this.generateTravelTemplates(),count:400},food:{name:"Food & Restaurant",icon:"",templates:this.generateFoodTemplates(),count:400},fitness:{name:"Fitness & Wellness",icon:"",templates:this.generateFitnessTemplates(),count:400},music:{name:"Music & Audio",icon:"",templates:this.generateMusicTemplates(),count:300},photography:{name:"Photography & Media",icon:"",templates:this.generatePhotographyTemplates(),count:300},automotive:{name:"Automotive & Transportation",icon:"",templates:this.generateAutomotiveTemplates(),count:300}}}getTemplatesByCategory(e){return this.getTemplateCategories()[e]?.templates||[]}getAllTemplates(){const e=[],t=this.getTemplateCategories();return Object.values(t).forEach(r=>{r.templates&&Array.isArray(r.templates)&&r.templates.forEach(s=>{typeof s=="string"?e.push({id:s,name:s.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase()),category:r.name,icon:r.icon}):typeof s=="object"&&s.id&&e.push({...s,category:r.name,icon:r.icon})})}),e}generateTemplateById(e,t={}){return this.createFallbackResponse(e,t)}searchTemplates(e){return this.getAllTemplates().filter(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.id.toLowerCase().includes(e.toLowerCase()))}getPopularTemplates(){return["business-landing","portfolio-website","blog-website","todo-app","fitness-tracker","online-store","analytics-dashboard","rest-api"].map(t=>this.getAllTemplates().find(r=>r.id===t)).filter(Boolean)}getAvailableModels(){return Object.keys(cr)}getHealthyModels(){return Object.keys(this.modelHealth).filter(e=>this.modelHealth[e].isHealthy)}get isHealthy(){return Object.values(this.modelHealth).some(e=>e.isHealthy)}createTemplateVariations(e,t,r){const s=[];let a=1;for(e.forEach(l=>{s.push({id:`template-${a++}`,name:l.replace(/-/g," ").replace(/\b\w/g,d=>d.toUpperCase()),category:"Web Applications",icon:"",description:`Professional ${l.replace(/-/g," ")} template`,tags:["web","responsive","modern"]})});s.length<r;){const l=e[Math.floor(Math.random()*e.length)],d=t[Math.floor(Math.random()*t.length)];s.push({id:`template-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,h=>h.toUpperCase())} (${d})`,category:"Web Applications",icon:"",description:`${d} version of ${l.replace(/-/g," ")} template`,tags:["web","responsive",d]})}return s.slice(0,r)}generateWebTemplates(){const e=["business-landing","portfolio-website","blog-website","agency-website","corporate-website","startup-landing","saas-landing","ecommerce-store","online-marketplace","subscription-site","news-website","magazine-site","forum-website","community-platform","social-network","dating-website","job-board","freelance-platform","education-platform","course-website","restaurant-website","hotel-booking","travel-blog","fitness-website","health-blog","fashion-blog","beauty-website","tech-blog","gaming-website","sports-website","music-website","art-gallery","photography-portfolio","real-estate-site","property-listing","automotive-site","car-dealer","insurance-website","law-firm-site","consulting-website","nonprofit-website","charity-platform","event-website","conference-site","wedding-website","personal-blog","lifestyle-blog","food-blog","parenting-blog","travel-guide"],t=["responsive","mobile-first","dark-theme","light-theme","minimalist","modern","classic","vintage","artistic","professional","creative","elegant","bold","colorful","monochrome","gradient","animated","interactive","with-cms","with-blog","with-shop","with-portfolio","with-gallery","with-contact-form","with-booking","with-payment","with-analytics","with-seo","with-multilingual","with-admin","with-api","with-chat"];return this.createTemplateVariations(e,t,1e3)}generateMobileTemplates(){const e=["todo-app","task-manager","note-taking","calendar-app","reminder-app","fitness-tracker","workout-app","diet-tracker","meditation-app","sleep-tracker","expense-tracker","budget-manager","investment-tracker","banking-app","payment-app","social-media","messaging-app","video-call","photo-sharing","dating-app","food-delivery","restaurant-app","recipe-app","grocery-list","meal-planner","travel-app","booking-app","maps-app","weather-app","news-app","music-player","podcast-app","radio-app","streaming-app","gaming-app","education-app","language-learning","quiz-app","flashcard-app","tutoring-app","health-app","medical-tracker","symptom-checker","telemedicine","pharmacy-app","shopping-app","marketplace","auction-app","coupon-app","loyalty-app"],t=["ios","android","cross-platform","pwa","hybrid"],r=["offline","real-time","ai-powered","ar-enabled","voice-controlled"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<1e3&&s.push({id:`mobile-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())} (${d})`,category:"Mobile Applications",icon:"",description:`${d} ${l.replace(/-/g," ")} application`,tags:["mobile",d,"native"]})})})}),s.slice(0,1e3)}generateDashboardTemplates(){const e=["analytics-dashboard","business-intelligence","sales-dashboard","marketing-dashboard","financial-dashboard","hr-dashboard","project-dashboard","inventory-dashboard","customer-dashboard","admin-dashboard","executive-dashboard","operations-dashboard","real-time-dashboard","performance-dashboard","kpi-dashboard","reporting-dashboard"],t=["healthcare","finance","retail","manufacturing","education","government"],r=["interactive","real-time","predictive","automated","customizable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<800&&s.push({id:`dashboard-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())} (${d})`,category:"Dashboards & Analytics",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")}`,tags:["dashboard",d,h]})})})}),s.slice(0,800)}generateEcommerceTemplates(){const e=["online-store","marketplace","subscription-store","digital-products","physical-goods","dropshipping","wholesale","b2b-commerce","b2c-commerce","multi-vendor","auction-site","classified-ads","rental-platform","booking-platform","service-marketplace"],t=["fashion","electronics","home-garden","sports","beauty","books","food"],r=["mobile-optimized","multi-currency","multi-language","inventory-management","analytics"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<800&&s.push({id:`ecommerce-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"E-commerce & Shopping",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["ecommerce",d,h]})})})}),s.slice(0,800)}generatePaymentTemplates(){const e=["stripe","paypal","square"],t=["one-time-payment","subscription-billing","marketplace-payments","donation-system","booking-payments","digital-product-sales","physical-product-sales","service-payments","rental-payments","auction-payments","crowdfunding","membership-billing"],r=["ecommerce","saas","marketplace","nonprofit","booking","education","healthcare","finance"],s=["us-tax-calculation","ach-transfers","us-bank-accounts","mobile-optimized","pci-compliant","fraud-protection","1099-k-reporting"],a=[];let l=1;return e.forEach(d=>{t.forEach(h=>{r.forEach(f=>{s.forEach(g=>{a.length<300&&a.push({id:`payment-${l++}`,name:`${d.charAt(0).toUpperCase()+d.slice(1)} ${h.replace(/-/g," ").replace(/\b\w/g,y=>y.toUpperCase())}`,category:"Payment Integration",icon:d==="stripe"?"":d==="paypal"?"":"",description:`US-only ${g} ${d} ${h.replace(/-/g," ")} for ${f}`,tags:["payment",d,h,f,g],provider:d,integrationType:h,industry:f,features:[g]})})})})}),a.slice(0,300)}generateAPITemplates(){const e=["rest-api","graphql-api","microservice","webhook-service","websocket-service","authentication-api","payment-api","notification-api","file-storage-api","database-api","analytics-api","search-api","recommendation-api","ai-api","blockchain-api"],t=["nodejs","python","java","php","ruby","go","rust","csharp"],r=["rate-limited","cached","secure","scalable","documented"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<700&&s.push({id:`api-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())} (${d})`,category:"APIs & Backend",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")}`,tags:["api",d,h]})})})}),s.slice(0,700)}generateGameTemplates(){const e=["puzzle-game","arcade-game","strategy-game","rpg-game","action-game","adventure-game","simulation-game","racing-game","fighting-game","sports-game","educational-game","trivia-game","word-game","card-game","board-game"],t=["web","mobile","desktop","console","vr"],r=["multiplayer","single-player","online","offline","ai-opponents"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<800&&s.push({id:`game-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())} (${d})`,category:"Games & Entertainment",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")}`,tags:["game",d,h]})})})}),s.slice(0,800)}generateEducationTemplates(){const e=["lms-platform","course-platform","quiz-app","learning-app","tutoring-platform","language-learning","skill-training","certification-system","student-portal","teacher-dashboard","online-classroom","virtual-lab","assessment-tool","progress-tracker","collaboration-tool"],t=["math","science","language","history","art","music","programming"],r=["adaptive","gamified","collaborative","mobile-friendly","offline-capable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<700&&s.push({id:`education-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Education & Learning",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["education",d,h]})})})}),s.slice(0,700)}generateHealthcareTemplates(){const e=["patient-portal","telemedicine","health-tracker","medical-records","appointment-booking","pharmacy-app","symptom-checker","health-monitor","wellness-app","mental-health-app","fitness-tracker","diet-tracker","medication-reminder","health-education","emergency-app"],t=["general","cardiology","dermatology","pediatrics","mental-health","orthopedics"],r=["hipaa-compliant","telehealth","wearable-integration","ai-diagnosis","real-time-monitoring"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<600&&s.push({id:`healthcare-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Healthcare & Medical",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} solution`,tags:["healthcare",d,h]})})})}),s.slice(0,600)}generateFinanceTemplates(){const e=["banking-app","investment-platform","budget-tracker","expense-manager","payment-gateway","crypto-exchange","loan-calculator","tax-calculator","insurance-app","financial-planning","trading-platform","portfolio-manager","credit-monitor","bill-reminder","savings-tracker"],t=["secure","real-time","multi-currency","ai-powered","regulatory-compliant"],r=["personal","business","enterprise","retail","institutional"],s=[];let a=1;return e.forEach(l=>{r.forEach(d=>{t.forEach(h=>{s.length<600&&s.push({id:`finance-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Finance & Banking",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} solution`,tags:["finance",d,h]})})})}),s.slice(0,600)}generateIoTTemplates(){const e=["smart-home","iot-dashboard","device-manager","sensor-monitor","automation-system","energy-monitor","security-system","environmental-monitor","asset-tracker","predictive-maintenance"],t=["residential","commercial","industrial","agricultural","healthcare"],r=["real-time","predictive","automated","secure","scalable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<500&&s.push({id:`iot-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"IoT & Smart Devices",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} solution`,tags:["iot",d,h]})})})}),s.slice(0,500)}generateRealEstateTemplates(){const e=["property-listing","real-estate-portal","property-manager","marketplace","investment-platform","rental-platform","commercial-real-estate","vacation-rentals","property-valuation","mortgage-calculator"],t=["residential","commercial","industrial","land","luxury"],r=["virtual-tours","ar-viewing","market-analysis","investment-tracking","tenant-management"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<500&&s.push({id:`realestate-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Real Estate & Property",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["realestate",d,h]})})})}),s.slice(0,500)}generateSocialTemplates(){const e=["social-network","messaging-app","video-call","live-streaming","content-sharing","community-platform","forum-website","chat-application","video-conference","team-collaboration"],t=["real-time","end-to-end-encrypted","group-chat","file-sharing","voice-messages"],r=["general","professional","educational","gaming","dating"],s=[];let a=1;return e.forEach(l=>{r.forEach(d=>{t.forEach(h=>{s.length<600&&s.push({id:`social-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Social Media & Communication",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["social",d,h]})})})}),s.slice(0,600)}generateProductivityTemplates(){const e=["project-management","task-manager","time-tracker","crm-system","hr-management","inventory-management","supply-chain","workflow-automation","document-management","collaboration-tool"],t=["technology","healthcare","finance","retail","manufacturing"],r=["cloud-based","mobile-app","api-integration","analytics","automation"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<700&&s.push({id:`productivity-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Productivity & Business",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} solution`,tags:["productivity",d,h]})})})}),s.slice(0,700)}generateCreativeTemplates(){const e=["portfolio-website","art-gallery","design-showcase","creative-agency","photography-portfolio","video-portfolio","music-showcase","writing-portfolio","fashion-showcase","interior-design"],t=["minimalist","bold","vintage","modern","artistic"],r=["interactive","animated","responsive","seo-optimized","social-integration"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<500&&s.push({id:`creative-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Creative & Design",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} template`,tags:["creative",d,h]})})})}),s.slice(0,500)}generateTravelTemplates(){const e=["travel-booking","hotel-reservation","flight-booking","car-rental","tour-booking","travel-blog","destination-guide","travel-planner","vacation-rental","travel-agency"],t=["multi-language","currency-converter","real-time-pricing","mobile-optimized","social-sharing"],r=["international","domestic","luxury","budget","adventure"],s=[];let a=1;return e.forEach(l=>{r.forEach(d=>{t.forEach(h=>{s.length<400&&s.push({id:`travel-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Travel & Hospitality",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["travel",d,h]})})})}),s.slice(0,400)}generateFoodTemplates(){const e=["restaurant-website","food-delivery","recipe-app","restaurant-booking","menu-management","food-blog","cooking-app","meal-planning","nutrition-tracker","restaurant-reviews"],t=["italian","chinese","mexican","indian","mediterranean","fusion"],r=["online-ordering","table-booking","delivery-tracking","nutrition-info","social-sharing"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<400&&s.push({id:`food-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Food & Restaurant",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} solution`,tags:["food",d,h]})})})}),s.slice(0,400)}generateFitnessTemplates(){const e=["fitness-tracker","workout-app","gym-management","personal-trainer","nutrition-tracker","wellness-app","meditation-app","yoga-app","running-tracker","health-monitor"],t=["strength-training","cardio","yoga","pilates","running","swimming"],r=["wearable-integration","progress-tracking","social-features","ai-coaching","offline-capable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<400&&s.push({id:`fitness-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Fitness & Wellness",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} app`,tags:["fitness",d,h]})})})}),s.slice(0,400)}generateMusicTemplates(){const e=["music-player","streaming-app","podcast-app","radio-app","music-production","dj-software","audio-editor","music-education","concert-booking","music-social"],t=["pop","rock","classical","jazz","electronic","hip-hop"],r=["offline-playback","social-sharing","ai-recommendations","live-streaming","collaborative-playlists"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<300&&s.push({id:`music-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Music & Audio",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["music",d,h]})})})}),s.slice(0,300)}generatePhotographyTemplates(){const e=["photography-portfolio","photo-editor","image-gallery","photo-sharing","stock-photos","wedding-photography","event-photography","commercial-photography","photo-booking","photo-education"],t=["wedding","portrait","landscape","commercial","street","wildlife"],r=["image-editing","cloud-storage","client-portal","booking-system","social-sharing"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<300&&s.push({id:`photography-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Photography & Media",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["photography",d,h]})})})}),s.slice(0,300)}generateAutomotiveTemplates(){const e=["car-dealer","auto-repair","car-rental","ride-sharing","fleet-management","auto-insurance","car-financing","vehicle-tracking","auto-parts","car-reviews"],t=["passenger-cars","commercial-vehicles","motorcycles","boats","aircraft"],r=["inventory-management","booking-system","payment-integration","gps-tracking","maintenance-scheduling"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(h=>{s.length<300&&s.push({id:`automotive-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())}`,category:"Automotive & Transportation",icon:"",description:`${h} ${d} ${l.replace(/-/g," ")} platform`,tags:["automotive",d,h]})})})}),s.slice(0,300)}}const $t=new n9;class r9{constructor(){this.currentService="local-ai",this.usageStats={totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0},console.log(" Simple AI Service initialized - Local AI only!")}getServices(){return{"local-ai":{name:"Local AI Models",type:"Local",description:"Self-hosted AI models - no API keys required",models:$t.getAvailableModels()}}}getTemplateCategories(){return $t.getTemplateCategories()}getTemplatesByCategory(e){return $t.getTemplatesByCategory(e)}getAllTemplates(){return $t.getAllTemplates()}generateTemplateById(e,t={}){return $t.generateTemplateById(e,t)}searchTemplates(e){return $t.searchTemplates(e)}getPopularTemplates(){return $t.getPopularTemplates()}async generateCode(e,t={}){const r=Date.now();this.usageStats.totalRequests++;try{if(console.log(" Generating code with Local AI..."),!$t.isHealthy)return console.log(" Local AI not available, using template fallback"),$t.createFallbackResponse(e,t);const s=await $t.generateCode(e,t),a=Date.now()-r;return this.usageStats.successfulRequests++,this.usageStats.averageResponseTime=(this.usageStats.averageResponseTime+a)/2,console.log(" Code generated successfully with Local AI!"),s}catch(s){return console.error(" Local AI generation failed:",s),this.usageStats.failedRequests++,console.log(" Falling back to template generation..."),$t.createFallbackResponse(e,t)}}getServiceHealth(){return $t.modelHealth}getUsageStats(){return this.usageStats}getUserPreferences(){return{preferredService:"local-ai",fallbackEnabled:!0,autoHealthCheck:!0}}updateUserPreferences(e){localStorage.setItem("dreambuild-preferences",JSON.stringify(e))}loadUserPreferences(){const e=localStorage.getItem("dreambuild-preferences");return e?JSON.parse(e):this.getUserPreferences()}getServiceStatus(){return{"local-ai":{isHealthy:$t.isHealthy,models:$t.getHealthyModels().length,totalModels:$t.getAvailableModels().length}}}resetServiceHealth(){$t.modelHealth={}}getFallbackOrder(){return["local-ai"]}isFallbackEnabled(){return!0}setFallbackEnabled(e){return!0}getSetupInstructions(){return{"local-ai":{title:"Local AI Setup",description:"Set up local AI models for code generation",steps:["1. Install Ollama from https://ollama.ai","2. Run: ollama pull codellama:7b","3. Run: ollama serve","4. Refresh DreamBuild to start using local AI"],isSetup:$t.isHealthy}}}getServicesNeedingSetup(){return $t.isHealthy?[]:["local-ai"]}hasValidApiKey(e){return e==="local-ai"}setService(e){e==="local-ai"&&(this.currentService=e)}getCurrentService(){return this.currentService}}const ze=new r9,s9=({isOpen:n,onClose:e})=>{const[t,r]=N.useState({}),[s,a]=N.useState({}),[l,d]=N.useState({}),[h,f]=N.useState(!1),[g,y]=N.useState([]);N.useEffect(()=>{n&&w()},[n]);const w=()=>{r(ze.getServiceStatus()),a(ze.getUserPreferences()),d(ze.getUsageStats()),y(ze.getServicesNeedingSetup())},_=G=>{ze.setService(G),a(ze.getUserPreferences()),w()},T=(G,A)=>{const E={...s,[G]:A};ze.updateUserPreferences(E),a(E)},P=async()=>{f(!0);try{await ze.performHealthChecks(),w()}catch(G){console.error("Error refreshing health:",G)}finally{f(!1)}},C=(G=null)=>{ze.resetServiceHealth(G),w()},U=G=>G.isHealthy?c.jsx(Do,{className:"h-4 w-4 text-green-500"}):c.jsx(cu,{className:"h-4 w-4 text-red-500"}),D=G=>G.isCurrent?"bg-gray-700 text-white":G.isPreferred?"bg-secondary text-secondary-foreground":G.isHealthy?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",I=G=>G<1e3?`${G}ms`:`${(G/1e3).toFixed(1)}s`,$=G=>`${(G*100).toFixed(1)}%`,Q=G=>{switch(G){case"groq":return c.jsx(yr,{className:"h-4 w-4"});case"together":return c.jsx(au,{className:"h-4 w-4"});case"huggingface":return c.jsx($c,{className:"h-4 w-4"});case"ollama":return c.jsx($r,{className:"h-4 w-4"});default:return c.jsx(ML,{className:"h-4 w-4"})}};return n?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-black border border-border rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"AI Service Status"}),c.jsx("p",{className:"text-muted-foreground",children:"Monitor and configure AI services"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:P,disabled:h,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:c.jsx(Kp,{className:`h-5 w-5 ${h?"animate-spin":""}`})}),c.jsx("button",{onClick:e,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:c.jsx(cu,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx($c,{className:"h-5 w-5"}),"Service Status"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:Object.entries(t).map(([G,A])=>c.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md ${D(A)}`,onClick:()=>_(G),children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[Q(G),c.jsx("span",{className:"font-semibold",children:A.name}),U(A)]}),c.jsxs("div",{className:"flex items-center gap-2",children:[A.isCurrent&&c.jsx("span",{className:"text-xs bg-gray-700 text-white px-2 py-1 rounded",children:"Current"}),A.isPreferred&&!A.isCurrent&&c.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:"Preferred"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Cl,{className:"h-3 w-3"}),c.jsx("span",{children:I(A.responseTime)})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(GT,{className:"h-3 w-3"}),c.jsx("span",{children:$(A.errorRate)})]}),c.jsx("div",{className:"col-span-2",children:c.jsxs("span",{className:"text-xs",children:["Requests: ",A.usage.totalRequests," | Success: ",A.usage.successfulRequests," | Failed: ",A.usage.failedRequests]})})]}),A.consecutiveFailures>0&&c.jsxs("div",{className:"mt-2 text-xs text-orange-600",children:[A.consecutiveFailures," consecutive failures"]})]},G))}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx($r,{className:"h-5 w-5"}),"Preferences"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Enable Fallback"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically switch to backup services when primary fails"})]}),c.jsx("button",{onClick:()=>T("fallbackEnabled",!s.fallbackEnabled),className:"flex items-center gap-2",children:s.fallbackEnabled?c.jsx(i1,{className:"h-6 w-6 text-white"}):c.jsx(s1,{className:"h-6 w-6 text-muted-foreground"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Show Notifications"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Display fallback notifications in console"})]}),c.jsx("button",{onClick:()=>T("showNotifications",!s.showNotifications),className:"flex items-center gap-2",children:s.showNotifications?c.jsx(i1,{className:"h-6 w-6 text-white"}):c.jsx(s1,{className:"h-6 w-6 text-muted-foreground"})})]})]})]}),g.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx($r,{className:"h-5 w-5"}),"Setup Required"]}),c.jsx("div",{className:"space-y-3",children:g.map(G=>c.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-medium text-orange-800",children:G.name}),c.jsx("span",{className:"text-sm text-orange-600 bg-orange-100 px-2 py-1 rounded",children:"Setup Required"})]}),c.jsx("p",{className:"text-sm text-orange-700 mb-2",children:G.instructions.setup}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-orange-600",children:[c.jsxs("span",{children:[" ",G.instructions.freeTier]}),c.jsxs("span",{children:[" ",G.instructions.features]})]})]},G.key))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx($c,{className:"h-5 w-5"}),"Usage Statistics"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalRequests||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Requests"})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.successfulRequests||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Successful"})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failedRequests||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>C(),className:"px-4 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors",children:"Reset All Health"}),c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Close"})]})]})]})})]})}):null},i9=({isOpen:n,onClose:e,onTemplateSelect:t})=>{const{updateFile:r}=Hi(),[s,a]=N.useState(""),[l,d]=N.useState("all"),[h,f]=N.useState("grid"),[g,y]=N.useState("popular"),[w,_]=N.useState([]),[T,P]=N.useState({}),[C,U]=N.useState({});N.useEffect(()=>{n&&D()},[n]);const D=()=>{try{const A=ze.getTemplateCategories();P(A);const E=ze.getAllTemplates();_(E)}catch(A){console.error("Error loading template data:",A),Pe.error("Failed to load templates")}};N.useEffect(()=>{I()},[s,l,g]);const I=()=>{let A=ze.getAllTemplates();if(s&&(A=ze.searchTemplates(s)),l!=="all"){const E=ze.getTemplatesByCategory(l);A=A.filter(R=>E.includes(R.id))}switch(g){case"popular":const E=ze.getPopularTemplates().map(R=>R.id);A=A.sort((R,L)=>{const F=E.includes(R.id),z=E.includes(L.id);return F&&!z?-1:!F&&z?1:0});break;case"alphabetical":A=A.sort((R,L)=>R.name.localeCompare(L.name));break;case"newest":A=A.reverse();break}_(A)},$=async A=>{try{const E=ze.createFallbackResponse(A,{title:A.replace(/-/g," ").replace(/\b\w/g,L=>L.toUpperCase())});Object.entries(E).forEach(([L,F])=>{r(L,F)});const R=A.replace(/-/g," ").replace(/\b\w/g,L=>L.toUpperCase());Pe.success(`Generated ${R} template!`),t&&t({id:A,name:R,files:E}),e()}catch(E){console.error("Error generating template:",E),Pe.error("Failed to generate template")}},Q=A=>{U(E=>({...E,[A]:!E[A]}))},G=A=>A.includes("store")||A.includes("ecommerce")?" E-commerce platform with shopping cart and payments":A.includes("blog")||A.includes("content")?" Content management with articles and comments":A.includes("dashboard")||A.includes("admin")?" Analytics dashboard with charts and metrics":A.includes("social")||A.includes("network")?" Social platform with profiles and connections":A.includes("game")||A.includes("entertainment")?" Interactive game with scoring and levels":A.includes("health")||A.includes("fitness")?" Health tracking with goals and progress":A.includes("finance")||A.includes("money")?" Financial management with budgets and investments":A.includes("education")||A.includes("learning")?" Educational platform with courses and quizzes":" Custom application with modern design";return n?c.jsx(zr,{children:c.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:c.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg w-full max-w-7xl h-[90vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center",children:c.jsx(lu,{className:"h-5 w-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Template Library"}),c.jsx("p",{className:"text-muted-foreground",children:"Choose from 1000+ professional templates"})]})]}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:""})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search templates...",value:s,onChange:A=>a(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-black focus:outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:l,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-border rounded-lg bg-black",children:[c.jsx("option",{value:"all",children:"All Categories"}),Object.entries(T).map(([A,E])=>c.jsxs("option",{value:A,children:[E.icon," ",E.name]},A))]}),c.jsxs("select",{value:g,onChange:A=>y(A.target.value),className:"px-3 py-2 border border-border rounded-lg bg-black",children:[c.jsx("option",{value:"popular",children:"Popular"}),c.jsx("option",{value:"alphabetical",children:"A-Z"}),c.jsx("option",{value:"newest",children:"Newest"})]}),c.jsxs("div",{className:"flex border border-border rounded-lg",children:[c.jsx("button",{onClick:()=>f("grid"),className:`p-2 ${h==="grid"?"bg-gray-700 text-white":"hover:bg-muted"}`,children:c.jsx(JT,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>f("list"),className:`p-2 ${h==="list"?"bg-gray-700 text-white":"hover:bg-muted"}`,children:c.jsx(YT,{className:"h-4 w-4"})})]})]})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsxs("div",{className:"h-full flex",children:[c.jsx("div",{className:"w-64 border-r border-border bg-muted/30 overflow-y-auto",children:c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Categories"}),c.jsx("div",{className:"space-y-1",children:Object.entries(T).map(([A,E])=>c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{d(A),Q(A)},className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-muted transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:E.icon}),c.jsx("span",{className:"text-sm",children:E.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",E.templates.length,")"]})]}),C[A]?c.jsx(DL,{className:"h-4 w-4"}):c.jsx(KT,{className:"h-4 w-4"})]}),C[A]&&c.jsxs("div",{className:"ml-4 space-y-1 mt-1",children:[E.templates.slice(0,5).map(R=>c.jsx("button",{onClick:()=>{a(R),d(A)},className:"w-full text-left p-1 text-xs text-muted-foreground hover:text-foreground truncate",children:R.replace(/-/g," ")},R)),E.templates.length>5&&c.jsxs("div",{className:"text-xs text-muted-foreground p-1",children:["+",E.templates.length-5," more..."]})]})]},A))})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold",children:[w.length," Templates",l!=="all"&&` in ${T[l]?.name}`]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",w.length," of ",ze.getAllTemplates().length," templates"]})]}),h==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map((A,E)=>c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},onClick:()=>$(A.id),className:"bg-card border border-border rounded-lg p-4 hover:shadow-lg hover:border-primary/30 transition-all cursor-pointer group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-lg",children:A.icon})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium truncate",children:A.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:A.category})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:G(A.id)}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(vt,{className:"h-3 w-3"}),c.jsx("span",{children:"HTML/CSS/JS"})]}),c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(yr,{className:"h-4 w-4 text-white"})})]})]},A.id))}):c.jsx("div",{className:"space-y-2",children:w.map((A,E)=>c.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.02},onClick:()=>$(A.id),className:"flex items-center gap-4 p-4 bg-card border border-border rounded-lg hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group",children:[c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-xl",children:A.icon})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium",children:A.name}),c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:G(A.id)}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsx("span",{children:A.category}),c.jsx("span",{children:""}),c.jsx("span",{children:"HTML/CSS/JS"})]})]}),c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(yr,{className:"h-5 w-5 text-white"})})]},A.id))}),w.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(gr,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No templates found"}),c.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})]})})]})})]})})}):null};class o9{constructor(){this.analysisRules={design:[{condition:e=>!e["style.css"]||e["style.css"].length<500,suggestion:{type:"design",priority:"high",title:"Enhance Visual Design",description:"Add comprehensive CSS styling with modern design patterns",implementation:"Add CSS with responsive design, color schemes, typography, and animations",icon:""}},{condition:e=>!e["style.css"]?.includes("@media"),suggestion:{type:"design",priority:"high",title:"Add Responsive Design",description:"Make the application work perfectly on mobile devices",implementation:"Add CSS media queries for mobile, tablet, and desktop breakpoints",icon:""}},{condition:e=>!e["style.css"]?.includes("animation")&&!e["style.css"]?.includes("transition"),suggestion:{type:"design",priority:"medium",title:"Add Smooth Animations",description:"Enhance user experience with smooth transitions and animations",implementation:"Add CSS transitions, hover effects, and loading animations",icon:""}}],functionality:[{condition:e=>!e["script.js"]||e["script.js"].length<200,suggestion:{type:"functionality",priority:"high",title:"Add Interactive Features",description:"Include JavaScript functionality for better user engagement",implementation:"Add event handlers, form validation, and dynamic content updates",icon:""}},{condition:e=>!e["script.js"]?.includes("localStorage")&&!e["script.js"]?.includes("sessionStorage"),suggestion:{type:"functionality",priority:"medium",title:"Add Data Persistence",description:"Save user data locally for better experience",implementation:"Use localStorage or sessionStorage to save user preferences and data",icon:""}},{condition:e=>!e["script.js"]?.includes("addEventListener")||e["script.js"]?.includes("onclick="),suggestion:{type:"functionality",priority:"medium",title:"Improve Event Handling",description:"Use modern JavaScript event handling patterns",implementation:"Replace inline event handlers with addEventListener for better maintainability",icon:""}}],performance:[{condition:e=>e["index.html"]?.includes("<img")&&!e["index.html"]?.includes("loading="),suggestion:{type:"performance",priority:"medium",title:"Optimize Image Loading",description:"Add lazy loading for better performance",implementation:'Add loading="lazy" to images and consider WebP format',icon:""}},{condition:e=>e["script.js"]&&e["script.js"].length>1e4,suggestion:{type:"performance",priority:"low",title:"Consider Code Splitting",description:"Break large JavaScript files into smaller modules",implementation:"Split code into logical modules and load them as needed",icon:""}}],accessibility:[{condition:e=>!e["index.html"]?.includes("alt=")&&e["index.html"]?.includes("<img"),suggestion:{type:"accessibility",priority:"high",title:"Add Image Alt Text",description:"Make images accessible to screen readers",implementation:"Add descriptive alt attributes to all images",icon:""}},{condition:e=>!e["index.html"]?.includes("aria-")&&(e["index.html"]?.includes("<button")||e["index.html"]?.includes("<input")),suggestion:{type:"accessibility",priority:"medium",title:"Improve Accessibility",description:"Add ARIA labels and semantic HTML",implementation:"Use semantic HTML elements and add ARIA labels for better screen reader support",icon:""}}],seo:[{condition:e=>!e["index.html"]?.includes('<meta name="description"'),suggestion:{type:"seo",priority:"high",title:"Add SEO Meta Tags",description:"Improve search engine visibility",implementation:"Add meta description, keywords, and Open Graph tags",icon:""}},{condition:e=>!e["index.html"]?.includes("<title>")||e["index.html"]?.includes("<title>Untitled</title>"),suggestion:{type:"seo",priority:"high",title:"Add Descriptive Title",description:"Include a meaningful page title for SEO",implementation:"Add a descriptive, keyword-rich title tag",icon:""}}],security:[{condition:e=>e["index.html"]?.includes("<form")&&!e["index.html"]?.includes("method="),suggestion:{type:"security",priority:"medium",title:"Secure Form Handling",description:"Add proper form validation and security measures",implementation:"Add CSRF protection, input validation, and secure form submission",icon:""}}]}}analyzeApplication(e,t=""){const r=[],s=this.analyzeContext(t);Object.values(this.analysisRules).forEach(d=>{d.forEach(h=>{if(h.condition(e)){const f={...h.suggestion,id:this.generateRecommendationId(),category:d===this.analysisRules.design?"design":d===this.analysisRules.functionality?"functionality":d===this.analysisRules.performance?"performance":d===this.analysisRules.accessibility?"accessibility":d===this.analysisRules.seo?"seo":"security",context:s,estimatedImpact:this.calculateImpact(h.suggestion.priority),implementationTime:this.estimateImplementationTime(h.suggestion.type)};r.push(f)}})});const a=this.generateContextRecommendations(s,e);r.push(...a);const l=this.generateFeatureRecommendations(s,e);return r.push(...l),this.prioritizeRecommendations(r)}generateFeatureRecommendations(e,t){const r=[];return this.getFeatureMatrix(e).forEach(a=>{this.hasFeature(t,a.id)||r.push({id:this.generateRecommendationId(),type:"feature-enhancement",priority:a.priority,title:a.title,description:a.description,implementation:a.implementation,icon:a.icon,category:"functionality",context:e,estimatedImpact:a.impact,implementationTime:a.timeEstimate,codeExample:a.codeExample,benefits:a.benefits,complexity:a.complexity})}),r}hasFeature(e,t){const r={"user-authentication":s=>s["script.js"]?.includes("login")||s["script.js"]?.includes("auth")||s["index.html"]?.includes("login")||s["index.html"]?.includes("signup"),"data-persistence":s=>s["script.js"]?.includes("localStorage")||s["script.js"]?.includes("sessionStorage")||s["script.js"]?.includes("database")||s["script.js"]?.includes("fetch"),"form-validation":s=>s["script.js"]?.includes("validate")||s["script.js"]?.includes("validation")||s["index.html"]?.includes("required")||s["index.html"]?.includes("pattern"),"search-functionality":s=>s["script.js"]?.includes("search")||s["script.js"]?.includes("filter")||s["index.html"]?.includes("search")||s["index.html"]?.includes("filter"),"responsive-design":s=>s["style.css"]?.includes("@media")||s["style.css"]?.includes("responsive"),"pwa-features":s=>s["manifest.json"]||s["sw.js"]||s["index.html"]?.includes("service-worker"),"analytics-tracking":s=>s["script.js"]?.includes("analytics")||s["script.js"]?.includes("gtag")||s["index.html"]?.includes("google-analytics"),"social-sharing":s=>s["script.js"]?.includes("share")||s["index.html"]?.includes("social-share"),"dark-mode":s=>s["style.css"]?.includes("dark")||s["style.css"]?.includes("theme")||s["script.js"]?.includes("dark-mode"),"error-handling":s=>s["script.js"]?.includes("try")||s["script.js"]?.includes("catch")||s["script.js"]?.includes("error"),"loading-states":s=>s["script.js"]?.includes("loading")||s["style.css"]?.includes("spinner")||s["index.html"]?.includes("loading"),"accessibility-features":s=>s["index.html"]?.includes("aria-")||s["index.html"]?.includes("role=")||s["index.html"]?.includes("alt="),"seo-optimization":s=>s["index.html"]?.includes('meta name="description"')||s["index.html"]?.includes('meta name="keywords"'),"security-headers":s=>s["index.html"]?.includes("Content-Security-Policy")||s["index.html"]?.includes("X-Frame-Options"),"performance-optimization":s=>s["script.js"]?.includes("lazy")||s["index.html"]?.includes('loading="lazy"')||s["style.css"]?.includes("transform3d")};return r[t]?r[t](e):!1}getFeatureMatrix(e){let r=[{id:"responsive-design",title:"Responsive Design",description:"Make your app work perfectly on all devices",implementation:"Add CSS media queries and flexible layouts",icon:"",priority:"high",impact:"high",timeEstimate:"1-2 hours",complexity:"beginner",benefits:["Better mobile experience","Increased user engagement","SEO benefits"],codeExample:`@media (max-width: 768px) {
  .container { padding: 10px; }
  .grid { grid-template-columns: 1fr; }
}`},{id:"user-authentication",title:"User Authentication",description:"Add login/signup functionality for user accounts",implementation:"Implement user registration, login, and session management",icon:"",priority:"high",impact:"high",timeEstimate:"3-4 hours",complexity:"intermediate",benefits:["User personalization","Data persistence","Enhanced security"],codeExample:`function loginUser(email, password) {
  // Validate credentials
  // Create session
  // Redirect to dashboard
}`},{id:"data-persistence",title:"Data Persistence",description:"Save user data and preferences locally or to a database",implementation:"Use localStorage, sessionStorage, or integrate with a backend API",icon:"",priority:"high",impact:"high",timeEstimate:"2-3 hours",complexity:"beginner",benefits:["Better user experience","Data retention","Offline functionality"],codeExample:`localStorage.setItem('userData', JSON.stringify(data));
const savedData = JSON.parse(localStorage.getItem('userData'));`},{id:"form-validation",title:"Form Validation",description:"Add client-side and server-side form validation",implementation:"Validate inputs, show error messages, and prevent invalid submissions",icon:"",priority:"medium",impact:"medium",timeEstimate:"1-2 hours",complexity:"beginner",benefits:["Better user experience","Data integrity","Error prevention"],codeExample:`function validateForm(formData) {
  const errors = [];
  if (!formData.email.includes('@')) {
    errors.push('Invalid email format');
  }
  return errors;
}`},{id:"search-functionality",title:"Search & Filter",description:"Add search and filtering capabilities to your content",implementation:"Implement real-time search with filtering and sorting options",icon:"",priority:"medium",impact:"medium",timeEstimate:"2-3 hours",complexity:"intermediate",benefits:["Better content discovery","Improved usability","Enhanced user experience"],codeExample:`function searchContent(query, items) {
  return items.filter(item => 
    item.title.toLowerCase().includes(query.toLowerCase())
  );
}`},{id:"pwa-features",title:"Progressive Web App",description:"Make your app installable and work offline",implementation:"Add service worker, manifest file, and offline functionality",icon:"",priority:"medium",impact:"high",timeEstimate:"3-4 hours",complexity:"intermediate",benefits:["App-like experience","Offline functionality","Better performance"],codeExample:`// manifest.json
{
  "name": "My App",
  "short_name": "App",
  "start_url": "/",
  "display": "standalone"
}`},{id:"analytics-tracking",title:"Analytics & Tracking",description:"Track user behavior and app performance",implementation:"Integrate Google Analytics or similar tracking tools",icon:"",priority:"low",impact:"medium",timeEstimate:"30 minutes",complexity:"beginner",benefits:["User insights","Performance monitoring","Data-driven decisions"],codeExample:`gtag('event', 'page_view', {
  page_title: document.title,
  page_location: window.location.href
});`},{id:"social-sharing",title:"Social Sharing",description:"Allow users to share content on social media",implementation:"Add social sharing buttons and Open Graph meta tags",icon:"",priority:"low",impact:"medium",timeEstimate:"1 hour",complexity:"beginner",benefits:["Increased reach","Social engagement","Viral potential"],codeExample:"function shareToSocial(platform, url, text) {\n  const shareUrl = `https://${platform}.com/share?url=${url}&text=${text}`;\n  window.open(shareUrl, '_blank');\n}"},{id:"dark-mode",title:"Dark Mode",description:"Add dark/light theme toggle for better user experience",implementation:"Create theme system with CSS variables and JavaScript toggle",icon:"",priority:"low",impact:"low",timeEstimate:"1-2 hours",complexity:"beginner",benefits:["User preference","Battery saving","Eye comfort"],codeExample:`:root {
  --bg-color: #ffffff;
  --text-color: #000000;
}
[data-theme="dark"] {
  --bg-color: #1a1a1a;
  --text-color: #ffffff;
}`},{id:"error-handling",title:"Error Handling",description:"Implement comprehensive error handling and user feedback",implementation:"Add try-catch blocks, error boundaries, and user-friendly error messages",icon:"",priority:"high",impact:"high",timeEstimate:"2-3 hours",complexity:"intermediate",benefits:["Better reliability","User experience","Debugging"],codeExample:`try {
  const result = await riskyOperation();
  return result;
} catch (error) {
  console.error('Operation failed:', error);
  showUserMessage('Something went wrong. Please try again.');
}`},{id:"loading-states",title:"Loading States",description:"Add loading indicators and skeleton screens",implementation:"Create loading spinners, progress bars, and skeleton UI components",icon:"",priority:"medium",impact:"medium",timeEstimate:"1-2 hours",complexity:"beginner",benefits:["Better perceived performance","User feedback","Professional feel"],codeExample:`<div class="loading-spinner">
  <div class="spinner"></div>
  <p>Loading...</p>
</div>`}];return e.industry==="ecommerce"&&r.push({id:"shopping-cart",title:"Shopping Cart",description:"Add cart functionality with add/remove items and checkout",implementation:"Implement cart state management and checkout flow",icon:"",priority:"high",impact:"high",timeEstimate:"4-5 hours",complexity:"intermediate",benefits:["Revenue generation","User convenience","Business functionality"],codeExample:`class ShoppingCart {
  constructor() {
    this.items = [];
    this.total = 0;
  }
  
  addItem(product) {
    this.items.push(product);
    this.calculateTotal();
  }
}`}),e.industry==="healthcare"&&r.push({id:"hipaa-compliance",title:"HIPAA Compliance",description:"Add healthcare data protection and compliance features",implementation:"Implement data encryption, secure forms, and privacy controls",icon:"",priority:"high",impact:"high",timeEstimate:"6-8 hours",complexity:"advanced",benefits:["Legal compliance","Data security","User trust"],codeExample:`function encryptSensitiveData(data) {
  // Implement AES encryption for healthcare data
  return CryptoJS.AES.encrypt(JSON.stringify(data), secretKey).toString();
}`}),r}analyzeContext(e){const t=e.toLowerCase(),r={appType:"web",industry:"general",features:[],targetAudience:"general",complexity:"basic"};return t.includes("mobile")||t.includes("app")?r.appType="mobile":(t.includes("api")||t.includes("backend"))&&(r.appType="backend"),Object.entries({health:"healthcare",food:"food",todo:"productivity",portfolio:"professional",ecommerce:"ecommerce",blog:"media",social:"social",education:"education",finance:"finance",fitness:"fitness"}).forEach(([l,d])=>{t.includes(l)&&(r.industry=d)}),Object.entries({authentication:["login","signup","auth","user"],database:["database","storage","data","persist"],payment:["payment","pay","stripe","paypal"],social:["social","share","comment","like"],"real-time":["real-time","live","instant","websocket"],analytics:["analytics","track","metrics","stats"]}).forEach(([l,d])=>{d.some(h=>t.includes(h))&&r.features.push(l)}),t.includes("complex")||t.includes("advanced")||t.includes("enterprise")||t.includes("professional")?r.complexity="advanced":t.includes("simple")||t.includes("basic")?r.complexity="basic":r.complexity="intermediate",r}generateContextRecommendations(e,t){const r=[];return e.industry==="healthcare"&&r.push({id:this.generateRecommendationId(),type:"compliance",priority:"high",title:"Add HIPAA Compliance Features",description:"Include privacy and security measures for healthcare applications",implementation:"Add data encryption, secure forms, and privacy policy",icon:"",category:"security",context:e,estimatedImpact:"high",implementationTime:"2-3 hours"}),e.industry==="ecommerce"&&r.push({id:this.generateRecommendationId(),type:"feature",priority:"high",title:"Add Shopping Cart Functionality",description:"Include cart management, checkout process, and payment integration",implementation:"Implement cart state management, checkout flow, and payment gateway integration",icon:"",category:"functionality",context:e,estimatedImpact:"high",implementationTime:"4-6 hours"}),e.appType==="mobile"&&r.push({id:this.generateRecommendationId(),type:"feature",priority:"high",title:"Add PWA Features",description:"Make the app installable and work offline",implementation:"Add service worker, manifest file, and offline functionality",icon:"",category:"functionality",context:e,estimatedImpact:"high",implementationTime:"3-4 hours"}),e.complexity==="advanced"&&r.push({id:this.generateRecommendationId(),type:"architecture",priority:"medium",title:"Implement State Management",description:"Add proper state management for complex applications",implementation:"Use Redux, Zustand, or Context API for state management",icon:"",category:"functionality",context:e,estimatedImpact:"medium",implementationTime:"2-3 hours"}),r}calculateImpact(e){return{high:"high",medium:"medium",low:"low"}[e]||"medium"}estimateImplementationTime(e){return{design:"1-2 hours",functionality:"2-4 hours",performance:"1-3 hours",accessibility:"1-2 hours",seo:"30 minutes - 1 hour",security:"2-4 hours",compliance:"3-6 hours",architecture:"4-8 hours"}[e]||"1-2 hours"}prioritizeRecommendations(e){const t={high:3,medium:2,low:1};return e.sort((r,s)=>{const a=t[s.priority]-t[r.priority];if(a!==0)return a;const l={security:4,accessibility:3,seo:2,performance:1};return(l[s.category]||0)-(l[r.category]||0)})}generateRecommendationId(){return`rec_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getRecommendationCategories(){return{design:{name:"Design & UX",icon:"",description:"Visual design, user experience, and interface improvements"},functionality:{name:"Functionality",icon:"",description:"Features, interactions, and user engagement"},performance:{name:"Performance",icon:"",description:"Speed, optimization, and resource management"},accessibility:{name:"Accessibility",icon:"",description:"Inclusive design and screen reader support"},seo:{name:"SEO & Discovery",icon:"",description:"Search engine optimization and discoverability"},security:{name:"Security",icon:"",description:"Data protection and security measures"}}}getImplementationGuidance(e){const t={design:{steps:["1. Analyze current design patterns","2. Research modern UI/UX trends","3. Create responsive CSS framework","4. Add animations and transitions","5. Test across different devices"],tools:["CSS Grid","Flexbox","CSS Variables","Media Queries"],examples:["Material Design","Bootstrap","Tailwind CSS"]},functionality:{steps:["1. Identify user interaction points","2. Implement event handlers","3. Add form validation","4. Create dynamic content updates","5. Test user flows"],tools:["JavaScript ES6+","DOM API","Fetch API","Local Storage"],examples:["Form validation","Dynamic lists","Modal dialogs"]},performance:{steps:["1. Audit current performance","2. Optimize images and assets","3. Implement lazy loading","4. Minify CSS and JavaScript","5. Use CDN for static assets"],tools:["Webpack","Parcel","Vite","Image Optimization"],examples:["Code splitting","Lazy loading","Service Workers"]},accessibility:{steps:["1. Audit current accessibility","2. Add semantic HTML","3. Include ARIA labels","4. Test with screen readers","5. Ensure keyboard navigation"],tools:["ARIA","Semantic HTML","Screen Readers","axe-core"],examples:["Alt text","Focus management","Color contrast"]},seo:{steps:["1. Research target keywords","2. Optimize meta tags","3. Add structured data","4. Improve page speed","5. Create XML sitemap"],tools:["Google Analytics","Search Console","Schema.org","Meta Tags"],examples:["Open Graph","Twitter Cards","JSON-LD"]},security:{steps:["1. Identify security vulnerabilities","2. Implement input validation","3. Add CSRF protection","4. Use HTTPS","5. Regular security audits"],tools:["Input Validation","HTTPS","CSRF Tokens","Content Security Policy"],examples:["Form validation","Secure headers","Data encryption"]}};return t[e.type]||t.functionality}analyzeProductionReadiness(e,t=""){const r={overallScore:0,readinessLevel:"not-ready",categories:{},criticalIssues:[],warnings:[],recommendations:[],deploymentReadiness:{firebase:!1,github:!1,vercel:!1,netlify:!1},nextSteps:[]};r.categories.design=this.analyzeDesignReadiness(e),r.categories.functionality=this.analyzeFunctionalityReadiness(e),r.categories.performance=this.analyzePerformanceReadiness(e),r.categories.accessibility=this.analyzeAccessibilityReadiness(e),r.categories.seo=this.analyzeSEOReadiness(e),r.categories.security=this.analyzeSecurityReadiness(e),r.categories.codeQuality=this.analyzeCodeQualityReadiness(e);const s=Object.values(r.categories).map(a=>a.score);return r.overallScore=Math.round(s.reduce((a,l)=>a+l,0)/s.length),r.overallScore>=90?r.readinessLevel="production-ready":r.overallScore>=75?r.readinessLevel="near-ready":r.overallScore>=60?r.readinessLevel="needs-improvement":r.readinessLevel="not-ready",r.criticalIssues=this.identifyCriticalIssues(r.categories),r.warnings=this.generateWarnings(r.categories),r.deploymentReadiness=this.analyzeDeploymentReadiness(e,r),r.nextSteps=this.generateNextSteps(r),r}analyzeDesignReadiness(e){const t={hasCSS:!!e["style.css"]&&e["style.css"].length>100,hasResponsiveDesign:e["style.css"]?.includes("@media")||!1,hasModernStyling:e["style.css"]?.includes("flexbox")||e["style.css"]?.includes("grid")||!1,hasAnimations:e["style.css"]?.includes("animation")||e["style.css"]?.includes("transition")||!1,hasConsistentColors:e["style.css"]?.includes("--")||e["style.css"]?.includes("color:")||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasCSS||s.push("Missing CSS styling"),t.hasResponsiveDesign||s.push("Not responsive for mobile devices"),t.hasModernStyling||s.push("Using outdated CSS techniques"),t.hasAnimations||s.push("No animations or transitions"),t.hasConsistentColors||s.push("Inconsistent color scheme"),{score:r,checks:t,issues:s,recommendations:[!t.hasCSS&&"Add comprehensive CSS styling",!t.hasResponsiveDesign&&"Implement responsive design with media queries",!t.hasModernStyling&&"Use modern CSS Grid or Flexbox",!t.hasAnimations&&"Add smooth transitions and hover effects",!t.hasConsistentColors&&"Create a consistent color palette"].filter(Boolean)}}analyzeFunctionalityReadiness(e){const t={hasJavaScript:!!e["script.js"]&&e["script.js"].length>50,hasErrorHandling:e["script.js"]?.includes("try")||e["script.js"]?.includes("catch")||!1,hasFormValidation:e["script.js"]?.includes("validate")||e["index.html"]?.includes("required")||!1,hasUserInteraction:e["script.js"]?.includes("addEventListener")||e["script.js"]?.includes("onclick")||!1,hasDataPersistence:e["script.js"]?.includes("localStorage")||e["script.js"]?.includes("fetch")||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasJavaScript||s.push("No JavaScript functionality"),t.hasErrorHandling||s.push("No error handling implemented"),t.hasFormValidation||s.push("No form validation"),t.hasUserInteraction||s.push("Limited user interaction"),t.hasDataPersistence||s.push("No data persistence"),{score:r,checks:t,issues:s,recommendations:[!t.hasJavaScript&&"Add JavaScript functionality",!t.hasErrorHandling&&"Implement proper error handling",!t.hasFormValidation&&"Add form validation",!t.hasUserInteraction&&"Add interactive features",!t.hasDataPersistence&&"Implement data storage"].filter(Boolean)}}analyzePerformanceReadiness(e){const t={hasOptimizedImages:e["index.html"]?.includes('loading="lazy"')||!1,hasMinifiedCode:e["script.js"]?.length<5e3||!1,hasEfficientCSS:e["style.css"]?.length<1e4||!1,hasNoBlockingScripts:!e["index.html"]?.includes("script src")||e["index.html"]?.includes("async")||!1,hasCDNReady:e["index.html"]?.includes("https://")||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasOptimizedImages||s.push("Images not optimized for loading"),t.hasMinifiedCode||s.push("JavaScript code not optimized"),t.hasEfficientCSS||s.push("CSS could be more efficient"),t.hasNoBlockingScripts||s.push("Scripts may block page loading"),t.hasCDNReady||s.push("Not ready for CDN deployment"),{score:r,checks:t,issues:s,recommendations:[!t.hasOptimizedImages&&"Add lazy loading to images",!t.hasMinifiedCode&&"Minify JavaScript code",!t.hasEfficientCSS&&"Optimize CSS for better performance",!t.hasNoBlockingScripts&&"Make scripts non-blocking",!t.hasCDNReady&&"Prepare for CDN deployment"].filter(Boolean)}}analyzeAccessibilityReadiness(e){const t={hasAltText:!e["index.html"]?.includes("<img")||e["index.html"]?.includes("alt=")||!1,hasSemanticHTML:e["index.html"]?.includes("<header>")||e["index.html"]?.includes("<main>")||!1,hasARIALabels:e["index.html"]?.includes("aria-")||!1,hasFormLabels:!e["index.html"]?.includes("<input")||e["index.html"]?.includes("<label")||!1,hasKeyboardNavigation:e["script.js"]?.includes("keydown")||e["script.js"]?.includes("tabIndex")||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasAltText||s.push("Images missing alt text"),t.hasSemanticHTML||s.push("Not using semantic HTML"),t.hasARIALabels||s.push("Missing ARIA labels"),t.hasFormLabels||s.push("Form inputs missing labels"),t.hasKeyboardNavigation||s.push("Limited keyboard navigation"),{score:r,checks:t,issues:s,recommendations:[!t.hasAltText&&"Add alt text to all images",!t.hasSemanticHTML&&"Use semantic HTML elements",!t.hasARIALabels&&"Add ARIA labels for screen readers",!t.hasFormLabels&&"Add labels to form inputs",!t.hasKeyboardNavigation&&"Implement keyboard navigation"].filter(Boolean)}}analyzeSEOReadiness(e){const t={hasTitle:e["index.html"]?.includes("<title>")&&!e["index.html"]?.includes("<title>Untitled</title>"),hasMetaDescription:e["index.html"]?.includes('meta name="description"')||!1,hasMetaKeywords:e["index.html"]?.includes('meta name="keywords"')||!1,hasOpenGraph:e["index.html"]?.includes("og:")||!1,hasStructuredData:e["index.html"]?.includes("schema.org")||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasTitle||s.push("Missing or generic page title"),t.hasMetaDescription||s.push("No meta description"),t.hasMetaKeywords||s.push("No meta keywords"),t.hasOpenGraph||s.push("No Open Graph tags"),t.hasStructuredData||s.push("No structured data"),{score:r,checks:t,issues:s,recommendations:[!t.hasTitle&&"Add descriptive page title",!t.hasMetaDescription&&"Add meta description for SEO",!t.hasMetaKeywords&&"Add relevant meta keywords",!t.hasOpenGraph&&"Add Open Graph tags for social sharing",!t.hasStructuredData&&"Add structured data markup"].filter(Boolean)}}analyzeSecurityReadiness(e){const t={hasHTTPS:e["index.html"]?.includes("https://")||!1,hasInputValidation:e["script.js"]?.includes("validate")||e["index.html"]?.includes("required")||!1,hasCSRFProtection:e["index.html"]?.includes("csrf")||!1,hasSecurityHeaders:e["index.html"]?.includes("Content-Security-Policy")||!1,hasSecureForms:!e["index.html"]?.includes("<form")||e["index.html"]?.includes('method="post"')||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasHTTPS||s.push("Not using HTTPS"),t.hasInputValidation||s.push("No input validation"),t.hasCSRFProtection||s.push("No CSRF protection"),t.hasSecurityHeaders||s.push("No security headers"),t.hasSecureForms||s.push("Forms not secure"),{score:r,checks:t,issues:s,recommendations:[!t.hasHTTPS&&"Use HTTPS for all connections",!t.hasInputValidation&&"Add input validation",!t.hasCSRFProtection&&"Implement CSRF protection",!t.hasSecurityHeaders&&"Add security headers",!t.hasSecureForms&&"Secure form submissions"].filter(Boolean)}}analyzeCodeQualityReadiness(e){const t={hasComments:e["script.js"]?.includes("//")||e["style.css"]?.includes("/*")||!1,hasConsistentFormatting:!0,hasErrorHandling:e["script.js"]?.includes("try")||e["script.js"]?.includes("catch")||!1,hasModularCode:e["script.js"]?.includes("function")||!1,hasNoConsoleErrors:!e["script.js"]?.includes("console.error")||!1},r=Object.values(t).filter(Boolean).length*20,s=[];return t.hasComments||s.push("Code lacks documentation"),t.hasErrorHandling||s.push("No error handling"),t.hasModularCode||s.push("Code not modular"),t.hasNoConsoleErrors||s.push("Has console errors"),{score:r,checks:t,issues:s,recommendations:[!t.hasComments&&"Add code comments and documentation",!t.hasErrorHandling&&"Implement comprehensive error handling",!t.hasModularCode&&"Break code into functions",!t.hasNoConsoleErrors&&"Remove console errors"].filter(Boolean)}}identifyCriticalIssues(e){const t=[];return Object.entries(e).forEach(([r,s])=>{s.score<40&&t.push({category:r,score:s.score,issues:s.issues,priority:"critical"})}),t}generateWarnings(e){const t=[];return Object.entries(e).forEach(([r,s])=>{s.score>=40&&s.score<70&&t.push({category:r,score:s.score,issues:s.issues,priority:"warning"})}),t}analyzeDeploymentReadiness(e,t){const r={firebase:!1,github:!1,vercel:!1,netlify:!1};return e["index.html"]&&e["style.css"]&&t.overallScore>=60&&(r.firebase=!0),e["index.html"]&&t.overallScore>=50&&(r.github=!0),e["index.html"]&&e["package.json"]&&t.overallScore>=70&&(r.vercel=!0),e["index.html"]&&t.overallScore>=60&&(r.netlify=!0),r}generateNextSteps(e){const t=[];return e.readinessLevel==="not-ready"&&t.push({priority:"high",action:"Fix Critical Issues",description:"Address all critical issues before deployment",estimatedTime:"2-4 hours"}),e.readinessLevel==="needs-improvement"&&t.push({priority:"medium",action:"Improve Core Features",description:"Enhance functionality and user experience",estimatedTime:"1-3 hours"}),e.readinessLevel==="near-ready"&&t.push({priority:"low",action:"Polish and Optimize",description:"Fine-tune performance and add final touches",estimatedTime:"30 minutes - 1 hour"}),e.readinessLevel==="production-ready"&&t.push({priority:"low",action:"Deploy to Production",description:"Your app is ready for live deployment!",estimatedTime:"10-30 minutes"}),t}}const PS=new o9,a9=({isOpen:n,onClose:e})=>{const{currentProject:t}=Hi(),[r,s]=N.useState([]),[a,l]=N.useState(null),[d,h]=N.useState(!1),[f,g]=N.useState("recommendations"),[y,w]=N.useState(new Set);N.useEffect(()=>{n&&t.files&&_()},[n,t.files]);const _=async()=>{h(!0);try{const D=PS.analyzeApplication(t.files,t.prompt||"");s(D);const I=PS.analyzeProductionReadiness(t.files,t.prompt||"");l(I)}catch(D){console.error("Analysis failed:",D)}finally{h(!1)}},T=D=>{switch(D){case"high":return"text-red-500 bg-red-50 border-red-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},P=D=>{switch(D){case"production-ready":return"text-green-600 bg-green-50";case"near-ready":return"text-blue-600 bg-blue-50";case"needs-improvement":return"text-yellow-600 bg-yellow-50";case"not-ready":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},C=D=>{switch(D){case"design":return c.jsx(ZT,{className:"h-4 w-4"});case"functionality":return c.jsx(vt,{className:"h-4 w-4"});case"performance":return c.jsx(yr,{className:"h-4 w-4"});case"accessibility":return c.jsx(ou,{className:"h-4 w-4"});case"seo":return c.jsx(gr,{className:"h-4 w-4"});case"security":return c.jsx(au,{className:"h-4 w-4"});default:return c.jsx(Yg,{className:"h-4 w-4"})}},U=D=>{navigator.clipboard.writeText(D)};return n?c.jsx(zr,{children:c.jsxs(he.div,{initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0,x:300},className:"fixed right-0 top-0 h-full w-96 bg-white border-l border-gray-200 shadow-xl z-50 flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[c.jsx(Yg,{className:"h-5 w-5 text-yellow-500"}),"AI Recommendations"]}),c.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-md transition-colors",children:c.jsx(cu,{className:"h-5 w-5 text-gray-500"})})]}),c.jsxs("div",{className:"flex gap-1 mt-3",children:[c.jsx("button",{onClick:()=>g("recommendations"),className:`px-3 py-1 text-sm rounded-md transition-colors ${f==="recommendations"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Recommendations"}),c.jsx("button",{onClick:()=>g("production"),className:`px-3 py-1 text-sm rounded-md transition-colors ${f==="production"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Production Ready?"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c.jsxs(c.Fragment,{children:[f==="recommendations"&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:[r.length," recommendations found"]}),r.map(D=>c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:C(D.category)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:D.title}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:D.description})]})]}),c.jsx("span",{className:`px-2 py-1 text-xs rounded-full border ${T(D.priority)}`,children:D.priority})]}),c.jsx("div",{className:"mb-3",children:c.jsxs("p",{className:"text-sm text-gray-700",children:[c.jsx("strong",{children:"Implementation:"})," ",D.implementation]})}),D.benefits&&c.jsxs("div",{className:"mb-3",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Benefits:"}),c.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:D.benefits.map((I,$)=>c.jsxs("li",{className:"flex items-center gap-2",children:[c.jsx(Do,{className:"h-3 w-3 text-green-500"}),I]},$))})]}),D.codeExample&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Code Example:"}),c.jsx("button",{onClick:()=>U(D.codeExample),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Copy code",children:c.jsx(Cu,{className:"h-3 w-3 text-gray-500"})})]}),c.jsx("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-x-auto",children:c.jsx("code",{children:D.codeExample})})]}),c.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Cl,{className:"h-3 w-3"}),D.implementationTime]}),D.complexity&&c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Tv,{className:"h-3 w-3"}),D.complexity]})]}),c.jsxs("button",{className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[c.jsx(ty,{className:"h-3 w-3"}),"Apply"]})]})]},D.id)),r.length===0&&c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Do,{className:"h-12 w-12 mx-auto mb-3 text-green-500"}),c.jsx("p",{children:"No recommendations found!"}),c.jsx("p",{className:"text-sm",children:"Your application looks great."})]})]}),f==="production"&&a&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:"Production Readiness"}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${P(a.readinessLevel)}`,children:a.readinessLevel.replace("-"," ").toUpperCase()})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Overall Score"}),c.jsxs("span",{className:"text-sm font-medium",children:[a.overallScore,"/100"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${a.overallScore}%`}})})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h5",{className:"font-medium text-gray-900",children:"Category Analysis"}),Object.entries(a.categories).map(([D,I])=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[C(D),c.jsx("span",{className:"text-sm font-medium capitalize",children:D})]}),c.jsxs("span",{className:"text-sm font-medium",children:[I.score,"/100"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-2",children:c.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${I.score>=80?"bg-green-500":I.score>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${I.score}%`}})}),I.issues.length>0&&c.jsxs("div",{className:"text-xs text-gray-600",children:["Issues: ",I.issues.join(", ")]})]},D))]}),a.criticalIssues.length>0&&c.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[c.jsxs("h5",{className:"font-medium text-red-800 mb-3 flex items-center gap-2",children:[c.jsx(GT,{className:"h-4 w-4"}),"Critical Issues"]}),c.jsx("div",{className:"space-y-2",children:a.criticalIssues.map((D,I)=>c.jsxs("div",{className:"text-sm text-red-700",children:[c.jsxs("strong",{children:[D.category,":"]})," ",D.issues.join(", ")]},I))})]}),c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsxs("h5",{className:"font-medium text-green-800 mb-3 flex items-center gap-2",children:[c.jsx(qo,{className:"h-4 w-4"}),"Deployment Options"]}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(a.deploymentReadiness).map(([D,I])=>c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[I?c.jsx(Do,{className:"h-4 w-4 text-green-500"}):c.jsx(cu,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{className:"capitalize",children:D})]},D))})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h5",{className:"font-medium text-blue-800 mb-3",children:"Next Steps"}),c.jsx("div",{className:"space-y-2",children:a.nextSteps.map((D,I)=>c.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${D.priority==="high"?"bg-red-500 text-white":D.priority==="medium"?"bg-yellow-500 text-white":"bg-green-500 text-white"}`,children:I+1}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-blue-900",children:D.action}),c.jsx("p",{className:"text-blue-700",children:D.description}),c.jsxs("p",{className:"text-blue-600 text-xs mt-1",children:["Estimated time: ",D.estimatedTime]})]})]},I))})]})]})]})}),c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:_,className:"flex-1 bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors text-sm font-medium",children:"Refresh Analysis"}),c.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors text-sm",children:"Close"})]})})]})}):null},l9=({isOpen:n,onClose:e,searchResults:t,prompt:r})=>{const[s,a]=N.useState([]),[l,d]=N.useState(!1);N.useEffect(()=>{n&&h()},[n]);const h=()=>{const g=Qc.getSearchHistory();a(g)},f=g=>{navigator.clipboard.writeText(g)};return n?c.jsx(zr,{children:c.jsxs(he.div,{initial:{opacity:0,y:300},animate:{opacity:1,y:0},exit:{opacity:0,y:300},className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-xl z-50 max-h-[70vh] flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[c.jsx(Zr,{className:"h-5 w-5 text-blue-500"}),"Web Knowledge Search"]}),c.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-200 rounded-md transition-colors",children:c.jsx(cu,{className:"h-5 w-5 text-gray-500"})})]}),r&&c.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[c.jsx("strong",{children:"Searching for:"})," ",r]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),c.jsx("span",{className:"text-gray-600",children:"Searching web for current best practices..."})]})}):t?c.jsxs("div",{className:"space-y-6",children:[t.success&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center gap-2",children:[c.jsx(gr,{className:"h-4 w-4"}),"Search Results Summary"]}),c.jsx("p",{className:"text-blue-800 text-sm mb-2",children:t.knowledge.summary}),c.jsxs("div",{className:"text-xs text-blue-600",children:["Found ",t.resultsCount," relevant sources  Generated ",t.searchQueries.length," search queries"]})]}),t.knowledge?.bestPractices&&c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-green-900 mb-3 flex items-center gap-2",children:[c.jsx(Do,{className:"h-4 w-4"}),"Current Best Practices Applied"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.knowledge.bestPractices.slice(0,8).map((g,y)=>c.jsxs("div",{className:"flex items-start gap-2 text-sm text-green-800",children:[c.jsx(Do,{className:"h-3 w-3 text-green-600 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:g})]},y))})]}),t.knowledge?.codeExamples&&Object.keys(t.knowledge.codeExamples).length>0&&c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx(vt,{className:"h-4 w-4"}),"Code Examples & Patterns"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(t.knowledge.codeExamples).map(([g,y])=>c.jsxs("div",{className:"bg-white border border-gray-200 rounded p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:g.replace(/([A-Z])/g," $1").trim()}),c.jsx("button",{onClick:()=>f(y),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Copy code",children:c.jsx(Cu,{className:"h-3 w-3 text-gray-500"})})]}),c.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-x-auto",children:c.jsx("code",{children:y})})]},g))})]}),t.knowledge?.recommendations&&c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-yellow-900 mb-3 flex items-center gap-2",children:[c.jsx(Yg,{className:"h-4 w-4"}),"AI Recommendations"]}),c.jsx("div",{className:"space-y-2",children:t.knowledge.recommendations.map((g,y)=>c.jsxs("div",{className:"flex items-start gap-2 text-sm text-yellow-800",children:[c.jsx(Tv,{className:"h-3 w-3 text-yellow-600 mt-0.5 flex-shrink-0"}),c.jsx("span",{children:g})]},y))})]}),t.knowledge?.resources&&c.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-purple-900 mb-3 flex items-center gap-2",children:[c.jsx(zc,{className:"h-4 w-4"}),"Knowledge Sources"]}),c.jsx("div",{className:"space-y-2",children:t.knowledge.resources.slice(0,5).map((g,y)=>c.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[c.jsx(qo,{className:"h-3 w-3 text-purple-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-purple-900",children:g.title}),c.jsx("div",{className:"text-purple-700",children:g.snippet})]})]},y))})]}),t.searchQueries&&c.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[c.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx(gr,{className:"h-4 w-4"}),"Search Queries Used"]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.searchQueries.map((g,y)=>c.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:g},y))})]})]}):c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Zr,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),c.jsx("p",{children:"No web search results available"}),c.jsx("p",{className:"text-sm",children:"Web knowledge search will enhance your generated code with current best practices."})]}),s.length>0&&c.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[c.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[c.jsx(Cl,{className:"h-4 w-4"}),"Recent Searches"]}),c.jsx("div",{className:"space-y-2",children:s.slice(0,5).map((g,y)=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[c.jsx("span",{className:"text-gray-700",children:g.query}),c.jsx("span",{className:"text-gray-500 text-xs",children:new Date(g.timestamp).toLocaleTimeString()})]},y))})]})]}),c.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{children:" Web search enhances code with current best practices"}),c.jsx("span",{children:""}),c.jsxs("span",{children:["Cache: ",Qc.getCacheStats().cacheSize," items"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>Qc.clearCache(),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded transition-colors text-xs",children:"Clear Cache"}),c.jsx("button",{onClick:e,className:"px-3 py-1 bg-blue-500 text-white hover:bg-blue-600 rounded transition-colors text-xs",children:"Close"})]})]})})]})}):null},c9=()=>{const{currentProject:n,updateFile:e,updateConfig:t}=Hi(),[r,s]=N.useState(""),[a,l]=N.useState(!1),[d,h]=N.useState(!1),[f,g]=N.useState(!1),[y,w]=N.useState(!1),[_,T]=N.useState(!1),[P,C]=N.useState(!1),[U,D]=N.useState(null),[I,$]=N.useState("local-ai"),[Q,G]=N.useState("llama3-8b-8192"),[A,E]=N.useState([]),[R,L]=N.useState([]),[F,z]=N.useState({}),M=N.useRef(null);N.useEffect(()=>{M.current&&(M.current.style.height="auto",M.current.style.height=M.current.scrollHeight+"px")},[r]),N.useEffect(()=>{z(ze?.getServiceStatus?ze.getServiceStatus():{});const ne=setInterval(()=>{z(ze?.getServiceStatus?ze.getServiceStatus():{})},3e4);return()=>clearInterval(ne)},[]),N.useEffect(()=>{r.length>10?we():E([])},[r]);const we=()=>{const ne=r.toLowerCase(),se=[];(ne.includes("health")||ne.includes("food"))&&(se.push({text:"Add nutrition calculator",type:"feature",icon:""}),se.push({text:"Include meal planning calendar",type:"feature",icon:""})),(ne.includes("todo")||ne.includes("task"))&&(se.push({text:"Add due dates and reminders",type:"feature",icon:""}),se.push({text:"Include priority levels",type:"feature",icon:""})),(ne.includes("portfolio")||ne.includes("resume"))&&(se.push({text:"Add contact form",type:"feature",icon:""}),se.push({text:"Include project gallery",type:"feature",icon:""})),se.push({text:"Make it responsive",type:"improvement",icon:""}),se.push({text:"Add dark mode",type:"improvement",icon:""}),E(se.slice(0,4))},_e=async()=>{if(!r.trim()){Pe.error("Please enter a description of what you want to build");return}l(!0);try{if(L(se=>[r,...se.slice(0,4)]),console.log("AI Service object:",ze),console.log("AI Service generateCode method:",typeof ze?.generateCode),!ze||typeof ze.generateCode!="function")throw new Error("AI Service not properly initialized. generateCode method not found.");const ne=await ze.generateCode(r,n.config);ne._webSearchResults&&(D(ne._webSearchResults),delete ne._webSearchResults),Object.entries(ne).forEach(([se,V])=>{e(se,V)}),ve(r),Pe.success("Code generated successfully!"),s("")}catch(ne){console.error("AI generation error:",ne),Pe.error("Failed to generate code: "+ne.message)}finally{l(!1)}},ve=ne=>{const se=ne.toLowerCase(),V={...n.config};se.includes("mobile")||se.includes("app")?V.appType="mobile":se.includes("api")||se.includes("backend")?V.appType="backend":(se.includes("frontend")||se.includes("website"))&&(V.appType="frontend"),se.includes("typescript")||se.includes("ts")?V.language="typescript":se.includes("python")?V.language="python":se.includes("java")&&(V.language="java"),se.includes("bootstrap")?V.styling="bootstrap":se.includes("material")?V.styling="material":V.styling="tailwind",t(V)},Ue=ne=>{ne.key==="Enter"&&(ne.ctrlKey||ne.metaKey)&&(ne.preventDefault(),_e())},oe=ze?.getServices?ze.getServices():{};return c.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"p-3 border-b border-border bg-muted/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[c.jsx(lu,{className:"h-4 w-4"}),"AI Assistant"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:ze?.currentService||"local-ai"}),c.jsx("button",{onClick:()=>w(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Browse Templates (1000+)",children:c.jsx(vt,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>T(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"AI Recommendations & Production Analysis",children:c.jsx(lu,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>C(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Web Knowledge Search",children:c.jsx(gr,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>g(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"AI Service Status",children:c.jsx($c,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>h(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"AI Settings",children:c.jsx($r,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-muted-foreground",children:F[ze?.currentService||"local-ai"]?.isHealthy?"AI Ready":"Demo Mode"})]}),c.jsx("span",{children:""}),c.jsx("span",{className:"text-muted-foreground",children:ze?.isFallbackEnabled?ze.isFallbackEnabled()?"Fallback Enabled":"Single Service":"Local AI Only"})]}),c.jsx("button",{onClick:()=>g(!0),className:"text-xs text-primary hover:underline",children:"Details"})]})]}),c.jsx("div",{className:"flex-1 p-3 space-y-3",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Describe what you want to build"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{ref:M,value:r,onChange:ne=>s(ne.target.value),onKeyPress:Ue,placeholder:"Create a healthy food tips website with nutrition advice and meal planning features...",className:"w-full p-3 border border-border rounded-md bg-black resize-none min-h-[120px] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:a}),c.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:[r.length,"/2000"]})]})]})}),c.jsxs("div",{className:"p-3 border-t border-border",children:[c.jsx("button",{onClick:_e,disabled:!r.trim()||a,className:"w-full flex items-center justify-center gap-2 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-md hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg shadow-blue-500/30 border border-blue-500/20",children:a?c.jsxs(c.Fragment,{children:[c.jsx(Gp,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{children:"Generating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(yr,{className:"h-4 w-4"}),c.jsx("span",{children:"Generate Code"})]})}),c.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Press Ctrl+Enter to generate"})]}),c.jsx(i9,{isOpen:y,onClose:()=>w(!1),onTemplateSelect:ne=>{console.log("Template selected:",ne)}}),c.jsx(s9,{isOpen:f,onClose:()=>g(!1)}),c.jsx(a9,{isOpen:_,onClose:()=>T(!1)}),c.jsx(l9,{isOpen:P,onClose:()=>C(!1),searchResults:U,prompt:r}),c.jsx(zr,{children:d&&c.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>h(!1),children:c.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ne=>ne.stopPropagation(),children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Ci,{className:"h-5 w-5"}),"AI Settings"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"AI Service"}),c.jsx("select",{value:I,onChange:ne=>{$(ne.target.value),ze?.setService&&ze.setService(ne.target.value)},className:"w-full p-2 border border-border rounded-md bg-black",children:Object.entries(oe).map(([ne,se])=>c.jsxs("option",{value:ne,children:[se.name," - ",se.type]},ne))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),c.jsx("select",{value:Q,onChange:ne=>{G(ne.target.value),ze?.setService&&ze.setService(ne.target.value)},className:"w-full p-2 border border-border rounded-md bg-black",children:Object.entries(oe[I]?.models||{}).map(([ne,se])=>c.jsx("option",{value:ne,children:se},ne))})]}),c.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Service Info"}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Type:"})," ",oe[I]?.type]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cost:"})," Free tier available"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Features:"})," Fast inference, modern models"]})]})]}),c.jsx("div",{className:"flex gap-2 justify-end",children:c.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})})]})},u9=({children:n,direction:e="horizontal",className:t=""})=>c.jsx("div",{className:`resizable-panel-group flex ${e} h-full ${t}`,children:n}),xg=({children:n,defaultSize:e=50,minSize:t=10,maxSize:r=90,className:s=""})=>c.jsx("div",{className:`resizable-panel ${s}`,style:{flexBasis:`${e}%`,minWidth:`${t}%`,maxWidth:`${r}%`},children:n}),RS=({className:n="",onResize:e,children:t,handleIndex:r=0})=>{const[s,a]=N.useState(!1),l=N.useRef(null),d=g=>{a(!0),g.preventDefault(),document.body.style.cursor="col-resize",document.body.style.userSelect="none",console.log("Handle clicked:",r)},h=N.useCallback(g=>{if(!s)return;const y=l.current?.parentElement;if(!y)return;const w=y.getBoundingClientRect(),T=(g.clientX-w.left)/w.width*100,C=Array.from(y.children).filter(U=>U.classList.contains("resizable-panel"));if(console.log("Total panels found:",C.length,"Handle index:",r),C.length>=2){let U,D;if(r===0?(U=C[0],D=C[1],console.log("Resizing File Manager and Code Editor")):r===1&&(U=C[1],D=C[2],console.log("Resizing Code Editor and AI Assistant")),U&&D){const I=Math.max(15,Math.min(70,T)),$=Math.max(15,Math.min(70,100-I));console.log("Setting sizes:",{leftSize:I,rightSize:$,percentage:T}),U.style.flexBasis=`${I}%`,D.style.flexBasis=`${$}%`,U.style.border="3px solid red",D.style.border="3px solid blue",setTimeout(()=>{U.style.border="",D.style.border=""},300),e&&e({leftSize:I,rightSize:$})}}},[s,e,r]),f=N.useCallback(()=>{a(!1),document.body.style.cursor="",document.body.style.userSelect=""},[]);return N.useEffect(()=>{if(s)return document.addEventListener("mousemove",h),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",f)}},[s,h,f]),c.jsx("div",{ref:l,className:`resizable-handle w-2 bg-border/30 hover:bg-primary/50 transition-all duration-200 cursor-col-resize hover:w-3 group flex items-center justify-center ${s?"bg-primary/70":""} ${n}`,onMouseDown:d,children:t||c.jsx("div",{className:"w-1 h-8 bg-border/50 rounded-full group-hover:bg-primary/70 transition-colors"})})},d9=()=>{const[n,e]=N.useState("editor"),t=[{id:"editor",label:"Code Editor",icon:vt,description:"Edit your code with live preview"},{id:"preview",label:"Live Preview",icon:ou,description:"View your application in real-time"},{id:"terminal",label:"Terminal",icon:ny,description:"Command line interface"}];return c.jsxs("div",{className:"h-screen bg-background flex flex-col pt-16",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-card/80 backdrop-blur-sm border-b border-border/50 shadow-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"AI Builder"})}),c.jsx("div",{className:"flex items-center gap-1 bg-background/50 p-1 rounded-lg border border-border/50",children:t.map(r=>{const s=r.icon;return c.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${n===r.id?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,title:r.description,children:[c.jsx(s,{className:"h-4 w-4"}),c.jsx("span",{children:r.label})]},r.id)})})]}),c.jsx("div",{className:"flex-1 p-6",children:c.jsxs(u9,{direction:"horizontal",className:"h-full gap-2",children:[c.jsx(xg,{defaultSize:20,minSize:10,maxSize:50,children:c.jsxs("div",{className:"h-full bg-card border border-border rounded-xl shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ii,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Files"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Active"})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(fF,{})})]})}),c.jsx(RS,{className:"w-2 bg-border/30 hover:bg-primary/50 transition-all duration-200 cursor-col-resize hover:w-3 group",handleIndex:0,children:c.jsx("div",{className:"w-1 h-8 bg-border/50 rounded-full mx-auto group-hover:bg-primary/70 transition-colors"})}),c.jsx(xg,{defaultSize:50,minSize:25,maxSize:70,children:c.jsxs("div",{className:"h-full bg-card border border-border rounded-xl shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[n==="editor"&&c.jsx(vt,{className:"h-4 w-4 text-primary"}),n==="preview"&&c.jsx(ou,{className:"h-4 w-4 text-primary"}),n==="terminal"&&c.jsx(ny,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground capitalize",children:n})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Ready"})]})]}),c.jsxs("div",{className:"flex-1 overflow-hidden h-full min-h-[600px]",children:[n==="editor"&&c.jsx(bU,{}),n==="preview"&&c.jsx(wU,{}),n==="terminal"&&c.jsx("div",{className:"h-full flex flex-col bg-gray-900",children:c.jsx("div",{className:"flex-grow p-4 text-green-400 font-mono text-sm overflow-y-auto",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-400",children:"user@dreambuild"}),c.jsx("span",{className:"text-gray-500",children:"$"}),c.jsx("span",{className:"text-gray-300",children:"npm run dev"})]}),c.jsx("div",{className:"text-gray-400",children:"Starting development server..."}),c.jsx("div",{className:"text-green-400",children:" Server running on http://localhost:3000"}),c.jsx("div",{className:"text-blue-400",children:" Ready in 2.3s"}),c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-400",children:"user@dreambuild"}),c.jsx("span",{className:"text-gray-500",children:"$"}),c.jsx("span",{className:"text-gray-300 animate-pulse",children:"_"})]})})]})})})]})]})}),c.jsx(RS,{className:"w-2 bg-border/30 hover:bg-primary/50 transition-all duration-200 cursor-col-resize hover:w-3 group",handleIndex:1,children:c.jsx("div",{className:"w-1 h-8 bg-border/50 rounded-full mx-auto group-hover:bg-primary/70 transition-colors"})}),c.jsx(xg,{defaultSize:30,minSize:15,maxSize:60,children:c.jsxs("div",{className:"h-full bg-card border border-border rounded-xl shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ci,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"AI Assistant"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Online"})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(c9,{})})]})})]})})]})},h9=()=>{const{currentProject:n,projects:e}=Hi(),[t,r]=N.useState("7d"),[s,a]=N.useState(!0);N.useEffect(()=>{const y=setTimeout(()=>a(!1),1e3);return()=>clearTimeout(y)},[]);const l={totalProjects:12,aiGenerations:89,linesOfCode:12450,hoursSpent:42.5},d=[{id:1,type:"ai_generation",project:"E-commerce Store",action:"Generated React component",time:"2 minutes ago",icon:Ci,color:"text-white"},{id:2,type:"file_created",project:"Portfolio Website",action:"Created new CSS file",time:"15 minutes ago",icon:Ev,color:"text-green-600"},{id:3,type:"project_completed",project:"Task Manager App",action:"Project marked as completed",time:"1 hour ago",icon:ip,color:"text-yellow-600"},{id:4,type:"deployment",project:"Analytics Dashboard",action:"Deployed to Firebase",time:"3 hours ago",icon:Ni,color:"text-purple-600"}],h=[{name:"E-commerce Store",files:24,lastModified:"2 min ago",type:"web",progress:85},{name:"Portfolio Website",files:12,lastModified:"15 min ago",type:"web",progress:100},{name:"Task Manager App",files:18,lastModified:"1 hour ago",type:"mobile",progress:100},{name:"Analytics Dashboard",files:31,lastModified:"3 hours ago",type:"dashboard",progress:75}],f=[{language:"JavaScript",percentage:45,files:70,color:"bg-yellow-500"},{language:"HTML",percentage:25,files:39,color:"bg-orange-500"},{language:"CSS",percentage:20,files:31,color:"bg-white"},{language:"Python",percentage:10,files:16,color:"bg-green-500"}],g=({title:y,value:w,icon:_,change:T,changeType:P,description:C})=>c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center",children:c.jsx(_,{className:"h-6 w-6 text-white"})}),T&&c.jsxs("div",{className:`flex items-center gap-1 text-sm ${P==="increase"?"text-green-600":"text-red-600"}`,children:[P==="increase"?c.jsx(PL,{className:"h-4 w-4"}):c.jsx(jL,{className:"h-4 w-4"}),T]})]}),c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:w}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y}),C&&c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C})]});return s?c.jsx("div",{className:"min-h-screen bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((y,w)=>c.jsxs("div",{className:"bg-card/50 rounded-xl p-6",children:[c.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg mb-4"}),c.jsx("div",{className:"h-6 bg-muted rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]},w))})]})})}):c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your projects."})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("select",{value:t,onChange:y=>r(y.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"7d",children:"Last 7 days"}),c.jsx("option",{value:"30d",children:"Last 30 days"}),c.jsx("option",{value:"90d",children:"Last 90 days"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(g,{title:"Total Projects",value:l.totalProjects,icon:Ii,change:"+2",changeType:"increase",description:"This week"}),c.jsx(g,{title:"AI Generations",value:l.aiGenerations,icon:Ci,change:"+12",changeType:"increase",description:"This week"}),c.jsx(g,{title:"Lines of Code",value:l.linesOfCode.toLocaleString(),icon:vt,change:"+1.2k",changeType:"increase",description:"This week"}),c.jsx(g,{title:"Hours Spent",value:l.hoursSpent,icon:Cl,change:"+5.2h",changeType:"increase",description:"This week"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[c.jsx(IL,{className:"h-5 w-5 text-white"}),"Recent Activity"]}),c.jsx("button",{className:"text-sm text-white hover:text-gray-300 transition-colors",children:"View all"})]}),c.jsx("div",{className:"space-y-4",children:d.map((y,w)=>{const _=y.icon;return c.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1},className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${y.color.replace("text-","bg-").replace("-600","-100")}`,children:c.jsx(_,{className:`h-4 w-4 ${y.color}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:y.action}),c.jsx("p",{className:"text-xs text-muted-foreground",children:y.project})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:y.time})]},y.id)})})]}),c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[c.jsx($c,{className:"h-5 w-5 text-white"}),"Top Projects"]}),c.jsx("div",{className:"space-y-4",children:h.map((y,w)=>c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"p-3 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-medium text-foreground text-sm",children:y.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.files," files"]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 mr-3",children:c.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${y.progress}%`}})}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.progress,"%"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:y.lastModified})]},y.name))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[c.jsx(vt,{className:"h-5 w-5 text-white"}),"Language Usage"]}),c.jsx("div",{className:"space-y-4",children:f.map((y,w)=>c.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.1},className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center",children:c.jsx("div",{className:`w-2 h-2 rounded-full ${y.color}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:y.language}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.percentage,"%"]})]}),c.jsx("div",{className:"bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${y.color}`,style:{width:`${y.percentage}%`}})}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y.files," files"]})]})]},y.language))})]}),c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[c.jsx(yr,{className:"h-5 w-5 text-white"}),"Quick Actions"]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"New Project",icon:Ii,color:"bg-white",href:"/ai-builder"},{name:"AI Builder",icon:Ci,color:"bg-purple-500",href:"/ai-builder"},{name:"View Projects",icon:Zr,color:"bg-green-500",href:"/projects"},{name:"Settings",icon:$r,color:"bg-orange-500",href:"/settings"}].map((y,w)=>c.jsxs(he.a,{href:y.href,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:w*.1},className:"flex flex-col items-center p-4 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[c.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-3 ${y.color} group-hover:scale-105 transition-transform`,children:c.jsx(y.icon,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-sm font-medium text-foreground text-center",children:y.name})]},y.name))})]})]})]})})},p9=()=>{const{user:n,signInWithGoogle:e,loading:t}=Wp(),r=Ey(),[s,a]=N.useState(!1);N.useEffect(()=>{n&&!t&&r("/dashboard")},[n,t,r]);const l=async()=>{try{a(!0),await e()}catch(h){console.error("Sign in error:",h)}finally{a(!1)}},d=()=>{console.log("GitHub authentication coming soon!")};return t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-slate-700/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-lg",children:"D"})}),c.jsx("span",{className:"font-bold text-xl text-slate-800 dark:text-white",children:"DreamBuild"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/login",className:"px-5 py-2.5 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Sign in"}),c.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/signup",className:"px-5 py-2.5 text-sm font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl",children:"Sign up"})]})]}),c.jsx("div",{className:"flex items-center justify-center p-6 -mt-20",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-2xl",children:"D"})}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-slate-800 dark:text-white",children:"Welcome back"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Sign in to continue building amazing applications"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,disabled:s,className:"w-full flex items-center justify-center gap-3 p-4 border border-slate-200 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all text-sm font-semibold bg-white dark:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[s?c.jsx(Gp,{className:"h-5 w-5 animate-spin text-blue-600"}):c.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-blue-500 to-red-500 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"G"})}),s?"Signing in...":"Continue with Google"]}),c.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"w-full flex items-center justify-center gap-3 p-4 border border-slate-200 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all text-sm font-semibold bg-white dark:bg-slate-700 shadow-sm hover:shadow-md",children:[c.jsx(Xr,{className:"h-5 w-5"}),"Continue with GitHub"]})]}),c.jsxs("div",{className:"relative my-8",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-600"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"bg-white dark:bg-slate-800 px-4 text-slate-500 dark:text-slate-400 font-medium",children:"or"})})]}),c.jsx("div",{className:"text-center",children:c.jsxs(he.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/ai-builder",className:"inline-flex items-center gap-2 px-6 py-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors font-semibold text-sm bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700 hover:border-blue-300 dark:hover:border-blue-600",children:["Continue as Guest",c.jsx(Au,{className:"h-4 w-4"})]})})]})})})]})},f9=()=>{const{user:n,signInWithGoogle:e,loading:t}=Wp(),r=Ey(),[s,a]=N.useState(!1);N.useEffect(()=>{n&&!t&&r("/dashboard")},[n,t,r]);const l=async()=>{try{a(!0),await e(),Pe.success("Welcome to DreamBuild!")}catch(h){console.error("Sign in error:",h),Pe.error("Failed to sign in. Please try again.")}finally{a(!1)}},d=()=>{Pe.info("GitHub authentication coming soon!")};return t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"flex justify-between items-center p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-light rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"D"})}),c.jsx("span",{className:"font-semibold text-foreground",children:"DreamBuild"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.href="/login",className:"px-4 py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Sign in"}),c.jsx(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.href="/signup",className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary-dark transition-colors",children:"Sign up"})]})]}),c.jsx("div",{className:"flex items-center justify-center p-4 -mt-16",children:c.jsx("div",{className:"w-full max-w-xs",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-1 text-foreground",children:"Join DreamBuild"}),c.jsx("p",{className:"text-muted-foreground text-xs",children:"Create your account"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(he.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:l,disabled:s,className:"w-full flex items-center justify-center gap-2 p-2.5 border border-border rounded-md hover:bg-muted/30 transition-colors text-sm font-medium bg-background disabled:opacity-50 disabled:cursor-not-allowed",children:[s?c.jsx(Gp,{className:"h-4 w-4 animate-spin text-primary"}):c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Creating account...":"Continue with Google"]}),c.jsxs(he.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:d,className:"w-full flex items-center justify-center gap-2 p-2.5 border border-border rounded-md hover:bg-muted/30 transition-colors text-sm font-medium bg-background",children:[c.jsx(Xr,{className:"h-4 w-4"}),"Continue with GitHub"]})]}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-border"})}),c.jsx("div",{className:"relative flex justify-center text-xs",children:c.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or"})})]}),c.jsx("div",{className:"text-center",children:c.jsxs(he.a,{whileHover:{scale:1.02},whileTap:{scale:.98},href:"/ai-builder",className:"inline-flex items-center gap-1 px-3 py-1.5 text-primary hover:text-primary-dark transition-colors font-medium text-xs",children:["Continue as Guest",c.jsx(Au,{className:"h-3 w-3"})]})})]})})})]})},m9=()=>{const{currentProject:n,createNewProject:e,projects:t,switchProject:r}=Hi(),[s,a]=N.useState(""),[l,d]=N.useState("all"),[h,f]=N.useState(!1),[g,y]=N.useState(""),[w,_]=N.useState("web"),[T,P]=N.useState(null),[C,U]=N.useState([{id:"1",name:"E-commerce Store",type:"ecommerce",description:"Modern e-commerce platform with React and Node.js",status:"active",lastModified:"2024-01-15",files:12,size:"2.4 MB",tags:["React","Node.js","E-commerce"],preview:"https://via.placeholder.com/300x200/007acc/ffffff?text=E-commerce+Store"},{id:"2",name:"Portfolio Website",type:"web",description:"Personal portfolio website with modern design",status:"completed",lastModified:"2024-01-10",files:8,size:"1.2 MB",tags:["HTML","CSS","JavaScript"],preview:"https://via.placeholder.com/300x200/28a745/ffffff?text=Portfolio+Website"},{id:"3",name:"Task Manager App",type:"mobile",description:"Mobile task management application",status:"development",lastModified:"2024-01-12",files:15,size:"3.1 MB",tags:["React Native","Firebase"],preview:"https://via.placeholder.com/300x200/ffc107/000000?text=Task+Manager"},{id:"4",name:"Analytics Dashboard",type:"dashboard",description:"Business analytics dashboard with charts",status:"active",lastModified:"2024-01-14",files:20,size:"4.2 MB",tags:["Vue.js","D3.js","Charts"],preview:"https://via.placeholder.com/300x200/6f42c1/ffffff?text=Analytics+Dashboard"},{id:"5",name:"REST API Service",type:"api",description:"Node.js REST API with authentication and database",status:"active",lastModified:"2024-01-16",files:25,size:"1.8 MB",tags:["Node.js","Express","MongoDB"],preview:"https://via.placeholder.com/300x200/17a2b8/ffffff?text=REST+API"},{id:"6",name:"Space Adventure Game",type:"game",description:"2D space shooter game built with JavaScript",status:"development",lastModified:"2024-01-13",files:18,size:"2.9 MB",tags:["JavaScript","Canvas","Game"],preview:"https://via.placeholder.com/300x200/e83e8c/ffffff?text=Space+Game"},{id:"7",name:"Social Media App",type:"mobile",description:"Social networking app with real-time chat",status:"active",lastModified:"2024-01-17",files:22,size:"4.1 MB",tags:["Flutter","Firebase","Chat"],preview:"https://via.placeholder.com/300x200/20c997/ffffff?text=Social+App"},{id:"8",name:"Admin Dashboard",type:"dashboard",description:"Administrative interface for managing users and content",status:"completed",lastModified:"2024-01-11",files:16,size:"3.3 MB",tags:["React","Material-UI","Admin"],preview:"https://via.placeholder.com/300x200/6c757d/ffffff?text=Admin+Dashboard"}]),D=[{id:"all",name:"All",icon:Ii,count:C.length},{id:"web",name:"Web Apps",icon:Zr,count:C.filter(E=>E.type==="web").length},{id:"mobile",name:"Mobile",icon:vt,count:C.filter(E=>E.type==="mobile").length},{id:"dashboard",name:"Dashboards",icon:$r,count:C.filter(E=>E.type==="dashboard").length},{id:"api",name:"APIs",icon:$r,count:C.filter(E=>E.type==="api").length},{id:"game",name:"Games",icon:ip,count:C.filter(E=>E.type==="game").length},{id:"ecommerce",name:"E-commerce",icon:$r,count:C.filter(E=>E.type==="ecommerce").length},{id:"completed",name:"Completed",icon:ip,count:C.filter(E=>E.status==="completed").length}],I=C.filter(E=>{const R=E.name.toLowerCase().includes(s.toLowerCase())||E.description.toLowerCase().includes(s.toLowerCase())||E.tags.some(F=>F.toLowerCase().includes(s.toLowerCase())),L=l==="all"||E.type===l||E.status===l;return R&&L}),$=()=>{if(!g.trim()){Pe.error("Please enter a project name");return}const E={id:Date.now().toString(),name:g,type:w,description:`New ${w} project`,status:"active",lastModified:new Date().toISOString().split("T")[0],files:0,size:"0 MB",tags:[w],preview:"https://via.placeholder.com/300x200/6c757d/ffffff?text=New+Project"};U([E,...C]),y(""),_("web"),f(!1),Pe.success("Project created successfully!")},Q=E=>{U(C.filter(R=>R.id!==E)),P(null),Pe.success("Project deleted successfully!")},G=E=>{switch(E){case"active":return"bg-green-100 text-green-800 border-green-200";case"development":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-white/10 text-white border-white/20";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=E=>{switch(E){case"web":return Zr;case"mobile":return vt;case"dashboard":return $r;default:return Ii}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Projects"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your AI-generated projects"})]}),c.jsxs(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(sp,{className:"h-4 w-4"}),"New Project"]})]}),c.jsx("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg mb-6",children:D.map(E=>{const R=E.icon,L=l===E.id;return c.jsxs(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(E.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${L?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[c.jsx(R,{className:"h-4 w-4"}),E.name,c.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${L?"bg-primary-foreground/20":"bg-muted"}`,children:E.count})]},E.id)})}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search projects...",value:s,onChange:E=>a(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsx("div",{className:"space-y-2",children:I.map((E,R)=>{const L=A(E.type);return c.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:R*.05},className:"bg-card border border-border rounded-lg p-4 hover:shadow-sm transition-all duration-200 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(L,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("h3",{className:"font-semibold text-foreground truncate",children:E.name}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${G(E.status)}`,children:E.status})]}),c.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:E.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Ev,{className:"h-3 w-3"}),E.files," files"]}),c.jsx("span",{children:E.size}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(el,{className:"h-3 w-3"}),E.lastModified]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("div",{className:"flex gap-1",children:[E.tags.slice(0,2).map(F=>c.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:F},F)),E.tags.length>2&&c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["+",E.tags.length-2]})]})})]}),c.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[c.jsx(he.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",onClick:()=>r(E.id),children:c.jsx(ou,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(he.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",children:c.jsx(ey,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx("button",{onClick:()=>P(T===E.id?null:E.id),className:"p-2 hover:bg-muted rounded-md transition-colors",children:c.jsx($L,{className:"h-4 w-4 text-muted-foreground"})})]})]}),c.jsx(zr,{children:T===E.id&&c.jsx(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-4 mt-1 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[150px]",children:c.jsxs("div",{className:"p-1",children:[c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(ou,{className:"h-4 w-4"}),"View"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(ey,{className:"h-4 w-4"}),"Edit"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(Ho,{className:"h-4 w-4"}),"Download"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(t2,{className:"h-4 w-4"}),"Share"]}),c.jsx("hr",{className:"my-1"}),c.jsxs("button",{onClick:()=>Q(E.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[c.jsx(n2,{className:"h-4 w-4"}),"Delete"]})]})})})]},E.id)})}),I.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:c.jsx(Ii,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:s||l!=="all"?"No projects found":"No projects yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:s||l!=="all"?"Try adjusting your search or filter criteria.":"Create your first project to get started!"}),c.jsxs(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(sp,{className:"h-4 w-4"}),"Create Project"]})]})]}),c.jsx(zr,{children:h&&c.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>f(!1),children:c.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-full max-w-md mx-4",onClick:E=>E.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Create New Project"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:g,onChange:E=>y(E.target.value),placeholder:"Enter project name...",className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Type"}),c.jsxs("select",{value:w,onChange:E=>_(E.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"web",children:"Web Application"}),c.jsx("option",{value:"mobile",children:"Mobile Application"}),c.jsx("option",{value:"dashboard",children:"Dashboard"})]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-foreground hover:bg-muted transition-colors",children:"Cancel"}),c.jsx(he.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:$,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Create"})]})]})})}),T&&c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>P(null)})]})},g9=()=>{const{theme:n,setTheme:e}=ky(),[t,r]=N.useState("appearance"),[s,a]=N.useState({appearance:{theme:n,fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),[l,d]=N.useState(!0),[h,f]=N.useState(!1);N.useEffect(()=>{const I=localStorage.getItem("dreambuild-settings");I&&a(JSON.parse(I)),d(!1)},[]),N.useEffect(()=>{f(!0)},[s]);const g=()=>{localStorage.setItem("dreambuild-settings",JSON.stringify(s)),f(!1),console.log("Settings saved successfully!")},y=()=>{a({appearance:{theme:"system",fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),console.log("Settings reset to defaults!")},w=()=>{const I=JSON.stringify(s,null,2),$=new Blob([I],{type:"application/json"}),Q=URL.createObjectURL($),G=document.createElement("a");G.href=Q,G.download="dreambuild-settings.json",G.click(),URL.revokeObjectURL(Q),console.log("Settings exported!")},_=I=>{const $=I.target.files[0];if($){const Q=new FileReader;Q.onload=G=>{try{const A=JSON.parse(G.target.result);a(A),console.log("Settings imported successfully!")}catch{console.error("Invalid settings file!")}},Q.readAsText($)}},T=(I,$,Q)=>{a(G=>({...G,[I]:{...G[I],[$]:Q}})),I==="appearance"&&$==="theme"&&e(Q)},P=[{id:"appearance",name:"Appearance",icon:ZT},{id:"editor",name:"Editor",icon:vt},{id:"ai",name:"AI Settings",icon:Ci},{id:"notifications",name:"Notifications",icon:RL},{id:"privacy",name:"Privacy",icon:au}],C=({title:I,description:$,children:Q,warning:G})=>c.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"font-medium text-foreground",children:I}),G&&c.jsx(NL,{className:"h-4 w-4 text-yellow-500",title:G})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:$})]}),c.jsx("div",{className:"ml-4",children:Q})]}),U=({checked:I,onChange:$,disabled:Q=!1})=>c.jsx("button",{onClick:()=>$(!I),disabled:Q,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I?"bg-gray-700":"bg-muted"} ${Q?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I?"translate-x-6":"translate-x-1"}`})}),D=()=>{switch(t){case"appearance":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Theme",description:"Choose your preferred color scheme",children:c.jsxs("select",{value:s.appearance.theme,onChange:I=>T("appearance","theme",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"light",children:"Light Theme"}),c.jsx("option",{value:"dark",children:"Dark Theme"}),c.jsx("option",{value:"system",children:"System Theme"}),c.jsx("option",{value:"blue",children:"Blue Theme"}),c.jsx("option",{value:"purple",children:"Purple Theme"}),c.jsx("option",{value:"green",children:"Green Theme"}),c.jsx("option",{value:"orange",children:"Orange Theme"}),c.jsx("option",{value:"red",children:"Red Theme"}),c.jsx("option",{value:"pink",children:"Pink Theme"}),c.jsx("option",{value:"cyan",children:"Cyan Theme"}),c.jsx("option",{value:"amber",children:"Amber Theme"}),c.jsx("option",{value:"emerald",children:"Emerald Theme"})]})}),c.jsx(C,{title:"Font Size",description:"Adjust the text size throughout the interface",children:c.jsxs("select",{value:s.appearance.fontSize,onChange:I=>T("appearance","fontSize",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"small",children:"Small"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"large",children:"Large"})]})}),c.jsx(C,{title:"Font Family",description:"Choose the font family for the editor",children:c.jsxs("select",{value:s.appearance.fontFamily,onChange:I=>T("appearance","fontFamily",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"system",children:"System Default"}),c.jsx("option",{value:"mono",children:"Monospace"}),c.jsx("option",{value:"sans",children:"Sans Serif"}),c.jsx("option",{value:"serif",children:"Serif"})]})}),c.jsx(C,{title:"Animations",description:"Enable smooth animations and transitions",children:c.jsx(U,{checked:s.appearance.animations,onChange:I=>T("appearance","animations",I)})}),c.jsx(C,{title:"Compact Mode",description:"Reduce spacing for a more compact interface",children:c.jsx(U,{checked:s.appearance.compactMode,onChange:I=>T("appearance","compactMode",I)})})]});case"editor":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Tab Size",description:"Number of spaces for indentation",children:c.jsxs("select",{value:s.editor.tabSize,onChange:I=>T("editor","tabSize",parseInt(I.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:2,children:"2 spaces"}),c.jsx("option",{value:4,children:"4 spaces"}),c.jsx("option",{value:8,children:"8 spaces"})]})}),c.jsx(C,{title:"Word Wrap",description:"Wrap long lines in the editor",children:c.jsx(U,{checked:s.editor.wordWrap,onChange:I=>T("editor","wordWrap",I)})}),c.jsx(C,{title:"Minimap",description:"Show a minimap of your code",children:c.jsx(U,{checked:s.editor.minimap,onChange:I=>T("editor","minimap",I)})}),c.jsx(C,{title:"Line Numbers",description:"Show line numbers in the editor",children:c.jsx(U,{checked:s.editor.lineNumbers,onChange:I=>T("editor","lineNumbers",I)})}),c.jsx(C,{title:"Auto Save",description:"Automatically save files as you type",children:c.jsx(U,{checked:s.editor.autoSave,onChange:I=>T("editor","autoSave",I)})}),c.jsx(C,{title:"Format on Save",description:"Automatically format code when saving",children:c.jsx(U,{checked:s.editor.formatOnSave,onChange:I=>T("editor","formatOnSave",I)})}),c.jsx(C,{title:"Auto Complete",description:"Enable intelligent code completion",children:c.jsx(U,{checked:s.editor.autoComplete,onChange:I=>T("editor","autoComplete",I)})})]});case"ai":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Default AI Model",description:"Choose your preferred AI model for code generation",children:c.jsxs("select",{value:s.ai.defaultModel,onChange:I=>T("ai","defaultModel",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"codellama-7b",children:"CodeLlama 7B"}),c.jsx("option",{value:"codellama-13b",children:"CodeLlama 13B"}),c.jsx("option",{value:"starcoder-15b",children:"StarCoder 15B"}),c.jsx("option",{value:"deepseek-coder",children:"DeepSeek Coder"}),c.jsx("option",{value:"wizardcoder-7b",children:"WizardCoder 7B"})]})}),c.jsx(C,{title:"Temperature",description:"Controls randomness in AI responses (0.0 = deterministic, 1.0 = creative)",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.ai.temperature,onChange:I=>T("ai","temperature",parseFloat(I.target.value)),className:"w-24"}),c.jsx("span",{className:"text-sm text-muted-foreground w-8",children:s.ai.temperature})]})}),c.jsx(C,{title:"Max Tokens",description:"Maximum number of tokens in AI responses",children:c.jsxs("select",{value:s.ai.maxTokens,onChange:I=>T("ai","maxTokens",parseInt(I.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:1e3,children:"1,000"}),c.jsx("option",{value:2e3,children:"2,000"}),c.jsx("option",{value:4e3,children:"4,000"}),c.jsx("option",{value:8e3,children:"8,000"})]})}),c.jsx(C,{title:"Auto Generate",description:"Automatically generate code suggestions as you type",children:c.jsx(U,{checked:s.ai.autoGenerate,onChange:I=>T("ai","autoGenerate",I)})}),c.jsx(C,{title:"AI Suggestions",description:"Show contextual AI suggestions in the editor",children:c.jsx(U,{checked:s.ai.suggestions,onChange:I=>T("ai","suggestions",I)})})]});case"notifications":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Project Updates",description:"Get notified when projects are updated",children:c.jsx(U,{checked:s.notifications.projectUpdates,onChange:I=>T("notifications","projectUpdates",I)})}),c.jsx(C,{title:"AI Completions",description:"Get notified when AI completes code generation",children:c.jsx(U,{checked:s.notifications.aiCompletions,onChange:I=>T("notifications","aiCompletions",I)})}),c.jsx(C,{title:"Error Notifications",description:"Get notified about errors and issues",children:c.jsx(U,{checked:s.notifications.errors,onChange:I=>T("notifications","errors",I)})}),c.jsx(C,{title:"Sound Notifications",description:"Play sounds for notifications",children:c.jsx(U,{checked:s.notifications.sound,onChange:I=>T("notifications","sound",I)})}),c.jsx(C,{title:"Email Notifications",description:"Receive notifications via email",children:c.jsx(U,{checked:s.notifications.email,onChange:I=>T("notifications","email",I)})})]});case"privacy":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Analytics",description:"Help improve DreamBuild by sharing anonymous usage data",children:c.jsx(U,{checked:s.privacy.analytics,onChange:I=>T("privacy","analytics",I)})}),c.jsx(C,{title:"Crash Reports",description:"Automatically send crash reports to help fix bugs",children:c.jsx(U,{checked:s.privacy.crashReports,onChange:I=>T("privacy","crashReports",I)})}),c.jsx(C,{title:"Telemetry",description:"Share performance and usage telemetry",warning:"This may include personal information",children:c.jsx(U,{checked:s.privacy.telemetry,onChange:I=>T("privacy","telemetry",I)})}),c.jsx(C,{title:"Share Usage Statistics",description:"Share anonymous usage statistics with the community",children:c.jsx(U,{checked:s.privacy.shareUsage,onChange:I=>T("privacy","shareUsage",I)})})]});default:return null}};return l?c.jsx("div",{className:"min-h-screen bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((I,$)=>c.jsx("div",{className:"h-12 bg-muted rounded"},$))})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsx("div",{className:"bg-card/50 rounded-xl p-6",children:c.jsx("div",{className:"space-y-4",children:[...Array(6)].map((I,$)=>c.jsx("div",{className:"h-16 bg-muted rounded"},$))})})})]})]})})}):c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),c.jsx("p",{className:"text-muted-foreground",children:"Customize your DreamBuild experience and preferences"})]}),c.jsx("div",{className:"flex items-center gap-2",children:h&&c.jsxs(he.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-200",children:[c.jsx(e2,{className:"h-4 w-4"}),"Save Changes"]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1",children:[c.jsx("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:c.jsx("nav",{className:"space-y-2",children:P.map(I=>{const $=I.icon;return c.jsxs("button",{onClick:()=>r(I.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${t===I.id?"bg-gray-700 text-white shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[c.jsx($,{className:"h-4 w-4"}),I.name]},I.id)})})}),c.jsxs("div",{className:"mt-6 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Data Management"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:w,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors",children:[c.jsx(Ho,{className:"h-4 w-4"}),"Export Settings"]}),c.jsxs("label",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors cursor-pointer",children:[c.jsx(s2,{className:"h-4 w-4"}),"Import Settings",c.jsx("input",{type:"file",accept:".json",onChange:_,className:"hidden"})]}),c.jsxs("button",{onClick:y,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(Kp,{className:"h-4 w-4"}),"Reset to Defaults"]})]})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-border/50",children:c.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[Xn.createElement(P.find(I=>I.id===t)?.icon,{className:"h-5 w-5 text-white"}),P.find(I=>I.id===t)?.name]})}),c.jsx("div",{className:"divide-y divide-border/50",children:D()})]})})]})]})})},y9=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("getting-started"),s=[{id:"getting-started",title:"Getting Started",icon:yr,articles:[{title:"Quick Start Guide",description:"Get up and running in 5 minutes"},{title:"Installation",description:"Install DreamBuild on your system"},{title:"First Project",description:"Create your first AI-generated project"},{title:"Basic Concepts",description:"Understanding the DreamBuild workflow"}]},{id:"ai-features",title:"AI Features",icon:vt,articles:[{title:"Code Generation",description:"Generate code with AI assistance"},{title:"Local AI Setup",description:"Set up Ollama for offline AI"},{title:"Template System",description:"Use pre-built project templates"},{title:"AI Models",description:"Available AI models and capabilities"}]},{id:"api-reference",title:"API Reference",icon:ny,articles:[{title:"REST API",description:"Complete API documentation"},{title:"WebSocket API",description:"Real-time communication"},{title:"Authentication",description:"API authentication methods"},{title:"Rate Limits",description:"API usage limits and quotas"}]},{id:"deployment",title:"Deployment",icon:Zr,articles:[{title:"Firebase Hosting",description:"Deploy to Firebase"},{title:"GitHub Pages",description:"Deploy to GitHub Pages"},{title:"Custom Domain",description:"Set up custom domains"},{title:"CI/CD Pipeline",description:"Automated deployment workflows"}]}],a=[{title:"API Documentation",href:"#",icon:vt},{title:"GitHub Repository",href:"https://github.com/ronb12/DreamBuild",icon:Xr},{title:"Community Forum",href:"#",icon:Zr},{title:"Video Tutorials",href:"#",icon:qo}];return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(zc,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Documentation"}),c.jsx("p",{className:"text-muted-foreground",children:"Complete guides and API references for DreamBuild"})]})]}),c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search documentation...",value:n,onChange:l=>e(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"sticky top-8 space-y-2",children:[c.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-4",children:"Sections"}),s.map(l=>{const d=l.icon;return c.jsxs("button",{onClick:()=>r(l.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${t===l.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[c.jsx(d,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:l.title})]},l.id)}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-4",children:"Quick Links"}),c.jsx("div",{className:"space-y-2",children:a.map(l=>{const d=l.icon;return c.jsxs("a",{href:l.href,target:l.href.startsWith("http")?"_blank":void 0,rel:l.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center gap-3 px-3 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors",children:[c.jsx(d,{className:"h-4 w-4"}),c.jsx("span",{children:l.title}),l.href.startsWith("http")&&c.jsx(qo,{className:"h-3 w-3 ml-auto"})]},l.title)})})]})]})}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:s.map(l=>{const d=l.icon;return c.jsxs("div",{className:t===l.id?"block":"hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(d,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:l.title}),c.jsxs("p",{className:"text-muted-foreground",children:["Learn about ",l.title.toLowerCase()]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.articles.map((h,f)=>c.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},className:"p-4 border border-border rounded-lg hover:shadow-md transition-all duration-200 cursor-pointer group",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors mb-2",children:h.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:h.description})]}),c.jsx(KT,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors flex-shrink-0"})]})},h.title))})]},l.id)})}),t==="getting-started"&&c.jsxs("div",{className:"mt-8 bg-primary/5 border border-primary/20 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ready to get started?"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Follow our quick start guide to create your first AI-generated project in minutes."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(yr,{className:"h-4 w-4"}),"Quick Start Guide"]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(Ho,{className:"h-4 w-4"}),"Download PDF"]})]})]})]})]})]})})},v9=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("all"),[s,a]=N.useState("grid"),l=[{id:"all",name:"All Examples",count:24},{id:"web",name:"Web Apps",count:8},{id:"mobile",name:"Mobile Apps",count:6},{id:"api",name:"APIs",count:5},{id:"dashboard",name:"Dashboards",count:5}],h=[{id:1,title:"E-commerce Store",description:"Full-featured online store with React, Node.js, and Stripe integration",category:"web",difficulty:"Intermediate",tags:["React","Node.js","Stripe","MongoDB"],stars:156,language:"JavaScript",preview:"https://via.placeholder.com/400x250/2563eb/ffffff?text=E-commerce+Store",github:"https://github.com/example/ecommerce-store"},{id:2,title:"Task Management App",description:"Collaborative task management with real-time updates and team features",category:"web",difficulty:"Beginner",tags:["Vue.js","Firebase","Real-time"],stars:89,language:"JavaScript",preview:"https://via.placeholder.com/400x250/10b981/ffffff?text=Task+Manager",github:"https://github.com/example/task-manager"},{id:3,title:"Fitness Tracker",description:"Mobile app for tracking workouts, nutrition, and fitness goals",category:"mobile",difficulty:"Intermediate",tags:["React Native","GraphQL","Health API"],stars:234,language:"TypeScript",preview:"https://via.placeholder.com/400x250/f59e0b/ffffff?text=Fitness+Tracker",github:"https://github.com/example/fitness-tracker"},{id:4,title:"Analytics Dashboard",description:"Business intelligence dashboard with charts, metrics, and reporting",category:"dashboard",difficulty:"Advanced",tags:["D3.js","Python","PostgreSQL"],stars:312,language:"Python",preview:"https://via.placeholder.com/400x250/8b5cf6/ffffff?text=Analytics+Dashboard",github:"https://github.com/example/analytics-dashboard"},{id:5,title:"REST API Template",description:"Production-ready REST API with authentication, validation, and documentation",category:"api",difficulty:"Intermediate",tags:["Express.js","JWT","Swagger"],stars:178,language:"JavaScript",preview:"https://via.placeholder.com/400x250/ef4444/ffffff?text=REST+API",github:"https://github.com/example/rest-api-template"},{id:6,title:"Portfolio Website",description:"Modern portfolio website with animations, blog, and contact form",category:"web",difficulty:"Beginner",tags:["Next.js","Tailwind","Framer Motion"],stars:67,language:"TypeScript",preview:"https://via.placeholder.com/400x250/06b6d4/ffffff?text=Portfolio",github:"https://github.com/example/portfolio-website"},{id:7,title:"Social Media App",description:"Instagram-like social media app with posts, stories, and messaging",category:"mobile",difficulty:"Advanced",tags:["Flutter","Firebase","Real-time"],stars:445,language:"Dart",preview:"https://via.placeholder.com/400x250/ec4899/ffffff?text=Social+App",github:"https://github.com/example/social-media-app"},{id:8,title:"GraphQL API",description:"Modern GraphQL API with subscriptions, caching, and real-time updates",category:"api",difficulty:"Advanced",tags:["GraphQL","Apollo","Redis"],stars:298,language:"TypeScript",preview:"https://via.placeholder.com/400x250/84cc16/ffffff?text=GraphQL+API",github:"https://github.com/example/graphql-api"}].filter(y=>{const w=y.title.toLowerCase().includes(n.toLowerCase())||y.description.toLowerCase().includes(n.toLowerCase())||y.tags.some(T=>T.toLowerCase().includes(n.toLowerCase())),_=t==="all"||y.category===t;return w&&_}),f=y=>{switch(y){case"Beginner":return"bg-green-100 text-green-800 border-green-200";case"Intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=y=>{switch(y){case"web":return Zr;case"mobile":return qL;case"api":return Ih;case"dashboard":return Ev;default:return Zm}};return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(Zm,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Examples"}),c.jsx("p",{className:"text-muted-foreground",children:"Explore real-world projects and code examples"})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search examples...",value:n,onChange:y=>e(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(QT,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("select",{value:t,onChange:y=>r(y.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:l.map(y=>c.jsxs("option",{value:y.id,children:[y.name," (",y.count,")"]},y.id))})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>a("grid"),className:`p-2 rounded-md transition-colors ${s==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:c.jsx(JT,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>a("list"),className:`p-2 rounded-md transition-colors ${s==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:c.jsx(YT,{className:"h-4 w-4"})})]})]})]}),c.jsx("div",{className:s==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:h.map((y,w)=>{const _=g(y.category);return c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:`bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200 group ${s==="list"?"flex":""}`,children:[c.jsxs("div",{className:`relative ${s==="list"?"w-48 h-32":"h-48"} bg-muted/50`,children:[c.jsx("img",{src:y.preview,alt:y.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${f(y.difficulty)}`,children:y.difficulty})}),c.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(he.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-primary text-primary-foreground rounded-lg shadow-lg",title:"Run Example",children:c.jsx(ty,{className:"h-4 w-4"})}),c.jsx(he.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white text-gray-900 rounded-lg shadow-lg",title:"Copy Code",children:c.jsx(Cu,{className:"h-4 w-4"})})]})})]}),c.jsxs("div",{className:`p-4 ${s==="list"?"flex-1":""}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(_,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:y.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y.language})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(ip,{className:"h-4 w-4"}),c.jsx("span",{children:y.stars})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:y.description}),c.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:y.tags.map(T=>c.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:T},T))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors text-sm",children:[c.jsx(ty,{className:"h-4 w-4"}),"Run"]}),c.jsxs("a",{href:y.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-sm",children:[c.jsx(Xr,{className:"h-4 w-4"}),"Code"]}),c.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-sm",children:[c.jsx(Ho,{className:"h-4 w-4"}),"Download"]})]})]})]},y.id)})}),h.length===0&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Zm,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No examples found"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),c.jsx("button",{onClick:()=>{e(""),r("all")},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Clear Filters"})]}),c.jsxs("div",{className:"mt-12 bg-primary/5 border border-primary/20 rounded-xl p-8 text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Have a great example to share?"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Share your projects with the DreamBuild community and help other developers learn and grow."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(Xr,{className:"h-5 w-5"}),"Submit Example"]}),c.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(qo,{className:"h-5 w-5"}),"View Guidelines"]})]})]})]})})},x9=()=>{const[n,e]=N.useState("discussions"),[t,r]=N.useState(""),s=[{id:"discussions",name:"Discussions",count:156,icon:Zg},{id:"projects",name:"Showcase",count:89,icon:vt},{id:"events",name:"Events",count:12,icon:el},{id:"resources",name:"Resources",count:45,icon:Jg}],a=[{id:1,title:"How to set up Ollama for local AI development?",author:"Alex Chen",avatar:"https://via.placeholder.com/40x40/2563eb/ffffff?text=AC",time:"2 hours ago",category:"Getting Started",replies:12,likes:24,isPinned:!0,tags:["ollama","local-ai","setup"]},{id:2,title:"Building a React Native app with DreamBuild - Tips and tricks",author:"Sarah Johnson",avatar:"https://via.placeholder.com/40x40/10b981/ffffff?text=SJ",time:"4 hours ago",category:"Mobile Development",replies:8,likes:18,isPinned:!1,tags:["react-native","mobile","tips"]},{id:3,title:"Share your DreamBuild projects - Monthly showcase",author:"Community Team",avatar:"https://via.placeholder.com/40x40/f59e0b/ffffff?text=CT",time:"1 day ago",category:"Showcase",replies:34,likes:67,isPinned:!0,tags:["showcase","projects","monthly"]},{id:4,title:"API rate limits and best practices",author:"Mike Rodriguez",avatar:"https://via.placeholder.com/40x40/8b5cf6/ffffff?text=MR",time:"2 days ago",category:"API",replies:15,likes:31,isPinned:!1,tags:["api","rate-limits","best-practices"]},{id:5,title:"Deploying to Firebase vs GitHub Pages - Pros and cons",author:"Emma Wilson",avatar:"https://via.placeholder.com/40x40/ef4444/ffffff?text=EW",time:"3 days ago",category:"Deployment",replies:22,likes:45,isPinned:!1,tags:["deployment","firebase","github-pages"]}],l=[{id:1,title:"DreamBuild Live Q&A Session",date:"2024-01-25",time:"2:00 PM EST",type:"Live Stream",attendees:156,description:"Join our monthly Q&A session with the DreamBuild team"},{id:2,title:"AI Development Workshop",date:"2024-01-30",time:"10:00 AM EST",type:"Workshop",attendees:89,description:"Learn advanced AI development techniques with DreamBuild"},{id:3,title:"Community Showcase",date:"2024-02-05",time:"6:00 PM EST",type:"Presentation",attendees:234,description:"Featured projects from our amazing community members"}],d=[{label:"Active Members",value:"2,847",icon:op},{label:"Discussions",value:"1,234",icon:Zg},{label:"Projects Shared",value:"567",icon:vt},{label:"Events This Month",value:"8",icon:el}],h=a.filter(f=>f.title.toLowerCase().includes(t.toLowerCase())||f.category.toLowerCase().includes(t.toLowerCase())||f.tags.some(g=>g.toLowerCase().includes(t.toLowerCase())));return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(op,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Community"}),c.jsx("p",{className:"text-muted-foreground",children:"Connect with developers, share projects, and get help"})]})]}),c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search discussions...",value:t,onChange:f=>r(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:d.map((f,g)=>{const y=f.icon;return c.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-card border border-border rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(y,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-foreground",children:f.value}),c.jsx("p",{className:"text-sm text-muted-foreground",children:f.label})]})]})},f.label)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl mb-6",children:s.map(f=>{const g=f.icon;return c.jsxs("button",{onClick:()=>e(f.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n===f.id?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[c.jsx(g,{className:"h-4 w-4"}),c.jsx("span",{children:f.name}),c.jsx("span",{className:"px-2 py-1 text-xs bg-muted/50 rounded-full",children:f.count})]},f.id)})}),n==="discussions"&&c.jsx("div",{className:"space-y-4",children:h.map((f,g)=>c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`bg-card border border-border rounded-xl p-6 hover:shadow-md transition-all duration-200 ${f.isPinned?"border-primary/20 bg-primary/5":""}`,children:[f.isPinned&&c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(yr,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-primary",children:"Pinned"})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("img",{src:f.avatar,alt:f.author,className:"w-10 h-10 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground hover:text-primary transition-colors cursor-pointer mb-2",children:f.title}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[c.jsxs("span",{children:["by ",f.author]}),c.jsx("span",{children:""}),c.jsx("span",{children:f.time}),c.jsx("span",{children:""}),c.jsx("span",{className:"px-2 py-1 bg-muted rounded-md",children:f.category})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Xg,{className:"h-4 w-4"}),c.jsx("span",{children:f.replies})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(rp,{className:"h-4 w-4"}),c.jsx("span",{children:f.likes})]}),c.jsx("div",{className:"flex gap-1",children:f.tags.map(y=>c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["#",y]},y))})]})]})]})]},f.id))}),n==="projects"&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(vt,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Project Showcase"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Featured projects from our community will appear here"}),c.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Submit Your Project"})]}),n==="events"&&c.jsx("div",{className:"space-y-4",children:l.map((f,g)=>c.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-card border border-border rounded-xl p-6 hover:shadow-md transition-all duration-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-2",children:f.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:f.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(el,{className:"h-4 w-4"}),c.jsx("span",{children:f.date})]}),c.jsx("span",{children:""}),c.jsx("span",{children:f.time}),c.jsx("span",{children:""}),c.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded-md",children:f.type}),c.jsx("span",{children:""}),c.jsxs("span",{children:[f.attendees," attendees"]})]})]}),c.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Join Event"})]})},f.id))}),n==="resources"&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Jg,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Community Resources"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Curated resources and learning materials will appear here"}),c.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Suggest Resource"})]})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(sp,{className:"h-4 w-4"}),"Start Discussion"]}),c.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(vt,{className:"h-4 w-4"}),"Share Project"]}),c.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(el,{className:"h-4 w-4"}),"Create Event"]})]})]}),c.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Join Our Community"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(Xr,{className:"h-4 w-4"}),c.jsx("span",{children:"GitHub"})]}),c.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(r2,{className:"h-4 w-4"}),c.jsx("span",{children:"Twitter"})]}),c.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(XT,{className:"h-4 w-4"}),c.jsx("span",{children:"Newsletter"})]})]})]}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Community Guidelines"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:" Be respectful and inclusive"}),c.jsx("li",{children:" Share helpful and relevant content"}),c.jsx("li",{children:" Follow our code of conduct"}),c.jsx("li",{children:" Help others learn and grow"})]})]})]})]})]})})},b9=()=>c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx("div",{className:"text-center mb-16",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-3xl",children:"D"})}),c.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-800 dark:text-white mb-6",children:["About ",c.jsx("span",{className:"text-blue-600",children:"DreamBuild"})]}),c.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"DreamBuild is a revolutionary AI-powered development platform that transforms your ideas into code. Simply describe what you want to build, and watch as DreamBuild generates complete applications for you."})]})}),c.jsx("div",{className:"mb-16",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:"What We Do"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"AI-Powered Development"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Transform your ideas into code using cutting-edge AI models. Simply describe what you want to build, and DreamBuild generates complete, working applications for you."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Multi-Language Support"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Build applications in popular programming languages including React, Vue, Python, JavaScript, HTML/CSS, and many more. Choose your preferred technology stack."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Instant Deployment"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Deploy your applications instantly to Firebase Hosting and GitHub Pages. No complex configuration required - just click and deploy."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Local AI Integration"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Use local AI models for complete privacy and control. No external API keys required - run everything on your own machine for maximum security."})]})]})]})}),c.jsx("div",{className:"mb-16",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:"Our Mission"}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 text-center leading-relaxed",children:"To democratize software development by making AI-powered coding tools accessible to everyone. Whether you're an experienced developer or just getting started, DreamBuild empowers you to turn your ideas into reality with the power of artificial intelligence."})]})}),c.jsx("div",{className:"mb-16",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:"About Bradley Virtual Solutions"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:["DreamBuild is developed by ",c.jsx("strong",{className:"text-slate-800 dark:text-white",children:"Bradley Virtual Solutions, LLC"}),", a company dedicated to creating innovative AI-powered development tools."]}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Founded by Ronell Bradley, a full-stack developer passionate about AI and web development, we're committed to making advanced development tools accessible to everyone."})]})]})}),c.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Start Building?"}),c.jsx("p",{className:"text-blue-100 mb-6 max-w-xl mx-auto",children:"Start your journey with DreamBuild today and experience the future of AI-powered development."}),c.jsxs(he.a,{href:"/ai-builder",whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-blue-600 rounded-xl font-semibold hover:bg-blue-50 transition-colors shadow-lg",children:[c.jsx(vt,{className:"h-5 w-5"}),"Start Building Now",c.jsx(Au,{className:"h-4 w-4"})]})]})})]})}),w9=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("all"),s=[{id:"all",name:"All Posts",count:24},{id:"tutorials",name:"Tutorials",count:8},{id:"ai",name:"AI & ML",count:6},{id:"development",name:"Development",count:5},{id:"company",name:"Company",count:5}],a={title:"Getting Started with Local AI Development: A Complete Guide",excerpt:"Learn how to set up Ollama, integrate local AI models, and build your first AI-powered application with DreamBuild.",author:"Ronell Bradley",authorAvatar:"https://via.placeholder.com/40x40/2563eb/ffffff?text=RB",publishDate:"2024-01-20",readTime:"8 min read",category:"tutorials",tags:["ai","ollama","tutorial","getting-started"],image:"https://via.placeholder.com/600x300/2563eb/ffffff?text=Local+AI+Guide",likes:156,comments:23},d=[{id:2,title:"Building a React Native App with AI Code Generation",excerpt:"Discover how to leverage DreamBuild's AI capabilities to create a mobile app from scratch.",author:"Sarah Chen",authorAvatar:"https://via.placeholder.com/40x40/10b981/ffffff?text=SC",publishDate:"2024-01-18",readTime:"6 min read",category:"tutorials",tags:["react-native","mobile","ai"],featured:!1,image:"https://via.placeholder.com/400x250/10b981/ffffff?text=React+Native",likes:89,comments:12,views:1523},{id:3,title:"The Future of AI-Powered Development Tools",excerpt:"Exploring emerging trends and technologies that will shape the future of software development.",author:"Marcus Rodriguez",authorAvatar:"https://via.placeholder.com/40x40/f59e0b/ffffff?text=MR",publishDate:"2024-01-15",readTime:"10 min read",category:"ai",tags:["ai","future","technology","trends"],featured:!1,image:"https://via.placeholder.com/400x250/f59e0b/ffffff?text=Future+AI",likes:234,comments:34,views:4567},{id:4,title:"DreamBuild 2.0: What's New and Exciting",excerpt:"Announcing the latest features and improvements in DreamBuild 2.0, including enhanced AI capabilities.",author:"Ronell Bradley",authorAvatar:"https://via.placeholder.com/40x40/2563eb/ffffff?text=RB",publishDate:"2024-01-12",readTime:"5 min read",category:"company",tags:["release","features","announcement"],featured:!1,image:"https://via.placeholder.com/400x250/8b5cf6/ffffff?text=DreamBuild+2.0",likes:167,comments:28,views:3421},{id:5,title:"Best Practices for AI Code Generation",excerpt:"Learn how to write effective prompts and get the best results from AI code generation tools.",author:"Sarah Chen",authorAvatar:"https://via.placeholder.com/40x40/10b981/ffffff?text=SC",publishDate:"2024-01-10",readTime:"7 min read",category:"development",tags:["best-practices","prompts","ai","tips"],featured:!1,image:"https://via.placeholder.com/400x250/06b6d4/ffffff?text=Best+Practices",likes:145,comments:19,views:2890},{id:6,title:"Setting Up Your Development Environment for AI",excerpt:"A comprehensive guide to configuring your development environment for optimal AI-assisted coding.",author:"Marcus Rodriguez",authorAvatar:"https://via.placeholder.com/40x40/f59e0b/ffffff?text=MR",publishDate:"2024-01-08",readTime:"9 min read",category:"tutorials",tags:["setup","environment","development","tools"],featured:!1,image:"https://via.placeholder.com/400x250/ec4899/ffffff?text=Dev+Environment",likes:98,comments:15,views:1876},{id:7,title:"Community Spotlight: Amazing Projects Built with DreamBuild",excerpt:"Highlighting some of the incredible projects our community has created using DreamBuild.",author:"Community Team",authorAvatar:"https://via.placeholder.com/40x40/ef4444/ffffff?text=CT",publishDate:"2024-01-05",readTime:"6 min read",category:"company",tags:["community","showcase","projects","spotlight"],featured:!1,image:"https://via.placeholder.com/400x250/84cc16/ffffff?text=Community+Projects",likes:203,comments:41,views:5234}].filter(g=>{const y=g.title.toLowerCase().includes(n.toLowerCase())||g.excerpt.toLowerCase().includes(n.toLowerCase())||g.tags.some(_=>_.toLowerCase().includes(n.toLowerCase())),w=t==="all"||g.category===t;return y&&w}),h=g=>{switch(g){case"tutorials":return vt;case"ai":return yr;case"development":return Zr;case"company":return Tv;default:return zc}},f=g=>{switch(g){case"tutorials":return"bg-blue-100 text-blue-800 border-blue-200";case"ai":return"bg-purple-100 text-purple-800 border-purple-200";case"development":return"bg-green-100 text-green-800 border-green-200";case"company":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(zc,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Blog"}),c.jsx("p",{className:"text-muted-foreground",children:"Insights, tutorials, and updates from the DreamBuild team"})]})]}),c.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search blog posts...",value:n,onChange:g=>e(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(QT,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("select",{value:t,onChange:g=>r(g.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:s.map(g=>c.jsxs("option",{value:g.id,children:[g.name," (",g.count,")"]},g.id))})]})]})})]}),c.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:c.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200",children:c.jsxs("div",{className:"md:flex",children:[c.jsx("div",{className:"md:w-1/2",children:c.jsx("img",{src:a.image,alt:a.title,className:"w-full h-64 md:h-full object-cover"})}),c.jsxs("div",{className:"md:w-1/2 p-8",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"px-3 py-1 bg-primary text-primary-foreground rounded-full text-sm font-medium",children:"Featured"}),c.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full border ${f(a.category)}`,children:a.category})]}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4 hover:text-primary transition-colors cursor-pointer",children:a.title}),c.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:a.excerpt}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:a.authorAvatar,alt:a.author,className:"w-6 h-6 rounded-full"}),c.jsx("span",{children:a.author})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(el,{className:"h-4 w-4"}),c.jsx("span",{children:a.publishDate})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Cl,{className:"h-4 w-4"}),c.jsx("span",{children:a.readTime})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex gap-1",children:a.tags.map(g=>c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["#",g]},g))}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(rp,{className:"h-4 w-4"}),c.jsx("span",{children:a.likes})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Xg,{className:"h-4 w-4"}),c.jsx("span",{children:a.comments})]})]})]})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((g,y)=>{const w=h(g.category);return c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:y*.1},className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200 group",children:[c.jsxs("div",{className:"relative h-48 bg-muted/50",children:[c.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${f(g.category)}`,children:g.category})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(w,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm text-primary font-medium",children:g.category})]}),c.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors cursor-pointer mb-3 line-clamp-2",children:g.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:g.excerpt}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("img",{src:g.authorAvatar,alt:g.author,className:"w-8 h-8 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:g.author}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[c.jsx("span",{children:g.publishDate}),c.jsx("span",{children:""}),c.jsx("span",{children:g.readTime})]})]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:g.tags.map(_=>c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["#",_]},_))}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(rp,{className:"h-4 w-4"}),c.jsx("span",{children:g.likes})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Xg,{className:"h-4 w-4"}),c.jsx("span",{children:g.comments})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",children:c.jsx(Jg,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",children:c.jsx(t2,{className:"h-4 w-4"})}),c.jsxs("button",{className:"flex items-center gap-1 text-primary hover:text-primary-dark transition-colors",children:[c.jsx("span",{className:"text-sm font-medium",children:"Read"}),c.jsx(Au,{className:"h-4 w-4"})]})]})]})]})]},g.id)})}),d.length===0&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(zc,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No posts found"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),c.jsx("button",{onClick:()=>{e(""),r("all")},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Clear Filters"})]}),c.jsxs("div",{className:"mt-16 bg-primary/5 border border-primary/20 rounded-xl p-8 text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Stay Updated"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Subscribe to our newsletter for the latest tutorials, updates, and insights from the DreamBuild team."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[c.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),c.jsx("button",{className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Subscribe"})]})]})]})})},S9=()=>{const[n,e]=N.useState({name:"",email:"",subject:"",message:""}),[t,r]=N.useState(!1),[s,a]=N.useState(null),l=[{icon:XT,title:"Email Us",description:"Send us an email and we'll respond within 24 hours",value:"hello@dreambuild.dev",action:"mailto:hello@dreambuild.dev"},{icon:Zg,title:"Live Chat",description:"Chat with our support team in real-time",value:"Available 9 AM - 6 PM EST",action:"#"},{icon:zL,title:"Call Us",description:"Speak directly with our team",value:"+1 (555) 123-4567",action:"tel:+15551234567"},{icon:OL,title:"Visit Us",description:"Our headquarters location",value:"San Francisco, CA",action:"#"}],d=[{icon:Xr,href:"https://github.com/ronb12/DreamBuild",label:"GitHub"},{icon:r2,href:"#",label:"Twitter"},{icon:LL,href:"#",label:"LinkedIn"},{icon:Zr,href:"#",label:"Website"}],h=[{question:"How do I get started with DreamBuild?",answer:"Simply visit our documentation page for a complete getting started guide. You can also try our AI Builder without any setup required."},{question:"Do you offer technical support?",answer:"Yes! We provide comprehensive technical support through email, live chat, and our community forum. Premium users get priority support."},{question:"Can I use DreamBuild for commercial projects?",answer:"Absolutely! DreamBuild is designed for both personal and commercial use. Check our pricing page for details on different plans."},{question:"How does the AI code generation work?",answer:"DreamBuild uses advanced AI models to generate code based on your prompts. You can use our cloud AI services or set up local AI with Ollama for complete privacy."}],f=y=>{const{name:w,value:_}=y.target;e(T=>({...T,[w]:_}))},g=async y=>{y.preventDefault(),r(!0),await new Promise(w=>setTimeout(w,2e3)),r(!1),a("success"),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>a(null),5e3)};return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["Get in ",c.jsx("span",{className:"text-primary",children:"Touch"})]}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Have questions about DreamBuild? Need help getting started? Want to share feedback? We'd love to hear from you."})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-card border border-border rounded-xl p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Send us a Message"}),c.jsx("p",{className:"text-muted-foreground",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),c.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Name *"}),c.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:f,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Your full name"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email *"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:f,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-foreground mb-2",children:"Subject *"}),c.jsxs("select",{id:"subject",name:"subject",value:n.subject,onChange:f,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select a subject"}),c.jsx("option",{value:"general",children:"General Inquiry"}),c.jsx("option",{value:"support",children:"Technical Support"}),c.jsx("option",{value:"sales",children:"Sales Question"}),c.jsx("option",{value:"feedback",children:"Feedback"}),c.jsx("option",{value:"partnership",children:"Partnership"}),c.jsx("option",{value:"bug",children:"Bug Report"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-foreground mb-2",children:"Message *"}),c.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:f,required:!0,rows:6,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",placeholder:"Tell us how we can help you..."})]}),s==="success"&&c.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx(Do,{className:"h-5 w-5 text-green-600"}),c.jsx("span",{className:"text-green-800",children:"Message sent successfully! We'll get back to you soon."})]}),c.jsx("button",{type:"submit",disabled:t,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):c.jsxs(c.Fragment,{children:[c.jsx(HL,{className:"h-5 w-5"}),"Send Message"]})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Other Ways to Reach Us"}),c.jsx("div",{className:"space-y-4",children:l.map((y,w)=>{const _=y.icon;return c.jsxs("a",{href:y.action,className:"flex items-start gap-4 p-4 border border-border rounded-lg hover:bg-muted transition-colors group",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:c.jsx(_,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:y.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:y.description}),c.jsx("p",{className:"text-sm font-medium text-primary",children:y.value})]})]},y.title)})})]}),c.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Follow Us"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(y=>{const w=y.icon;return c.jsxs("a",{href:y.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 border border-border rounded-lg hover:bg-muted transition-colors group",children:[c.jsx(w,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"}),c.jsx("span",{className:"text-sm font-medium text-foreground group-hover:text-primary transition-colors",children:y.label})]},y.label)})})]}),c.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-primary/5 border border-primary/20 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Cl,{className:"h-6 w-6 text-primary"}),c.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Business Hours"})]}),c.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Monday - Friday"}),c.jsx("span",{children:"9:00 AM - 6:00 PM EST"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Saturday"}),c.jsx("span",{children:"10:00 AM - 4:00 PM EST"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Sunday"}),c.jsx("span",{children:"Closed"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Emergency support available 24/7 for premium users."})]})]})]}),c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Frequently Asked Questions"}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Quick answers to common questions about DreamBuild and our services."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map((y,w)=>c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4+w*.1},className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:y.question}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y.answer})]},y.question))})]}),c.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-16 bg-primary/5 border border-primary/20 rounded-xl p-8 text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Ready to Get Started?"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Join thousands of developers who are already building amazing applications with DreamBuild."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Try DreamBuild Free"}),c.jsx("button",{className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:"View Documentation"})]})]})]})})};function _9(){const n=Qo();return["/ai-builder"].includes(n.pathname)?null:c.jsx(QL,{})}function E9({children:n}){const e=Qo();return["/ai-builder"].includes(e.pathname)?c.jsx("main",{children:n}):c.jsx("main",{className:"pt-16",children:n})}function T9(){return c.jsx(hN,{children:c.jsx(_L,{children:c.jsx(kL,{children:c.jsx(bI,{children:c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(KL,{}),c.jsx(E9,{children:c.jsxs(pI,{children:[c.jsx(bn,{path:"/",element:c.jsx(hF,{})}),c.jsx(bn,{path:"/ai-builder",element:c.jsx(d9,{})}),c.jsx(bn,{path:"/dashboard",element:c.jsx(h9,{})}),c.jsx(bn,{path:"/login",element:c.jsx(p9,{})}),c.jsx(bn,{path:"/signup",element:c.jsx(f9,{})}),c.jsx(bn,{path:"/projects",element:c.jsx(m9,{})}),c.jsx(bn,{path:"/settings",element:c.jsx(g9,{})}),c.jsx(bn,{path:"/documentation",element:c.jsx(y9,{})}),c.jsx(bn,{path:"/examples",element:c.jsx(v9,{})}),c.jsx(bn,{path:"/community",element:c.jsx(x9,{})}),c.jsx(bn,{path:"/about",element:c.jsx(b9,{})}),c.jsx(bn,{path:"/blog",element:c.jsx(w9,{})}),c.jsx(bn,{path:"/contact",element:c.jsx(S9,{})})]})}),c.jsx(_9,{}),c.jsx(dN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--card)",color:"var(--card-foreground)",border:"1px solid var(--border)"}}})]})})})})})}SC.createRoot(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsx(T9,{})}));
//# sourceMappingURL=index-BswRPiSO.js.map
