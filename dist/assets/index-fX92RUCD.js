function $C(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function HC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var um={exports:{}},cc={},dm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx;function qC(){if(Mx)return Fe;Mx=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function C(V,ee,Se){this.props=V,this.context=ee,this.refs=N,this.updater=Se||T}C.prototype.isReactComponent={},C.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=C.prototype;function U(V,ee,Se){this.props=V,this.context=ee,this.refs=N,this.updater=Se||T}var k=U.prototype=new F;k.constructor=U,I(k,C.prototype),k.isPureReactComponent=!0;var H=Array.isArray,X=Object.prototype.hasOwnProperty,Q={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(V,ee,Se){var Te,Le={},Me=null,We=null;if(ee!=null)for(Te in ee.ref!==void 0&&(We=ee.ref),ee.key!==void 0&&(Me=""+ee.key),ee)X.call(ee,Te)&&!S.hasOwnProperty(Te)&&(Le[Te]=ee[Te]);var $e=arguments.length-2;if($e===1)Le.children=Se;else if(1<$e){for(var Qe=Array($e),Et=0;Et<$e;Et++)Qe[Et]=arguments[Et+2];Le.children=Qe}if(V&&V.defaultProps)for(Te in $e=V.defaultProps,$e)Le[Te]===void 0&&(Le[Te]=$e[Te]);return{$$typeof:t,type:V,key:Me,ref:We,props:Le,_owner:Q.current}}function j(V,ee){return{$$typeof:t,type:V.type,key:ee,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function M(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Se){return ee[Se]})}var z=/\/+/g;function O(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ee.toString(36)}function ye(V,ee,Se,Te,Le){var Me=typeof V;(Me==="undefined"||Me==="boolean")&&(V=null);var We=!1;if(V===null)We=!0;else switch(Me){case"string":case"number":We=!0;break;case"object":switch(V.$$typeof){case t:case e:We=!0}}if(We)return We=V,Le=Le(We),V=Te===""?"."+O(We,0):Te,H(Le)?(Se="",V!=null&&(Se=V.replace(z,"$&/")+"/"),ye(Le,ee,Se,"",function(Et){return Et})):Le!=null&&(P(Le)&&(Le=j(Le,Se+(!Le.key||We&&We.key===Le.key?"":(""+Le.key).replace(z,"$&/")+"/")+V)),ee.push(Le)),1;if(We=0,Te=Te===""?".":Te+":",H(V))for(var $e=0;$e<V.length;$e++){Me=V[$e];var Qe=Te+O(Me,$e);We+=ye(Me,ee,Se,Qe,Le)}else if(Qe=_(V),typeof Qe=="function")for(V=Qe.call(V),$e=0;!(Me=V.next()).done;)Me=Me.value,Qe=Te+O(Me,$e++),We+=ye(Me,ee,Se,Qe,Le);else if(Me==="object")throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return We}function q(V,ee,Se){if(V==null)return V;var Te=[],Le=0;return ye(V,Te,"","",function(Me){return ee.call(Se,Me,Le++)}),Te}function te(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(Se){(V._status===0||V._status===-1)&&(V._status=1,V._result=Se)},function(Se){(V._status===0||V._status===-1)&&(V._status=2,V._result=Se)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ge={current:null},se={transition:null},he={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:se,ReactCurrentOwner:Q};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:q,forEach:function(V,ee,Se){q(V,function(){ee.apply(this,arguments)},Se)},count:function(V){var ee=0;return q(V,function(){ee++}),ee},toArray:function(V){return q(V,function(ee){return ee})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Fe.Component=C,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=U,Fe.StrictMode=r,Fe.Suspense=p,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Fe.act=ue,Fe.cloneElement=function(V,ee,Se){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Te=I({},V.props),Le=V.key,Me=V.ref,We=V._owner;if(ee!=null){if(ee.ref!==void 0&&(Me=ee.ref,We=Q.current),ee.key!==void 0&&(Le=""+ee.key),V.type&&V.type.defaultProps)var $e=V.type.defaultProps;for(Qe in ee)X.call(ee,Qe)&&!S.hasOwnProperty(Qe)&&(Te[Qe]=ee[Qe]===void 0&&$e!==void 0?$e[Qe]:ee[Qe])}var Qe=arguments.length-2;if(Qe===1)Te.children=Se;else if(1<Qe){$e=Array(Qe);for(var Et=0;Et<Qe;Et++)$e[Et]=arguments[Et+2];Te.children=$e}return{$$typeof:t,type:V.type,key:Le,ref:Me,props:Te,_owner:We}},Fe.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Fe.createElement=A,Fe.createFactory=function(V){var ee=A.bind(null,V);return ee.type=V,ee},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(V){return{$$typeof:u,render:V}},Fe.isValidElement=P,Fe.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:te}},Fe.memo=function(V,ee){return{$$typeof:m,type:V,compare:ee===void 0?null:ee}},Fe.startTransition=function(V){var ee=se.transition;se.transition={};try{V()}finally{se.transition=ee}},Fe.unstable_act=ue,Fe.useCallback=function(V,ee){return ge.current.useCallback(V,ee)},Fe.useContext=function(V){return ge.current.useContext(V)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(V){return ge.current.useDeferredValue(V)},Fe.useEffect=function(V,ee){return ge.current.useEffect(V,ee)},Fe.useId=function(){return ge.current.useId()},Fe.useImperativeHandle=function(V,ee,Se){return ge.current.useImperativeHandle(V,ee,Se)},Fe.useInsertionEffect=function(V,ee){return ge.current.useInsertionEffect(V,ee)},Fe.useLayoutEffect=function(V,ee){return ge.current.useLayoutEffect(V,ee)},Fe.useMemo=function(V,ee){return ge.current.useMemo(V,ee)},Fe.useReducer=function(V,ee,Se){return ge.current.useReducer(V,ee,Se)},Fe.useRef=function(V){return ge.current.useRef(V)},Fe.useState=function(V){return ge.current.useState(V)},Fe.useSyncExternalStore=function(V,ee,Se){return ge.current.useSyncExternalStore(V,ee,Se)},Fe.useTransition=function(){return ge.current.useTransition()},Fe.version="18.3.1",Fe}var Vx;function ty(){return Vx||(Vx=1,dm.exports=qC()),dm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function WC(){if(Fx)return cc;Fx=1;var t=ty(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,p,m){var g,v={},_=null,T=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(T=p.ref);for(g in p)r.call(p,g)&&!a.hasOwnProperty(g)&&(v[g]=p[g]);if(u&&u.defaultProps)for(g in p=u.defaultProps,p)v[g]===void 0&&(v[g]=p[g]);return{$$typeof:e,type:u,key:_,ref:T,props:v,_owner:i.current}}return cc.Fragment=n,cc.jsx=l,cc.jsxs=l,cc}var Ux;function GC(){return Ux||(Ux=1,um.exports=WC()),um.exports}var h=GC(),D=ty();const Dr=HC(D),KC=$C({__proto__:null,default:Dr},[D]);var jd={},hm={exports:{}},vn={},fm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function QC(){return Bx||(Bx=1,(function(t){function e(se,he){var ue=se.length;se.push(he);e:for(;0<ue;){var V=ue-1>>>1,ee=se[V];if(0<i(ee,he))se[V]=he,se[ue]=ee,ue=V;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var he=se[0],ue=se.pop();if(ue!==he){se[0]=ue;e:for(var V=0,ee=se.length,Se=ee>>>1;V<Se;){var Te=2*(V+1)-1,Le=se[Te],Me=Te+1,We=se[Me];if(0>i(Le,ue))Me<ee&&0>i(We,Le)?(se[V]=We,se[Me]=ue,V=Me):(se[V]=Le,se[Te]=ue,V=Te);else if(Me<ee&&0>i(We,ue))se[V]=We,se[Me]=ue,V=Me;else break e}}return he}function i(se,he){var ue=se.sortIndex-he.sortIndex;return ue!==0?ue:se.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var p=[],m=[],g=1,v=null,_=3,T=!1,I=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(se){for(var he=n(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=se)r(m),he.sortIndex=he.expirationTime,e(p,he);else break;he=n(m)}}function H(se){if(N=!1,k(se),!I)if(n(p)!==null)I=!0,te(X);else{var he=n(m);he!==null&&ge(H,he.startTime-se)}}function X(se,he){I=!1,N&&(N=!1,F(A),A=-1),T=!0;var ue=_;try{for(k(he),v=n(p);v!==null&&(!(v.expirationTime>he)||se&&!M());){var V=v.callback;if(typeof V=="function"){v.callback=null,_=v.priorityLevel;var ee=V(v.expirationTime<=he);he=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(p)&&r(p),k(he)}else r(p);v=n(p)}if(v!==null)var Se=!0;else{var Te=n(m);Te!==null&&ge(H,Te.startTime-he),Se=!1}return Se}finally{v=null,_=ue,T=!1}}var Q=!1,S=null,A=-1,j=5,P=-1;function M(){return!(t.unstable_now()-P<j)}function z(){if(S!==null){var se=t.unstable_now();P=se;var he=!0;try{he=S(!0,se)}finally{he?O():(Q=!1,S=null)}}else Q=!1}var O;if(typeof U=="function")O=function(){U(z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,q=ye.port2;ye.port1.onmessage=z,O=function(){q.postMessage(null)}}else O=function(){C(z,0)};function te(se){S=se,Q||(Q=!0,O())}function ge(se,he){A=C(function(){se(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,te(X))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(se){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var ue=_;_=he;try{return se()}finally{_=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=_;_=se;try{return he()}finally{_=ue}},t.unstable_scheduleCallback=function(se,he,ue){var V=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?V+ue:V):ue=V,se){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,se={id:g++,callback:he,priorityLevel:se,startTime:ue,expirationTime:ee,sortIndex:-1},ue>V?(se.sortIndex=ue,e(m,se),n(p)===null&&se===n(m)&&(N?(F(A),A=-1):N=!0,ge(H,ue-V))):(se.sortIndex=ee,e(p,se),I||T||(I=!0,te(X))),se},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(se){var he=_;return function(){var ue=_;_=he;try{return se.apply(this,arguments)}finally{_=ue}}}})(pm)),pm}var zx;function YC(){return zx||(zx=1,fm.exports=QC()),fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function XC(){if($x)return vn;$x=1;var t=ty(),e=YC();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(s){return p.call(v,s)?!0:p.call(g,s)?!1:m.test(s)?v[s]=!0:(g[s]=!0,!1)}function T(s,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,o,c,f){if(o===null||typeof o>"u"||T(s,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(s,o,c,f,y,x,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new N(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new N(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new N(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new N(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new N(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new N(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new N(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new N(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new N(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,U);C[o]=new N(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,U);C[o]=new N(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,U);C[o]=new N(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new N(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new N(s,1,!1,s.toLowerCase(),null,!0,!0)});function k(s,o,c,f){var y=C.hasOwnProperty(o)?C[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(I(o,c,y,f)&&(c=null),f||y===null?_(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,f=y.attributeNamespace,c===null?s.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?s.setAttributeNS(f,o,c):s.setAttribute(o,c))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Q=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),se=Symbol.iterator;function he(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ue=Object.assign,V;function ee(s){if(V===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+s}var Se=!1;function Te(s,o){if(!s||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var f=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){f=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){f=Y}s()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=f.stack.split(`
`),E=y.length-1,L=x.length-1;1<=E&&0<=L&&y[E]!==x[L];)L--;for(;1<=E&&0<=L;E--,L--)if(y[E]!==x[L]){if(E!==1||L!==1)do if(E--,L--,0>L||y[E]!==x[L]){var B=`
`+y[E].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=E&&0<=L);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ee(s):""}function Le(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Te(s.type,!1),s;case 11:return s=Te(s.type.render,!1),s;case 1:return s=Te(s.type,!0),s;default:return""}}function Me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case Q:return"Portal";case j:return"Profiler";case A:return"StrictMode";case O:return"Suspense";case ye:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return o=s.displayName||null,o!==null?o:Me(s.type)||"Memo";case te:o=s._payload,s=s._init;try{return Me(s(o))}catch{}}return null}function We(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(s){var o=Qe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){f=""+E,x.call(this,E)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function hn(s){s._valueTracker||(s._valueTracker=Et(s))}function $o(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return s&&(f=Qe(s)?s.checked?"true":"false":s.value),s=f,s!==c?(o.setValue(s),!0):!1}function Cs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ho(s,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function vu(s,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=$e(o.value!=null?o.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qo(s,o){o=o.checked,o!=null&&k(s,"checked",o,!1)}function Li(s,o){qo(s,o);var c=$e(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Tt(s,o.type,c):o.hasOwnProperty("defaultValue")&&Tt(s,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function gl(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Tt(s,o,c){(o!=="number"||Cs(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var yt=Array.isArray;function Kn(s,o,c,f){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&f&&(s[c].defaultSelected=!0)}else{for(c=""+$e(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,f&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function yl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function vl(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(yt(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:$e(c)}}function xu(s,o){var c=$e(o.value),f=$e(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function As(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function xl(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wo(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?xl(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ks,wu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,y){MSApp.execUnsafeLocalFunction(function(){return s(o,c,f,y)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ks.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Mi(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_u=["Webkit","ms","Moz","O"];Object.keys(Ps).forEach(function(s){_u.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ps[o]=Ps[s]})});function Rs(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ps.hasOwnProperty(s)&&Ps[s]?(""+o).trim():o+"px"}function Go(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=Rs(c,o[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,y):s[c]=y}}var wl=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qn(s,o){if(o){if(wl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ko(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ns=null;function Qo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hr=null,qr=null,ht=null;function _l(s){if(s=Kl(s)){if(typeof Hr!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Ku(o),Hr(s.stateNode,s.type,o))}}function js(s){qr?ht?ht.push(s):ht=[s]:qr=s}function Ds(){if(qr){var s=qr,o=ht;if(ht=qr=null,_l(s),o)for(s=0;s<o.length;s++)_l(o[s])}}function bu(s,o){return s(o)}function Eu(){}var hr=!1;function Tu(s,o,c){if(hr)return s(o,c);hr=!0;try{return bu(s,o,c)}finally{hr=!1,(qr!==null||ht!==null)&&(Eu(),Ds())}}function Vi(s,o){var c=s.stateNode;if(c===null)return null;var f=Ku(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Os=!1;if(u)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Os=!1}function Su(s,o,c,f,y,x,E,L,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(oe){this.onError(oe)}}var Wr=!1,fr=null,Yo=!1,Ln=null,Iu={onError:function(s){Wr=!0,fr=s}};function Cu(s,o,c,f,y,x,E,L,B){Wr=!1,fr=null,Su.apply(Iu,arguments)}function bl(s,o,c,f,y,x,E,L,B){if(Cu.apply(this,arguments),Wr){if(Wr){var Y=fr;Wr=!1,fr=null}else throw Error(n(198));Yo||(Yo=!0,Ln=Y)}}function Yn(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function El(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Au(s){if(Yn(s)!==s)throw Error(n(188))}function ku(s){var o=s.alternate;if(!o){if(o=Yn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var c=s,f=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return Au(y),s;if(x===f)return Au(y),o;x=x.sibling}throw Error(n(188))}if(c.return!==f.return)c=y,f=x;else{for(var E=!1,L=y.child;L;){if(L===c){E=!0,c=y,f=x;break}if(L===f){E=!0,f=y,c=x;break}L=L.sibling}if(!E){for(L=x.child;L;){if(L===c){E=!0,c=x,f=y;break}if(L===f){E=!0,f=x,c=y;break}L=L.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:o}function Pu(s){return s=ku(s),s!==null?Fi(s):null}function Fi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Fi(s);if(o!==null)return o;s=s.sibling}return null}var Tl=e.unstable_scheduleCallback,Xo=e.unstable_cancelCallback,Ui=e.unstable_shouldYield,Gr=e.unstable_requestPaint,st=e.unstable_now,Bf=e.unstable_getCurrentPriorityLevel,Jo=e.unstable_ImmediatePriority,Sl=e.unstable_UserBlockingPriority,Bi=e.unstable_NormalPriority,Il=e.unstable_LowPriority,Zo=e.unstable_IdlePriority,zi=null,En=null;function Ru(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(zi,s,void 0,(s.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:$i,pr=Math.log,Mn=Math.LN2;function $i(s){return s>>>=0,s===0?32:31-(pr(s)/Mn|0)|0}var mr=64,Ms=4194304;function Ye(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Kr(s,o){var c=s.pendingLanes;if(c===0)return 0;var f=0,y=s.suspendedLanes,x=s.pingedLanes,E=c&268435455;if(E!==0){var L=E&~y;L!==0?f=Ye(L):(x&=E,x!==0&&(f=Ye(x)))}else E=c&~y,E!==0?f=Ye(E):x!==0&&(f=Ye(x));if(f===0)return 0;if(o!==0&&o!==f&&(o&y)===0&&(y=f&-f,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((f&4)!==0&&(f|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)c=31-Tn(o),y=1<<c,f|=s[c],o&=~y;return f}function Hi(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qi(s,o){for(var c=s.suspendedLanes,f=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var E=31-Tn(x),L=1<<E,B=y[E];B===-1?((L&c)===0||(L&f)!==0)&&(y[E]=Hi(L,o)):B<=o&&(s.expiredLanes|=L),x&=~L}}function Cl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Al(){var s=mr;return mr<<=1,(mr&4194240)===0&&(mr=64),s}function kl(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Wi(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Tn(o),s[o]=c}function zf(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-Tn(c),x=1<<y;o[y]=0,f[y]=-1,s[y]=-1,c&=~x}}function Pl(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var f=31-Tn(c),y=1<<f;y&o|s[f]&o&&(s[f]|=o),c&=~y}}var He=0;function gr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Rl,ea,Nl,jl,Dl,yr=!1,ta=[],vr=null,xr=null,Ht=null,Gi=new Map,Qr=new Map,Sn=[],Nu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vs(s,o){switch(s){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(o.pointerId)}}function Xn(s,o,c,f,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[y]},o!==null&&(o=Kl(o),o!==null&&ea(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function ju(s,o,c,f,y){switch(o){case"focusin":return vr=Xn(vr,s,o,c,f,y),!0;case"dragenter":return xr=Xn(xr,s,o,c,f,y),!0;case"mouseover":return Ht=Xn(Ht,s,o,c,f,y),!0;case"pointerover":var x=y.pointerId;return Gi.set(x,Xn(Gi.get(x)||null,s,o,c,f,y)),!0;case"gotpointercapture":return x=y.pointerId,Qr.set(x,Xn(Qr.get(x)||null,s,o,c,f,y)),!0}return!1}function na(s){var o=Xi(s.target);if(o!==null){var c=Yn(o);if(c!==null){if(o=c.tag,o===13){if(o=El(c),o!==null){s.blockedOn=o,Dl(s.priority,function(){Nl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ze(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=ra(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);Ns=f,c.target.dispatchEvent(f),Ns=null}else return o=Kl(c),o!==null&&ea(o),s.blockedOn=c,!1;o.shift()}return!0}function Du(s,o,c){Ze(s)&&c.delete(o)}function $f(){yr=!1,vr!==null&&Ze(vr)&&(vr=null),xr!==null&&Ze(xr)&&(xr=null),Ht!==null&&Ze(Ht)&&(Ht=null),Gi.forEach(Du),Qr.forEach(Du)}function Fs(s,o){s.blockedOn===o&&(s.blockedOn=null,yr||(yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$f)))}function Us(s){function o(y){return Fs(y,s)}if(0<ta.length){Fs(ta[0],s);for(var c=1;c<ta.length;c++){var f=ta[c];f.blockedOn===s&&(f.blockedOn=null)}}for(vr!==null&&Fs(vr,s),xr!==null&&Fs(xr,s),Ht!==null&&Fs(Ht,s),Gi.forEach(o),Qr.forEach(o),c=0;c<Sn.length;c++)f=Sn[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Sn.length&&(c=Sn[0],c.blockedOn===null);)na(c),c.blockedOn===null&&Sn.shift()}var Yr=H.ReactCurrentBatchConfig,Xr=!0;function wr(s,o,c,f){var y=He,x=Yr.transition;Yr.transition=null;try{He=1,Ol(s,o,c,f)}finally{He=y,Yr.transition=x}}function Ou(s,o,c,f){var y=He,x=Yr.transition;Yr.transition=null;try{He=4,Ol(s,o,c,f)}finally{He=y,Yr.transition=x}}function Ol(s,o,c,f){if(Xr){var y=ra(s,o,c,f);if(y===null)ep(s,o,f,_r,c),Vs(s,f);else if(ju(y,s,o,c,f))f.stopPropagation();else if(Vs(s,f),o&4&&-1<Nu.indexOf(s)){for(;y!==null;){var x=Kl(y);if(x!==null&&Rl(x),x=ra(s,o,c,f),x===null&&ep(s,o,f,_r,c),x===y)break;y=x}y!==null&&f.stopPropagation()}else ep(s,o,f,null,c)}}var _r=null;function ra(s,o,c,f){if(_r=null,s=Qo(f),s=Xi(s),s!==null)if(o=Yn(s),o===null)s=null;else if(c=o.tag,c===13){if(s=El(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return _r=s,null}function sa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case Jo:return 1;case Sl:return 4;case Bi:case Il:return 16;case Zo:return 536870912;default:return 16}default:return 16}}var In=null,ia=null,Jr=null;function Lu(){if(Jr)return Jr;var s,o=ia,c=o.length,f,y="value"in In?In.value:In.textContent,x=y.length;for(s=0;s<c&&o[s]===y[s];s++);var E=c-s;for(f=1;f<=E&&o[c-f]===y[x-f];f++);return Jr=y.slice(s,1<f?1-f:void 0)}function Ki(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function br(){return!0}function Ll(){return!1}function Yt(s){function o(c,f,y,x,E){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(c=s[L],this[L]=c?c(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?br:Ll,this.isPropagationStopped=Ll,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),o}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=Yt(Er),Bs=ue({},Er,{view:0,detail:0}),oa=Yt(Bs),aa,la,Cn,Yi=ue({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Cn&&(Cn&&s.type==="mousemove"?(aa=s.screenX-Cn.screenX,la=s.screenY-Cn.screenY):la=aa=0,Cn=s),aa)},movementY:function(s){return"movementY"in s?s.movementY:la}}),Ml=Yt(Yi),Mu=ue({},Yi,{dataTransfer:0}),Vu=Yt(Mu),ca=ue({},Bs,{relatedTarget:0}),qt=Yt(ca),Fu=ue({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Yt(Fu),zs=ue({},Er,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=Yt(zs),w=ue({},Er,{data:0}),b=Yt(w),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=J[s])?!!o[s]:!1}function De(){return ce}var vt=ue({},Bs,{key:function(s){if(s.key){var o=R[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ki(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(s){return s.type==="keypress"?Ki(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ki(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Je=Yt(vt),St=ue({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),An=Yt(St),Zr=ue({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),Tr=Yt(Zr),Sr=ue({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),ua=Yt(Sr),Vl=ue({},Yi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),MI=Yt(Vl),VI=[9,13,27,32],Hf=u&&"CompositionEvent"in window,Fl=null;u&&"documentMode"in document&&(Fl=document.documentMode);var FI=u&&"TextEvent"in window&&!Fl,kv=u&&(!Hf||Fl&&8<Fl&&11>=Fl),Pv=" ",Rv=!1;function Nv(s,o){switch(s){case"keyup":return VI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var da=!1;function UI(s,o){switch(s){case"compositionend":return jv(o);case"keypress":return o.which!==32?null:(Rv=!0,Pv);case"textInput":return s=o.data,s===Pv&&Rv?null:s;default:return null}}function BI(s,o){if(da)return s==="compositionend"||!Hf&&Nv(s,o)?(s=Lu(),Jr=ia=In=null,da=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return kv&&o.locale!=="ko"?null:o.data;default:return null}}var zI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!zI[s.type]:o==="textarea"}function Ov(s,o,c,f){js(f),o=qu(o,"onChange"),0<o.length&&(c=new Qi("onChange","change",null,c,f),s.push({event:c,listeners:o}))}var Ul=null,Bl=null;function $I(s){Zv(s,0)}function Bu(s){var o=ga(s);if($o(o))return s}function HI(s,o){if(s==="change")return o}var Lv=!1;if(u){var qf;if(u){var Wf="oninput"in document;if(!Wf){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Wf=typeof Mv.oninput=="function"}qf=Wf}else qf=!1;Lv=qf&&(!document.documentMode||9<document.documentMode)}function Vv(){Ul&&(Ul.detachEvent("onpropertychange",Fv),Bl=Ul=null)}function Fv(s){if(s.propertyName==="value"&&Bu(Bl)){var o=[];Ov(o,Bl,s,Qo(s)),Tu($I,o)}}function qI(s,o,c){s==="focusin"?(Vv(),Ul=o,Bl=c,Ul.attachEvent("onpropertychange",Fv)):s==="focusout"&&Vv()}function WI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bu(Bl)}function GI(s,o){if(s==="click")return Bu(o)}function KI(s,o){if(s==="input"||s==="change")return Bu(o)}function QI(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Jn=typeof Object.is=="function"?Object.is:QI;function zl(s,o){if(Jn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!p.call(o,y)||!Jn(s[y],o[y]))return!1}return!0}function Uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Bv(s,o){var c=Uv(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=o&&f>=o)return{node:c,offset:o-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Uv(c)}}function zv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?zv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function $v(){for(var s=window,o=Cs();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Cs(s.document)}return o}function Gf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function YI(s){var o=$v(),c=s.focusedElem,f=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&zv(c.ownerDocument.documentElement,c)){if(f!==null&&Gf(c)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,x=Math.min(f.start,y);f=f.end===void 0?x:Math.min(f.end,y),!s.extend&&x>f&&(y=f,f=x,x=y),y=Bv(c,x);var E=Bv(c,f);y&&E&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),x>f?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var XI=u&&"documentMode"in document&&11>=document.documentMode,ha=null,Kf=null,$l=null,Qf=!1;function Hv(s,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qf||ha==null||ha!==Cs(f)||(f=ha,"selectionStart"in f&&Gf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$l&&zl($l,f)||($l=f,f=qu(Kf,"onSelect"),0<f.length&&(o=new Qi("onSelect","select",null,o,c),s.push({event:o,listeners:f}),o.target=ha)))}function zu(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var fa={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},Yf={},qv={};u&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function $u(s){if(Yf[s])return Yf[s];if(!fa[s])return s;var o=fa[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in qv)return Yf[s]=o[c];return s}var Wv=$u("animationend"),Gv=$u("animationiteration"),Kv=$u("animationstart"),Qv=$u("transitionend"),Yv=new Map,Xv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $s(s,o){Yv.set(s,o),a(o,[s])}for(var Xf=0;Xf<Xv.length;Xf++){var Jf=Xv[Xf],JI=Jf.toLowerCase(),ZI=Jf[0].toUpperCase()+Jf.slice(1);$s(JI,"on"+ZI)}$s(Wv,"onAnimationEnd"),$s(Gv,"onAnimationIteration"),$s(Kv,"onAnimationStart"),$s("dblclick","onDoubleClick"),$s("focusin","onFocus"),$s("focusout","onBlur"),$s(Qv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Jv(s,o,c){var f=s.type||"unknown-event";s.currentTarget=c,bl(f,o,void 0,s),s.currentTarget=null}function Zv(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],y=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var E=f.length-1;0<=E;E--){var L=f[E],B=L.instance,Y=L.currentTarget;if(L=L.listener,B!==x&&y.isPropagationStopped())break e;Jv(y,L,Y),x=B}else for(E=0;E<f.length;E++){if(L=f[E],B=L.instance,Y=L.currentTarget,L=L.listener,B!==x&&y.isPropagationStopped())break e;Jv(y,L,Y),x=B}}}if(Yo)throw s=Ln,Yo=!1,Ln=null,s}function it(s,o){var c=o[op];c===void 0&&(c=o[op]=new Set);var f=s+"__bubble";c.has(f)||(e0(o,s,2,!1),c.add(f))}function Zf(s,o,c){var f=0;o&&(f|=4),e0(c,s,f,o)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function ql(s){if(!s[Hu]){s[Hu]=!0,r.forEach(function(c){c!=="selectionchange"&&(eC.has(c)||Zf(c,!1,s),Zf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Hu]||(o[Hu]=!0,Zf("selectionchange",!1,o))}}function e0(s,o,c,f){switch(sa(o)){case 1:var y=wr;break;case 4:y=Ou;break;default:y=Ol}c=y.bind(null,o,c,s),y=void 0,!Os||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function ep(s,o,c,f,y){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var L=f.stateNode.containerInfo;if(L===y||L.nodeType===8&&L.parentNode===y)break;if(E===4)for(E=f.return;E!==null;){var B=E.tag;if((B===3||B===4)&&(B=E.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;E=E.return}for(;L!==null;){if(E=Xi(L),E===null)return;if(B=E.tag,B===5||B===6){f=x=E;continue e}L=L.parentNode}}f=f.return}Tu(function(){var Y=x,oe=Qo(c),ae=[];e:{var ie=Yv.get(s);if(ie!==void 0){var fe=Qi,ve=s;switch(s){case"keypress":if(Ki(c)===0)break e;case"keydown":case"keyup":fe=Je;break;case"focusin":ve="focus",fe=qt;break;case"focusout":ve="blur",fe=qt;break;case"beforeblur":case"afterblur":fe=qt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Tr;break;case Wv:case Gv:case Kv:fe=Uu;break;case Qv:fe=ua;break;case"scroll":fe=oa;break;case"wheel":fe=MI;break;case"copy":case"cut":case"paste":fe=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=An}var xe=(o&4)!==0,xt=!xe&&s==="scroll",W=xe?ie!==null?ie+"Capture":null:ie;xe=[];for(var $=Y,K;$!==null;){K=$;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,W!==null&&(le=Vi($,W),le!=null&&xe.push(Wl($,le,K)))),xt)break;$=$.return}0<xe.length&&(ie=new fe(ie,ve,null,c,oe),ae.push({event:ie,listeners:xe}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ie&&c!==Ns&&(ve=c.relatedTarget||c.fromElement)&&(Xi(ve)||ve[es]))break e;if((fe||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,fe?(ve=c.relatedTarget||c.toElement,fe=Y,ve=ve?Xi(ve):null,ve!==null&&(xt=Yn(ve),ve!==xt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=Y),fe!==ve)){if(xe=Ml,le="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(xe=An,le="onPointerLeave",W="onPointerEnter",$="pointer"),xt=fe==null?ie:ga(fe),K=ve==null?ie:ga(ve),ie=new xe(le,$+"leave",fe,c,oe),ie.target=xt,ie.relatedTarget=K,le=null,Xi(oe)===Y&&(xe=new xe(W,$+"enter",ve,c,oe),xe.target=K,xe.relatedTarget=xt,le=xe),xt=le,fe&&ve)t:{for(xe=fe,W=ve,$=0,K=xe;K;K=pa(K))$++;for(K=0,le=W;le;le=pa(le))K++;for(;0<$-K;)xe=pa(xe),$--;for(;0<K-$;)W=pa(W),K--;for(;$--;){if(xe===W||W!==null&&xe===W.alternate)break t;xe=pa(xe),W=pa(W)}xe=null}else xe=null;fe!==null&&t0(ae,ie,fe,xe,!1),ve!==null&&xt!==null&&t0(ae,xt,ve,xe,!0)}}e:{if(ie=Y?ga(Y):window,fe=ie.nodeName&&ie.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ie.type==="file")var we=HI;else if(Dv(ie))if(Lv)we=KI;else{we=WI;var Ie=qI}else(fe=ie.nodeName)&&fe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(we=GI);if(we&&(we=we(s,Y))){Ov(ae,we,c,oe);break e}Ie&&Ie(s,ie,Y),s==="focusout"&&(Ie=ie._wrapperState)&&Ie.controlled&&ie.type==="number"&&Tt(ie,"number",ie.value)}switch(Ie=Y?ga(Y):window,s){case"focusin":(Dv(Ie)||Ie.contentEditable==="true")&&(ha=Ie,Kf=Y,$l=null);break;case"focusout":$l=Kf=ha=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Hv(ae,c,oe);break;case"selectionchange":if(XI)break;case"keydown":case"keyup":Hv(ae,c,oe)}var Ce;if(Hf)e:{switch(s){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else da?Nv(s,c)&&(Pe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(kv&&c.locale!=="ko"&&(da||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&da&&(Ce=Lu()):(In=oe,ia="value"in In?In.value:In.textContent,da=!0)),Ie=qu(Y,Pe),0<Ie.length&&(Pe=new b(Pe,s,null,c,oe),ae.push({event:Pe,listeners:Ie}),Ce?Pe.data=Ce:(Ce=jv(c),Ce!==null&&(Pe.data=Ce)))),(Ce=FI?UI(s,c):BI(s,c))&&(Y=qu(Y,"onBeforeInput"),0<Y.length&&(oe=new b("onBeforeInput","beforeinput",null,c,oe),ae.push({event:oe,listeners:Y}),oe.data=Ce))}Zv(ae,o)})}function Wl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function qu(s,o){for(var c=o+"Capture",f=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Vi(s,c),x!=null&&f.unshift(Wl(s,x,y)),x=Vi(s,o),x!=null&&f.push(Wl(s,x,y))),s=s.return}return f}function pa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function t0(s,o,c,f,y){for(var x=o._reactName,E=[];c!==null&&c!==f;){var L=c,B=L.alternate,Y=L.stateNode;if(B!==null&&B===f)break;L.tag===5&&Y!==null&&(L=Y,y?(B=Vi(c,x),B!=null&&E.unshift(Wl(c,B,L))):y||(B=Vi(c,x),B!=null&&E.push(Wl(c,B,L)))),c=c.return}E.length!==0&&s.push({event:o,listeners:E})}var tC=/\r\n?/g,nC=/\u0000|\uFFFD/g;function n0(s){return(typeof s=="string"?s:""+s).replace(tC,`
`).replace(nC,"")}function Wu(s,o,c){if(o=n0(o),n0(s)!==o&&c)throw Error(n(425))}function Gu(){}var tp=null,np=null;function rp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,rC=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,sC=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(s){return r0.resolve(null).then(s).catch(iC)}:sp;function iC(s){setTimeout(function(){throw s})}function ip(s,o){var c=o,f=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){s.removeChild(y),Us(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Us(o)}function Hs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function s0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Ir="__reactFiber$"+ma,Gl="__reactProps$"+ma,es="__reactContainer$"+ma,op="__reactEvents$"+ma,oC="__reactListeners$"+ma,aC="__reactHandles$"+ma;function Xi(s){var o=s[Ir];if(o)return o;for(var c=s.parentNode;c;){if(o=c[es]||c[Ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=s0(s);s!==null;){if(c=s[Ir])return c;s=s0(s)}return o}s=c,c=s.parentNode}return null}function Kl(s){return s=s[Ir]||s[es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ga(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ku(s){return s[Gl]||null}var ap=[],ya=-1;function qs(s){return{current:s}}function ot(s){0>ya||(s.current=ap[ya],ap[ya]=null,ya--)}function et(s,o){ya++,ap[ya]=s.current,s.current=o}var Ws={},Xt=qs(Ws),fn=qs(!1),Ji=Ws;function va(s,o){var c=s.type.contextTypes;if(!c)return Ws;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=o[x];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function pn(s){return s=s.childContextTypes,s!=null}function Qu(){ot(fn),ot(Xt)}function i0(s,o,c){if(Xt.current!==Ws)throw Error(n(168));et(Xt,o),et(fn,c)}function o0(s,o,c){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(n(108,We(s)||"Unknown",y));return ue({},c,f)}function Yu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ws,Ji=Xt.current,et(Xt,s),et(fn,fn.current),!0}function a0(s,o,c){var f=s.stateNode;if(!f)throw Error(n(169));c?(s=o0(s,o,Ji),f.__reactInternalMemoizedMergedChildContext=s,ot(fn),ot(Xt),et(Xt,s)):ot(fn),et(fn,c)}var ts=null,Xu=!1,lp=!1;function l0(s){ts===null?ts=[s]:ts.push(s)}function lC(s){Xu=!0,l0(s)}function Gs(){if(!lp&&ts!==null){lp=!0;var s=0,o=He;try{var c=ts;for(He=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}ts=null,Xu=!1}catch(y){throw ts!==null&&(ts=ts.slice(s+1)),Tl(Jo,Gs),y}finally{He=o,lp=!1}}return null}var xa=[],wa=0,Ju=null,Zu=0,Vn=[],Fn=0,Zi=null,ns=1,rs="";function eo(s,o){xa[wa++]=Zu,xa[wa++]=Ju,Ju=s,Zu=o}function c0(s,o,c){Vn[Fn++]=ns,Vn[Fn++]=rs,Vn[Fn++]=Zi,Zi=s;var f=ns;s=rs;var y=32-Tn(f)-1;f&=~(1<<y),c+=1;var x=32-Tn(o)+y;if(30<x){var E=y-y%5;x=(f&(1<<E)-1).toString(32),f>>=E,y-=E,ns=1<<32-Tn(o)+y|c<<y|f,rs=x+s}else ns=1<<x|c<<y|f,rs=s}function cp(s){s.return!==null&&(eo(s,1),c0(s,1,0))}function up(s){for(;s===Ju;)Ju=xa[--wa],xa[wa]=null,Zu=xa[--wa],xa[wa]=null;for(;s===Zi;)Zi=Vn[--Fn],Vn[Fn]=null,rs=Vn[--Fn],Vn[Fn]=null,ns=Vn[--Fn],Vn[Fn]=null}var kn=null,Pn=null,at=!1,Zn=null;function u0(s,o){var c=$n(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function d0(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,kn=s,Pn=Hs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,kn=s,Pn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Zi!==null?{id:ns,overflow:rs}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=$n(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,kn=s,Pn=null,!0):!1;default:return!1}}function dp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function hp(s){if(at){var o=Pn;if(o){var c=o;if(!d0(s,o)){if(dp(s))throw Error(n(418));o=Hs(c.nextSibling);var f=kn;o&&d0(s,o)?u0(f,c):(s.flags=s.flags&-4097|2,at=!1,kn=s)}}else{if(dp(s))throw Error(n(418));s.flags=s.flags&-4097|2,at=!1,kn=s}}}function h0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kn=s}function ed(s){if(s!==kn)return!1;if(!at)return h0(s),at=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!rp(s.type,s.memoizedProps)),o&&(o=Pn)){if(dp(s))throw f0(),Error(n(418));for(;o;)u0(s,o),o=Hs(o.nextSibling)}if(h0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){Pn=Hs(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}Pn=null}}else Pn=kn?Hs(s.stateNode.nextSibling):null;return!0}function f0(){for(var s=Pn;s;)s=Hs(s.nextSibling)}function _a(){Pn=kn=null,at=!1}function fp(s){Zn===null?Zn=[s]:Zn.push(s)}var cC=H.ReactCurrentBatchConfig;function Ql(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var f=c.stateNode}if(!f)throw Error(n(147,s));var y=f,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(E){var L=y.refs;E===null?delete L[x]:L[x]=E},o._stringRef=x,o)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function td(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function p0(s){var o=s._init;return o(s._payload)}function m0(s){function o(W,$){if(s){var K=W.deletions;K===null?(W.deletions=[$],W.flags|=16):K.push($)}}function c(W,$){if(!s)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function f(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function y(W,$){return W=ti(W,$),W.index=0,W.sibling=null,W}function x(W,$,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<$?(W.flags|=2,$):K):(W.flags|=2,$)):(W.flags|=1048576,$)}function E(W){return s&&W.alternate===null&&(W.flags|=2),W}function L(W,$,K,le){return $===null||$.tag!==6?($=sm(K,W.mode,le),$.return=W,$):($=y($,K),$.return=W,$)}function B(W,$,K,le){var we=K.type;return we===S?oe(W,$,K.props.children,le,K.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===te&&p0(we)===$.type)?(le=y($,K.props),le.ref=Ql(W,$,K),le.return=W,le):(le=Sd(K.type,K.key,K.props,null,W.mode,le),le.ref=Ql(W,$,K),le.return=W,le)}function Y(W,$,K,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=im(K,W.mode,le),$.return=W,$):($=y($,K.children||[]),$.return=W,$)}function oe(W,$,K,le,we){return $===null||$.tag!==7?($=lo(K,W.mode,le,we),$.return=W,$):($=y($,K),$.return=W,$)}function ae(W,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=sm(""+$,W.mode,K),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case X:return K=Sd($.type,$.key,$.props,null,W.mode,K),K.ref=Ql(W,null,$),K.return=W,K;case Q:return $=im($,W.mode,K),$.return=W,$;case te:var le=$._init;return ae(W,le($._payload),K)}if(yt($)||he($))return $=lo($,W.mode,K,null),$.return=W,$;td(W,$)}return null}function ie(W,$,K,le){var we=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return we!==null?null:L(W,$,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===we?B(W,$,K,le):null;case Q:return K.key===we?Y(W,$,K,le):null;case te:return we=K._init,ie(W,$,we(K._payload),le)}if(yt(K)||he(K))return we!==null?null:oe(W,$,K,le,null);td(W,K)}return null}function fe(W,$,K,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(K)||null,L($,W,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case X:return W=W.get(le.key===null?K:le.key)||null,B($,W,le,we);case Q:return W=W.get(le.key===null?K:le.key)||null,Y($,W,le,we);case te:var Ie=le._init;return fe(W,$,K,Ie(le._payload),we)}if(yt(le)||he(le))return W=W.get(K)||null,oe($,W,le,we,null);td($,le)}return null}function ve(W,$,K,le){for(var we=null,Ie=null,Ce=$,Pe=$=0,Vt=null;Ce!==null&&Pe<K.length;Pe++){Ce.index>Pe?(Vt=Ce,Ce=null):Vt=Ce.sibling;var Ke=ie(W,Ce,K[Pe],le);if(Ke===null){Ce===null&&(Ce=Vt);break}s&&Ce&&Ke.alternate===null&&o(W,Ce),$=x(Ke,$,Pe),Ie===null?we=Ke:Ie.sibling=Ke,Ie=Ke,Ce=Vt}if(Pe===K.length)return c(W,Ce),at&&eo(W,Pe),we;if(Ce===null){for(;Pe<K.length;Pe++)Ce=ae(W,K[Pe],le),Ce!==null&&($=x(Ce,$,Pe),Ie===null?we=Ce:Ie.sibling=Ce,Ie=Ce);return at&&eo(W,Pe),we}for(Ce=f(W,Ce);Pe<K.length;Pe++)Vt=fe(Ce,W,Pe,K[Pe],le),Vt!==null&&(s&&Vt.alternate!==null&&Ce.delete(Vt.key===null?Pe:Vt.key),$=x(Vt,$,Pe),Ie===null?we=Vt:Ie.sibling=Vt,Ie=Vt);return s&&Ce.forEach(function(ni){return o(W,ni)}),at&&eo(W,Pe),we}function xe(W,$,K,le){var we=he(K);if(typeof we!="function")throw Error(n(150));if(K=we.call(K),K==null)throw Error(n(151));for(var Ie=we=null,Ce=$,Pe=$=0,Vt=null,Ke=K.next();Ce!==null&&!Ke.done;Pe++,Ke=K.next()){Ce.index>Pe?(Vt=Ce,Ce=null):Vt=Ce.sibling;var ni=ie(W,Ce,Ke.value,le);if(ni===null){Ce===null&&(Ce=Vt);break}s&&Ce&&ni.alternate===null&&o(W,Ce),$=x(ni,$,Pe),Ie===null?we=ni:Ie.sibling=ni,Ie=ni,Ce=Vt}if(Ke.done)return c(W,Ce),at&&eo(W,Pe),we;if(Ce===null){for(;!Ke.done;Pe++,Ke=K.next())Ke=ae(W,Ke.value,le),Ke!==null&&($=x(Ke,$,Pe),Ie===null?we=Ke:Ie.sibling=Ke,Ie=Ke);return at&&eo(W,Pe),we}for(Ce=f(W,Ce);!Ke.done;Pe++,Ke=K.next())Ke=fe(Ce,W,Pe,Ke.value,le),Ke!==null&&(s&&Ke.alternate!==null&&Ce.delete(Ke.key===null?Pe:Ke.key),$=x(Ke,$,Pe),Ie===null?we=Ke:Ie.sibling=Ke,Ie=Ke);return s&&Ce.forEach(function(zC){return o(W,zC)}),at&&eo(W,Pe),we}function xt(W,$,K,le){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var we=K.key,Ie=$;Ie!==null;){if(Ie.key===we){if(we=K.type,we===S){if(Ie.tag===7){c(W,Ie.sibling),$=y(Ie,K.props.children),$.return=W,W=$;break e}}else if(Ie.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===te&&p0(we)===Ie.type){c(W,Ie.sibling),$=y(Ie,K.props),$.ref=Ql(W,Ie,K),$.return=W,W=$;break e}c(W,Ie);break}else o(W,Ie);Ie=Ie.sibling}K.type===S?($=lo(K.props.children,W.mode,le,K.key),$.return=W,W=$):(le=Sd(K.type,K.key,K.props,null,W.mode,le),le.ref=Ql(W,$,K),le.return=W,W=le)}return E(W);case Q:e:{for(Ie=K.key;$!==null;){if($.key===Ie)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){c(W,$.sibling),$=y($,K.children||[]),$.return=W,W=$;break e}else{c(W,$);break}else o(W,$);$=$.sibling}$=im(K,W.mode,le),$.return=W,W=$}return E(W);case te:return Ie=K._init,xt(W,$,Ie(K._payload),le)}if(yt(K))return ve(W,$,K,le);if(he(K))return xe(W,$,K,le);td(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(c(W,$.sibling),$=y($,K),$.return=W,W=$):(c(W,$),$=sm(K,W.mode,le),$.return=W,W=$),E(W)):c(W,$)}return xt}var ba=m0(!0),g0=m0(!1),nd=qs(null),rd=null,Ea=null,pp=null;function mp(){pp=Ea=rd=null}function gp(s){var o=nd.current;ot(nd),s._currentValue=o}function yp(s,o,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===c)break;s=s.return}}function Ta(s,o){rd=s,pp=Ea=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(mn=!0),s.firstContext=null)}function Un(s){var o=s._currentValue;if(pp!==s)if(s={context:s,memoizedValue:o,next:null},Ea===null){if(rd===null)throw Error(n(308));Ea=s,rd.dependencies={lanes:0,firstContext:s}}else Ea=Ea.next=s;return o}var to=null;function vp(s){to===null?to=[s]:to.push(s)}function y0(s,o,c,f){var y=o.interleaved;return y===null?(c.next=c,vp(o)):(c.next=y.next,y.next=c),o.interleaved=c,ss(s,f)}function ss(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ks=!1;function xp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function is(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Qs(s,o,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ge&2)!==0){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,ss(s,c)}return y=f.interleaved,y===null?(o.next=o,vp(f)):(o.next=y.next,y.next=o),f.interleaved=o,ss(s,c)}function sd(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Pl(s,c)}}function x0(s,o){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=E:x=x.next=E,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function id(s,o,c,f){var y=s.updateQueue;Ks=!1;var x=y.firstBaseUpdate,E=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var B=L,Y=B.next;B.next=null,E===null?x=Y:E.next=Y,E=B;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==E&&(L===null?oe.firstBaseUpdate=Y:L.next=Y,oe.lastBaseUpdate=B))}if(x!==null){var ae=y.baseState;E=0,oe=Y=B=null,L=x;do{var ie=L.lane,fe=L.eventTime;if((f&ie)===ie){oe!==null&&(oe=oe.next={eventTime:fe,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var ve=s,xe=L;switch(ie=o,fe=c,xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){ae=ve.call(fe,ae,ie);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,ie=typeof ve=="function"?ve.call(fe,ae,ie):ve,ie==null)break e;ae=ue({},ae,ie);break e;case 2:Ks=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ie=y.effects,ie===null?y.effects=[L]:ie.push(L))}else fe={eventTime:fe,lane:ie,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(Y=oe=fe,B=ae):oe=oe.next=fe,E|=ie;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;ie=L,L=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(oe===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Y,y.lastBaseUpdate=oe,o=y.shared.interleaved,o!==null){y=o;do E|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);so|=E,s.lanes=E,s.memoizedState=ae}}function w0(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(n(191,y));y.call(f)}}}var Yl={},Cr=qs(Yl),Xl=qs(Yl),Jl=qs(Yl);function no(s){if(s===Yl)throw Error(n(174));return s}function wp(s,o){switch(et(Jl,o),et(Xl,s),et(Cr,Yl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Wo(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Wo(o,s)}ot(Cr),et(Cr,o)}function Sa(){ot(Cr),ot(Xl),ot(Jl)}function _0(s){no(Jl.current);var o=no(Cr.current),c=Wo(o,s.type);o!==c&&(et(Xl,s),et(Cr,c))}function _p(s){Xl.current===s&&(ot(Cr),ot(Xl))}var lt=qs(0);function od(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bp=[];function Ep(){for(var s=0;s<bp.length;s++)bp[s]._workInProgressVersionPrimary=null;bp.length=0}var ad=H.ReactCurrentDispatcher,Tp=H.ReactCurrentBatchConfig,ro=0,ct=null,Nt=null,Lt=null,ld=!1,Zl=!1,ec=0,uC=0;function Jt(){throw Error(n(321))}function Sp(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Jn(s[c],o[c]))return!1;return!0}function Ip(s,o,c,f,y,x){if(ro=x,ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,ad.current=s===null||s.memoizedState===null?pC:mC,s=c(f,y),Zl){x=0;do{if(Zl=!1,ec=0,25<=x)throw Error(n(301));x+=1,Lt=Nt=null,o.updateQueue=null,ad.current=gC,s=c(f,y)}while(Zl)}if(ad.current=dd,o=Nt!==null&&Nt.next!==null,ro=0,Lt=Nt=ct=null,ld=!1,o)throw Error(n(300));return s}function Cp(){var s=ec!==0;return ec=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ct.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function Bn(){if(Nt===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=Nt.next;var o=Lt===null?ct.memoizedState:Lt.next;if(o!==null)Lt=o,Nt=s;else{if(s===null)throw Error(n(310));Nt=s,s={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Lt===null?ct.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function tc(s,o){return typeof o=="function"?o(s):o}function Ap(s){var o=Bn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=Nt,y=f.baseQueue,x=c.pending;if(x!==null){if(y!==null){var E=y.next;y.next=x.next,x.next=E}f.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,f=f.baseState;var L=E=null,B=null,Y=x;do{var oe=Y.lane;if((ro&oe)===oe)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:s(f,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(L=B=ae,E=f):B=B.next=ae,ct.lanes|=oe,so|=oe}Y=Y.next}while(Y!==null&&Y!==x);B===null?E=f:B.next=L,Jn(f,o.memoizedState)||(mn=!0),o.memoizedState=f,o.baseState=E,o.baseQueue=B,c.lastRenderedState=f}if(s=c.interleaved,s!==null){y=s;do x=y.lane,ct.lanes|=x,so|=x,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function kp(s){var o=Bn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var f=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var E=y=y.next;do x=s(x,E.action),E=E.next;while(E!==y);Jn(x,o.memoizedState)||(mn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,f]}function b0(){}function E0(s,o){var c=ct,f=Bn(),y=o(),x=!Jn(f.memoizedState,y);if(x&&(f.memoizedState=y,mn=!0),f=f.queue,Pp(I0.bind(null,c,f,s),[s]),f.getSnapshot!==o||x||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,nc(9,S0.bind(null,c,f,y,o),void 0,null),Mt===null)throw Error(n(349));(ro&30)!==0||T0(c,o,y)}return y}function T0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function S0(s,o,c,f){o.value=c,o.getSnapshot=f,C0(o)&&A0(s)}function I0(s,o,c){return c(function(){C0(o)&&A0(s)})}function C0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Jn(s,c)}catch{return!0}}function A0(s){var o=ss(s,1);o!==null&&rr(o,s,1,-1)}function k0(s){var o=Ar();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tc,lastRenderedState:s},o.queue=s,s=s.dispatch=fC.bind(null,ct,s),[o.memoizedState,s]}function nc(s,o,c,f){return s={tag:s,create:o,destroy:c,deps:f,next:null},o=ct.updateQueue,o===null?(o={lastEffect:null,stores:null},ct.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,o.lastEffect=s)),s}function P0(){return Bn().memoizedState}function cd(s,o,c,f){var y=Ar();ct.flags|=s,y.memoizedState=nc(1|o,c,void 0,f===void 0?null:f)}function ud(s,o,c,f){var y=Bn();f=f===void 0?null:f;var x=void 0;if(Nt!==null){var E=Nt.memoizedState;if(x=E.destroy,f!==null&&Sp(f,E.deps)){y.memoizedState=nc(o,c,x,f);return}}ct.flags|=s,y.memoizedState=nc(1|o,c,x,f)}function R0(s,o){return cd(8390656,8,s,o)}function Pp(s,o){return ud(2048,8,s,o)}function N0(s,o){return ud(4,2,s,o)}function j0(s,o){return ud(4,4,s,o)}function D0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function O0(s,o,c){return c=c!=null?c.concat([s]):null,ud(4,4,D0.bind(null,o,s),c)}function Rp(){}function L0(s,o){var c=Bn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Sp(o,f[1])?f[0]:(c.memoizedState=[s,o],s)}function M0(s,o){var c=Bn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Sp(o,f[1])?f[0]:(s=s(),c.memoizedState=[s,o],s)}function V0(s,o,c){return(ro&21)===0?(s.baseState&&(s.baseState=!1,mn=!0),s.memoizedState=c):(Jn(c,o)||(c=Al(),ct.lanes|=c,so|=c,s.baseState=!0),o)}function dC(s,o){var c=He;He=c!==0&&4>c?c:4,s(!0);var f=Tp.transition;Tp.transition={};try{s(!1),o()}finally{He=c,Tp.transition=f}}function F0(){return Bn().memoizedState}function hC(s,o,c){var f=Zs(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},U0(s))B0(o,c);else if(c=y0(s,o,c,f),c!==null){var y=cn();rr(c,s,f,y),z0(c,o,f)}}function fC(s,o,c){var f=Zs(s),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(U0(s))B0(o,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,L=x(E,c);if(y.hasEagerState=!0,y.eagerState=L,Jn(L,E)){var B=o.interleaved;B===null?(y.next=y,vp(o)):(y.next=B.next,B.next=y),o.interleaved=y;return}}catch{}finally{}c=y0(s,o,y,f),c!==null&&(y=cn(),rr(c,s,f,y),z0(c,o,f))}}function U0(s){var o=s.alternate;return s===ct||o!==null&&o===ct}function B0(s,o){Zl=ld=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function z0(s,o,c){if((c&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,c|=f,o.lanes=c,Pl(s,c)}}var dd={readContext:Un,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},pC={readContext:Un,useCallback:function(s,o){return Ar().memoizedState=[s,o===void 0?null:o],s},useContext:Un,useEffect:R0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,cd(4194308,4,D0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return cd(4194308,4,s,o)},useInsertionEffect:function(s,o){return cd(4,2,s,o)},useMemo:function(s,o){var c=Ar();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var f=Ar();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=hC.bind(null,ct,s),[f.memoizedState,s]},useRef:function(s){var o=Ar();return s={current:s},o.memoizedState=s},useState:k0,useDebugValue:Rp,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=k0(!1),o=s[0];return s=dC.bind(null,s[1]),Ar().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var f=ct,y=Ar();if(at){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Mt===null)throw Error(n(349));(ro&30)!==0||T0(f,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,R0(I0.bind(null,f,x,s),[s]),f.flags|=2048,nc(9,S0.bind(null,f,x,c,o),void 0,null),c},useId:function(){var s=Ar(),o=Mt.identifierPrefix;if(at){var c=rs,f=ns;c=(f&~(1<<32-Tn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=ec++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=uC++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},mC={readContext:Un,useCallback:L0,useContext:Un,useEffect:Pp,useImperativeHandle:O0,useInsertionEffect:N0,useLayoutEffect:j0,useMemo:M0,useReducer:Ap,useRef:P0,useState:function(){return Ap(tc)},useDebugValue:Rp,useDeferredValue:function(s){var o=Bn();return V0(o,Nt.memoizedState,s)},useTransition:function(){var s=Ap(tc)[0],o=Bn().memoizedState;return[s,o]},useMutableSource:b0,useSyncExternalStore:E0,useId:F0,unstable_isNewReconciler:!1},gC={readContext:Un,useCallback:L0,useContext:Un,useEffect:Pp,useImperativeHandle:O0,useInsertionEffect:N0,useLayoutEffect:j0,useMemo:M0,useReducer:kp,useRef:P0,useState:function(){return kp(tc)},useDebugValue:Rp,useDeferredValue:function(s){var o=Bn();return Nt===null?o.memoizedState=s:V0(o,Nt.memoizedState,s)},useTransition:function(){var s=kp(tc)[0],o=Bn().memoizedState;return[s,o]},useMutableSource:b0,useSyncExternalStore:E0,useId:F0,unstable_isNewReconciler:!1};function er(s,o){if(s&&s.defaultProps){o=ue({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Np(s,o,c,f){o=s.memoizedState,c=c(f,o),c=c==null?o:ue({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var hd={isMounted:function(s){return(s=s._reactInternals)?Yn(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var f=cn(),y=Zs(s),x=is(f,y);x.payload=o,c!=null&&(x.callback=c),o=Qs(s,x,y),o!==null&&(rr(o,s,y,f),sd(o,s,y))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var f=cn(),y=Zs(s),x=is(f,y);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Qs(s,x,y),o!==null&&(rr(o,s,y,f),sd(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=cn(),f=Zs(s),y=is(c,f);y.tag=2,o!=null&&(y.callback=o),o=Qs(s,y,f),o!==null&&(rr(o,s,f,c),sd(o,s,f))}};function $0(s,o,c,f,y,x,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,x,E):o.prototype&&o.prototype.isPureReactComponent?!zl(c,f)||!zl(y,x):!0}function H0(s,o,c){var f=!1,y=Ws,x=o.contextType;return typeof x=="object"&&x!==null?x=Un(x):(y=pn(o)?Ji:Xt.current,f=o.contextTypes,x=(f=f!=null)?va(s,y):Ws),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=hd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),o}function q0(s,o,c,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==s&&hd.enqueueReplaceState(o,o.state,null)}function jp(s,o,c,f){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},xp(s);var x=o.contextType;typeof x=="object"&&x!==null?y.context=Un(x):(x=pn(o)?Ji:Xt.current,y.context=va(s,x)),y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Np(s,o,x,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&hd.enqueueReplaceState(y,y.state,null),id(s,c,y,f),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Ia(s,o){try{var c="",f=o;do c+=Le(f),f=f.return;while(f);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:y,digest:null}}function Dp(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Op(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var yC=typeof WeakMap=="function"?WeakMap:Map;function W0(s,o,c){c=is(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){xd||(xd=!0,Yp=f),Op(s,o)},c}function G0(s,o,c){c=is(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;c.payload=function(){return f(y)},c.callback=function(){Op(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Op(s,o),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function K0(s,o,c){var f=s.pingCache;if(f===null){f=s.pingCache=new yC;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(y.add(c),s=RC.bind(null,s,o,c),o.then(s,s))}function Q0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Y0(s,o,c,f,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=is(-1,1),o.tag=2,Qs(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var vC=H.ReactCurrentOwner,mn=!1;function ln(s,o,c,f){o.child=s===null?g0(o,null,c,f):ba(o,s.child,c,f)}function X0(s,o,c,f,y){c=c.render;var x=o.ref;return Ta(o,y),f=Ip(s,o,c,f,x,y),c=Cp(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,os(s,o,y)):(at&&c&&cp(o),o.flags|=1,ln(s,o,f,y),o.child)}function J0(s,o,c,f,y){if(s===null){var x=c.type;return typeof x=="function"&&!rm(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,Z0(s,o,x,f,y)):(s=Sd(c.type,null,f,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&y)===0){var E=x.memoizedProps;if(c=c.compare,c=c!==null?c:zl,c(E,f)&&s.ref===o.ref)return os(s,o,y)}return o.flags|=1,s=ti(x,f),s.ref=o.ref,s.return=o,o.child=s}function Z0(s,o,c,f,y){if(s!==null){var x=s.memoizedProps;if(zl(x,f)&&s.ref===o.ref)if(mn=!1,o.pendingProps=f=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(mn=!0);else return o.lanes=s.lanes,os(s,o,y)}return Lp(s,o,c,f,y)}function ex(s,o,c){var f=o.pendingProps,y=f.children,x=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Aa,Rn),Rn|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,et(Aa,Rn),Rn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:c,et(Aa,Rn),Rn|=f}else x!==null?(f=x.baseLanes|c,o.memoizedState=null):f=c,et(Aa,Rn),Rn|=f;return ln(s,o,y,c),o.child}function tx(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Lp(s,o,c,f,y){var x=pn(c)?Ji:Xt.current;return x=va(o,x),Ta(o,y),c=Ip(s,o,c,f,x,y),f=Cp(),s!==null&&!mn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,os(s,o,y)):(at&&f&&cp(o),o.flags|=1,ln(s,o,c,y),o.child)}function nx(s,o,c,f,y){if(pn(c)){var x=!0;Yu(o)}else x=!1;if(Ta(o,y),o.stateNode===null)pd(s,o),H0(o,c,f),jp(o,c,f,y),f=!0;else if(s===null){var E=o.stateNode,L=o.memoizedProps;E.props=L;var B=E.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Un(Y):(Y=pn(c)?Ji:Xt.current,Y=va(o,Y));var oe=c.getDerivedStateFromProps,ae=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";ae||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==f||B!==Y)&&q0(o,E,f,Y),Ks=!1;var ie=o.memoizedState;E.state=ie,id(o,f,E,y),B=o.memoizedState,L!==f||ie!==B||fn.current||Ks?(typeof oe=="function"&&(Np(o,c,oe,f),B=o.memoizedState),(L=Ks||$0(o,c,L,f,ie,B,Y))?(ae||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),E.props=f,E.state=B,E.context=Y,f=L):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{E=o.stateNode,v0(s,o),L=o.memoizedProps,Y=o.type===o.elementType?L:er(o.type,L),E.props=Y,ae=o.pendingProps,ie=E.context,B=c.contextType,typeof B=="object"&&B!==null?B=Un(B):(B=pn(c)?Ji:Xt.current,B=va(o,B));var fe=c.getDerivedStateFromProps;(oe=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L!==ae||ie!==B)&&q0(o,E,f,B),Ks=!1,ie=o.memoizedState,E.state=ie,id(o,f,E,y);var ve=o.memoizedState;L!==ae||ie!==ve||fn.current||Ks?(typeof fe=="function"&&(Np(o,c,fe,f),ve=o.memoizedState),(Y=Ks||$0(o,c,Y,f,ie,ve,B)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,ve,B),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,ve,B)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ve),E.props=f,E.state=ve,E.context=B,f=Y):(typeof E.componentDidUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),f=!1)}return Mp(s,o,c,f,x,y)}function Mp(s,o,c,f,y,x){tx(s,o);var E=(o.flags&128)!==0;if(!f&&!E)return y&&a0(o,c,!1),os(s,o,x);f=o.stateNode,vC.current=o;var L=E&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&E?(o.child=ba(o,s.child,null,x),o.child=ba(o,null,L,x)):ln(s,o,L,x),o.memoizedState=f.state,y&&a0(o,c,!0),o.child}function rx(s){var o=s.stateNode;o.pendingContext?i0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&i0(s,o.context,!1),wp(s,o.containerInfo)}function sx(s,o,c,f,y){return _a(),fp(y),o.flags|=256,ln(s,o,c,f),o.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function Fp(s){return{baseLanes:s,cachePool:null,transitions:null}}function ix(s,o,c){var f=o.pendingProps,y=lt.current,x=!1,E=(o.flags&128)!==0,L;if((L=E)||(L=s!==null&&s.memoizedState===null?!1:(y&2)!==0),L?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),et(lt,y&1),s===null)return hp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=f.children,s=f.fallback,x?(f=o.mode,x=o.child,E={mode:"hidden",children:E},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=Id(E,f,0,null),s=lo(s,f,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Fp(c),o.memoizedState=Vp,s):Up(o,E));if(y=s.memoizedState,y!==null&&(L=y.dehydrated,L!==null))return xC(s,o,E,f,L,y,c);if(x){x=f.fallback,E=o.mode,y=s.child,L=y.sibling;var B={mode:"hidden",children:f.children};return(E&1)===0&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=ti(y,B),f.subtreeFlags=y.subtreeFlags&14680064),L!==null?x=ti(L,x):(x=lo(x,E,c,null),x.flags|=2),x.return=o,f.return=o,f.sibling=x,o.child=f,f=x,x=o.child,E=s.child.memoizedState,E=E===null?Fp(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=s.childLanes&~c,o.memoizedState=Vp,f}return x=s.child,s=x.sibling,f=ti(x,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=c),f.return=o,f.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=f,o.memoizedState=null,f}function Up(s,o){return o=Id({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function fd(s,o,c,f){return f!==null&&fp(f),ba(o,s.child,null,c),s=Up(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function xC(s,o,c,f,y,x,E){if(c)return o.flags&256?(o.flags&=-257,f=Dp(Error(n(422))),fd(s,o,E,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=f.fallback,y=o.mode,f=Id({mode:"visible",children:f.children},y,0,null),x=lo(x,y,E,null),x.flags|=2,f.return=o,x.return=o,f.sibling=x,o.child=f,(o.mode&1)!==0&&ba(o,s.child,null,E),o.child.memoizedState=Fp(E),o.memoizedState=Vp,x);if((o.mode&1)===0)return fd(s,o,E,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var L=f.dgst;return f=L,x=Error(n(419)),f=Dp(x,f,void 0),fd(s,o,E,f)}if(L=(E&s.childLanes)!==0,mn||L){if(f=Mt,f!==null){switch(E&-E){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(f.suspendedLanes|E))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,ss(s,y),rr(f,s,y,-1))}return nm(),f=Dp(Error(n(421))),fd(s,o,E,f)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=NC.bind(null,s),y._reactRetry=o,null):(s=x.treeContext,Pn=Hs(y.nextSibling),kn=o,at=!0,Zn=null,s!==null&&(Vn[Fn++]=ns,Vn[Fn++]=rs,Vn[Fn++]=Zi,ns=s.id,rs=s.overflow,Zi=o),o=Up(o,f.children),o.flags|=4096,o)}function ox(s,o,c){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),yp(s.return,o,c)}function Bp(s,o,c,f,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=c,x.tailMode=y)}function ax(s,o,c){var f=o.pendingProps,y=f.revealOrder,x=f.tail;if(ln(s,o,f.children,c),f=lt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ox(s,c,o);else if(s.tag===19)ox(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(et(lt,f),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&od(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Bp(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&od(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Bp(o,!0,c,null,x);break;case"together":Bp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function pd(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function os(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,c=ti(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=ti(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function wC(s,o,c){switch(o.tag){case 3:rx(o),_a();break;case 5:_0(o);break;case 1:pn(o.type)&&Yu(o);break;case 4:wp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;et(nd,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(et(lt,lt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?ix(s,o,c):(et(lt,lt.current&1),s=os(s,o,c),s!==null?s.sibling:null);et(lt,lt.current&1);break;case 19:if(f=(c&o.childLanes)!==0,(s.flags&128)!==0){if(f)return ax(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),et(lt,lt.current),f)break;return null;case 22:case 23:return o.lanes=0,ex(s,o,c)}return os(s,o,c)}var lx,zp,cx,ux;lx=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},zp=function(){},cx=function(s,o,c,f){var y=s.memoizedProps;if(y!==f){s=o.stateNode,no(Cr.current);var x=null;switch(c){case"input":y=Ho(s,y),f=Ho(s,f),x=[];break;case"select":y=ue({},y,{value:void 0}),f=ue({},f,{value:void 0}),x=[];break;case"textarea":y=yl(s,y),f=yl(s,f),x=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Gu)}Qn(c,f);var E;c=null;for(Y in y)if(!f.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var L=y[Y];for(E in L)L.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in f){var B=f[Y];if(L=y?.[Y],f.hasOwnProperty(Y)&&B!==L&&(B!=null||L!=null))if(Y==="style")if(L){for(E in L)!L.hasOwnProperty(E)||B&&B.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in B)B.hasOwnProperty(E)&&L[E]!==B[E]&&(c||(c={}),c[E]=B[E])}else c||(x||(x=[]),x.push(Y,c)),c=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,L=L?L.__html:void 0,B!=null&&L!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&it("scroll",s),x||L===B||(x=[])):(x=x||[]).push(Y,B))}c&&(x=x||[]).push("style",c);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},ux=function(s,o,c,f){c!==f&&(o.flags|=4)};function rc(s,o){if(!at)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Zt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=f,s.childLanes=c,o}function _C(s,o,c){var f=o.pendingProps;switch(up(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(o),null;case 1:return pn(o.type)&&Qu(),Zt(o),null;case 3:return f=o.stateNode,Sa(),ot(fn),ot(Xt),Ep(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(ed(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zn!==null&&(Zp(Zn),Zn=null))),zp(s,o),Zt(o),null;case 5:_p(o);var y=no(Jl.current);if(c=o.type,s!==null&&o.stateNode!=null)cx(s,o,c,f,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Zt(o),null}if(s=no(Cr.current),ed(o)){f=o.stateNode,c=o.type;var x=o.memoizedProps;switch(f[Ir]=o,f[Gl]=x,s=(o.mode&1)!==0,c){case"dialog":it("cancel",f),it("close",f);break;case"iframe":case"object":case"embed":it("load",f);break;case"video":case"audio":for(y=0;y<Hl.length;y++)it(Hl[y],f);break;case"source":it("error",f);break;case"img":case"image":case"link":it("error",f),it("load",f);break;case"details":it("toggle",f);break;case"input":vu(f,x),it("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},it("invalid",f);break;case"textarea":vl(f,x),it("invalid",f)}Qn(c,x),y=null;for(var E in x)if(x.hasOwnProperty(E)){var L=x[E];E==="children"?typeof L=="string"?f.textContent!==L&&(x.suppressHydrationWarning!==!0&&Wu(f.textContent,L,s),y=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(x.suppressHydrationWarning!==!0&&Wu(f.textContent,L,s),y=["children",""+L]):i.hasOwnProperty(E)&&L!=null&&E==="onScroll"&&it("scroll",f)}switch(c){case"input":hn(f),gl(f,x,!0);break;case"textarea":hn(f),As(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Gu)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{E=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=xl(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=E.createElement(c,{is:f.is}):(s=E.createElement(c),c==="select"&&(E=s,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):s=E.createElementNS(s,c),s[Ir]=o,s[Gl]=f,lx(s,o,!1,!1),o.stateNode=s;e:{switch(E=Ko(c,f),c){case"dialog":it("cancel",s),it("close",s),y=f;break;case"iframe":case"object":case"embed":it("load",s),y=f;break;case"video":case"audio":for(y=0;y<Hl.length;y++)it(Hl[y],s);y=f;break;case"source":it("error",s),y=f;break;case"img":case"image":case"link":it("error",s),it("load",s),y=f;break;case"details":it("toggle",s),y=f;break;case"input":vu(s,f),y=Ho(s,f),it("invalid",s);break;case"option":y=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},y=ue({},f,{value:void 0}),it("invalid",s);break;case"textarea":vl(s,f),y=yl(s,f),it("invalid",s);break;default:y=f}Qn(c,y),L=y;for(x in L)if(L.hasOwnProperty(x)){var B=L[x];x==="style"?Go(s,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&wu(s,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&Mi(s,B):typeof B=="number"&&Mi(s,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?B!=null&&x==="onScroll"&&it("scroll",s):B!=null&&k(s,x,B,E))}switch(c){case"input":hn(s),gl(s,f,!1);break;case"textarea":hn(s),As(s);break;case"option":f.value!=null&&s.setAttribute("value",""+$e(f.value));break;case"select":s.multiple=!!f.multiple,x=f.value,x!=null?Kn(s,!!f.multiple,x,!1):f.defaultValue!=null&&Kn(s,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Gu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Zt(o),null;case 6:if(s&&o.stateNode!=null)ux(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(c=no(Jl.current),no(Cr.current),ed(o)){if(f=o.stateNode,c=o.memoizedProps,f[Ir]=o,(x=f.nodeValue!==c)&&(s=kn,s!==null))switch(s.tag){case 3:Wu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Wu(f.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Ir]=o,o.stateNode=f}return Zt(o),null;case 13:if(ot(lt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Pn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)f0(),_a(),o.flags|=98560,x=!1;else if(x=ed(o),f!==null&&f.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Ir]=o}else _a(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zt(o),x=!1}else Zn!==null&&(Zp(Zn),Zn=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(lt.current&1)!==0?jt===0&&(jt=3):nm())),o.updateQueue!==null&&(o.flags|=4),Zt(o),null);case 4:return Sa(),zp(s,o),s===null&&ql(o.stateNode.containerInfo),Zt(o),null;case 10:return gp(o.type._context),Zt(o),null;case 17:return pn(o.type)&&Qu(),Zt(o),null;case 19:if(ot(lt),x=o.memoizedState,x===null)return Zt(o),null;if(f=(o.flags&128)!==0,E=x.rendering,E===null)if(f)rc(x,!1);else{if(jt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=od(s),E!==null){for(o.flags|=128,rc(x,!1),f=E.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)x=c,s=f,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,s=E.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return et(lt,lt.current&1|2),o.child}s=s.sibling}x.tail!==null&&st()>ka&&(o.flags|=128,f=!0,rc(x,!1),o.lanes=4194304)}else{if(!f)if(s=od(E),s!==null){if(o.flags|=128,f=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),rc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!at)return Zt(o),null}else 2*st()-x.renderingStartTime>ka&&c!==1073741824&&(o.flags|=128,f=!0,rc(x,!1),o.lanes=4194304);x.isBackwards?(E.sibling=o.child,o.child=E):(c=x.last,c!==null?c.sibling=E:o.child=E,x.last=E)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=st(),o.sibling=null,c=lt.current,et(lt,f?c&1|2:c&1),o):(Zt(o),null);case 22:case 23:return tm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Rn&1073741824)!==0&&(Zt(o),o.subtreeFlags&6&&(o.flags|=8192)):Zt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function bC(s,o){switch(up(o),o.tag){case 1:return pn(o.type)&&Qu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Sa(),ot(fn),ot(Xt),Ep(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return _p(o),null;case 13:if(ot(lt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));_a()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ot(lt),null;case 4:return Sa(),null;case 10:return gp(o.type._context),null;case 22:case 23:return tm(),null;case 24:return null;default:return null}}var md=!1,en=!1,EC=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ca(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){ft(s,o,f)}else c.current=null}function $p(s,o,c){try{c()}catch(f){ft(s,o,f)}}var dx=!1;function TC(s,o){if(tp=Xr,s=$v(),Gf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var E=0,L=-1,B=-1,Y=0,oe=0,ae=s,ie=null;t:for(;;){for(var fe;ae!==c||y!==0&&ae.nodeType!==3||(L=E+y),ae!==x||f!==0&&ae.nodeType!==3||(B=E+f),ae.nodeType===3&&(E+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)ie=ae,ae=fe;for(;;){if(ae===s)break t;if(ie===c&&++Y===y&&(L=E),ie===x&&++oe===f&&(B=E),(fe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=fe}c=L===-1||B===-1?null:{start:L,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(np={focusedElem:s,selectionRange:c},Xr=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var xe=ve.memoizedProps,xt=ve.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?xe:er(o.type,xe),xt);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){ft(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ve=dx,dx=!1,ve}function sc(s,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&$p(o,c,x)}y=y.next}while(y!==f)}}function gd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Hp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function hx(s){var o=s.alternate;o!==null&&(s.alternate=null,hx(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[Gl],delete o[op],delete o[oC],delete o[aC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fx(s){return s.tag===5||s.tag===3||s.tag===4}function px(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Gu));else if(f!==4&&(s=s.child,s!==null))for(qp(s,o,c),s=s.sibling;s!==null;)qp(s,o,c),s=s.sibling}function Wp(s,o,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(Wp(s,o,c),s=s.sibling;s!==null;)Wp(s,o,c),s=s.sibling}var Wt=null,tr=!1;function Ys(s,o,c){for(c=c.child;c!==null;)mx(s,o,c),c=c.sibling}function mx(s,o,c){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(zi,c)}catch{}switch(c.tag){case 5:en||Ca(c,o);case 6:var f=Wt,y=tr;Wt=null,Ys(s,o,c),Wt=f,tr=y,Wt!==null&&(tr?(s=Wt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Wt.removeChild(c.stateNode));break;case 18:Wt!==null&&(tr?(s=Wt,c=c.stateNode,s.nodeType===8?ip(s.parentNode,c):s.nodeType===1&&ip(s,c),Us(s)):ip(Wt,c.stateNode));break;case 4:f=Wt,y=tr,Wt=c.stateNode.containerInfo,tr=!0,Ys(s,o,c),Wt=f,tr=y;break;case 0:case 11:case 14:case 15:if(!en&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var x=y,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&$p(c,o,E),y=y.next}while(y!==f)}Ys(s,o,c);break;case 1:if(!en&&(Ca(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){ft(c,o,L)}Ys(s,o,c);break;case 21:Ys(s,o,c);break;case 22:c.mode&1?(en=(f=en)||c.memoizedState!==null,Ys(s,o,c),en=f):Ys(s,o,c);break;default:Ys(s,o,c)}}function gx(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new EC),o.forEach(function(f){var y=jC.bind(null,s,f);c.has(f)||(c.add(f),f.then(y,y))})}}function nr(s,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var x=s,E=o,L=E;e:for(;L!==null;){switch(L.tag){case 5:Wt=L.stateNode,tr=!1;break e;case 3:Wt=L.stateNode.containerInfo,tr=!0;break e;case 4:Wt=L.stateNode.containerInfo,tr=!0;break e}L=L.return}if(Wt===null)throw Error(n(160));mx(x,E,y),Wt=null,tr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Y){ft(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)yx(o,s),o=o.sibling}function yx(s,o){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(nr(o,s),kr(s),f&4){try{sc(3,s,s.return),gd(3,s)}catch(xe){ft(s,s.return,xe)}try{sc(5,s,s.return)}catch(xe){ft(s,s.return,xe)}}break;case 1:nr(o,s),kr(s),f&512&&c!==null&&Ca(c,c.return);break;case 5:if(nr(o,s),kr(s),f&512&&c!==null&&Ca(c,c.return),s.flags&32){var y=s.stateNode;try{Mi(y,"")}catch(xe){ft(s,s.return,xe)}}if(f&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,E=c!==null?c.memoizedProps:x,L=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{L==="input"&&x.type==="radio"&&x.name!=null&&qo(y,x),Ko(L,E);var Y=Ko(L,x);for(E=0;E<B.length;E+=2){var oe=B[E],ae=B[E+1];oe==="style"?Go(y,ae):oe==="dangerouslySetInnerHTML"?wu(y,ae):oe==="children"?Mi(y,ae):k(y,oe,ae,Y)}switch(L){case"input":Li(y,x);break;case"textarea":xu(y,x);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var fe=x.value;fe!=null?Kn(y,!!x.multiple,fe,!1):ie!==!!x.multiple&&(x.defaultValue!=null?Kn(y,!!x.multiple,x.defaultValue,!0):Kn(y,!!x.multiple,x.multiple?[]:"",!1))}y[Gl]=x}catch(xe){ft(s,s.return,xe)}}break;case 6:if(nr(o,s),kr(s),f&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(xe){ft(s,s.return,xe)}}break;case 3:if(nr(o,s),kr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Us(o.containerInfo)}catch(xe){ft(s,s.return,xe)}break;case 4:nr(o,s),kr(s);break;case 13:nr(o,s),kr(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Qp=st())),f&4&&gx(s);break;case 22:if(oe=c!==null&&c.memoizedState!==null,s.mode&1?(en=(Y=en)||oe,nr(o,s),en=Y):nr(o,s),kr(s),f&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&(s.mode&1)!==0)for(me=s,oe=s.child;oe!==null;){for(ae=me=oe;me!==null;){switch(ie=me,fe=ie.child,ie.tag){case 0:case 11:case 14:case 15:sc(4,ie,ie.return);break;case 1:Ca(ie,ie.return);var ve=ie.stateNode;if(typeof ve.componentWillUnmount=="function"){f=ie,c=ie.return;try{o=f,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(xe){ft(f,c,xe)}}break;case 5:Ca(ie,ie.return);break;case 22:if(ie.memoizedState!==null){wx(ae);continue}}fe!==null?(fe.return=ie,me=fe):wx(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{y=ae.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(L=ae.stateNode,B=ae.memoizedProps.style,E=B!=null&&B.hasOwnProperty("display")?B.display:null,L.style.display=Rs("display",E))}catch(xe){ft(s,s.return,xe)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(xe){ft(s,s.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:nr(o,s),kr(s),f&4&&gx(s);break;case 21:break;default:nr(o,s),kr(s)}}function kr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(fx(c)){var f=c;break e}c=c.return}throw Error(n(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(Mi(y,""),f.flags&=-33);var x=px(s);Wp(s,x,y);break;case 3:case 4:var E=f.stateNode.containerInfo,L=px(s);qp(s,L,E);break;default:throw Error(n(161))}}catch(B){ft(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function SC(s,o,c){me=s,vx(s)}function vx(s,o,c){for(var f=(s.mode&1)!==0;me!==null;){var y=me,x=y.child;if(y.tag===22&&f){var E=y.memoizedState!==null||md;if(!E){var L=y.alternate,B=L!==null&&L.memoizedState!==null||en;L=md;var Y=en;if(md=E,(en=B)&&!Y)for(me=y;me!==null;)E=me,B=E.child,E.tag===22&&E.memoizedState!==null?_x(y):B!==null?(B.return=E,me=B):_x(y);for(;x!==null;)me=x,vx(x),x=x.sibling;me=y,md=L,en=Y}xx(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,me=x):xx(s)}}function xx(s){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:en||gd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!en)if(c===null)f.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:er(o.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&w0(o,x,f);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}w0(o,E,c)}break;case 5:var L=o.stateNode;if(c===null&&o.flags&4){c=L;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Us(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||o.flags&512&&Hp(o)}catch(ie){ft(o,o.return,ie)}}if(o===s){me=null;break}if(c=o.sibling,c!==null){c.return=o.return,me=c;break}me=o.return}}function wx(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var c=o.sibling;if(c!==null){c.return=o.return,me=c;break}me=o.return}}function _x(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{gd(4,o)}catch(B){ft(o,c,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch(B){ft(o,y,B)}}var x=o.return;try{Hp(o)}catch(B){ft(o,x,B)}break;case 5:var E=o.return;try{Hp(o)}catch(B){ft(o,E,B)}}}catch(B){ft(o,o.return,B)}if(o===s){me=null;break}var L=o.sibling;if(L!==null){L.return=o.return,me=L;break}me=o.return}}var IC=Math.ceil,yd=H.ReactCurrentDispatcher,Gp=H.ReactCurrentOwner,zn=H.ReactCurrentBatchConfig,Ge=0,Mt=null,It=null,Gt=0,Rn=0,Aa=qs(0),jt=0,ic=null,so=0,vd=0,Kp=0,oc=null,gn=null,Qp=0,ka=1/0,as=null,xd=!1,Yp=null,Xs=null,wd=!1,Js=null,_d=0,ac=0,Xp=null,bd=-1,Ed=0;function cn(){return(Ge&6)!==0?st():bd!==-1?bd:bd=st()}function Zs(s){return(s.mode&1)===0?1:(Ge&2)!==0&&Gt!==0?Gt&-Gt:cC.transition!==null?(Ed===0&&(Ed=Al()),Ed):(s=He,s!==0||(s=window.event,s=s===void 0?16:sa(s.type)),s)}function rr(s,o,c,f){if(50<ac)throw ac=0,Xp=null,Error(n(185));Wi(s,c,f),((Ge&2)===0||s!==Mt)&&(s===Mt&&((Ge&2)===0&&(vd|=c),jt===4&&ei(s,Gt)),yn(s,f),c===1&&Ge===0&&(o.mode&1)===0&&(ka=st()+500,Xu&&Gs()))}function yn(s,o){var c=s.callbackNode;qi(s,o);var f=Kr(s,s===Mt?Gt:0);if(f===0)c!==null&&Xo(c),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(c!=null&&Xo(c),o===1)s.tag===0?lC(Ex.bind(null,s)):l0(Ex.bind(null,s)),sC(function(){(Ge&6)===0&&Gs()}),c=null;else{switch(gr(f)){case 1:c=Jo;break;case 4:c=Sl;break;case 16:c=Bi;break;case 536870912:c=Zo;break;default:c=Bi}c=Rx(c,bx.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function bx(s,o){if(bd=-1,Ed=0,(Ge&6)!==0)throw Error(n(327));var c=s.callbackNode;if(Pa()&&s.callbackNode!==c)return null;var f=Kr(s,s===Mt?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Td(s,f);else{o=f;var y=Ge;Ge|=2;var x=Sx();(Mt!==s||Gt!==o)&&(as=null,ka=st()+500,oo(s,o));do try{kC();break}catch(L){Tx(s,L)}while(!0);mp(),yd.current=x,Ge=y,It!==null?o=0:(Mt=null,Gt=0,o=jt)}if(o!==0){if(o===2&&(y=Cl(s),y!==0&&(f=y,o=Jp(s,y))),o===1)throw c=ic,oo(s,0),ei(s,f),yn(s,st()),c;if(o===6)ei(s,f);else{if(y=s.current.alternate,(f&30)===0&&!CC(y)&&(o=Td(s,f),o===2&&(x=Cl(s),x!==0&&(f=x,o=Jp(s,x))),o===1))throw c=ic,oo(s,0),ei(s,f),yn(s,st()),c;switch(s.finishedWork=y,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:ao(s,gn,as);break;case 3:if(ei(s,f),(f&130023424)===f&&(o=Qp+500-st(),10<o)){if(Kr(s,0)!==0)break;if(y=s.suspendedLanes,(y&f)!==f){cn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=sp(ao.bind(null,s,gn,as),o);break}ao(s,gn,as);break;case 4:if(ei(s,f),(f&4194240)===f)break;for(o=s.eventTimes,y=-1;0<f;){var E=31-Tn(f);x=1<<E,E=o[E],E>y&&(y=E),f&=~x}if(f=y,f=st()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*IC(f/1960))-f,10<f){s.timeoutHandle=sp(ao.bind(null,s,gn,as),f);break}ao(s,gn,as);break;case 5:ao(s,gn,as);break;default:throw Error(n(329))}}}return yn(s,st()),s.callbackNode===c?bx.bind(null,s):null}function Jp(s,o){var c=oc;return s.current.memoizedState.isDehydrated&&(oo(s,o).flags|=256),s=Td(s,o),s!==2&&(o=gn,gn=c,o!==null&&Zp(o)),s}function Zp(s){gn===null?gn=s:gn.push.apply(gn,s)}function CC(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],x=y.getSnapshot;y=y.value;try{if(!Jn(x(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ei(s,o){for(o&=~Kp,o&=~vd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Tn(o),f=1<<c;s[c]=-1,o&=~f}}function Ex(s){if((Ge&6)!==0)throw Error(n(327));Pa();var o=Kr(s,0);if((o&1)===0)return yn(s,st()),null;var c=Td(s,o);if(s.tag!==0&&c===2){var f=Cl(s);f!==0&&(o=f,c=Jp(s,f))}if(c===1)throw c=ic,oo(s,0),ei(s,o),yn(s,st()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ao(s,gn,as),yn(s,st()),null}function em(s,o){var c=Ge;Ge|=1;try{return s(o)}finally{Ge=c,Ge===0&&(ka=st()+500,Xu&&Gs())}}function io(s){Js!==null&&Js.tag===0&&(Ge&6)===0&&Pa();var o=Ge;Ge|=1;var c=zn.transition,f=He;try{if(zn.transition=null,He=1,s)return s()}finally{He=f,zn.transition=c,Ge=o,(Ge&6)===0&&Gs()}}function tm(){Rn=Aa.current,ot(Aa)}function oo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,rC(c)),It!==null)for(c=It.return;c!==null;){var f=c;switch(up(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Qu();break;case 3:Sa(),ot(fn),ot(Xt),Ep();break;case 5:_p(f);break;case 4:Sa();break;case 13:ot(lt);break;case 19:ot(lt);break;case 10:gp(f.type._context);break;case 22:case 23:tm()}c=c.return}if(Mt=s,It=s=ti(s.current,null),Gt=Rn=o,jt=0,ic=null,Kp=vd=so=0,gn=oc=null,to!==null){for(o=0;o<to.length;o++)if(c=to[o],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,x=c.pending;if(x!==null){var E=x.next;x.next=y,f.next=E}c.pending=f}to=null}return s}function Tx(s,o){do{var c=It;try{if(mp(),ad.current=dd,ld){for(var f=ct.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}ld=!1}if(ro=0,Lt=Nt=ct=null,Zl=!1,ec=0,Gp.current=null,c===null||c.return===null){jt=1,ic=o,It=null;break}e:{var x=s,E=c.return,L=c,B=o;if(o=Gt,L.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,oe=L,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var fe=Q0(E);if(fe!==null){fe.flags&=-257,Y0(fe,E,L,x,o),fe.mode&1&&K0(x,Y,o),o=fe,B=Y;var ve=o.updateQueue;if(ve===null){var xe=new Set;xe.add(B),o.updateQueue=xe}else ve.add(B);break e}else{if((o&1)===0){K0(x,Y,o),nm();break e}B=Error(n(426))}}else if(at&&L.mode&1){var xt=Q0(E);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Y0(xt,E,L,x,o),fp(Ia(B,L));break e}}x=B=Ia(B,L),jt!==4&&(jt=2),oc===null?oc=[x]:oc.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var W=W0(x,B,o);x0(x,W);break e;case 1:L=B;var $=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Xs===null||!Xs.has(K)))){x.flags|=65536,o&=-o,x.lanes|=o;var le=G0(x,L,o);x0(x,le);break e}}x=x.return}while(x!==null)}Cx(c)}catch(we){o=we,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function Sx(){var s=yd.current;return yd.current=dd,s===null?dd:s}function nm(){(jt===0||jt===3||jt===2)&&(jt=4),Mt===null||(so&268435455)===0&&(vd&268435455)===0||ei(Mt,Gt)}function Td(s,o){var c=Ge;Ge|=2;var f=Sx();(Mt!==s||Gt!==o)&&(as=null,oo(s,o));do try{AC();break}catch(y){Tx(s,y)}while(!0);if(mp(),Ge=c,yd.current=f,It!==null)throw Error(n(261));return Mt=null,Gt=0,jt}function AC(){for(;It!==null;)Ix(It)}function kC(){for(;It!==null&&!Ui();)Ix(It)}function Ix(s){var o=Px(s.alternate,s,Rn);s.memoizedProps=s.pendingProps,o===null?Cx(s):It=o,Gp.current=null}function Cx(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=_C(c,o,Rn),c!==null){It=c;return}}else{if(c=bC(c,o),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{jt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);jt===0&&(jt=5)}function ao(s,o,c){var f=He,y=zn.transition;try{zn.transition=null,He=1,PC(s,o,c,f)}finally{zn.transition=y,He=f}return null}function PC(s,o,c,f){do Pa();while(Js!==null);if((Ge&6)!==0)throw Error(n(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(zf(s,x),s===Mt&&(It=Mt=null,Gt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||wd||(wd=!0,Rx(Bi,function(){return Pa(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=zn.transition,zn.transition=null;var E=He;He=1;var L=Ge;Ge|=4,Gp.current=null,TC(s,c),yx(c,s),YI(np),Xr=!!tp,np=tp=null,s.current=c,SC(c),Gr(),Ge=L,He=E,zn.transition=x}else s.current=c;if(wd&&(wd=!1,Js=s,_d=y),x=s.pendingLanes,x===0&&(Xs=null),Ru(c.stateNode),yn(s,st()),o!==null)for(f=s.onRecoverableError,c=0;c<o.length;c++)y=o[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(xd)throw xd=!1,s=Yp,Yp=null,s;return(_d&1)!==0&&s.tag!==0&&Pa(),x=s.pendingLanes,(x&1)!==0?s===Xp?ac++:(ac=0,Xp=s):ac=0,Gs(),null}function Pa(){if(Js!==null){var s=gr(_d),o=zn.transition,c=He;try{if(zn.transition=null,He=16>s?16:s,Js===null)var f=!1;else{if(s=Js,Js=null,_d=0,(Ge&6)!==0)throw Error(n(331));var y=Ge;for(Ge|=4,me=s.current;me!==null;){var x=me,E=x.child;if((me.flags&16)!==0){var L=x.deletions;if(L!==null){for(var B=0;B<L.length;B++){var Y=L[B];for(me=Y;me!==null;){var oe=me;switch(oe.tag){case 0:case 11:case 15:sc(8,oe,x)}var ae=oe.child;if(ae!==null)ae.return=oe,me=ae;else for(;me!==null;){oe=me;var ie=oe.sibling,fe=oe.return;if(hx(oe),oe===Y){me=null;break}if(ie!==null){ie.return=fe,me=ie;break}me=fe}}}var ve=x.alternate;if(ve!==null){var xe=ve.child;if(xe!==null){ve.child=null;do{var xt=xe.sibling;xe.sibling=null,xe=xt}while(xe!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,me=E;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:sc(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,me=W;break e}me=x.return}}var $=s.current;for(me=$;me!==null;){E=me;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,me=K;else e:for(E=$;me!==null;){if(L=me,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:gd(9,L)}}catch(we){ft(L,L.return,we)}if(L===E){me=null;break e}var le=L.sibling;if(le!==null){le.return=L.return,me=le;break e}me=L.return}}if(Ge=y,Gs(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(zi,s)}catch{}f=!0}return f}finally{He=c,zn.transition=o}}return!1}function Ax(s,o,c){o=Ia(c,o),o=W0(s,o,1),s=Qs(s,o,1),o=cn(),s!==null&&(Wi(s,1,o),yn(s,o))}function ft(s,o,c){if(s.tag===3)Ax(s,s,c);else for(;o!==null;){if(o.tag===3){Ax(o,s,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))){s=Ia(c,s),s=G0(o,s,1),o=Qs(o,s,1),s=cn(),o!==null&&(Wi(o,1,s),yn(o,s));break}}o=o.return}}function RC(s,o,c){var f=s.pingCache;f!==null&&f.delete(o),o=cn(),s.pingedLanes|=s.suspendedLanes&c,Mt===s&&(Gt&c)===c&&(jt===4||jt===3&&(Gt&130023424)===Gt&&500>st()-Qp?oo(s,0):Kp|=c),yn(s,o)}function kx(s,o){o===0&&((s.mode&1)===0?o=1:(o=Ms,Ms<<=1,(Ms&130023424)===0&&(Ms=4194304)));var c=cn();s=ss(s,o),s!==null&&(Wi(s,o,c),yn(s,c))}function NC(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),kx(s,c)}function jC(s,o){var c=0;switch(s.tag){case 13:var f=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),kx(s,c)}var Px;Px=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||fn.current)mn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return mn=!1,wC(s,o,c);mn=(s.flags&131072)!==0}else mn=!1,at&&(o.flags&1048576)!==0&&c0(o,Zu,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;pd(s,o),s=o.pendingProps;var y=va(o,Xt.current);Ta(o,c),y=Ip(null,o,f,s,y,c);var x=Cp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,pn(f)?(x=!0,Yu(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,xp(o),y.updater=hd,o.stateNode=y,y._reactInternals=o,jp(o,f,s,c),o=Mp(null,o,f,!0,x,c)):(o.tag=0,at&&x&&cp(o),ln(null,o,y,c),o=o.child),o;case 16:f=o.elementType;e:{switch(pd(s,o),s=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=OC(f),s=er(f,s),y){case 0:o=Lp(null,o,f,s,c);break e;case 1:o=nx(null,o,f,s,c);break e;case 11:o=X0(null,o,f,s,c);break e;case 14:o=J0(null,o,f,er(f.type,s),c);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:er(f,y),Lp(s,o,f,y,c);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:er(f,y),nx(s,o,f,y,c);case 3:e:{if(rx(o),s===null)throw Error(n(387));f=o.pendingProps,x=o.memoizedState,y=x.element,v0(s,o),id(o,f,null,c);var E=o.memoizedState;if(f=E.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=Ia(Error(n(423)),o),o=sx(s,o,f,c,y);break e}else if(f!==y){y=Ia(Error(n(424)),o),o=sx(s,o,f,c,y);break e}else for(Pn=Hs(o.stateNode.containerInfo.firstChild),kn=o,at=!0,Zn=null,c=g0(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_a(),f===y){o=os(s,o,c);break e}ln(s,o,f,c)}o=o.child}return o;case 5:return _0(o),s===null&&hp(o),f=o.type,y=o.pendingProps,x=s!==null?s.memoizedProps:null,E=y.children,rp(f,y)?E=null:x!==null&&rp(f,x)&&(o.flags|=32),tx(s,o),ln(s,o,E,c),o.child;case 6:return s===null&&hp(o),null;case 13:return ix(s,o,c);case 4:return wp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=ba(o,null,f,c):ln(s,o,f,c),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:er(f,y),X0(s,o,f,y,c);case 7:return ln(s,o,o.pendingProps,c),o.child;case 8:return ln(s,o,o.pendingProps.children,c),o.child;case 12:return ln(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,x=o.memoizedProps,E=y.value,et(nd,f._currentValue),f._currentValue=E,x!==null)if(Jn(x.value,E)){if(x.children===y.children&&!fn.current){o=os(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var L=x.dependencies;if(L!==null){E=x.child;for(var B=L.firstContext;B!==null;){if(B.context===f){if(x.tag===1){B=is(-1,c&-c),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),Y.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),yp(x.return,c,o),L.lanes|=c;break}B=B.next}}else if(x.tag===10)E=x.type===o.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(n(341));E.lanes|=c,L=E.alternate,L!==null&&(L.lanes|=c),yp(E,c,o),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===o){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}ln(s,o,y.children,c),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,Ta(o,c),y=Un(y),f=f(y),o.flags|=1,ln(s,o,f,c),o.child;case 14:return f=o.type,y=er(f,o.pendingProps),y=er(f.type,y),J0(s,o,f,y,c);case 15:return Z0(s,o,o.type,o.pendingProps,c);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:er(f,y),pd(s,o),o.tag=1,pn(f)?(s=!0,Yu(o)):s=!1,Ta(o,c),H0(o,f,y),jp(o,f,y,c),Mp(null,o,f,!0,s,c);case 19:return ax(s,o,c);case 22:return ex(s,o,c)}throw Error(n(156,o.tag))};function Rx(s,o){return Tl(s,o)}function DC(s,o,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,o,c,f){return new DC(s,o,c,f)}function rm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function OC(s){if(typeof s=="function")return rm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===q)return 14}return 2}function ti(s,o){var c=s.alternate;return c===null?(c=$n(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Sd(s,o,c,f,y,x){var E=2;if(f=s,typeof s=="function")rm(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case S:return lo(c.children,y,x,o);case A:E=8,y|=8;break;case j:return s=$n(12,c,o,y|2),s.elementType=j,s.lanes=x,s;case O:return s=$n(13,c,o,y),s.elementType=O,s.lanes=x,s;case ye:return s=$n(19,c,o,y),s.elementType=ye,s.lanes=x,s;case ge:return Id(c,y,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:E=10;break e;case M:E=9;break e;case z:E=11;break e;case q:E=14;break e;case te:E=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=$n(E,c,o,y),o.elementType=s,o.type=f,o.lanes=x,o}function lo(s,o,c,f){return s=$n(7,s,f,o),s.lanes=c,s}function Id(s,o,c,f){return s=$n(22,s,f,o),s.elementType=ge,s.lanes=c,s.stateNode={isHidden:!1},s}function sm(s,o,c){return s=$n(6,s,null,o),s.lanes=c,s}function im(s,o,c){return o=$n(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function LC(s,o,c,f,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kl(0),this.expirationTimes=kl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kl(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function om(s,o,c,f,y,x,E,L,B){return s=new LC(s,o,c,L,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=$n(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},xp(x),s}function MC(s,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:f==null?null:""+f,children:s,containerInfo:o,implementation:c}}function Nx(s){if(!s)return Ws;s=s._reactInternals;e:{if(Yn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(pn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(pn(c))return o0(s,c,o)}return o}function jx(s,o,c,f,y,x,E,L,B){return s=om(c,f,!0,s,y,x,E,L,B),s.context=Nx(null),c=s.current,f=cn(),y=Zs(c),x=is(f,y),x.callback=o??null,Qs(c,x,y),s.current.lanes=y,Wi(s,y,f),yn(s,f),s}function Cd(s,o,c,f){var y=o.current,x=cn(),E=Zs(y);return c=Nx(c),o.context===null?o.context=c:o.pendingContext=c,o=is(x,E),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Qs(y,o,E),s!==null&&(rr(s,y,E,x),sd(s,y,E)),E}function Ad(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Dx(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function am(s,o){Dx(s,o),(s=s.alternate)&&Dx(s,o)}function VC(){return null}var Ox=typeof reportError=="function"?reportError:function(s){console.error(s)};function lm(s){this._internalRoot=s}kd.prototype.render=lm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Cd(s,o,null,null)},kd.prototype.unmount=lm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;io(function(){Cd(null,s,null,null)}),o[es]=null}};function kd(s){this._internalRoot=s}kd.prototype.unstable_scheduleHydration=function(s){if(s){var o=jl();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Sn.length&&o!==0&&o<Sn[c].priority;c++);Sn.splice(c,0,s),c===0&&na(s)}};function cm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Lx(){}function FC(s,o,c,f,y){if(y){if(typeof f=="function"){var x=f;f=function(){var Y=Ad(E);x.call(Y)}}var E=jx(o,f,s,0,null,!1,!1,"",Lx);return s._reactRootContainer=E,s[es]=E.current,ql(s.nodeType===8?s.parentNode:s),io(),E}for(;y=s.lastChild;)s.removeChild(y);if(typeof f=="function"){var L=f;f=function(){var Y=Ad(B);L.call(Y)}}var B=om(s,0,!1,null,null,!1,!1,"",Lx);return s._reactRootContainer=B,s[es]=B.current,ql(s.nodeType===8?s.parentNode:s),io(function(){Cd(o,B,c,f)}),B}function Rd(s,o,c,f,y){var x=c._reactRootContainer;if(x){var E=x;if(typeof y=="function"){var L=y;y=function(){var B=Ad(E);L.call(B)}}Cd(o,E,s,y)}else E=FC(c,o,s,y,f);return Ad(E)}Rl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ye(o.pendingLanes);c!==0&&(Pl(o,c|1),yn(o,st()),(Ge&6)===0&&(ka=st()+500,Gs()))}break;case 13:io(function(){var f=ss(s,1);if(f!==null){var y=cn();rr(f,s,1,y)}}),am(s,1)}},ea=function(s){if(s.tag===13){var o=ss(s,134217728);if(o!==null){var c=cn();rr(o,s,134217728,c)}am(s,134217728)}},Nl=function(s){if(s.tag===13){var o=Zs(s),c=ss(s,o);if(c!==null){var f=cn();rr(c,s,o,f)}am(s,o)}},jl=function(){return He},Dl=function(s,o){var c=He;try{return He=s,o()}finally{He=c}},Hr=function(s,o,c){switch(o){case"input":if(Li(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==s&&f.form===s.form){var y=Ku(f);if(!y)throw Error(n(90));$o(f),Li(f,y)}}}break;case"textarea":xu(s,c);break;case"select":o=c.value,o!=null&&Kn(s,!!c.multiple,o,!1)}},bu=em,Eu=io;var UC={usingClientEntryPoint:!1,Events:[Kl,ga,Ku,js,Ds,em]},lc={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BC={bundleType:lc.bundleType,version:lc.version,rendererPackageName:lc.rendererPackageName,rendererConfig:lc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pu(s),s===null?null:s.stateNode},findFiberByHostInstance:lc.findFiberByHostInstance||VC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{zi=Nd.inject(BC),En=Nd}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC,vn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cm(o))throw Error(n(200));return MC(s,o,null,c)},vn.createRoot=function(s,o){if(!cm(s))throw Error(n(299));var c=!1,f="",y=Ox;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=om(s,1,!1,null,null,c,!1,f,y),s[es]=o.current,ql(s.nodeType===8?s.parentNode:s),new lm(o)},vn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Pu(o),s=s===null?null:s.stateNode,s},vn.flushSync=function(s){return io(s)},vn.hydrate=function(s,o,c){if(!Pd(o))throw Error(n(200));return Rd(null,s,o,!0,c)},vn.hydrateRoot=function(s,o,c){if(!cm(s))throw Error(n(405));var f=c!=null&&c.hydratedSources||null,y=!1,x="",E=Ox;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=jx(o,null,s,1,c??null,y,!1,x,E),s[es]=o.current,ql(s),f)for(s=0;s<f.length;s++)c=f[s],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new kd(o)},vn.render=function(s,o,c){if(!Pd(o))throw Error(n(200));return Rd(null,s,o,!1,c)},vn.unmountComponentAtNode=function(s){if(!Pd(s))throw Error(n(40));return s._reactRootContainer?(io(function(){Rd(null,null,s,!1,function(){s._reactRootContainer=null,s[es]=null})}),!0):!1},vn.unstable_batchedUpdates=em,vn.unstable_renderSubtreeIntoContainer=function(s,o,c,f){if(!Pd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Rd(s,o,c,!1,f)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var Hx;function pb(){if(Hx)return hm.exports;Hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hm.exports=XC(),hm.exports}var qx;function JC(){if(qx)return jd;qx=1;var t=pb();return jd.createRoot=t.createRoot,jd.hydrateRoot=t.hydrateRoot,jd}var ZC=JC();pb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dc.apply(this,arguments)}var fi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(fi||(fi={}));const Wx="popstate";function eA(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:u}=r.location;return rg("",{pathname:a,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ph(i)}return nA(e,n,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tA(){return Math.random().toString(36).substr(2,8)}function Gx(t,e){return{usr:t.state,key:t.key,idx:e}}function rg(t,e,n,r){return n===void 0&&(n=null),Dc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ol(e):e,{state:n,key:e&&e.key||r||tA()})}function ph(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u=fi.Pop,p=null,m=g();m==null&&(m=0,l.replaceState(Dc({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function v(){u=fi.Pop;let C=g(),F=C==null?null:C-m;m=C,p&&p({action:u,location:N.location,delta:F})}function _(C,F){u=fi.Push;let U=rg(N.location,C,F);m=g()+1;let k=Gx(U,m),H=N.createHref(U);try{l.pushState(k,"",H)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(H)}a&&p&&p({action:u,location:N.location,delta:1})}function T(C,F){u=fi.Replace;let U=rg(N.location,C,F);m=g();let k=Gx(U,m),H=N.createHref(U);l.replaceState(k,"",H),a&&p&&p({action:u,location:N.location,delta:0})}function I(C){let F=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof C=="string"?C:ph(C);return U=U.replace(/ $/,"%20"),Rt(F,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,F)}let N={get action(){return u},get location(){return t(i,l)},listen(C){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Wx,v),p=C,()=>{i.removeEventListener(Wx,v),p=null}},createHref(C){return e(i,C)},createURL:I,encodeLocation(C){let F=I(C);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:_,replace:T,go(C){return l.go(C)}};return N}var Kx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Kx||(Kx={}));function rA(t,e,n){return n===void 0&&(n="/"),sA(t,e,n)}function sA(t,e,n,r){let i=typeof e=="string"?ol(e):e,a=ny(i.pathname||"/",n);if(a==null)return null;let l=gb(t);iA(l);let u=null;for(let p=0;u==null&&p<l.length;++p){let m=yA(a);u=pA(l[p],m)}return u}function gb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,u)=>{let p={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};p.relativePath.startsWith("/")&&(Rt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=mi([r,p.relativePath]),g=n.concat(p);a.children&&a.children.length>0&&(Rt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),gb(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:hA(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let p of yb(a.path))i(a,l,p)}),e}function yb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=yb(r.join("/")),u=[];return u.push(...l.map(p=>p===""?a:[a,p].join("/"))),i&&u.push(...l),u.map(p=>t.startsWith("/")&&p===""?"/":p)}function iA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oA=/^:[\w-]+$/,aA=3,lA=2,cA=1,uA=10,dA=-2,Qx=t=>t==="*";function hA(t,e){let n=t.split("/"),r=n.length;return n.some(Qx)&&(r+=dA),e&&(r+=lA),n.filter(i=>!Qx(i)).reduce((i,a)=>i+(oA.test(a)?aA:a===""?cA:uA),r)}function fA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pA(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let u=0;u<r.length;++u){let p=r[u],m=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=mA({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),_=p.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:mi([a,v.pathname]),pathnameBase:_A(mi([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=mi([a,v.pathnameBase]))}return l}function mA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((m,g,v)=>{let{paramName:_,isOptional:T}=g;if(_==="*"){let N=u[v]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const I=u[v];return T&&!I?m[_]=void 0:m[_]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:t}}function gA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,p)=>(r.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ny(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ol(t):t;return{pathname:n?n.startsWith("/")?n:xA(n,e):e,search:bA(r),hash:EA(i)}}function xA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vb(t,e){let n=wA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ol(t):(i=Dc({},t),Rt(!i.pathname||!i.pathname.includes("?"),mm("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),mm("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),mm("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;i.pathname=_.join("/")}u=v>=0?e[v]:"/"}let p=vA(i,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}const mi=t=>t.join("/").replace(/\/\/+/g,"/"),_A=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function TA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wb=["post","put","patch","delete"];new Set(wb);const SA=["get",...wb];new Set(SA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}const ry=D.createContext(null),IA=D.createContext(null),jo=D.createContext(null),Kh=D.createContext(null),Do=D.createContext({outlet:null,matches:[],isDataRoute:!1}),_b=D.createContext(null);function CA(t,e){let{relative:n}=e===void 0?{}:e;Qc()||Rt(!1);let{basename:r,navigator:i}=D.useContext(jo),{hash:a,pathname:l,search:u}=Eb(t,{relative:n}),p=l;return r!=="/"&&(p=l==="/"?r:mi([r,l])),i.createHref({pathname:p,search:u,hash:a})}function Qc(){return D.useContext(Kh)!=null}function Yc(){return Qc()||Rt(!1),D.useContext(Kh).location}function bb(t){D.useContext(jo).static||D.useLayoutEffect(t)}function AA(){let{isDataRoute:t}=D.useContext(Do);return t?BA():kA()}function kA(){Qc()||Rt(!1);let t=D.useContext(ry),{basename:e,future:n,navigator:r}=D.useContext(jo),{matches:i}=D.useContext(Do),{pathname:a}=Yc(),l=JSON.stringify(vb(i,n.v7_relativeSplatPath)),u=D.useRef(!1);return bb(()=>{u.current=!0}),D.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let v=xb(m,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:mi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,a,t])}function Eb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(jo),{matches:i}=D.useContext(Do),{pathname:a}=Yc(),l=JSON.stringify(vb(i,r.v7_relativeSplatPath));return D.useMemo(()=>xb(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function PA(t,e){return RA(t,e)}function RA(t,e,n,r){Qc()||Rt(!1);let{navigator:i}=D.useContext(jo),{matches:a}=D.useContext(Do),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let m=Yc(),g;if(e){var v;let C=typeof e=="string"?ol(e):e;p==="/"||(v=C.pathname)!=null&&v.startsWith(p)||Rt(!1),g=C}else g=m;let _=g.pathname||"/",T=_;if(p!=="/"){let C=p.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(C.length).join("/")}let I=rA(t,{pathname:T}),N=LA(I&&I.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:mi([p,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:mi([p,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return e&&N?D.createElement(Kh.Provider,{value:{location:Oc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:fi.Pop}},N):N}function NA(){let t=UA(),e=TA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const jA=D.createElement(NA,null);class DA extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Do.Provider,{value:this.props.routeContext},D.createElement(_b.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OA(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(ry);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Do.Provider,{value:e},r)}function LA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Rt(!1),l=l.slice(0,Math.min(l.length,g+1))}let p=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:_,errors:T}=n,I=v.route.loader&&_[v.route.id]===void 0&&(!T||T[v.route.id]===void 0);if(v.route.lazy||I){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let T,I=!1,N=null,C=null;n&&(T=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||jA,p&&(m<0&&_===0?(zA("route-fallback"),I=!0,C=null):m===_&&(I=!0,C=v.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,_+1)),U=()=>{let k;return T?k=N:I?k=C:v.route.Component?k=D.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=g,D.createElement(OA,{match:v,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:k})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?D.createElement(DA,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:U(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):U()},null)}var Tb=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Tb||{}),Sb=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Sb||{});function MA(t){let e=D.useContext(ry);return e||Rt(!1),e}function VA(t){let e=D.useContext(IA);return e||Rt(!1),e}function FA(t){let e=D.useContext(Do);return e||Rt(!1),e}function Ib(t){let e=FA(),n=e.matches[e.matches.length-1];return n.route.id||Rt(!1),n.route.id}function UA(){var t;let e=D.useContext(_b),n=VA(),r=Ib();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BA(){let{router:t}=MA(Tb.UseNavigateStable),e=Ib(Sb.UseNavigateStable),n=D.useRef(!1);return bb(()=>{n.current=!0}),D.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Oc({fromRouteId:e},a)))},[t,e])}const Yx={};function zA(t,e,n){Yx[t]||(Yx[t]=!0)}function $A(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function uo(t){Rt(!1)}function HA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=fi.Pop,navigator:a,static:l=!1,future:u}=t;Qc()&&Rt(!1);let p=e.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:p,navigator:a,static:l,future:Oc({v7_relativeSplatPath:!1},u)}),[p,u,a,l]);typeof r=="string"&&(r=ol(r));let{pathname:g="/",search:v="",hash:_="",state:T=null,key:I="default"}=r,N=D.useMemo(()=>{let C=ny(g,p);return C==null?null:{location:{pathname:C,search:v,hash:_,state:T,key:I},navigationType:i}},[p,g,v,_,T,I,i]);return N==null?null:D.createElement(jo.Provider,{value:m},D.createElement(Kh.Provider,{children:n,value:N}))}function qA(t){let{children:e,location:n}=t;return PA(sg(e),n)}new Promise(()=>{});function sg(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,sg(r.props.children,a));return}r.type!==uo&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=sg(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function WA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KA(t,e){return t.button===0&&(!e||e==="_self")&&!GA(t)}const QA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],YA="6";try{window.__reactRouterVersion=YA}catch{}const XA="startTransition",Xx=KC[XA];function JA(t){let{basename:e,children:n,future:r,window:i}=t,a=D.useRef();a.current==null&&(a.current=eA({window:i,v5Compat:!0}));let l=a.current,[u,p]=D.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=D.useCallback(v=>{m&&Xx?Xx(()=>p(v)):p(v)},[p,m]);return D.useLayoutEffect(()=>l.listen(g),[l,g]),D.useEffect(()=>$A(r),[r]),D.createElement(HA,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const ZA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ek=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ai=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:u,target:p,to:m,preventScrollReset:g,viewTransition:v}=e,_=WA(e,QA),{basename:T}=D.useContext(jo),I,N=!1;if(typeof m=="string"&&ek.test(m)&&(I=m,ZA))try{let k=new URL(window.location.href),H=m.startsWith("//")?new URL(k.protocol+m):new URL(m),X=ny(H.pathname,T);H.origin===k.origin&&X!=null?m=X+H.search+H.hash:N=!0}catch{}let C=CA(m,{relative:i}),F=tk(m,{replace:l,state:u,target:p,preventScrollReset:g,relative:i,viewTransition:v});function U(k){r&&r(k),k.defaultPrevented||F(k)}return D.createElement("a",ig({},_,{href:I||C,onClick:N||a?r:U,ref:n,target:p}))});var Jx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jx||(Jx={}));var Zx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zx||(Zx={}));function tk(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,p=AA(),m=Yc(),g=Eb(t,{relative:l});return D.useCallback(v=>{if(KA(v,n)){v.preventDefault();let _=r!==void 0?r:ph(m)===ph(g);p(t,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,p,g,r,i,n,t,a,l,u])}let nk={data:""},rk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||nk,sk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ik=/\/\*[^]*?\*\/|  +/g,ew=/\n+/g,li=(t,e)=>{let n="",r="",i="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+l+";":r+=a[1]=="f"?li(l,a):a+"{"+li(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=li(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,u):u?u+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=li.p?li.p(a,l):a+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ls={},Cb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Cb(t[n]);return e}return t},ok=(t,e,n,r,i)=>{let a=Cb(t),l=ls[a]||(ls[a]=(p=>{let m=0,g=11;for(;m<p.length;)g=101*g+p.charCodeAt(m++)>>>0;return"go"+g})(a));if(!ls[l]){let p=a!==t?t:(m=>{let g,v,_=[{}];for(;g=sk.exec(m.replace(ik,""));)g[4]?_.shift():g[3]?(v=g[3].replace(ew," ").trim(),_.unshift(_[0][v]=_[0][v]||{})):_[0][g[1]]=g[2].replace(ew," ").trim();return _[0]})(t);ls[l]=li(i?{["@keyframes "+l]:p}:p,n?"":"."+l)}let u=n&&ls.g?ls.g:null;return n&&(ls.g=ls[l]),((p,m,g,v)=>{v?m.data=m.data.replace(v,p):m.data.indexOf(p)===-1&&(m.data=g?p+m.data:m.data+p)})(ls[l],e,r,u),l},ak=(t,e,n)=>t.reduce((r,i,a)=>{let l=e[a];if(l&&l.call){let u=l(n),p=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=p?"."+p:u&&typeof u=="object"?u.props?"":li(u,""):u===!1?"":u}return r+i+(l??"")},"");function Qh(t){let e=this||{},n=t.call?t(e.p):t;return ok(n.unshift?n.raw?ak(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,rk(e.target),e.g,e.o,e.k)}let Ab,og,ag;Qh.bind({g:1});let xs=Qh.bind({k:1});function lk(t,e,n,r){li.p=e,Ab=t,og=n,ag=r}function ji(t,e){let n=this||{};return function(){let r=arguments;function i(a,l){let u=Object.assign({},a),p=u.className||i.className;n.p=Object.assign({theme:og&&og()},u),n.o=/ *go\d+/.test(p),u.className=Qh.apply(n,r)+(p?" "+p:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),ag&&m[0]&&ag(u),Ab(m,u)}return i}}var ck=t=>typeof t=="function",mh=(t,e)=>ck(t)?t(e):t,uk=(()=>{let t=0;return()=>(++t).toString()})(),kb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),dk=20,sy="default",Pb=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return Pb(t,{type:t.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(l=>l.id===i||i===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Jd=[],Rb={toasts:[],pausedAt:void 0,settings:{toastLimit:dk}},Nr={},Nb=(t,e=sy)=>{Nr[e]=Pb(Nr[e]||Rb,t),Jd.forEach(([n,r])=>{n===e&&r(Nr[e])})},jb=t=>Object.keys(Nr).forEach(e=>Nb(t,e)),hk=t=>Object.keys(Nr).find(e=>Nr[e].toasts.some(n=>n.id===t)),Yh=(t=sy)=>e=>{Nb(e,t)},fk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pk=(t={},e=sy)=>{let[n,r]=D.useState(Nr[e]||Rb),i=D.useRef(Nr[e]);D.useEffect(()=>(i.current!==Nr[e]&&r(Nr[e]),Jd.push([e,r]),()=>{let l=Jd.findIndex(([u])=>u===e);l>-1&&Jd.splice(l,1)}),[e]);let a=n.toasts.map(l=>{var u,p,m;return{...t,...t[l.type],...l,removeDelay:l.removeDelay||((u=t[l.type])==null?void 0:u.removeDelay)||t?.removeDelay,duration:l.duration||((p=t[l.type])==null?void 0:p.duration)||t?.duration||fk[l.type],style:{...t.style,...(m=t[l.type])==null?void 0:m.style,...l.style}}});return{...n,toasts:a}},mk=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||uk()}),Xc=t=>(e,n)=>{let r=mk(e,t,n);return Yh(r.toasterId||hk(r.id))({type:2,toast:r}),r.id},Dt=(t,e)=>Xc("blank")(t,e);Dt.error=Xc("error");Dt.success=Xc("success");Dt.loading=Xc("loading");Dt.custom=Xc("custom");Dt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Yh(e)(n):jb(n)};Dt.dismissAll=t=>Dt.dismiss(void 0,t);Dt.remove=(t,e)=>{let n={type:4,toastId:t};e?Yh(e)(n):jb(n)};Dt.removeAll=t=>Dt.remove(void 0,t);Dt.promise=(t,e,n)=>{let r=Dt.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let a=e.success?mh(e.success,i):void 0;return a?Dt.success(a,{id:r,...n,...n?.success}):Dt.dismiss(r),i}).catch(i=>{let a=e.error?mh(e.error,i):void 0;a?Dt.error(a,{id:r,...n,...n?.error}):Dt.dismiss(r)}),t};var gk=1e3,yk=(t,e="default")=>{let{toasts:n,pausedAt:r}=pk(t,e),i=D.useRef(new Map).current,a=D.useCallback((v,_=gk)=>{if(i.has(v))return;let T=setTimeout(()=>{i.delete(v),l({type:4,toastId:v})},_);i.set(v,T)},[]);D.useEffect(()=>{if(r)return;let v=Date.now(),_=n.map(T=>{if(T.duration===1/0)return;let I=(T.duration||0)+T.pauseDuration-(v-T.createdAt);if(I<0){T.visible&&Dt.dismiss(T.id);return}return setTimeout(()=>Dt.dismiss(T.id,e),I)});return()=>{_.forEach(T=>T&&clearTimeout(T))}},[n,r,e]);let l=D.useCallback(Yh(e),[e]),u=D.useCallback(()=>{l({type:5,time:Date.now()})},[l]),p=D.useCallback((v,_)=>{l({type:1,toast:{id:v,height:_}})},[l]),m=D.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),g=D.useCallback((v,_)=>{let{reverseOrder:T=!1,gutter:I=8,defaultPosition:N}=_||{},C=n.filter(k=>(k.position||N)===(v.position||N)&&k.height),F=C.findIndex(k=>k.id===v.id),U=C.filter((k,H)=>H<F&&k.visible).length;return C.filter(k=>k.visible).slice(...T?[U+1]:[0,U]).reduce((k,H)=>k+(H.height||0)+I,0)},[n]);return D.useEffect(()=>{n.forEach(v=>{if(v.dismissed)a(v.id,v.removeDelay);else{let _=i.get(v.id);_&&(clearTimeout(_),i.delete(v.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:p,startPause:u,endPause:m,calculateOffset:g}}},vk=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xk=xs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wk=xs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_k=ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bk=xs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ek=ji("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${bk} 1s linear infinite;
`,Tk=xs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sk=xs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ik=ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Ck=ji("div")`
  position: absolute;
`,Ak=ji("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kk=xs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pk=ji("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Rk=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?D.createElement(Pk,null,e):e:n==="blank"?null:D.createElement(Ak,null,D.createElement(Ek,{...r}),n!=="loading"&&D.createElement(Ck,null,n==="error"?D.createElement(_k,{...r}):D.createElement(Ik,{...r})))},Nk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Dk="0%{opacity:0;} 100%{opacity:1;}",Ok="0%{opacity:1;} 100%{opacity:0;}",Lk=ji("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Mk=ji("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Vk=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=kb()?[Dk,Ok]:[Nk(n),jk(n)];return{animation:e?`${xs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${xs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Fk=D.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Vk(t.position||e||"top-center",t.visible):{opacity:0},a=D.createElement(Rk,{toast:t}),l=D.createElement(Mk,{...t.ariaProps},mh(t.message,t));return D.createElement(Lk,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:a,message:l}):D.createElement(D.Fragment,null,a,l))});lk(D.createElement);var Uk=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let a=D.useCallback(l=>{if(l){let u=()=>{let p=l.getBoundingClientRect().height;r(t,p)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return D.createElement("div",{ref:a,className:e,style:n},i)},Bk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:kb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},zk=Qh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dd=16,$k=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:l,containerClassName:u})=>{let{toasts:p,handlers:m}=yk(n,a);return D.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Dd,left:Dd,right:Dd,bottom:Dd,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},p.map(g=>{let v=g.position||e,_=m.calculateOffset(g,{reverseOrder:t,gutter:r,defaultPosition:e}),T=Bk(v,_);return D.createElement(Uk,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?zk:"",style:T},g.type==="custom"?mh(g.message,g):i?i(g):D.createElement(Fk,{toast:g,position:v}))}))},Re=Dt;const Db=D.createContext();function iy(){return D.useContext(Db)}function Hk({children:t}){const[e,n]=D.useState("light");D.useEffect(()=>{const i=localStorage.getItem("theme")||"light";n(i),document.documentElement.classList.toggle("dark",i==="dark")},[]);const r=()=>{const i=e==="light"?"dark":"light";n(i),localStorage.setItem("theme",i),document.documentElement.classList.toggle("dark",i==="dark")};return h.jsx(Db.Provider,{value:{theme:e,toggleTheme:r},children:t})}const qk=()=>{};var tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Wk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],u=t[n++],p=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,u=l?t[i+1]:0,p=i+2<t.length,m=p?t[i+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|m>>6,T=m&63;p||(T=64,l||(_=64)),r.push(n[g],n[v],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ob(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Wk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||m==null||v==null)throw new Gk;const _=a<<2|u>>4;if(r.push(_),m!==64){const T=u<<4&240|m>>2;if(r.push(T),v!==64){const I=m<<6&192|v;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kk=function(t){const e=Ob(t);return Lb.encodeByteArray(e,!0)},gh=function(t){return Kk(t).replace(/\./g,"")},Mb=function(t){try{return Lb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=()=>Qk().__FIREBASE_DEFAULTS__,Xk=()=>{if(typeof process>"u"||typeof tw>"u")return;const t=tw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Jk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Mb(t[1]);return e&&JSON.parse(e)},Xh=()=>{try{return qk()||Yk()||Xk()||Jk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vb=t=>Xh()?.emulatorHosts?.[t],Fb=t=>{const e=Vb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ub=()=>Xh()?.config,Bb=t=>Xh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gh(JSON.stringify(n)),gh(JSON.stringify(l)),""].join(".")}const wc={};function eP(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function tP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let nw=!1;function ay(t,e){if(typeof window>"u"||typeof document>"u"||!Di(window.location.host)||wc[t]===e||wc[t]||nw)return;wc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=eP().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function p(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{nw=!0,l()},_}function g(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=tP(r),T=n("text"),I=document.getElementById(T)||document.createElement("span"),N=n("learnmore"),C=document.getElementById(N)||document.createElement("a"),F=n("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;u(k),g(C,N);const H=m();p(U,F),k.append(U,I,C,H),document.body.appendChild(k)}a?(I.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function rP(){const t=Xh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aP(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lP(){return!rP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cP(){try{return typeof indexedDB=="object"}catch{return!1}}function uP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=dP,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?hP(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new $r(i,u,r)}}function hP(t,e){return t.replace(fP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const fP=/\{\$([^}]+)}/g;function pP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function So(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(rw(a)&&rw(l)){if(!So(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mP(t,e){const n=new gP(t,e);return n.subscribe.bind(n)}class gP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");yP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gm),i.error===void 0&&(i.error=gm),i.complete===void 0&&(i.complete=gm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wP(e))try{this.getOrInitializeService({instanceIdentifier:ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ho){return this.instances.has(e)}getOptions(e=ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ho){return this.component?this.component.multipleInstances?e:ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xP(t){return t===ho?void 0:t}function wP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const bP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},EP=Ue.INFO,TP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},SP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=EP,this._logHandler=SP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const IP=(t,e)=>e.some(n=>t instanceof n);let sw,iw;function CP(){return sw||(sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AP(){return iw||(iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $b=new WeakMap,lg=new WeakMap,Hb=new WeakMap,ym=new WeakMap,cy=new WeakMap;function kP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(gi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&$b.set(n,t)}).catch(()=>{}),cy.set(e,t),e}function PP(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});lg.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RP(t){cg=t(cg)}function NP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vm(this),e,...n);return Hb.set(r,e.sort?e.sort():[e]),gi(r)}:AP().includes(t)?function(...e){return t.apply(vm(this),e),gi($b.get(this))}:function(...e){return gi(t.apply(vm(this),e))}}function jP(t){return typeof t=="function"?NP(t):(t instanceof IDBTransaction&&PP(t),IP(t,CP())?new Proxy(t,cg):t)}function gi(t){if(t instanceof IDBRequest)return kP(t);if(ym.has(t))return ym.get(t);const e=jP(t);return e!==t&&(ym.set(t,e),cy.set(e,t)),e}const vm=t=>cy.get(t);function DP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),u=gi(l);return r&&l.addEventListener("upgradeneeded",p=>{r(gi(l.result),p.oldVersion,p.newVersion,gi(l.transaction),p)}),n&&l.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),u.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const OP=["get","getKey","getAll","getAllKeys","count"],LP=["put","add","delete","clear"],xm=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OP.includes(n)))return;const a=async function(l,...u){const p=this.transaction(l,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[n](...u),i&&p.done]))[0]};return xm.set(e,a),a}RP(t=>({...t,get:(e,n,r)=>ow(e,n)||t.get(e,n,r),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VP(t){return t.getComponent()?.type==="VERSION"}const ug="@firebase/app",aw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new ly("@firebase/app"),FP="@firebase/app-compat",UP="@firebase/analytics-compat",BP="@firebase/analytics",zP="@firebase/app-check-compat",$P="@firebase/app-check",HP="@firebase/auth",qP="@firebase/auth-compat",WP="@firebase/database",GP="@firebase/data-connect",KP="@firebase/database-compat",QP="@firebase/functions",YP="@firebase/functions-compat",XP="@firebase/installations",JP="@firebase/installations-compat",ZP="@firebase/messaging",eR="@firebase/messaging-compat",tR="@firebase/performance",nR="@firebase/performance-compat",rR="@firebase/remote-config",sR="@firebase/remote-config-compat",iR="@firebase/storage",oR="@firebase/storage-compat",aR="@firebase/firestore",lR="@firebase/ai",cR="@firebase/firestore-compat",uR="firebase",dR="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",hR={[ug]:"fire-core",[FP]:"fire-core-compat",[BP]:"fire-analytics",[UP]:"fire-analytics-compat",[$P]:"fire-app-check",[zP]:"fire-app-check-compat",[HP]:"fire-auth",[qP]:"fire-auth-compat",[WP]:"fire-rtdb",[GP]:"fire-data-connect",[KP]:"fire-rtdb-compat",[QP]:"fire-fn",[YP]:"fire-fn-compat",[XP]:"fire-iid",[JP]:"fire-iid-compat",[ZP]:"fire-fcm",[eR]:"fire-fcm-compat",[tR]:"fire-perf",[nR]:"fire-perf-compat",[rR]:"fire-rc",[sR]:"fire-rc-compat",[iR]:"fire-gcs",[oR]:"fire-gcs-compat",[aR]:"fire-fst",[cR]:"fire-fst-compat",[lR]:"fire-vertex","fire-js":"fire-js",[uR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,fR=new Map,hg=new Map;function lw(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Io(t){const e=t.name;if(hg.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of yh.values())lw(n,t);for(const n of fR.values())lw(n,t);return!0}function Jh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Jc("app","Firebase",pR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=dR;function uy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=Ub()),!n)throw yi.create("no-options");const a=yh.get(i);if(a){if(So(n,a.options)&&So(r,a.config))return a;throw yi.create("duplicate-app",{appName:i})}const l=new _P(i);for(const p of hg.values())l.addComponent(p);const u=new mR(n,r,l);return yh.set(i,u),u}function dy(t=dg){const e=yh.get(t);if(!e&&t===dg&&Ub())return uy();if(!e)throw yi.create("no-app",{appName:t});return e}function Or(t,e,n){let r=hR[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(l.join(" "));return}Io(new Ti(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebase-heartbeat-database",yR=1,Lc="firebase-heartbeat-store";let wm=null;function qb(){return wm||(wm=DP(gR,yR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lc)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),wm}async function vR(t){try{const n=(await qb()).transaction(Lc),r=await n.objectStore(Lc).get(Wb(t));return await n.done,r}catch(e){if(e instanceof $r)ws.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e?.message});ws.warn(n.message)}}}async function cw(t,e){try{const r=(await qb()).transaction(Lc,"readwrite");await r.objectStore(Lc).put(e,Wb(t)),await r.done}catch(n){if(n instanceof $r)ws.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n?.message});ws.warn(r.message)}}}function Wb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1024,wR=30;class _R{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>wR){const i=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uw(),{heartbeatsToSend:n,unsentEntries:r}=bR(this._heartbeatsCache.heartbeats),i=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ws.warn(e),""}}}function uw(){return new Date().toISOString().substring(0,10)}function bR(t,e=xR){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),dw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cP()?uP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function dw(t){return gh(JSON.stringify({version:2,heartbeats:t})).length}function TR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){Io(new Ti("platform-logger",e=>new MP(e),"PRIVATE")),Io(new Ti("heartbeat",e=>new _R(e),"PRIVATE")),Or(ug,aw,t),Or(ug,aw,"esm2020"),Or("fire-js","")}SR("");var IR="firebase",CR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(IR,CR,"app");function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AR=Gb,Kb=new Jc("auth","Firebase",Gb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new ly("@firebase/auth");function kR(t,...e){vh.logLevel<=Ue.WARN&&vh.warn(`Auth (${Oo}): ${t}`,...e)}function Zd(t,...e){vh.logLevel<=Ue.ERROR&&vh.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,...e){throw fy(t,...e)}function or(t,...e){return fy(t,...e)}function hy(t,e,n){const r={...AR(),[e]:n};return new Jc("auth","Firebase",r).create(e,{appName:t.name})}function wo(t){return hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Br(t,"argument-error"),hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kb.create(t,...e)}function Ne(t,e,...n){if(!t)throw fy(e,...n)}function us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zd(e),new Error(e)}function _s(t,e){t||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){return typeof self<"u"&&self.location?.href||""}function RR(){return hw()==="http:"||hw()==="https:"}function hw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RR()||iP()||"connection"in navigator)?navigator.onLine:!0}function jR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=nP()||oP()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){_s(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LR=new eu(3e4,6e4);function my(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function al(t,e,n,r,i={}){return Yb(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Zc({key:t.config.apiKey,...l}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:p,...a};return sP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Di(t.emulatorConfig.host)&&(m.credentials="include"),Qb.fetch()(await Xb(t,t.config.apiHost,n,u),m)})}async function Yb(t,e,n){t._canInitEmulator=!1;const r={...DR,...e};try{const i=new VR(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Od(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[p,m]=u.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(t,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw Od(t,"email-already-in-use",l);if(p==="USER_DISABLED")throw Od(t,"user-disabled",l);const g=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw hy(t,g,m);Br(t,g)}}catch(i){if(i instanceof $r)throw i;Br(t,"network-request-failed",{message:String(i)})}}async function MR(t,e,n,r,i={}){const a=await al(t,e,n,r,i);return"mfaPendingCredential"in a&&Br(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Xb(t,e,n,r){const i=`${e}${n}?${r}`,a=t,l=a.config.emulator?py(t.config,i):`${t.config.apiScheme}://${i}`;return OR.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(or(this.auth,"network-request-failed")),LR.get())})}}function Od(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=or(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e){return al(t,"POST","/v1/accounts:delete",e)}async function xh(t,e){return al(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UR(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=gy(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:_c(_m(i.auth_time)),issuedAtTime:_c(_m(i.iat)),expirationTime:_c(_m(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function _m(t){return Number(t)*1e3}function gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Mb(n);return i?JSON.parse(i):(Zd("Failed to decode base64 JWT payload"),null)}catch(i){return Zd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fw(t){const e=gy(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&BR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function BR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(t){const e=t.auth,n=await t.getIdToken(),r=await Mc(t,xh(e,{idToken:n}));Ne(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Jb(i.providerUserInfo):[],l=HR(t.providerData,a),u=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!l?.length,m=u?p:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new pg(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,g)}async function $R(t){const e=zt(t);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Jb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,e){const n=await Yb(t,{},async()=>{const r=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await Xb(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:u,body:r};return t.emulatorConfig&&Di(t.emulatorConfig.host)&&(p.credentials="include"),Qb.fetch()(l,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WR(t,e){return al(t,"POST","/v2/accounts:revokeToken",my(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=fw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await qR(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new $a;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ne(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new zR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Mc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UR(this,e)}reload(){return $R(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await Mc(this,FR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:T,providerData:I,stsTokenManager:N}=n;Ne(v&&N,e,"internal-error");const C=$a.fromJSON(this.name,N);Ne(typeof v=="string",e,"internal-error"),ri(r,e.name),ri(i,e.name),Ne(typeof _=="boolean",e,"internal-error"),Ne(typeof T=="boolean",e,"internal-error"),ri(a,e.name),ri(l,e.name),ri(u,e.name),ri(p,e.name),ri(m,e.name),ri(g,e.name);const F=new sr({uid:v,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:C,createdAt:m,lastLoginAt:g});return I&&Array.isArray(I)&&(F.providerData=I.map(U=>({...U}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const a=new sr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Jb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,u=new $a;u.updateFromIdToken(r);const p=new sr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;function ds(t){_s(t instanceof Function,"Expected a class definition");let e=pw.get(t);return e?(_s(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Zb.type="NONE";const mw=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=eh(this.userKey,i.apiKey,a),this.fullPersistenceKey=eh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(ds(mw),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||ds(mw);const l=eh(r,e.config.apiKey,e.name);let u=null;for(const m of n)try{const g=await m._get(l);if(g){let v;if(typeof g=="string"){const _=await xh(e,{idToken:g}).catch(()=>{});if(!_)break;v=await sr._fromGetAccountInfoResponse(e,_,g)}else v=sr._fromJSON(e,g);m!==a&&(u=v),a=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ha(a,e,r):(a=p[0],u&&await a._set(l,u.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ha(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(oE(e))return"Webos";if(tE(e))return"Safari";if((e.includes("chrome/")||nE(e))&&!e.includes("edge/"))return"Chrome";if(sE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eE(t=an()){return/firefox\//i.test(t)}function tE(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nE(t=an()){return/crios\//i.test(t)}function rE(t=an()){return/iemobile/i.test(t)}function sE(t=an()){return/android/i.test(t)}function iE(t=an()){return/blackberry/i.test(t)}function oE(t=an()){return/webos/i.test(t)}function yy(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GR(t=an()){return yy(t)&&!!window.navigator?.standalone}function KR(){return aP()&&document.documentMode===10}function aE(t=an()){return yy(t)||sE(t)||oE(t)||iE(t)||/windows phone/i.test(t)||rE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e=[]){let n;switch(t){case"Browser":n=gw(an());break;case"Worker":n=`${gw(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,u)=>{try{const p=e(a);l(p)}catch(p){u(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e={}){return al(t,"GET","/v2/passwordPolicy",my(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=6;class JR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??XR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yw(this),this.idTokenSubscription=new yw(this),this.beforeStateQueue=new QR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(wo(this));const n=e?zt(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YR(this),n=new JR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{l=!0,p()}}else{const p=e.addObserver(n);return()=>{l=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zh(t){return zt(t)}class yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=mP(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eN(t){vy=t}function tN(t){return vy.loadJS(t)}function nN(){return vy.gapiScript}function rN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t,e){const n=Jh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(So(a,e??{}))return i;Br(i,"already-initialized")}return n.initialize({options:e})}function iN(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ds);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function oN(t,e,n){const r=Zh(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cE(e),{host:l,port:u}=aN(e),p=u===null?"":`:${u}`,m={url:`${a}//${l}${p}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(So(m,r.config.emulator)&&So(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Di(l)?(oy(`${a}//${l}${p}`),ay("Auth",!0)):lN()}function cE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aN(t){const e=cE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:vw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:vw(l)}}}function vw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e){return MR(t,"POST","/v1/accounts:signInWithIdp",my(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="http://localhost";class Co extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const l=new Co(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qa(e,n)}buildRequest(){const e={requestUri:cN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends xy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends tu{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Co._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends tu{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends tu{constructor(){super("twitter.com")}static credential(e,n){return Co._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await sr._fromIdTokenResponse(e,r,i),l=xw(r);return new Qa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xw(r);return new Qa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends $r{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _h(e,n,r,i)}}function dE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(t,a,e,r):a})}async function uN(t,e,n=!1){const r=await Mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(wo(r));const i="reauthenticate";try{const a=await Mc(t,dE(r,i,e,t),n);Ne(a.idToken,r,"internal-error");const l=gy(a.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(t.uid===u,r,"user-mismatch"),Qa._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Br(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(t,e,n=!1){if(Wn(t.app))return Promise.reject(wo(t));const r="signIn",i=await dE(t,r,e),a=await Qa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function fN(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function pN(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function mN(t,e,n,r){return zt(t).onAuthStateChanged(e,n,r)}function gN(t){return zt(t).signOut()}const bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,vN=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,p)=>{this.notifyListeners(l,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);KR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,vN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const xN=fE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pE.type="SESSION";const mE=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ef(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async m=>m(n.origin,a)),p=await wN(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,p)=>{const m=wy("",20);i.port1.start();const g=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(g),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function bN(t){Lr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function EN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TN(){return navigator?.serviceWorker?.controller||null}function SN(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firebaseLocalStorageDb",IN=1,Eh="firebaseLocalStorage",vE="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function CN(){const t=indexedDB.deleteDatabase(yE);return new nu(t).toPromise()}function mg(){const t=indexedDB.open(yE,IN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eh,{keyPath:vE})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await CN(),e(await mg()))})})}async function ww(t,e,n){const r=tf(t,!0).put({[vE]:e,value:n});return new nu(r).toPromise()}async function AN(t,e){const n=tf(t,!1).get(e),r=await new nu(n).toPromise();return r===void 0?null:r.value}function _w(t,e){const n=tf(t,!0).delete(e);return new nu(n).toPromise()}const kN=800,PN=3;class xE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>PN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(SN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await EN(),!this.activeServiceWorker)return;this.sender=new _N(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mg();return await ww(e,bh,"1"),await _w(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ww(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=tf(i,!1).getAll();return new nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xE.type="LOCAL";const RN=xE;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){return e?ds(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends uE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NN(t){return hN(t.auth,new _y(t),t.bypassAuthState)}function jN(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),dN(n,new _y(t),t.bypassAuthState)}async function DN(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),uN(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NN;case"linkViaPopup":case"linkViaRedirect":return DN;case"reauthViaPopup":case"reauthViaRedirect":return jN;default:Br(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new eu(2e3,1e4);async function LN(t,e,n){if(Wn(t.app))return Promise.reject(or(t,"operation-not-supported-in-this-environment"));const r=Zh(t);PR(t,e,xy);const i=wE(r,n);return new go(r,"signInViaPopup",e,i).executeNotNull()}class go extends _E{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,go.currentPopupAction&&go.currentPopupAction.cancel(),go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=wy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,go.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ON.get())};e()}}go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="pendingRedirect",th=new Map;class VN extends _E{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const r=await FN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FN(t,e){const n=zN(e),r=BN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UN(t,e){th.set(t._key(),e)}function BN(t){return ds(t._redirectPersistence)}function zN(t){return eh(MN,t.config.apiKey,t.name)}async function $N(t,e,n=!1){if(Wn(t.app))return Promise.reject(wo(t));const r=Zh(t),i=wE(r,e),l=await new VN(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!bE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(or(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HN&&this.cachedEventUids.clear(),this.cachedEventUids.has(bw(e))}saveEventToCache(e){this.cachedEventUids.add(bw(e)),this.lastProcessedEventTime=Date.now()}}function bw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function WN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e={}){return al(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QN=/^https?/;async function YN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GN(t);for(const n of e)try{if(XN(n))return}catch{}Br(t,"unauthorized-domain")}function XN(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!QN.test(n))return!1;if(KN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new eu(3e4,6e4);function Ew(){const t=Lr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZN(t){return new Promise((e,n)=>{function r(){Ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ew(),n(or(t,"network-request-failed"))},timeout:JN.get()})}if(Lr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lr().gapi?.load)r();else{const i=rN("iframefcb");return Lr()[i]=()=>{gapi.load?r():n(or(t,"network-request-failed"))},tN(`${nN()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw nh=null,e})}let nh=null;function ej(t){return nh=nh||ZN(t),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new eu(5e3,15e3),nj="__/auth/iframe",rj="emulator/auth/iframe",sj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ij=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oj(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?py(e,rj):`https://${t.config.authDomain}/${nj}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},i=ij.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Zc(r).slice(1)}`}async function aj(t){const e=await ej(t),n=Lr().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:oj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sj,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=or(t,"network-request-failed"),u=Lr().setTimeout(()=>{a(l)},tj.get());function p(){Lr().clearTimeout(u),i(r)}r.ping(p).then(p,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cj=500,uj=600,dj="_blank",hj="http://localhost";class Tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fj(t,e,n,r=cj,i=uj){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const p={...lj,width:r.toString(),height:i.toString(),top:a,left:l},m=an().toLowerCase();n&&(u=nE(m)?dj:n),eE(m)&&(e=e||hj,p.scrollbars="yes");const g=Object.entries(p).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(GR(m)&&u!=="_self")return pj(e||"",u),new Tw(null);const v=window.open(e||"",u,g);Ne(v,t,"popup-blocked");try{v.focus()}catch{}return new Tw(v)}function pj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="__/auth/handler",gj="emulator/auth/handler",yj=encodeURIComponent("fac");async function Sw(t,e,n,r,i,a){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:i};if(e instanceof xy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",pP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof tu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const p=await t._getAppCheckToken(),m=p?`#${yj}=${encodeURIComponent(p)}`:"";return`${vj(t)}?${Zc(u).slice(1)}${m}`}function vj({config:t}){return t.emulator?py(t,gj):`https://${t.authDomain}/${mj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class xj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=$N,this._overrideRedirectResult=UN}async _openPopup(e,n,r,i){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Sw(e,n,r,fg(),i);return fj(e,a,wy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await Sw(e,n,r,fg(),i);return bN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(_s(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aj(e),r=new qN(e);return n.register("authEvent",i=>(Ne(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},i=>{const a=i?.[0]?.[bm];a!==void 0&&n(!!a),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aE()||tE()||yy()}}const wj=xj;var Iw="@firebase/auth",Cw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ej(t){Io(new Ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(t)},m=new ZR(r,i,a,p);return iN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Io(new Ti("auth-internal",e=>{const n=Zh(e.getProvider("auth").getImmediate());return(r=>new _j(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Iw,Cw,bj(t)),Or(Iw,Cw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=300,Sj=Bb("authIdTokenMaxAge")||Tj;let Aw=null;const Ij=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Sj)return;const i=n?.token;Aw!==i&&(Aw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Cj(t=dy()){const e=Jh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sN(t,{popupRedirectResolver:wj,persistence:[RN,xN,mE]}),r=Bb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Ij(a.toString());pN(n,l,()=>l(n.currentUser)),fN(n,u=>l(u))}}const i=Vb("auth");return i&&oN(n,`http://${i}`),n}function Aj(){return document.getElementsByTagName("head")?.[0]??document}eN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=or("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Aj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ej("Browser");var kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,EE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function j(){}j.prototype=A.prototype,S.F=A.prototype,S.prototype=new j,S.prototype.constructor=S,S.D=function(P,M,z){for(var O=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)O[ye-2]=arguments[ye];return A.prototype[M].apply(P,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,j){j||(j=0);const P=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)P[M]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(M=0;M<16;++M)P[M]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=S.g[0],j=S.g[1],M=S.g[2];let z=S.g[3],O;O=A+(z^j&(M^z))+P[0]+3614090360&4294967295,A=j+(O<<7&4294967295|O>>>25),O=z+(M^A&(j^M))+P[1]+3905402710&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(j^z&(A^j))+P[2]+606105819&4294967295,M=z+(O<<17&4294967295|O>>>15),O=j+(A^M&(z^A))+P[3]+3250441966&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(z^j&(M^z))+P[4]+4118548399&4294967295,A=j+(O<<7&4294967295|O>>>25),O=z+(M^A&(j^M))+P[5]+1200080426&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(j^z&(A^j))+P[6]+2821735955&4294967295,M=z+(O<<17&4294967295|O>>>15),O=j+(A^M&(z^A))+P[7]+4249261313&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(z^j&(M^z))+P[8]+1770035416&4294967295,A=j+(O<<7&4294967295|O>>>25),O=z+(M^A&(j^M))+P[9]+2336552879&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(j^z&(A^j))+P[10]+4294925233&4294967295,M=z+(O<<17&4294967295|O>>>15),O=j+(A^M&(z^A))+P[11]+2304563134&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(z^j&(M^z))+P[12]+1804603682&4294967295,A=j+(O<<7&4294967295|O>>>25),O=z+(M^A&(j^M))+P[13]+4254626195&4294967295,z=A+(O<<12&4294967295|O>>>20),O=M+(j^z&(A^j))+P[14]+2792965006&4294967295,M=z+(O<<17&4294967295|O>>>15),O=j+(A^M&(z^A))+P[15]+1236535329&4294967295,j=M+(O<<22&4294967295|O>>>10),O=A+(M^z&(j^M))+P[1]+4129170786&4294967295,A=j+(O<<5&4294967295|O>>>27),O=z+(j^M&(A^j))+P[6]+3225465664&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(z^A))+P[11]+643717713&4294967295,M=z+(O<<14&4294967295|O>>>18),O=j+(z^A&(M^z))+P[0]+3921069994&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(M^z&(j^M))+P[5]+3593408605&4294967295,A=j+(O<<5&4294967295|O>>>27),O=z+(j^M&(A^j))+P[10]+38016083&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(z^A))+P[15]+3634488961&4294967295,M=z+(O<<14&4294967295|O>>>18),O=j+(z^A&(M^z))+P[4]+3889429448&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(M^z&(j^M))+P[9]+568446438&4294967295,A=j+(O<<5&4294967295|O>>>27),O=z+(j^M&(A^j))+P[14]+3275163606&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(z^A))+P[3]+4107603335&4294967295,M=z+(O<<14&4294967295|O>>>18),O=j+(z^A&(M^z))+P[8]+1163531501&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(M^z&(j^M))+P[13]+2850285829&4294967295,A=j+(O<<5&4294967295|O>>>27),O=z+(j^M&(A^j))+P[2]+4243563512&4294967295,z=A+(O<<9&4294967295|O>>>23),O=M+(A^j&(z^A))+P[7]+1735328473&4294967295,M=z+(O<<14&4294967295|O>>>18),O=j+(z^A&(M^z))+P[12]+2368359562&4294967295,j=M+(O<<20&4294967295|O>>>12),O=A+(j^M^z)+P[5]+4294588738&4294967295,A=j+(O<<4&4294967295|O>>>28),O=z+(A^j^M)+P[8]+2272392833&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^j)+P[11]+1839030562&4294967295,M=z+(O<<16&4294967295|O>>>16),O=j+(M^z^A)+P[14]+4259657740&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(j^M^z)+P[1]+2763975236&4294967295,A=j+(O<<4&4294967295|O>>>28),O=z+(A^j^M)+P[4]+1272893353&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^j)+P[7]+4139469664&4294967295,M=z+(O<<16&4294967295|O>>>16),O=j+(M^z^A)+P[10]+3200236656&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(j^M^z)+P[13]+681279174&4294967295,A=j+(O<<4&4294967295|O>>>28),O=z+(A^j^M)+P[0]+3936430074&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^j)+P[3]+3572445317&4294967295,M=z+(O<<16&4294967295|O>>>16),O=j+(M^z^A)+P[6]+76029189&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(j^M^z)+P[9]+3654602809&4294967295,A=j+(O<<4&4294967295|O>>>28),O=z+(A^j^M)+P[12]+3873151461&4294967295,z=A+(O<<11&4294967295|O>>>21),O=M+(z^A^j)+P[15]+530742520&4294967295,M=z+(O<<16&4294967295|O>>>16),O=j+(M^z^A)+P[2]+3299628645&4294967295,j=M+(O<<23&4294967295|O>>>9),O=A+(M^(j|~z))+P[0]+4096336452&4294967295,A=j+(O<<6&4294967295|O>>>26),O=z+(j^(A|~M))+P[7]+1126891415&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~j))+P[14]+2878612391&4294967295,M=z+(O<<15&4294967295|O>>>17),O=j+(z^(M|~A))+P[5]+4237533241&4294967295,j=M+(O<<21&4294967295|O>>>11),O=A+(M^(j|~z))+P[12]+1700485571&4294967295,A=j+(O<<6&4294967295|O>>>26),O=z+(j^(A|~M))+P[3]+2399980690&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~j))+P[10]+4293915773&4294967295,M=z+(O<<15&4294967295|O>>>17),O=j+(z^(M|~A))+P[1]+2240044497&4294967295,j=M+(O<<21&4294967295|O>>>11),O=A+(M^(j|~z))+P[8]+1873313359&4294967295,A=j+(O<<6&4294967295|O>>>26),O=z+(j^(A|~M))+P[15]+4264355552&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~j))+P[6]+2734768916&4294967295,M=z+(O<<15&4294967295|O>>>17),O=j+(z^(M|~A))+P[13]+1309151649&4294967295,j=M+(O<<21&4294967295|O>>>11),O=A+(M^(j|~z))+P[4]+4149444226&4294967295,A=j+(O<<6&4294967295|O>>>26),O=z+(j^(A|~M))+P[11]+3174756917&4294967295,z=A+(O<<10&4294967295|O>>>22),O=M+(A^(z|~j))+P[2]+718787259&4294967295,M=z+(O<<15&4294967295|O>>>17),O=j+(z^(M|~A))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+z&4294967295}r.prototype.v=function(S,A){A===void 0&&(A=S.length);const j=A-this.blockSize,P=this.C;let M=this.h,z=0;for(;z<A;){if(M==0)for(;z<=j;)i(this,S,z),z+=this.blockSize;if(typeof S=="string"){for(;z<A;)if(P[M++]=S.charCodeAt(z++),M==this.blockSize){i(this,P),M=0;break}}else for(;z<A;)if(P[M++]=S[z++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;A=this.o*8;for(var j=S.length-8;j<S.length;++j)S[j]=A&255,A/=256;for(this.v(S),S=Array(16),A=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)S[A++]=this.g[j]>>>P&255;return S};function a(S,A){var j=u;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=A(S)}function l(S,A){this.h=A;const j=[];let P=!0;for(let M=S.length-1;M>=0;M--){const z=S[M]|0;P&&z==A||(j[M]=z,P=!1)}this.g=j}var u={};function p(S){return-128<=S&&S<128?a(S,function(A){return new l([A|0],A<0?-1:0)}):new l([S|0],S<0?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return C(m(-S));const A=[];let j=1;for(let P=0;S>=j;P++)A[P]=S/j|0,j*=4294967296;return new l(A,0)}function g(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return C(g(S.substring(1),A));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=m(Math.pow(A,8));let P=v;for(let z=0;z<S.length;z+=8){var M=Math.min(8,S.length-z);const O=parseInt(S.substring(z,z+M),A);M<8?(M=m(Math.pow(A,M)),P=P.j(M).add(m(O))):(P=P.j(j),P=P.add(m(O)))}return P}var v=p(0),_=p(1),T=p(16777216);t=l.prototype,t.m=function(){if(N(this))return-C(this).m();let S=0,A=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);S+=(P>=0?P:4294967296+P)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I(this))return"0";if(N(this))return"-"+C(this).toString(S);const A=m(Math.pow(S,6));var j=this;let P="";for(;;){const M=H(j,A).g;j=F(j,M.j(A));let z=((j.g.length>0?j.g[0]:j.h)>>>0).toString(S);if(j=M,I(j))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function I(S){if(S.h!=0)return!1;for(let A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=F(this,S),N(S)?-1:I(S)?0:1};function C(S){const A=S.g.length,j=[];for(let P=0;P<A;P++)j[P]=~S.g[P];return new l(j,~S.h).add(_)}t.abs=function(){return N(this)?C(this):this},t.add=function(S){const A=Math.max(this.g.length,S.g.length),j=[];let P=0;for(let M=0;M<=A;M++){let z=P+(this.i(M)&65535)+(S.i(M)&65535),O=(z>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);P=O>>>16,z&=65535,O&=65535,j[M]=O<<16|z}return new l(j,j[j.length-1]&-2147483648?-1:0)};function F(S,A){return S.add(C(A))}t.j=function(S){if(I(this)||I(S))return v;if(N(this))return N(S)?C(this).j(C(S)):C(C(this).j(S));if(N(S))return C(this.j(C(S)));if(this.l(T)<0&&S.l(T)<0)return m(this.m()*S.m());const A=this.g.length+S.g.length,j=[];for(var P=0;P<2*A;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<S.g.length;M++){const z=this.i(P)>>>16,O=this.i(P)&65535,ye=S.i(M)>>>16,q=S.i(M)&65535;j[2*P+2*M]+=O*q,U(j,2*P+2*M),j[2*P+2*M+1]+=z*q,U(j,2*P+2*M+1),j[2*P+2*M+1]+=O*ye,U(j,2*P+2*M+1),j[2*P+2*M+2]+=z*ye,U(j,2*P+2*M+2)}for(S=0;S<A;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=A;S<2*A;S++)j[S]=0;return new l(j,0)};function U(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function k(S,A){this.g=S,this.h=A}function H(S,A){if(I(A))throw Error("division by zero");if(I(S))return new k(v,v);if(N(S))return A=H(C(S),A),new k(C(A.g),C(A.h));if(N(A))return A=H(S,C(A)),new k(C(A.g),A.h);if(S.g.length>30){if(N(S)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var j=_,P=A;P.l(S)<=0;)j=X(j),P=X(P);var M=Q(j,1),z=Q(P,1);for(P=Q(P,2),j=Q(j,2);!I(P);){var O=z.add(P);O.l(S)<=0&&(M=M.add(j),z=O),P=Q(P,1),j=Q(j,1)}return A=F(S,M.j(A)),new k(M,A)}for(M=v;S.l(A)>=0;){for(j=Math.max(1,Math.floor(S.m()/A.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=m(j),O=z.j(A);N(O)||O.l(S)>0;)j-=P,z=m(j),O=z.j(A);I(z)&&(z=_),M=M.add(z),S=F(S,O)}return new k(M,S)}t.B=function(S){return H(this,S).h},t.and=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)&S.i(P);return new l(j,this.h&S.h)},t.or=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)|S.i(P);return new l(j,this.h|S.h)},t.xor=function(S){const A=Math.max(this.g.length,S.g.length),j=[];for(let P=0;P<A;P++)j[P]=this.i(P)^S.i(P);return new l(j,this.h^S.h)};function X(S){const A=S.g.length+1,j=[];for(let P=0;P<A;P++)j[P]=S.i(P)<<1|S.i(P-1)>>>31;return new l(j,S.h)}function Q(S,A){const j=A>>5;A%=32;const P=S.g.length-j,M=[];for(let z=0;z<P;z++)M[z]=A>0?S.i(z+j)>>>A|S.i(z+j+1)<<32-A:S.i(z+j);return new l(M,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,EE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,vi=l}).apply(typeof kw<"u"?kw:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TE,mc,SE,rh,gg,IE,CE,AE;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var w=0;w<d.length;++w){var b=d[w];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function i(d,w){if(w)e:{var b=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in b))break e;b=b[G]}d=d[d.length-1],R=b[d],w=w(R),w!=R&&w!=null&&e(b,d,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(w){var b=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&b.push([R,w[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function p(d,w,b){return d.call.apply(d.bind,arguments)}function m(d,w,b){return m=p,m.apply(null,arguments)}function g(d,w){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function v(d,w){function b(){}b.prototype=w.prototype,d.Z=w.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(R,G,J){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return w.prototype[G].apply(R,ce)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function T(d){const w=d.length;if(w>0){const b=Array(w);for(let R=0;R<w;R++)b[R]=d[R];return b}return[]}function I(d,w){for(let R=1;R<arguments.length;R++){const G=arguments[R];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=d.length||0;const J=G.length||0;d.length=b+J;for(let ce=0;ce<J;ce++)d[b+ce]=G[ce]}else d.push(G)}}class N{constructor(w,b){this.i=w,this.j=b,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(d){l.setTimeout(()=>{throw d},0)}function F(){var d=S;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,b){const R=k.get();R.set(w,b),this.h?this.h.next=R:this.g=R,this.h=R}}var k=new N(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,b){this.h=w,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let X,Q=!1,S=new U,A=()=>{const d=Promise.resolve(void 0);X=()=>{d.then(j)}};function j(){for(var d;d=F();){try{d.h.call(d.g)}catch(b){C(b)}var w=k;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}Q=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};l.addEventListener("test",b,w),l.removeEventListener("test",b,w)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function ye(d,w){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}v(ye,M),ye.prototype.init=function(d,w){const b=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(b=="mouseover"?w=d.fromElement:b=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),te=0;function ge(d,w,b,R,G){this.listener=d,this.proxy=null,this.src=w,this.type=b,this.capture=!!R,this.ha=G,this.key=++te,this.da=this.fa=!1}function se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d,w,b){for(const R in d)w.call(b,d[R],R,d)}function ue(d,w){for(const b in d)w.call(void 0,d[b],b,d)}function V(d){const w={};for(const b in d)w[b]=d[b];return w}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(d,w){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)d[b]=R[b];for(let J=0;J<ee.length;J++)b=ee[J],Object.prototype.hasOwnProperty.call(R,b)&&(d[b]=R[b])}}function Te(d){this.src=d,this.g={},this.h=0}Te.prototype.add=function(d,w,b,R,G){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const ce=Me(d,w,R,G);return ce>-1?(w=d[ce],b||(w.fa=!1)):(w=new ge(w,this.src,J,!!R,G),w.fa=b,d.push(w)),w};function Le(d,w){const b=w.type;if(b in d.g){var R=d.g[b],G=Array.prototype.indexOf.call(R,w,void 0),J;(J=G>=0)&&Array.prototype.splice.call(R,G,1),J&&(se(w),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Me(d,w,b,R){for(let G=0;G<d.length;++G){const J=d[G];if(!J.da&&J.listener==w&&J.capture==!!b&&J.ha==R)return G}return-1}var We="closure_lm_"+(Math.random()*1e6|0),$e={};function Qe(d,w,b,R,G){if(Array.isArray(w)){for(let J=0;J<w.length;J++)Qe(d,w[J],b,R,G);return null}return b=gl(b),d&&d[q]?d.J(w,b,u(R)?!!R.capture:!1,G):Et(d,w,b,!1,R,G)}function Et(d,w,b,R,G,J){if(!w)throw Error("Invalid event type");const ce=u(G)?!!G.capture:!!G;let De=qo(d);if(De||(d[We]=De=new Te(d)),b=De.add(w,b,R,ce,J),b.proxy)return b;if(R=hn(),b.proxy=R,R.src=d,R.listener=b,d.addEventListener)z||(G=ce),G===void 0&&(G=!1),d.addEventListener(w.toString(),R,G);else if(d.attachEvent)d.attachEvent(Ho(w.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function hn(){function d(b){return w.call(d.src,d.listener,b)}const w=vu;return d}function $o(d,w,b,R,G){if(Array.isArray(w))for(var J=0;J<w.length;J++)$o(d,w[J],b,R,G);else R=u(R)?!!R.capture:!!R,b=gl(b),d&&d[q]?(d=d.i,J=String(w).toString(),J in d.g&&(w=d.g[J],b=Me(w,b,R,G),b>-1&&(se(w[b]),Array.prototype.splice.call(w,b,1),w.length==0&&(delete d.g[J],d.h--)))):d&&(d=qo(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Me(w,b,R,G)),(b=d>-1?w[d]:null)&&Cs(b))}function Cs(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[q])Le(w.i,d);else{var b=d.type,R=d.proxy;w.removeEventListener?w.removeEventListener(b,R,d.capture):w.detachEvent?w.detachEvent(Ho(b),R):w.addListener&&w.removeListener&&w.removeListener(R),(b=qo(w))?(Le(b,d),b.h==0&&(b.src=null,w[We]=null)):se(d)}}}function Ho(d){return d in $e?$e[d]:$e[d]="on"+d}function vu(d,w){if(d.da)d=!0;else{w=new ye(w,this);const b=d.listener,R=d.ha||d.src;d.fa&&Cs(d),d=b.call(R,w)}return d}function qo(d){return d=d[We],d instanceof Te?d:null}var Li="__closure_events_fn_"+(Math.random()*1e9>>>0);function gl(d){return typeof d=="function"?d:(d[Li]||(d[Li]=function(w){return d.handleEvent(w)}),d[Li])}function Tt(){P.call(this),this.i=new Te(this),this.M=this,this.G=null}v(Tt,P),Tt.prototype[q]=!0,Tt.prototype.removeEventListener=function(d,w,b,R){$o(this,d,w,b,R)};function yt(d,w){var b,R=d.G;if(R)for(b=[];R;R=R.G)b.push(R);if(d=d.M,R=w.type||w,typeof w=="string")w=new M(w,d);else if(w instanceof M)w.target=w.target||d;else{var G=w;w=new M(R,d),Se(w,G)}G=!0;let J,ce;if(b)for(ce=b.length-1;ce>=0;ce--)J=w.g=b[ce],G=Kn(J,R,!0,w)&&G;if(J=w.g=d,G=Kn(J,R,!0,w)&&G,G=Kn(J,R,!1,w)&&G,b)for(ce=0;ce<b.length;ce++)J=w.g=b[ce],G=Kn(J,R,!1,w)&&G}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const b=d.g[w];for(let R=0;R<b.length;R++)se(b[R]);delete d.g[w],d.h--}}this.G=null},Tt.prototype.J=function(d,w,b,R){return this.i.add(String(d),w,!1,b,R)},Tt.prototype.K=function(d,w,b,R){return this.i.add(String(d),w,!0,b,R)};function Kn(d,w,b,R){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let J=0;J<w.length;++J){const ce=w[J];if(ce&&!ce.da&&ce.capture==b){const De=ce.listener,vt=ce.ha||ce.src;ce.fa&&Le(d.i,ce),G=De.call(vt,R)!==!1&&G}}return G&&!R.defaultPrevented}function yl(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(d,w||0)}function vl(d){d.g=yl(()=>{d.g=null,d.i&&(d.i=!1,vl(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class xu extends P{constructor(w,b){super(),this.m=w,this.l=b,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:vl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(d){P.call(this),this.h=d,this.g={}}v(As,P);var xl=[];function Wo(d){he(d.g,function(w,b){this.g.hasOwnProperty(b)&&Cs(w)},d),d.g={}}As.prototype.N=function(){As.Z.N.call(this),Wo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ks=l.JSON.stringify,wu=l.JSON.parse,Mi=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Ps(){}function _u(){}var Rs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Go(){M.call(this,"d")}v(Go,M);function wl(){M.call(this,"c")}v(wl,M);var Qn={},Ko=null;function Ns(){return Ko=Ko||new Tt}Qn.Ia="serverreachability";function Qo(d){M.call(this,Qn.Ia,d)}v(Qo,M);function Hr(d){const w=Ns();yt(w,new Qo(w))}Qn.STAT_EVENT="statevent";function qr(d,w){M.call(this,Qn.STAT_EVENT,d),this.stat=w}v(qr,M);function ht(d){const w=Ns();yt(w,new qr(w,d))}Qn.Ja="timingevent";function _l(d,w){M.call(this,Qn.Ja,d),this.size=w}v(_l,M);function js(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function Ds(){this.g=!0}Ds.prototype.ua=function(){this.g=!1};function bu(d,w,b,R,G,J){d.info(function(){if(d.g)if(J){var ce="",De=J.split("&");for(let Je=0;Je<De.length;Je++){var vt=De[Je].split("=");if(vt.length>1){const St=vt[0];vt=vt[1];const An=St.split("_");ce=An.length>=2&&An[1]=="type"?ce+(St+"="+vt+"&"):ce+(St+"=redacted&")}}}else ce=null;else ce=J;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+w+`
`+b+`
`+ce})}function Eu(d,w,b,R,G,J,ce){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+w+`
`+b+`
`+J+" "+ce})}function hr(d,w,b,R){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+Vi(d,b)+(R?" "+R:"")})}function Tu(d,w){d.info(function(){return"TIMEOUT: "+w})}Ds.prototype.info=function(){};function Vi(d,w){if(!d.g)return w;if(!w)return null;try{const J=JSON.parse(w);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var b=J[d];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return ks(J)}catch{return w}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ls={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Su;function Wr(){}v(Wr,Ps),Wr.prototype.g=function(){return new XMLHttpRequest},Su=new Wr;function fr(d){return encodeURIComponent(String(d))}function Yo(d){var w=1;d=d.split(":");const b=[];for(;w>0&&d.length;)b.push(d.shift()),w--;return d.length&&b.push(d.join(":")),b}function Ln(d,w,b,R){this.j=d,this.i=w,this.l=b,this.S=R||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Iu}function Iu(){this.i=null,this.g="",this.h=!1}var Cu={},bl={};function Yn(d,w,b){d.M=1,d.A=Kr(Mn(w)),d.u=b,d.R=!0,El(d,null)}function El(d,w){d.F=Date.now(),Fi(d),d.B=Mn(d.A);var b=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),jl(b.i,"t",R),d.C=0,b=d.j.L,d.h=new Iu,d.g=Mu(d.j,b?w:null,!d.u),d.P>0&&(d.O=new xu(m(d.Y,d,d.g),d.P)),w=d.V,b=d.g,R=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(xl[0]=G.toString()),G=xl);for(let J=0;J<G.length;J++){const ce=Qe(b,G[J],R||w.handleEvent,!1,w.h||w);if(!ce)break;w.g[ce.key]=ce}w=d.J?V(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Hr(),bu(d.i,d.v,d.B,d.l,d.S,d.u)}Ln.prototype.ba=function(d){d=d.target;const w=this.O;w&&wr(d)==3?w.j():this.Y(d)},Ln.prototype.Y=function(d){try{if(d==this.g)e:{const De=wr(this.g),vt=this.g.ya(),Je=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Ou(this.g)))){this.K||De!=4||vt==7||(vt==8||Je<=0?Hr(3):Hr(2)),Xo(this);var w=this.g.ca();this.X=w;var b=Au(this);if(this.o=w==200,Eu(this.i,this.v,this.B,this.l,this.S,De,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var J=R;break t}}J=null}if(d=J)hr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,st(this,d);else{this.o=!1,this.m=3,ht(12),Gr(this),Ui(this);break e}}if(this.R){d=!0;let St;for(;!this.K&&this.C<b.length;)if(St=Pu(this,b),St==bl){De==4&&(this.m=4,ht(14),d=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(St==Cu){this.m=4,ht(15),hr(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else hr(this.i,this.l,St,null),st(this,St);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,ht(16),d=!1),this.o=this.o&&d,!d)hr(this.i,this.l,b,"[Invalid Chunked Response]"),Gr(this),Ui(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Qi(ce),ce.P=!0,ht(11))}}else hr(this.i,this.l,b,null),st(this,b);De==4&&Gr(this),this.o&&!this.K&&(De==4?aa(this.j,this):(this.o=!1,Fi(this)))}else Ol(this.g),w==400&&b.indexOf("Unknown SID")>0?(this.m=3,ht(12)):(this.m=0,ht(13)),Gr(this),Ui(this)}}}catch{}finally{}};function Au(d){if(!ku(d))return d.g.la();const w=Ou(d.g);if(w==="")return"";let b="";const R=w.length,G=wr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Gr(d),Ui(d),"";d.h.i=new l.TextDecoder}for(let J=0;J<R;J++)d.h.h=!0,b+=d.h.i.decode(w[J],{stream:!(G&&J==R-1)});return w.length=0,d.h.g+=b,d.C=0,d.h.g}function ku(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Pu(d,w){var b=d.C,R=w.indexOf(`
`,b);return R==-1?bl:(b=Number(w.substring(b,R)),isNaN(b)?Cu:(R+=1,R+b>w.length?bl:(w=w.slice(R,R+b),d.C=R+b,w)))}Ln.prototype.cancel=function(){this.K=!0,Gr(this)};function Fi(d){d.T=Date.now()+d.H,Tl(d,d.H)}function Tl(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=js(m(d.aa,d),w)}function Xo(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Ln.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Tu(this.i,this.B),this.M!=2&&(Hr(),ht(17)),Gr(this),this.m=2,Ui(this)):Tl(this,this.T-d)};function Ui(d){d.j.I==0||d.K||aa(d.j,d)}function Gr(d){Xo(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,Wo(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function st(d,w){try{var b=d.j;if(b.I!=0&&(b.g==d||Il(b.h,d))){if(!d.L&&Il(b.h,d)&&b.I==3){try{var R=b.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)oa(b),In(b);else break e;Er(b),ht(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=js(m(b.Va,b),6e3));Bi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Cn(b,11)}else if((d.L||b.g==d)&&oa(b),!O(w))for(G=b.Ba.g.parse(w),w=0;w<G.length;w++){let Je=G[w];const St=Je[0];if(!(St<=b.K))if(b.K=St,Je=Je[1],b.I==2)if(Je[0]=="c"){b.M=Je[1],b.ba=Je[2];const An=Je[3];An!=null&&(b.ka=An,b.j.info("VER="+b.ka));const Zr=Je[4];Zr!=null&&(b.za=Zr,b.j.info("SVER="+b.za));const Tr=Je[5];Tr!=null&&typeof Tr=="number"&&Tr>0&&(R=1.5*Tr,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Sr=d.g;if(Sr){const ua=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var J=R.h;J.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Zo(J,J.h),J.h=null))}if(R.G){const Vl=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(R.wa=Vl,Ye(R.J,R.G,Vl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var ce=d;if(R.na=Ml(R,R.L?R.ba:null,R.W),ce.L){zi(R.h,ce);var De=ce,vt=R.O;vt&&(De.H=vt),De.D&&(Xo(De),Fi(De)),R.g=ce}else Yt(R);b.i.length>0&&Jr(b)}else Je[0]!="stop"&&Je[0]!="close"||Cn(b,7);else b.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Cn(b,7):sa(b):Je[0]!="noop"&&b.l&&b.l.qa(Je),b.A=0)}}Hr(4)}catch{}}var Bf=class{constructor(d,w){this.g=d,this.map=w}};function Jo(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Bi(d){return d.h?1:d.g?d.g.size:0}function Il(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function Zo(d,w){d.g?d.g.add(w):d.h=w}function zi(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}Jo.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function En(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const b of d.g.values())w=w.concat(b.G);return w}return T(d.i)}var Ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tn(d,w){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const R=d[b].indexOf("=");let G,J=null;R>=0?(G=d[b].substring(0,R),J=d[b].substring(R+1)):G=d[b],w(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function pr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof pr?(this.l=d.l,$i(this,d.j),this.o=d.o,this.g=d.g,mr(this,d.u),this.h=d.h,Ms(this,Dl(d.i)),this.m=d.m):d&&(w=String(d).match(Ru))?(this.l=!1,$i(this,w[1]||"",!0),this.o=Hi(w[2]||""),this.g=Hi(w[3]||"",!0),mr(this,w[4]),this.h=Hi(w[5]||"",!0),Ms(this,w[6]||"",!0),this.m=Hi(w[7]||"")):(this.l=!1,this.i=new He(null,this.l))}pr.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(qi(w,Al,!0),":");var b=this.g;return(b||w=="file")&&(d.push("//"),(w=this.o)&&d.push(qi(w,Al,!0),"@"),d.push(fr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(qi(b,b.charAt(0)=="/"?Wi:kl,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",qi(b,Pl)),d.join("")},pr.prototype.resolve=function(d){const w=Mn(this);let b=!!d.j;b?$i(w,d.j):b=!!d.o,b?w.o=d.o:b=!!d.g,b?w.g=d.g:b=d.u!=null;var R=d.h;if(b)mr(w,d.u);else if(b=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=w.h.lastIndexOf("/");G!=-1&&(R=w.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let ce=0;ce<G.length;){const De=G[ce++];De=="."?R&&ce==G.length&&J.push(""):De==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&ce==G.length&&J.push("")):(J.push(De),R=!0)}R=J.join("/")}else R=G}return b?w.h=R:b=d.i.toString()!=="",b?Ms(w,Dl(d.i)):b=!!d.m,b&&(w.m=d.m),w};function Mn(d){return new pr(d)}function $i(d,w,b){d.j=b?Hi(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function mr(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function Ms(d,w,b){w instanceof He?(d.i=w,ta(d.i,d.l)):(b||(w=qi(w,zf)),d.i=new He(w,d.l))}function Ye(d,w,b){d.i.set(w,b)}function Kr(d){return Ye(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Hi(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function qi(d,w,b){return typeof d=="string"?(d=encodeURI(d).replace(w,Cl),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Cl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Al=/[#\/\?@]/g,kl=/[#\?:]/g,Wi=/[#\?]/g,zf=/[#\?@]/g,Pl=/#/g;function He(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function gr(d){d.g||(d.g=new Map,d.h=0,d.i&&Tn(d.i,function(w,b){d.add(decodeURIComponent(w.replace(/\+/g," ")),b)}))}t=He.prototype,t.add=function(d,w){gr(this),this.i=null,d=yr(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(w),this.h+=1,this};function Rl(d,w){gr(d),w=yr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function ea(d,w){return gr(d),w=yr(d,w),d.g.has(w)}t.forEach=function(d,w){gr(this),this.g.forEach(function(b,R){b.forEach(function(G){d.call(w,G,R,this)},this)},this)};function Nl(d,w){gr(d);let b=[];if(typeof w=="string")ea(d,w)&&(b=b.concat(d.g.get(yr(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)b=b.concat(d[w]);return b}t.set=function(d,w){return gr(this),this.i=null,d=yr(this,d),ea(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},t.get=function(d,w){return d?(d=Nl(this,d),d.length>0?String(d[0]):w):w};function jl(d,w,b){Rl(d,w),b.length>0&&(d.i=null,d.g.set(yr(d,w),T(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var b=w[R];const G=fr(b);b=Nl(this,b);for(let J=0;J<b.length;J++){let ce=G;b[J]!==""&&(ce+="="+fr(b[J])),d.push(ce)}}return this.i=d.join("&")};function Dl(d){const w=new He;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function yr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function ta(d,w){w&&!d.j&&(gr(d),d.i=null,d.g.forEach(function(b,R){const G=R.toLowerCase();R!=G&&(Rl(this,R),jl(this,G,b))},d)),d.j=w}function vr(d,w){const b=new Ds;if(l.Image){const R=new Image;R.onload=g(Ht,b,"TestLoadImage: loaded",!0,w,R),R.onerror=g(Ht,b,"TestLoadImage: error",!1,w,R),R.onabort=g(Ht,b,"TestLoadImage: abort",!1,w,R),R.ontimeout=g(Ht,b,"TestLoadImage: timeout",!1,w,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else w(!1)}function xr(d,w){const b=new Ds,R=new AbortController,G=setTimeout(()=>{R.abort(),Ht(b,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout(G),J.ok?Ht(b,"TestPingServer: ok",!0,w):Ht(b,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),Ht(b,"TestPingServer: error",!1,w)})}function Ht(d,w,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function Gi(){this.g=new Mi}function Qr(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Qr,Ps),Qr.prototype.g=function(){return new Sn(this.i,this.h)};function Sn(d,w){Tt.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Sn,Tt),t=Sn.prototype,t.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Xn(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Nu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Vs(this):Xn(this),this.readyState==3&&Nu(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Vs(this))},t.Na=function(d){this.g&&(this.response=d,Vs(this))},t.ga=function(){this.g&&Vs(this)};function Vs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Xn(d)}t.setRequestHeader=function(d,w){this.A.append(d,w)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var b=w.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=w.next();return d.join(`\r
`)};function Xn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ju(d){let w="";return he(d,function(b,R){w+=R,w+=":",w+=b,w+=`\r
`}),w}function na(d,w,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=ju(b),typeof d=="string"?b!=null&&fr(b):Ye(d,w,b))}function Ze(d){Tt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ze,Tt);var Du=/^https?$/i,$f=["POST","PUT"];t=Ze.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,w,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Su.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(J){Fs(this,J);return}if(d=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())b.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call($f,w,void 0)>=0)||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of b)this.g.setRequestHeader(J,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){Fs(this,J)}};function Fs(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,Us(d),Xr(d)}function Us(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,yt(this,"complete"),yt(this,"abort"),Xr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},t.Xa=function(){Yr(this)};function Yr(d){if(d.h&&typeof a<"u"){if(d.v&&wr(d)==4)setTimeout(d.Ca.bind(d),0);else if(yt(d,"readystatechange"),wr(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var b;if(!(b=w)){var R;if(R=J===0){let ce=String(d.D).match(Ru)[1]||null;!ce&&l.self&&l.self.location&&(ce=l.self.location.protocol.slice(0,-1)),R=!Du.test(ce?ce.toLowerCase():"")}b=R}if(b)yt(d,"complete"),yt(d,"success");else{d.o=6;try{var G=wr(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",Us(d)}}finally{Xr(d)}}}}function Xr(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,w||yt(d,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wr(d){return d.g?d.g.readyState:0}t.ca=function(){try{return wr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),wu(w)}};function Ou(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ol(d){const w={};d=(d.g&&wr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var b=Yo(d[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=w[G]||[];w[G]=J,J.push(b)}ue(w,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(d,w,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||w}function ra(d){this.za=0,this.i=[],this.j=new Ds,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_r("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_r("baseRetryDelayMs",5e3,d),this.Za=_r("retryDelaySeedMs",1e4,d),this.Ta=_r("forwardChannelMaxRetries",2,d),this.va=_r("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Jo(d&&d.concurrentRequestLimit),this.Ba=new Gi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ra.prototype,t.ka=8,t.I=1,t.connect=function(d,w,b,R){ht(0),this.W=d,this.H=w||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=Ml(this,null,this.W),Jr(this)};function sa(d){if(ia(d),d.I==3){var w=d.V++,b=Mn(d.J);if(Ye(b,"SID",d.M),Ye(b,"RID",w),Ye(b,"TYPE","terminate"),br(d,b),w=new Ln(d,d.j,w),w.M=2,w.A=Kr(Mn(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!b&&l.Image&&(new Image().src=w.A,b=!0),b||(w.g=Mu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Fi(w)}Yi(d)}function In(d){d.g&&(Qi(d),d.g.cancel(),d.g=null)}function ia(d){In(d),d.v&&(l.clearTimeout(d.v),d.v=null),oa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function Jr(d){if(!Sl(d.h)&&!d.m){d.m=!0;var w=d.Ea;X||A(),Q||(X(),Q=!0),S.add(w,d),d.D=0}}function Lu(d,w){return Bi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=js(m(d.Ea,d,w),la(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new Ln(this,this.j,d);let J=this.o;if(this.U&&(J?(J=V(J),Se(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var w=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=b;break e}if(w===4096||b===this.i.length-1){w=b+1;break e}}w=1e3}else w=1e3;w=Ll(this,G,w),b=Mn(this.J),Ye(b,"RID",d),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),br(this,b),J&&(this.R?w="headers="+fr(ju(J))+"&"+w:this.u&&na(b,this.u,J)),Zo(this.h,G),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",w),Ye(b,"SID","null"),G.U=!0,Yn(G,b,null)):Yn(G,b,w),this.I=2}}else this.I==3&&(d?Ki(this,d):this.i.length==0||Sl(this.h)||Ki(this))};function Ki(d,w){var b;w?b=w.l:b=d.V++;const R=Mn(d.J);Ye(R,"SID",d.M),Ye(R,"RID",b),Ye(R,"AID",d.K),br(d,R),d.u&&d.o&&na(R,d.u,d.o),b=new Ln(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Ll(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Zo(d.h,b),Yn(b,R,w)}function br(d,w){d.H&&he(d.H,function(b,R){Ye(w,R,b)}),d.l&&he({},function(b,R){Ye(w,R,b)})}function Ll(d,w,b){b=Math.min(d.i.length,b);const R=d.l?m(d.l.Ka,d.l,d):null;e:{var G=d.i;let De=-1;for(;;){const vt=["count="+b];De==-1?b>0?(De=G[0].g,vt.push("ofs="+De)):De=0:vt.push("ofs="+De);let Je=!0;for(let St=0;St<b;St++){var J=G[St].g;const An=G[St].map;if(J-=De,J<0)De=Math.max(0,G[St].g-100),Je=!1;else try{J="req"+J+"_"||"";try{var ce=An instanceof Map?An:Object.entries(An);for(const[Zr,Tr]of ce){let Sr=Tr;u(Tr)&&(Sr=ks(Tr)),vt.push(J+Zr+"="+encodeURIComponent(Sr))}}catch(Zr){throw vt.push(J+"type="+encodeURIComponent("_badmap")),Zr}}catch{R&&R(An)}}if(Je){ce=vt.join("&");break e}}ce=void 0}return d=d.i.splice(0,b),w.G=d,ce}function Yt(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;X||A(),Q||(X(),Q=!0),S.add(w,d),d.A=0}}function Er(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=js(m(d.Da,d),la(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Bs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=js(m(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ht(10),In(this),Bs(this))};function Qi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Bs(d){d.g=new Ln(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Mn(d.na);Ye(w,"RID","rpc"),Ye(w,"SID",d.M),Ye(w,"AID",d.K),Ye(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ye(w,"TO",d.ia),Ye(w,"TYPE","xmlhttp"),br(d,w),d.u&&d.o&&na(w,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=Kr(Mn(w)),b.u=null,b.R=!0,El(b,d)}t.Va=function(){this.C!=null&&(this.C=null,In(this),Er(this),ht(19))};function oa(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function aa(d,w){var b=null;if(d.g==w){oa(d),Qi(d),d.g=null;var R=2}else if(Il(d.h,w))b=w.G,zi(d.h,w),R=1;else return;if(d.I!=0){if(w.o)if(R==1){b=w.u?w.u.length:0,w=Date.now()-w.F;var G=d.D;R=Ns(),yt(R,new _l(R,b)),Jr(d)}else Yt(d);else if(G=w.m,G==3||G==0&&w.X>0||!(R==1&&Lu(d,w)||R==2&&Er(d)))switch(b&&b.length>0&&(w=d.h,w.i=w.i.concat(b)),G){case 1:Cn(d,5);break;case 4:Cn(d,10);break;case 3:Cn(d,6);break;default:Cn(d,2)}}}function la(d,w){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*w}function Cn(d,w){if(d.j.info("Error code "+w),w==2){var b=m(d.bb,d),R=d.Ua;const G=!R;R=new pr(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||$i(R,"https"),Kr(R),G?vr(R.toString(),b):xr(R.toString(),b)}else ht(2);d.I=0,d.l&&d.l.pa(w),Yi(d),ia(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Yi(d){if(d.I=0,d.ja=[],d.l){const w=En(d.h);(w.length!=0||d.i.length!=0)&&(I(d.ja,w),I(d.ja,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.oa()}}function Ml(d,w,b){var R=b instanceof pr?Mn(b):new pr(b);if(R.g!="")w&&(R.g=w+"."+R.g),mr(R,R.u);else{var G=l.location;R=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const J=new pr(null);R&&$i(J,R),w&&(J.g=w),G&&mr(J,G),b&&(J.h=b),R=J}return b=d.G,w=d.wa,b&&w&&Ye(R,b,w),Ye(R,"VER",d.ka),br(d,R),R}function Mu(d,w,b){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new Ze(new Qr({ab:b})):new Ze(d.ma),w.Fa(d.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}t=Vu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ca(){}ca.prototype.g=function(d,w){return new qt(d,w)};function qt(d,w){Tt.call(this),this.g=new ra(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!O(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!O(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new zs(this)}v(qt,Tt),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){sa(this.g)},qt.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=ks(d),d=b);w.i.push(new Bf(w.Ya++,d)),w.I==3&&Jr(w)},qt.prototype.N=function(){this.g.l=null,delete this.j,sa(this.g),delete this.g,qt.Z.N.call(this)};function Fu(d){Go.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const b in w){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}v(Fu,Go);function Uu(){wl.call(this),this.status=1}v(Uu,wl);function zs(d){this.g=d}v(zs,Vu),zs.prototype.ra=function(){yt(this.g,"a")},zs.prototype.qa=function(d){yt(this.g,new Fu(d))},zs.prototype.pa=function(d){yt(this.g,new Uu)},zs.prototype.oa=function(){yt(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,AE=function(){return new ca},CE=function(){return Ns()},IE=Qn,gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,rh=Os,Ls.COMPLETE="complete",SE=Ls,_u.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,mc=_u,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,TE=Ze}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",Rw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new ly("@firebase/firestore");function Ra(){return Ao.logLevel}function pe(t,...e){if(Ao.logLevel<=Ue.DEBUG){const n=e.map(by);Ao.debug(`Firestore (${ll}): ${t}`,...n)}}function bs(t,...e){if(Ao.logLevel<=Ue.ERROR){const n=e.map(by);Ao.error(`Firestore (${ll}): ${t}`,...n)}}function ko(t,...e){if(Ao.logLevel<=Ue.WARN){const n=e.map(by);Ao.warn(`Firestore (${ll}): ${t}`,...n)}}function by(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kE(t,r,n)}function kE(t,e,n){let r=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function Xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kE(e,i,r)}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class kj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Pj{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},u=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((p=>u(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?u(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new PE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Rj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Rj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Dj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function yg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Em(i)===Em(a)?Be(i,a):Em(i)?1:-1}return Be(t.length,e.length)}const Oj=55296,Lj=57343;function Em(t){const e=t.charCodeAt(0);return e>=Oj&&e<=Lj}function Ya(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__name__";class Rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Rr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Be(e.length,n.length)}static compareSegments(e,n){const r=Rr.isNumericId(e),i=Rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Rr.extractNumericId(e).compare(Rr.extractNumericId(n)):yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vi.fromString(e.substring(4,e.length-2))}}class tt extends Rr{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const Mj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Rr{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return Mj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jw}static keyField(){return new Bt([jw])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(tt.fromString(e))}static fromName(e){return new be(tt.fromString(e).popFirst(5))}static empty(){return new be(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jE(t,e,n,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dw(t){if(!be.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ow(t){if(be.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Vj(t,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ru(t,e){if(!DE(t))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=-62135596800,Mw=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mw);return new nt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Lw)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:Pt("string",nt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new nt(0,0))}static max(){return new je(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=-1;function Fj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new Si(i,be.empty(),e)}function Uj(t){return new Si(t.readTime,t.key,Vc)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(je.min(),be.empty(),Vc)}static max(){return new Si(je.max(),be.empty(),Vc)}}function Bj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:Be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $j{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==zj)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let i=0,a=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++a,l&&a===i&&n()}),(p=>r(p)))})),l=!0,a===i&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((i=>i?re.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let p=0;p<a;p++){const m=p;n(e[m]).next((g=>{l[m]=g,++u,u===a&&r(l)}),(g=>i(g)))}}))}static doWhile(e,n){return new re(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function Hj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ul(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=-1;function of(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function qj(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="";function Wj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vw(e)),e=Gj(t.get(n),e);return Vw(e)}function Gj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case OE:n+="";break;default:n+=a}}return n}function Vw(t){return t+OE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=a??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uw(this.data.getIterator())}getIteratorFrom(e){return new Uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new ir([])}unionWith(e){let n=new Ot(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ME("Invalid base64 string: "+a):a}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=Kj.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ci(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="server_timestamp",FE="__type__",UE="__previous_value__",BE="__local_write_time__";function Ty(t){return(t?.mapValue?.fields||{})[FE]?.stringValue===VE}function af(t){const e=t.mapValue.fields[UE];return Ty(e)?af(e):e}function Fc(t){const e=Ii(t.mapValue.fields[BE].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r,i,a,l,u,p,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=g}}const Sh="(default)";class Xa{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__type__",Yj="__max__",Vd={mapValue:{}},$E="__vector__",Ih="value";function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:Jj(t)?9007199254740991:Xj(t)?10:11:ke(28295,{value:t})}function zr(t,e){if(t===e)return!0;const n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ii(i.timestampValue),u=Ii(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Ci(i.bytesValue).isEqual(Ci(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return wt(i.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return wt(i.integerValue)===wt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=wt(i.doubleValue),u=wt(a.doubleValue);return l===u?Th(l)===Th(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(Fw(l)!==Fw(u))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(u[p]===void 0||!zr(l[p],u[p])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Uc(t,e){return(t.values||[]).find((n=>zr(n,e)))!==void 0}function Ja(t,e){if(t===e)return 0;const n=Ai(t),r=Ai(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=wt(a.integerValue||a.doubleValue),p=wt(l.integerValue||l.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1})(t,e);case 3:return Bw(t.timestampValue,e.timestampValue);case 4:return Bw(Fc(t),Fc(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return(function(a,l){const u=Ci(a),p=Ci(l);return u.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),p=l.split("/");for(let m=0;m<u.length&&m<p.length;m++){const g=Be(u[m],p[m]);if(g!==0)return g}return Be(u.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Be(wt(a.latitude),wt(l.latitude));return u!==0?u:Be(wt(a.longitude),wt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return zw(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},p=l.fields||{},m=u[Ih]?.arrayValue,g=p[Ih]?.arrayValue,v=Be(m?.values?.length||0,g?.values?.length||0);return v!==0?v:zw(m,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Vd.mapValue&&l===Vd.mapValue)return 0;if(a===Vd.mapValue)return 1;if(l===Vd.mapValue)return-1;const u=a.fields||{},p=Object.keys(u),m=l.fields||{},g=Object.keys(m);p.sort(),g.sort();for(let v=0;v<p.length&&v<g.length;++v){const _=yg(p[v],g[v]);if(_!==0)return _;const T=Ja(u[p[v]],m[g[v]]);if(T!==0)return T}return Be(p.length,g.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function Bw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=Ii(t),r=Ii(e),i=Be(n.seconds,r.seconds);return i!==0?i:Be(n.nanos,r.nanos)}function zw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Ja(n[i],r[i]);if(a)return a}return Be(n.length,r.length)}function Za(t){return vg(t)}function vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ii(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ci(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=vg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${vg(n.fields[l])}`;return i+"}"})(t.mapValue):ke(61005,{value:t})}function sh(t){switch(Ai(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+sh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ci(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+sh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Lo(r.fields,((a,l)=>{i+=a.length+sh(l)})),i})(t.mapValue);default:throw ke(13486,{value:t})}}function $w(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function Hw(t){return!!t&&"nullValue"in t}function qw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ih(t){return!!t&&"mapValue"in t}function Xj(t){return(t?.mapValue?.fields||{})[zE]?.stringValue===$E}function bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=bc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(t.arrayValue.values[n]);return e}return{...t}}function Jj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Yj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=bc(l):i.push(u.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Lo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new Gn(bc(this.value))}}function HE(t){const e=[];return Lo(t.fields,((n,r)=>{const i=new Bt([n]);if(ih(r)){const a=HE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,i,a,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new sn(e,0,je.min(),je.min(),je.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,i){return new sn(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new sn(e,2,n,je.min(),je.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,je.min(),je.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function Ww(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=be.comparator(be.fromName(l.referenceValue),n.key):r=Ja(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE=class{};class kt extends qE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tD(e,n,r):n==="array-contains"?new sD(e,r):n==="in"?new iD(e,r):n==="not-in"?new oD(e,r):n==="array-contains-any"?new aD(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nD(e,r):new rD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends qE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return WE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WE(t){return t.op==="and"}function GE(t){return eD(t)&&WE(t)}function eD(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function wg(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+Za(t.value);if(GE(t))return t.filters.map((e=>wg(e))).join(",");{const e=t.filters.map((n=>wg(n))).join(",");return`${t.op}(${e})`}}function KE(t,e){return t instanceof kt?(function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)})(t,e):t instanceof cr?(function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,u)=>a&&KE(l,i.filters[u])),!0):!1})(t,e):void ke(19439)}function QE(t){return t instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`})(t):t instanceof cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"})(t):"Filter"}class tD extends kt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class nD extends kt{constructor(e,n){super(e,"in",n),this.keys=YE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class rD extends kt{constructor(e,n){super(e,"not-in",n),this.keys=YE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YE(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class sD extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sy(n)&&Uc(n.arrayValue,this.value)}}class iD extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}}class oD extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uc(this.value.arrayValue,n)}}class aD extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Uc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Kw(t,e=null,n=[],r=[],i=null,a=null,l=null){return new lD(t,e,n,r,i,a,l)}function Iy(t){const e=Oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Za(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Za(r))).join(",")),e.Te=n}return e.Te}function Cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gw(t.startAt,e.startAt)&&Gw(t.endAt,e.endAt)}function _g(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n=null,r=[],i=[],a=null,l="F",u=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cD(t,e,n,r,i,a,l,u){return new dl(t,e,n,r,i,a,l,u)}function Ay(t){return new dl(t)}function Qw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XE(t){return t.collectionGroup!==null}function Ec(t){const e=Oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ot(Bt.comparator);return l.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bc(a,r))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new Bc(Bt.keyField(),r))}return e.Ie}function Mr(t){const e=Oe(t);return e.Ee||(e.Ee=uD(e,Ec(t))),e.Ee}function uD(t,e){if(t.limitType==="F")return Kw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Bc(i.field,a)}));const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return Kw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){const n=t.filters.concat([e]);return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return Cy(Mr(t),Mr(e))&&t.limitType===e.limitType}function JE(t){return`${Iy(Mr(t))}|lt:${t.limitType}`}function Na(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>QE(i))).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Za(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Za(i))).join(",")),`Target(${r})`})(Mr(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ec(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,p){const m=Ww(l,u,p);return l.inclusive?m<=0:m<0})(r.startAt,Ec(r),i)||r.endAt&&!(function(l,u,p){const m=Ww(l,u,p);return l.inclusive?m>=0:m>0})(r.endAt,Ec(r),i))})(t,e)}function dD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZE(t){return(e,n)=>{let r=!1;for(const i of Ec(t)){const a=hD(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function hD(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):(function(a,l,u){const p=l.data.field(a),m=u.data.field(a);return p!==null&&m!==null?Ja(p,m):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new dt(be.comparator);function Ts(){return fD}const eT=new dt(be.comparator);function gc(...t){let e=eT;for(const n of t)e=e.insert(n.key,n);return e}function tT(t){let e=eT;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function yo(){return Tc()}function nT(){return Tc()}function Tc(){return new Mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const pD=new dt(be.comparator),mD=new Ot(be.comparator);function ze(...t){let e=mD;for(const n of t)e=e.add(n);return e}const gD=new Ot(Be);function yD(){return gD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function rT(t){return{integerValue:""+t}}function vD(t,e){return qj(e)?rT(e):ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function xD(t,e,n){return t instanceof kh?(function(i,a){const l={fields:{[FE]:{stringValue:VE},[BE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ty(a)&&(a=af(a)),a&&(l.fields[UE]=a),{mapValue:l}})(n,e):t instanceof zc?iT(t,e):t instanceof $c?oT(t,e):(function(i,a){const l=sT(i,a),u=Yw(l)+Yw(i.Ae);return xg(l)&&xg(i.Ae)?rT(u):ky(i.serializer,u)})(t,e)}function wD(t,e,n){return t instanceof zc?iT(t,e):t instanceof $c?oT(t,e):n}function sT(t,e){return t instanceof Ph?(function(r){return xg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class kh extends uf{}class zc extends uf{constructor(e){super(),this.elements=e}}function iT(t,e){const n=aT(e);for(const r of t.elements)n.some((i=>zr(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $c extends uf{constructor(e){super(),this.elements=e}}function oT(t,e){let n=aT(e);for(const r of t.elements)n=n.filter((i=>!zr(i,r)));return{arrayValue:{values:n}}}class Ph extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yw(t){return wt(t.integerValue||t.doubleValue)}function aT(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _D(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof zc&&i instanceof zc||r instanceof $c&&i instanceof $c?Ya(r.elements,i.elements,zr):r instanceof Ph&&i instanceof Ph?zr(r.Ae,i.Ae):r instanceof kh&&i instanceof kh})(t.transform,e.transform)}class bD{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function lT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Py(t.key,Vr.none()):new su(t.key,t.data,Vr.none());{const n=t.data,r=Gn.empty();let i=new Ot(Bt.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new Vo(t.key,r,new ir(i.toArray()),Vr.none())}}function ED(t,e,n){t instanceof su?(function(i,a,l){const u=i.value.clone(),p=Jw(i.fieldTransforms,a,l.transformResults);u.setAll(p),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Vo?(function(i,a,l){if(!oh(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Jw(i.fieldTransforms,a,l.transformResults),p=a.data;p.setAll(cT(i)),p.setAll(u),a.convertToFoundDocument(l.version,p).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Sc(t,e,n,r){return t instanceof su?(function(a,l,u,p){if(!oh(a.precondition,l))return u;const m=a.value.clone(),g=Zw(a.fieldTransforms,p,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof Vo?(function(a,l,u,p){if(!oh(a.precondition,l))return u;const m=Zw(a.fieldTransforms,p,l),g=l.data;return g.setAll(cT(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,u){return oh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function TD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=sT(r.transform,i||null);a!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,a))}return n||null}function Xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ya(r,i,((a,l)=>_D(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends df{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vo extends df{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cT(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Jw(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,wD(l,u,n[i]))}return r}function Zw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,xD(a,l,e))}return r}class Py extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SD extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ED(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nT();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=n.has(i.key)?null:u;const p=lT(l,u);p!==null&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,((n,r)=>Xw(n,r)))&&Ya(this.baseMutations,e.baseMutations,((n,r)=>Xw(n,r)))}}class Ry{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return pD})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Ry(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function kD(t){switch(t){case ne.OK:return ke(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function uT(t){if(t===void 0)return bs("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return ke(39323,{code:t})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new vi([4294967295,4294967295],0);function e_(t){const e=PD().encode(t),n=new EE;return n.update(e),new Uint8Array(n.digest())}function t_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new vi([n,r],0),new vi([i,a],0)]}class Ny{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vi.fromNumber(r)));return i.compare(RD)===1&&(i=new vi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=e_(e),[r,i]=t_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ny(a,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=e_(e),[r,i]=t_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,i,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(je.min(),i,new dt(Be),Ts(),ze())}}class iu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class dT{constructor(e,n){this.targetId=e,this.Ce=n}}class hT{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n_{constructor(){this.ve=0,this.Fe=r_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}})),new iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=r_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ND{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=Fd(),this.He=Fd(),this.Ye=new dt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(_g(a))if(r===0){const l=new be(a.path);this.et(n,l,sn.newNoDocument(l,je.min()))}else Xe(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),p=u?this.ct(u,e,l):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,u;try{l=Ci(r).toUint8Array()}catch(p){if(p instanceof ME)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{u=new Ny(l,i,a)}catch(p){return ko(p instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&_g(u.target)){const p=new be(u.target.path);this.It(p).has(l)||this.Et(l,p)||this.et(l,p,sn.newNoDocument(p,e))}a.Be&&(n.set(l,a.ke()),a.qe())}}));let r=ze();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new hf(e,n,this.Ye,this.je,r);return this.je=Ts(),this.Je=Fd(),this.He=Fd(),this.Ye=new dt(Be),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new n_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fd(){return new dt(be.comparator)}function r_(){return new dt(be.comparator)}const jD={asc:"ASCENDING",desc:"DESCENDING"},DD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"};class LD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Eg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MD(t,e){return Rh(t,e.toTimestamp())}function Fr(t){return Xe(!!t,49232),je.fromTimestamp((function(n){const r=Ii(n);return new nt(r.seconds,r.nanos)})(t))}function jy(t,e){return Tg(t,e).canonicalString()}function Tg(t,e){const n=(function(i){return new tt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function pT(t){const e=tt.fromString(t);return Xe(xT(e),10190,{key:e.toString()}),e}function Sg(t,e){return jy(t.databaseId,e.path)}function Tm(t,e){const n=pT(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(gT(n))}function mT(t,e){return jy(t.databaseId,e)}function VD(t){const e=pT(t);return e.length===4?tt.emptyPath():gT(e)}function Ig(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gT(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s_(t,e,n){return{name:Sg(t,e),fields:n.value.mapValue.fields}}function FD(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ke(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Xe(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const g=m.code===void 0?ne.UNKNOWN:uT(m.code);return new de(g,m.message||"")})(l);n=new hT(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Tm(t,r.document.name),a=Fr(r.document.updateTime),l=r.document.createTime?Fr(r.document.createTime):je.min(),u=new Gn({mapValue:{fields:r.document.fields}}),p=sn.newFoundDocument(i,a,l,u),m=r.targetIds||[],g=r.removedTargetIds||[];n=new ah(m,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Tm(t,r.document),a=r.readTime?Fr(r.readTime):je.min(),l=sn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new ah([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Tm(t,r.document),a=r.removedTargetIds||[];n=new ah([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new AD(i,a),u=r.targetId;n=new dT(u,l)}}return n}function UD(t,e){let n;if(e instanceof su)n={update:s_(t,e.key,e.value)};else if(e instanceof Py)n={delete:Sg(t,e.key)};else if(e instanceof Vo)n={update:s_(t,e.key,e.data),updateMask:QD(e.fieldMask)};else{if(!(e instanceof SD))return ke(16599,{Vt:e.type});n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof kh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof zc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $c)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ph)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw ke(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:MD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)})(t,e.precondition)),n}function BD(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(i,a){let l=i.updateTime?Fr(i.updateTime):Fr(a);return l.isEqual(je.min())&&(l=Fr(a)),new bD(l,i.transformResults||[])})(n,e)))):[]}function zD(t,e){return{documents:[mT(t,e.path)]}}function $D(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mT(t,i);const a=(function(m){if(m.length!==0)return vT(cr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:ja(_.field),direction:WD(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=Eg(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function HD(t){let e=VD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1,65062);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(v){const _=yT(v);return _ instanceof cr&&GE(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((_=>(function(I){return new Bc(Da(I.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(v){let _;return _=typeof v=="object"?v.value:v,of(_)?null:_})(n.limit));let p=null;n.startAt&&(p=(function(v){const _=!!v.before,T=v.values||[];return new Ch(T,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(v){const _=!v.before,T=v.values||[];return new Ch(T,_)})(n.endAt)),cD(e,i,l,a,u,"F",p,m)}function qD(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yT(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Da(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Da(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Da(n.unaryFilter.field);return kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Da(n.unaryFilter.field);return kt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return kt.create(Da(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return cr.create(n.compositeFilter.filters.map((r=>yT(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function WD(t){return jD[t]}function GD(t){return DD[t]}function KD(t){return OD[t]}function ja(t){return{fieldPath:t.canonicalString()}}function Da(t){return Bt.fromServerFormat(t.fieldPath)}function vT(t){return t instanceof kt?(function(n){if(n.op==="=="){if(qw(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(Hw(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qw(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(Hw(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:GD(n.op),value:n.value}}})(t):t instanceof cr?(function(n){const r=n.getFilters().map((i=>vT(i)));return r.length===1?r[0]:{compositeFilter:{op:KD(n.op),filters:r}}})(t):ke(54877,{filter:t})}function QD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r,i,a=je.min(),l=je.min(),u=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=p}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.yt=e}}function XD(t){const e=HD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.Cn=new ZD}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Si.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class ZD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(tt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wT=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(wT,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LruGarbageCollector",e4=1048576;function a_([t,e],[n,r]){const i=Be(t,n);return i===0?Be(e,r):i}class t4{constructor(e){this.Ir=e,this.buffer=new Ot(a_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();a_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(o_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ul(n)?pe(o_,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)}))}}class r4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(sf.ce);const r=new t4(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(i_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,l,u,p,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,n)))).next((v=>(a=v,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),Ra()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(p-u)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v}))))}}function s4(t,e){return new r4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.changes=new Mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Sc(r.mutation,i,ir.empty(),nt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const i=yo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=gc();return a.forEach(((u,p)=>{l=l.insert(u,p.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=yo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let a=Ts();const l=Tc(),u=(function(){return Tc()})();return n.forEach(((p,m)=>{const g=r.get(m.key);i.has(m.key)&&(g===void 0||g.mutation instanceof Vo)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),Sc(g.mutation,m,g.mutation.getFieldMask(),nt.now())):l.set(m.key,ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((m,g)=>l.set(m,g))),n.forEach(((m,g)=>u.set(m,new o4(g,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Tc();let i=new dt(((l,u)=>l-u)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let g=r.get(p)||ir.empty();g=u.applyToLocalView(m,g),r.set(p,g);const v=(i.get(u.batchId)||ze()).add(p);i=i.insert(u.batchId,v)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const p=u.getNext(),m=p.key,g=p.value,v=nT();g.forEach((_=>{if(!a.has(_)){const T=lT(n.get(_),r.get(_));T!==null&&v.set(_,T),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):re.resolve(yo());let u=Vc,p=a;return l.next((m=>re.forEach(m,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{p=p.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,p,m,ze()))).next((g=>({batchId:u,changes:tT(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((r=>{let i=gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=gc();return this.indexManager.getCollectionParents(e,a).next((u=>re.forEach(u,(p=>{const m=(function(v,_){return new dl(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((g=>{g.forEach(((v,_)=>{l=l.insert(v,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((p,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,sn.newInvalidDocument(g)))}));let u=gc();return l.forEach(((p,m)=>{const g=a.get(p);g!==void 0&&Sc(g.mutation,m,ir.empty(),nt.now()),cf(n,m)&&(u=u.insert(p,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Fr(i.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:XD(i.bundledQuery),readTime:Fr(i.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.overlays=new dt(be.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yo();return re.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=yo(),a=n.length+1,l=new be(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const p=u.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new dt(((m,g)=>m-g));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=yo(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=yo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,g)=>u.set(m,g))),!(u.size()>=i)););return re.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new CD(n,r));let a=this.qr.get(n);a===void 0&&(a=ze(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.Qr=new Ot(Ut.$r),this.Ur=new Ot(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new be(new tt([])),r=new Ut(n,e),i=new Ut(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new tt([])),r=new Ut(n,e),i=new Ut(n,e+1);let a=ze();return this.Ur.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new Ut(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Ut.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ID(a,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new Ut(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ey:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);a.push(u)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Be);return n.forEach((i=>{const a=new Ut(i,0),l=new Ut(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const l=new Ut(new be(a),0);let u=new Ot(Be);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(u=u.add(p.Yr)),!0)}),l),re.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(i=>{const a=new Ut(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.ri=e,this.docs=(function(){return new dt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Ts();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():sn.newInvalidDocument(i))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ts();const l=n.path,u=new be(l.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(u);for(;p.hasNext();){const{key:m,value:{document:g}}=p.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||Bj(Uj(g),r)<=0||(i.has(g.key)||cf(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ke(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new f4(this)}getSize(e){return re.resolve(this.size)}}class f4 extends i4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.persistence=e,this.si=new Mo((n=>Iy(n)),Cy),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Dy,this.targetCount=0,this.ai=el.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new el(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),re.waitFor(a).next((()=>i))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new u4,this.referenceDelegate=e(this),this.Pi=new p4(this),this.indexManager=new JD,this.remoteDocumentCache=(function(i){return new h4(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YD(n),this.Ii=new l4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new c4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new d4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new m4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class m4 extends $j{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Ri=new Dy,this.Vi=null}static mi(e){return new Oy(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const i=be.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.pi=new Mo((r=>Wj(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=s4(this,n)}static mi(e,n){return new Nh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?re.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,a.removeEntry(l,je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ze(),i=ze();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ly(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lP()?8:Hj(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new g4;return this.Ss(e,n,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ra()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Ra()<=Ue.DEBUG&&pe("QueryEngine","Query:",Na(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ra()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):re.resolve())}ys(e,n){if(Qw(n))return re.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Ah(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ze(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.Ds(n,u);return this.Cs(n,m,l,p.readTime)?this.ys(e,Ah(n,null,"F")):this.vs(e,m,n,p)}))))})))))}ws(e,n,r,i){return Qw(n)||i.isEqual(je.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,i)?re.resolve(null):(Ra()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Na(n)),this.vs(e,l,n,Fj(i,Vc)).next((u=>u)))}))}Ds(e,n){let r=new Ot(ZE(e));return n.forEach(((i,a)=>{cf(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Ra()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Na(n)),this.ps.getDocumentsMatchingQuery(e,n,Si.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="LocalStore",v4=3e8;class x4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new dt(Be),this.xs=new Mo((a=>Iy(a)),Cy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function w4(t,e,n,r){return new x4(t,e,n,r)}async function bT(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let p=ze();for(const m of i){l.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)p=p.add(g.key)}return n.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function _4(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,p,m,g){const v=m.batch,_=v.keys();let T=re.resolve();return _.forEach((I=>{T=T.next((()=>g.getEntry(p,I))).next((N=>{const C=m.docVersions.get(I);Xe(C!==null,48541),N.version.compareTo(C)<0&&(v.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),g.addEntry(N)))}))})),T.next((()=>u.mutationQueue.removeMutationBatch(p,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let p=ze();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(p=p.add(u.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function ET(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function b4(t,e){const n=Oe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const _=i.get(v);if(!_)return;u.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(a,g.addedDocuments,v))));let T=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken($t.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(v,T),(function(N,C,F){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=v4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(_,T,g)&&u.push(n.Pi.updateTargetData(a,T))}));let p=Ts(),m=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(E4(a,l,e.documentUpdates).next((g=>{p=g.ks,m=g.qs}))),!r.isEqual(je.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next((v=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return re.waitFor(u).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(n.Ms=i,a)))}function E4(t,e,n){let r=ze(),i=ze();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=Ts();return n.forEach(((u,p)=>{const m=a.get(u);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(u)),p.isNoDocument()&&p.version.isEqual(je.min())?(e.removeEntry(u,p.readTime),l=l.insert(u,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),l=l.insert(u,p)):pe(My,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",p.version)})),{ks:l,qs:i}}))}function T4(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ey),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function S4(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,re.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new pi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Cg(t,e,n){const r=Oe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ul(l))throw l;pe(My,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function l_(t,e,n){const r=Oe(t);let i=je.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(p,m,g){const v=Oe(p),_=v.xs.get(g);return _!==void 0?re.resolve(v.Ms.get(_)):v.Pi.getTargetData(m,g)})(r,l,Mr(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:je.min(),n?a:ze()))).next((u=>(I4(r,dD(e),u),{documents:u,Qs:a})))))}function I4(t,e,n){let r=t.Os.get(e)||je.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class c_{constructor(){this.activeTargetIds=yD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C4{constructor(){this.Mo=new c_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new c_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="ConnectivityMonitor";class d_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(u_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(u_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud=null;function Ag(){return Ud===null?Ud=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ud++,"0x"+Ud.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="RestConnection",k4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const l=Ag(),u=this.zo(e,n.toUriEncodedString());pe(Sm,`Sending RPC '${e}' ${l}:`,u,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:m}=new URL(u),g=Di(m);return this.Jo(e,u,p,r,g).then((v=>(pe(Sm,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw ko(Sm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,n,r,i,a,l){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=k4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class N4 extends P4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const l=Ag();return new Promise(((u,p)=>{const m=new TE;m.setWithCredentials(!0),m.listenOnce(SE.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case rh.NO_ERROR:const v=m.getResponseJson();pe(tn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case rh.TIMEOUT:pe(tn,`RPC '${e}' ${l} timed out`),p(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const _=m.getStatus();if(pe(tn,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T?.error;if(I&&I.status&&I.message){const N=(function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN})(I.status);p(new de(N,I.message))}else p(new de(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new de(ne.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(tn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);pe(tn,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",g,r,15)}))}T_(e,n,r){const i=Ag(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=AE(),u=CE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const g=a.join("");pe(tn,`Creating RPC '${e}' stream ${i}: ${g}`,p);const v=l.createWebChannel(g,p);this.I_(v);let _=!1,T=!1;const I=new R4({Yo:C=>{T?pe(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(pe(tn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),_=!0),pe(tn,`RPC '${e}' stream ${i} sending:`,C),v.send(C))},Zo:()=>v.close()}),N=(C,F,U)=>{C.listen(F,(k=>{try{U(k)}catch(H){setTimeout((()=>{throw H}),0)}}))};return N(v,mc.EventType.OPEN,(()=>{T||(pe(tn,`RPC '${e}' stream ${i} transport opened.`),I.o_())})),N(v,mc.EventType.CLOSE,(()=>{T||(T=!0,pe(tn,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(v))})),N(v,mc.EventType.ERROR,(C=>{T||(T=!0,ko(tn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),I.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),N(v,mc.EventType.MESSAGE,(C=>{if(!T){const F=C.data[0];Xe(!!F,16349);const U=F,k=U?.error||U[0]?.error;if(k){pe(tn,`RPC '${e}' stream ${i} received error:`,k);const H=k.status;let X=(function(A){const j=Ct[A];if(j!==void 0)return uT(j)})(H),Q=k.message;X===void 0&&(X=ne.INTERNAL,Q="Unknown error status: "+H+" with message "+k.message),T=!0,I.a_(new de(X,Q)),v.close()}else pe(tn,`RPC '${e}' stream ${i} received:`,F),I.u_(F)}})),N(u,IE.STAT_EVENT,(C=>{C.stat===gg.PROXY?pe(tn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===gg.NOPROXY&&pe(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new LD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="PersistentStream";class ST{constructor(e,n,r,i,a,l,u,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(h_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(h_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class j4 extends ST{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FD(this.serializer,e),r=(function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?Fr(l.readTime):je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ig(this.serializer),n.addTarget=(function(a,l){let u;const p=l.target;if(u=_g(p)?{documents:zD(a,p)}:{query:$D(a,p).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=fT(a,l.resumeToken);const m=Eg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=Rh(a,l.snapshotVersion.toTimestamp());const m=Eg(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=qD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ig(this.serializer),n.removeTarget=e,this.q_(n)}}class D4 extends ST{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BD(e.writeResults,e.commitTime),r=Fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>UD(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{}class L4 extends O4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Tg(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(ne.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Tg(n,r),i,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class M4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="RemoteStore";class V4{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Fo(this)&&(pe(Po,"Restarting streams for network reachability change."),await(async function(p){const m=Oe(p);m.Ea.add(4),await ou(m),m.Ra.set("Unknown"),m.Ea.delete(4),await pf(m)})(this))}))})),this.Ra=new M4(r,i)}}async function pf(t){if(Fo(t))for(const e of t.da)await e(!0)}async function ou(t){for(const e of t.da)await e(!1)}function IT(t,e){const n=Oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),By(n)?Uy(n):hl(n).O_()&&Fy(n,e))}function Vy(t,e){const n=Oe(t),r=hl(n);n.Ia.delete(e),r.O_()&&CT(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fo(n)&&n.Ra.set("Unknown"))}function Fy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hl(t).Y_(e)}function CT(t,e){t.Va.Ue(e),hl(t).Z_(e)}function Uy(t){t.Va=new ND({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),hl(t).start(),t.Ra.ua()}function By(t){return Fo(t)&&!hl(t).x_()&&t.Ia.size>0}function Fo(t){return Oe(t).Ea.size===0}function AT(t){t.Va=void 0}async function F4(t){t.Ra.set("Online")}async function U4(t){t.Ia.forEach(((e,n)=>{Fy(t,e)}))}async function B4(t,e){AT(t),By(t)?(t.Ra.ha(e),Uy(t)):t.Ra.set("Unknown")}async function z4(t,e,n){if(t.Ra.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){pe(Po,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jh(t,r)}else if(e instanceof ah?t.Va.Ze(e):e instanceof dT?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const r=await ET(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(p.resumeToken,l))}})),u.targetMismatches.forEach(((p,m)=>{const g=a.Ia.get(p);if(!g)return;a.Ia.set(p,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),CT(a,p);const v=new pi(g.target,p,m,g.sequenceNumber);Fy(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){pe(Po,"Failed to raise snapshot:",r),await jh(t,r)}}async function jh(t,e,n){if(!ul(e))throw e;t.Ea.add(1),await ou(t),t.Ra.set("Offline"),n||(n=()=>ET(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(Po,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pf(t)}))}function kT(t,e){return e().catch((n=>jh(t,n,e)))}async function mf(t){const e=Oe(t),n=ki(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ey;for(;$4(e);)try{const i=await T4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,H4(e,i)}catch(i){await jh(e,i)}PT(e)&&RT(e)}function $4(t){return Fo(t)&&t.Ta.length<10}function H4(t,e){t.Ta.push(e);const n=ki(t);n.O_()&&n.X_&&n.ea(e.mutations)}function PT(t){return Fo(t)&&!ki(t).x_()&&t.Ta.length>0}function RT(t){ki(t).start()}async function q4(t){ki(t).ra()}async function W4(t){const e=ki(t);for(const n of t.Ta)e.ea(n.mutations)}async function G4(t,e,n){const r=t.Ta.shift(),i=Ry.from(r,e,n);await kT(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await mf(t)}async function K4(t,e){e&&ki(t).X_&&await(async function(r,i){if((function(l){return kD(l)&&l!==ne.ABORTED})(i.code)){const a=r.Ta.shift();ki(r).B_(),await kT(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await mf(r)}})(t,e),PT(t)&&RT(t)}async function f_(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),pe(Po,"RemoteStore received new credentials");const r=Fo(n);n.Ea.add(3),await ou(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function Q4(t,e){const n=Oe(t);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await ou(n),n.Ra.set("Unknown"))}function hl(t){return t.ma||(t.ma=(function(n,r,i){const a=Oe(n);return a.sa(),new j4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:F4.bind(null,t),t_:U4.bind(null,t),r_:B4.bind(null,t),H_:z4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),By(t)?Uy(t):t.Ra.set("Unknown")):(await t.ma.stop(),AT(t))}))),t.ma}function ki(t){return t.fa||(t.fa=(function(n,r,i){const a=Oe(n);return a.sa(),new D4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:q4.bind(null,t),r_:K4.bind(null,t),ta:W4.bind(null,t),na:G4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await mf(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(Po,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,u=new zy(e,n,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $y(t,e){if(bs("AsyncQueue",`${e}: ${t}`),ul(t))return new de(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.ga=new dt(be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class tl{constructor(e,n,r,i,a,l,u,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new tl(e,n,Wa.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class X4{constructor(){this.queries=m_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Oe(n),a=i.queries;i.queries=m_(),a.forEach(((l,u)=>{for(const p of u.Sa)p.onError(r)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function m_(){return new Mo((t=>JE(t)),lf)}async function NT(t,e){const n=Oe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new Y4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=$y(l,`Initialization of query '${Na(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Hy(n)}async function jT(t,e){const n=Oe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function J4(t,e){const n=Oe(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&Hy(n)}function Z4(t,e,n){const r=Oe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function Hy(t){t.Ca.forEach((e=>{e.next()}))}var kg,g_;(g_=kg||(kg={})).Ma="default",g_.Cache="cache";class DT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.key=e}}class LT{constructor(e){this.key=e}}class eO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=ZE(e),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new p_,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,v)=>{const _=i.get(g),T=cf(this.query,v)?v:null,I=!!_&&this.mutatedKeys.has(_.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;_&&T?_.data.isEqual(T.data)?I!==N&&(r.track({type:3,doc:T}),C=!0):this.su(_,T)||(r.track({type:2,doc:T}),C=!0,(p&&this.eu(T,p)>0||m&&this.eu(T,m)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),C=!0):_&&!T&&(r.track({type:1,doc:_}),C=!0,(p||m)&&(u=!0)),C&&(T?(l=l.add(T),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(T,I){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:C})}};return N(T)-N(I)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,m=p!==this.Za;return this.Za=p,l.length!==0||m?{snapshot:new tl(this.query,e.tu,a,l,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new p_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new LT(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new OT(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qy="SyncEngine";class tO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nO{constructor(e){this.key=e,this.hu=!1}}class rO{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Mo((u=>JE(u)),lf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(be.comparator),this.Au=new Map,this.Ru=new Dy,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sO(t,e,n=!0){const r=zT(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await MT(r,e,n,!0),i}async function iO(t,e){const n=zT(t);await MT(n,e,!0,!1)}async function MT(t,e,n,r){const i=await S4(t.localStore,Mr(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await oO(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&IT(t.remoteStore,i),u}async function oO(t,e,n,r,i){t.pu=(v,_,T)=>(async function(N,C,F,U){let k=C.view.ru(F);k.Cs&&(k=await l_(N.localStore,C.query,!1).then((({documents:S})=>C.view.ru(S,k))));const H=U&&U.targetChanges.get(C.targetId),X=U&&U.targetMismatches.get(C.targetId)!=null,Q=C.view.applyChanges(k,N.isPrimaryClient,H,X);return v_(N,C.targetId,Q.au),Q.snapshot})(t,v,_,T);const a=await l_(t.localStore,e,!0),l=new eO(e,a.Qs),u=l.ru(a.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(u,t.isPrimaryClient,p);v_(t,n,m.au);const g=new tO(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function aO(t,e,n){const r=Oe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((l=>!lf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Cg(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vy(r.remoteStore,i.targetId),Pg(r,i.targetId)})).catch(cl)):(Pg(r,i.targetId),await Cg(r.localStore,i.targetId,!0))}async function lO(t,e){const n=Oe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vy(n.remoteStore,r.targetId))}async function cO(t,e,n){const r=gO(t);try{const i=await(function(l,u){const p=Oe(l),m=nt.now(),g=u.reduce(((T,I)=>T.add(I.key)),ze());let v,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=Ts(),N=ze();return p.Ns.getEntries(T,g).next((C=>{I=C,I.forEach(((F,U)=>{U.isValidDocument()||(N=N.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(T,I))).next((C=>{v=C;const F=[];for(const U of u){const k=TD(U,v.get(U.key).overlayedDocument);k!=null&&F.push(new Vo(U.key,k,HE(k.value.mapValue),Vr.exists(!0)))}return p.mutationQueue.addMutationBatch(T,m,F,u)})).next((C=>{_=C;const F=C.applyToLocalDocumentSet(v,N);return p.documentOverlayCache.saveOverlays(T,C.batchId,F)}))})).then((()=>({batchId:_.batchId,changes:tT(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,p){let m=l.Vu[l.currentUser.toKey()];m||(m=new dt(Be)),m=m.insert(u,p),l.Vu[l.currentUser.toKey()]=m})(r,i.batchId,n),await au(r,i.changes),await mf(r.remoteStore)}catch(i){const a=$y(i,"Failed to persist write");n.reject(a)}}async function VT(t,e){const n=Oe(t);try{const r=await b4(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Au.get(a);l&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Xe(l.hu,14607):i.removedDocuments.size>0&&(Xe(l.hu,42227),l.hu=!1))})),await au(n,r,e)}catch(r){await cl(r)}}function y_(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const p=Oe(l);p.onlineState=u;let m=!1;p.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(u)&&(m=!0)})),m&&Hy(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uO(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let l=new dt(be.comparator);l=l.insert(a,sn.newNoDocument(a,je.min()));const u=ze().add(a),p=new hf(je.min(),new Map,new dt(Be),l,u);await VT(r,p),r.du=r.du.remove(a),r.Au.delete(e),Wy(r)}else await Cg(r.localStore,e,!1).then((()=>Pg(r,e,n))).catch(cl)}async function dO(t,e){const n=Oe(t),r=e.batch.batchId;try{const i=await _4(n.localStore,e);UT(n,r,null),FT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,i)}catch(i){await cl(i)}}async function hO(t,e,n){const r=Oe(t);try{const i=await(function(l,u){const p=Oe(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return p.mutationQueue.lookupMutationBatch(m,u).next((v=>(Xe(v!==null,37113),g=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,g,u))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>p.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);UT(r,e,n),FT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,i)}catch(i){await cl(i)}}function FT(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function UT(t,e,n){const r=Oe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||BT(t,r)}))}function BT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Wy(t))}function v_(t,e,n){for(const r of n)r instanceof OT?(t.Ru.addReference(r.key,e),fO(t,r)):r instanceof LT?(pe(qy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BT(t,r.key)):ke(19791,{wu:r})}function fO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(qy,"New document in limbo: "+n),t.Eu.add(r),Wy(t))}function Wy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(tt.fromString(e)),r=t.fu.next();t.Au.set(r,new nO(n)),t.du=t.du.insert(n,r),IT(t.remoteStore,new pi(Mr(Ay(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function au(t,e,n){const r=Oe(t),i=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,p)=>{l.push(r.pu(p,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const g=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,g?"current":"not-current")}if(m){i.push(m);const g=Ly.As(p.targetId,m);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(p,m){const g=Oe(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>re.forEach(m,(_=>re.forEach(_.Es,(T=>g.persistence.referenceDelegate.addReference(v,_.targetId,T))).next((()=>re.forEach(_.ds,(T=>g.persistence.referenceDelegate.removeReference(v,_.targetId,T)))))))))}catch(v){if(!ul(v))throw v;pe(My,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const T=g.Ms.get(_),I=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(_,N)}}})(r.localStore,a))}async function pO(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){pe(qy,"User change. New user:",e.toKey());const r=await bT(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((p=>{p.reject(new de(ne.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.Ls)}}function mO(t,e){const n=Oe(t),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let i=ze();const a=n.Iu.get(e);if(!a)return i;for(const l of a){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function zT(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uO.bind(null,e),e.Pu.H_=J4.bind(null,e.eventManager),e.Pu.yu=Z4.bind(null,e.eventManager),e}function gO(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hO.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return w4(this.persistence,new y4,e.initialUser,this.serializer)}Cu(e){return new _T(Oy.mi,this.serializer)}Du(e){return new C4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class yO extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new _T((r=>Nh.mi(r,n)),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await Q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new X4})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=(function(a){return new N4(a)})(e.databaseInfo);return(function(a,l,u,p){return new L4(a,l,u,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,u){return new V4(r,i,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>y_(this.syncEngine,n,0)),(function(){return d_.v()?new d_:new A4})())}createSyncEngine(e,n){return(function(i,a,l,u,p,m,g){const v=new rO(i,a,l,u,p,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Oe(n);pe(Po,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class vO{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=nf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{pe(Pi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(Pi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$y(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Cm(t,e){t.asyncQueue.verifyOperationInProgress(),pe(Pi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await bT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function x_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xO(t);pe(Pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>f_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>f_(e.remoteStore,i))),t._onlineComponents=e}async function xO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(Pi,"Using user provided OfflineComponentProvider");try{await Cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ko("Error using user provided cache. Falling back to memory cache: "+n),await Cm(t,new Dh)}}else pe(Pi,"Using default OfflineComponentProvider"),await Cm(t,new yO(void 0));return t._offlineComponents}async function HT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(Pi,"Using user provided OnlineComponentProvider"),await x_(t,t._uninitializedComponentsProvider._online)):(pe(Pi,"Using default OnlineComponentProvider"),await x_(t,new Rg))),t._onlineComponents}function wO(t){return HT(t).then((e=>e.syncEngine))}async function qT(t){const e=await HT(t),n=e.eventManager;return n.onListen=sO.bind(null,e.syncEngine),n.onUnlisten=aO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lO.bind(null,e.syncEngine),n}function _O(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,p,m){const g=new $T({next:_=>{g.Nu(),l.enqueueAndForget((()=>jT(a,v)));const T=_.docs.has(u);!T&&_.fromCache?m.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?m.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new DT(Ay(u.path),g,{includeMetadataChanges:!0,qa:!0});return NT(a,v)})(await qT(t),t.asyncQueue,e,n,r))),r.promise}function bO(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,p,m){const g=new $T({next:_=>{g.Nu(),l.enqueueAndForget((()=>jT(a,v))),_.fromCache&&p.source==="server"?m.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new DT(u,g,{includeMetadataChanges:!0,qa:!0});return NT(a,v)})(await qT(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",__=!0;class b_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=__}else this.host=e.host,this.ssl=e.ssl??__;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e4)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new RE;switch(r.type){case"firstParty":return new Nj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=w_.get(n);r&&(pe("ComponentProvider","Removing Datastore"),w_.delete(n),r.terminate())})(this),Promise.resolve()}}function KT(t,e,n,r={}){t=Es(t,gf);const i=Di(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(oy(`https://${u}`),ay("Firestore",!0)),a.host!==GT&&a.host!==u&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:u,ssl:i,emulatorOptions:r};if(!So(p,l)&&(t._setSettings(p),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=rn.MOCK_USER;else{m=zb(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new rn(v)}t._authCredentials=new kj(new PE(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ru(n,bt._jsonSchema))return new bt(e,r||null,new be(tt.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:Pt("string",bt._jsonSchemaVersion),referencePath:Pt("string")};class ps extends Is{constructor(e,n,r){super(e,n,Ay(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new be(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function EO(t,e,...n){if(t=zt(t),NE("collection","path",e),t instanceof gf){const r=tt.fromString(e,...n);return Ow(r),new ps(t,null,r)}{if(!(t instanceof bt||t instanceof ps))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return Ow(r),new ps(t.firestore,null,r)}}function Ga(t,e,...n){if(t=zt(t),arguments.length===1&&(e=nf.newId()),NE("doc","path",e),t instanceof gf){const r=tt.fromString(e,...n);return Dw(r),new bt(t,null,new be(r))}{if(!(t instanceof bt||t instanceof ps))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return Dw(r),new bt(t.firestore,t instanceof ps?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="AsyncQueue";class T_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TT(this,"async_queue_retry"),this._c=()=>{const r=Im();r&&pe(E_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ul(e))throw e;pe(E_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",S_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=zy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ke(47125,{Pc:S_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function S_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fl extends gf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new T_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T_(e),this._firestoreClient=void 0,await e}}}function Gy(t,e){const n=typeof t=="object"?t:dy(),r=typeof t=="string"?t:Sh,i=Jh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Fb("firestore");a&&KT(i,...a)}return i}function yf(t){if(t._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TO(t),t._firestoreClient}function TO(t){const e=t._freezeSettings(),n=(function(i,a,l,u){return new Qj(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,WT(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Pt("string",jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(ru(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:Pt("string",ar._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new lr(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:Pt("string",lr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=/^__.*__$/;class IO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function QT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class Qy{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QT(this.Ac)&&SO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Cc(e,n,r,i=!1){return new Qy({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YT(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new CO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AO(t,e,n,r,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);ZT("Data must be an object, but it was:",l,r);const u=XT(r,l);let p,m;if(a.merge)p=new ir(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=PO(e,v,n);if(!l.contains(_))throw new de(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);NO(g,_)||g.push(_)}p=new ir(g),m=l.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=l.fieldTransforms;return new IO(new Gn(u),p,m)}function kO(t,e,n,r=!1){return Yy(n,t.Cc(r?4:3,e))}function Yy(t,e){if(JT(t=zt(t)))return ZT("Unsupported field value:",e,t),XT(t,e);if(t instanceof Ky)return(function(r,i){if(!QT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const u of r){let p=Yy(u,i.wc(l));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=nt.fromDate(r);return{timestampValue:Rh(i.serializer,a)}}if(r instanceof nt){const a=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,a)}}if(r instanceof ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:fT(i.serializer,r._byteString)};if(r instanceof bt){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lr)return(function(l,u){return{mapValue:{fields:{[zE]:{stringValue:$E},[Ih]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return ky(u.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${rf(r)}`)})(t,e)}function XT(t,e){const n={};return LE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,((r,i)=>{const a=Yy(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function JT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof ar||t instanceof jn||t instanceof bt||t instanceof Ky||t instanceof lr)}function ZT(t,e,n){if(!JT(n)||!DE(n)){const r=rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function PO(t,e,n){if((e=zt(e))instanceof vf)return e._internalPath;if(typeof e=="string")return eS(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const RO=new RegExp("[~\\*/\\[\\]]");function eS(t,e,n){if(e.search(RO)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(a||l)&&(p+=" (found",a&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new de(ne.INVALID_ARGUMENT,u+t+p)}function NO(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jO extends tS{data(){return super.data()}}function xf(t,e){return typeof e=="string"?eS(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class wf extends Xy{}function OO(t,e,...n){let r=[];e instanceof Xy&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((p=>p instanceof _f)).length,u=a.filter((p=>p instanceof lu)).length;if(l>1||l>0&&u>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class lu extends wf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lu(e,n,r)}_apply(e){const n=this._parse(e);return nS(e._query,n),new Is(e.firestore,e.converter,bg(e._query,n))}_parse(e){const n=YT(e.firestore);return(function(a,l,u,p,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){C_(v,g);const I=[];for(const N of v)I.push(I_(p,a,N));_={arrayValue:{values:I}}}else _=I_(p,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||C_(v,g),_=kO(u,l,v,g==="in"||g==="not-in");return kt.create(m,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LO(t,e,n){const r=e,i=xf("where",t);return lu._create(i,r,n)}class _f extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _f(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const u=a.getFlattenedFilters();for(const p of u)nS(l,p),l=bg(l,p)})(e._query,n),new Is(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bf extends wf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bf(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bc(a,l)})(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new dl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function MO(t,e="asc"){const n=e,r=xf("orderBy",t);return bf._create(r,n)}class Ef extends wf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ef(e,n,r)}_apply(e){return new Is(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function VO(t){return Vj("limit",t),Ef._create("limit",t,"F")}function I_(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!be.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $w(t,new be(r))}if(n instanceof bt)return $w(t,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nS(t,e){const n=(function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rS{convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Lo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((r=>wt(r.doubleValue)));return new lr(n)}convertGeoPoint(e){return new ar(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=Ii(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Xe(xT(r),9688,{name:e});const i=new Xa(r.get(1),r.get(3)),a=new be(r.popFirst(5));return i.isEqual(n)||bs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Oa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xi extends tS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xi._jsonSchemaVersion="firestore/documentSnapshot/1.0",xi._jsonSchema={type:Pt("string",xi._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Ic extends xi{data(e={}){return super.data(e)}}class _o{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ic(this._firestore,this._userDataWriter,r.key,r,new Oa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const p=new Ic(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Oa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:p,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const p=new Ic(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Oa(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:UO(u.type),doc:p,oldIndex:m,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){t=Es(t,bt);const e=Es(t.firestore,fl);return _O(yf(e),t._key).then((n=>$O(e,t,n)))}_o._jsonSchemaVersion="firestore/querySnapshot/1.0",_o._jsonSchema={type:Pt("string",_o._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class iS extends rS{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function BO(t){t=Es(t,Is);const e=Es(t.firestore,fl),n=yf(e),r=new iS(e);return DO(t._query),bO(n,t._query).then((i=>new _o(e,r,t,i)))}function Lh(t,e,n){t=Es(t,bt);const r=Es(t.firestore,fl),i=FO(t.converter,e,n);return Jy(r,[AO(YT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vr.none())])}function zO(t){return Jy(Es(t.firestore,fl),[new Py(t._key,Vr.none())])}function Jy(t,e){return(function(r,i){const a=new fs;return r.asyncQueue.enqueueAndForget((async()=>cO(await wO(r),i,a))),a.promise})(yf(t),e)}function $O(t,e,n){const r=n.docs.get(e._key),i=new iS(t);return new xi(t,i,e._key,r,new Oa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ll=i})(Oo),Io(new Ti("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new fl(new Pj(r.getProvider("auth-internal")),new jj(l,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(m.options.projectId,g)})(l,i),l);return a={useFetchStreams:n,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Or(Pw,Rw,e),Or(Pw,Rw,"esm2020")})();const La=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:rS,Bytes:jn,CollectionReference:ps,DocumentReference:bt,DocumentSnapshot:xi,FieldPath:vf,FieldValue:Ky,Firestore:fl,FirestoreError:de,GeoPoint:ar,Query:Is,QueryCompositeFilterConstraint:_f,QueryConstraint:wf,QueryDocumentSnapshot:Ic,QueryFieldFilterConstraint:lu,QueryLimitConstraint:Ef,QueryOrderByConstraint:bf,QuerySnapshot:_o,SnapshotMetadata:Oa,Timestamp:nt,VectorValue:lr,_AutoId:nf,_ByteString:$t,_DatabaseId:Xa,_DocumentKey:be,_EmptyAuthCredentialsProvider:RE,_FieldPath:Bt,_cast:Es,_logWarn:ko,_validateIsNotUsedTogether:jE,collection:EO,connectFirestoreEmulator:KT,deleteDoc:zO,doc:Ga,ensureFirestoreConfigured:yf,executeWrite:Jy,getDoc:sS,getDocs:BO,getFirestore:Gy,limit:VO,orderBy:MO,query:OO,setDoc:Lh,where:LO},Symbol.toStringTag,{value:"Module"})),HO={apiKey:"demo-key",authDomain:"dreambuild-2024-app.firebaseapp.com",projectId:"dreambuild-2024-app",storageBucket:"dreambuild-2024-app.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456789"},oS=uy(HO),Bd=Cj(oS),Am=Gy(oS),aS=D.createContext();function qO(){return D.useContext(aS)}function WO({children:t}){const[e,n]=D.useState(null),[r,i]=D.useState(!0);D.useEffect(()=>mN(Bd,async m=>{if(m){const g=await sS(Ga(Am,"users",m.uid)),v=g.exists()?g.data():null;n({uid:m.uid,email:m.email,displayName:m.displayName,photoURL:m.photoURL,...v})}else n(null);i(!1)}),[]);const u={user:e,loading:r,signInWithGoogle:async()=>{try{const p=new cs,m=await LN(Bd,p);await Lh(Ga(Am,"users",m.user.uid),{uid:m.user.uid,email:m.user.email,displayName:m.user.displayName,photoURL:m.user.photoURL,createdAt:new Date,lastLogin:new Date},{merge:!0}),Re.success("Successfully signed in!")}catch(p){Re.error("Failed to sign in: "+p.message)}},logout:async()=>{try{await gN(Bd),Re.success("Successfully signed out!")}catch(p){Re.error("Failed to sign out: "+p.message)}},auth:Bd,db:Am};return h.jsx(aS.Provider,{value:u,children:!r&&t})}const GO="modulepreload",KO=function(t){return"/"+t},A_={},Ma=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var l=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),p=u?.nonce||u?.getAttribute("nonce");i=m(n.map(g=>{if(g=KO(g),g in A_)return;A_[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":GO,v||(T.as="script"),T.crossOrigin="",T.href=g,p&&T.setAttribute("nonce",p),document.head.appendChild(T),v)return new Promise((I,N)=>{T.addEventListener("load",I),T.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return i.then(u=>{for(const p of u||[])p.status==="rejected"&&a(p.reason);return e().catch(a)})},lS=D.createContext();function Uo(){return D.useContext(lS)}function QO({children:t}){const{user:e,db:n}=qO(),[r,i]=D.useState({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),[a,l]=D.useState([]),[u,p]=D.useState(!1),m=D.useCallback(U=>{i(k=>({...k,activeFile:U,lastModified:new Date}))},[]),g=D.useCallback((U,k)=>{i(H=>({...H,files:{...H.files,[U]:k},lastModified:new Date}))},[]),v=D.useCallback(U=>{i(k=>({...k,config:{...k.config,...U},lastModified:new Date}))},[]),_=D.useCallback(async(U=null)=>{if(!e){Re.error("Please sign in to save projects");return}p(!0);try{const k={...r,name:U||r.name,userId:e.uid,lastModified:new Date},{doc:H,setDoc:X,collection:Q}=await Ma(async()=>{const{doc:A,setDoc:j,collection:P}=await Promise.resolve().then(()=>La);return{doc:A,setDoc:j,collection:P}},void 0),S=H(Q(n,"projects"));await X(S,{...k,id:S.id,createdAt:r.id?void 0:new Date}),i(A=>({...A,id:S.id})),Re.success("Project saved successfully!"),T()}catch(k){Re.error("Failed to save project: "+k.message)}finally{p(!1)}},[r,e,n]),T=D.useCallback(async()=>{if(e){p(!0);try{const{collection:U,query:k,where:H,getDocs:X,orderBy:Q}=await Ma(async()=>{const{collection:M,query:z,where:O,getDocs:ye,orderBy:q}=await Promise.resolve().then(()=>La);return{collection:M,query:z,where:O,getDocs:ye,orderBy:q}},void 0),S=U(n,"projects"),A=k(S,H("userId","==",e.uid),Q("lastModified","desc")),P=(await X(A)).docs.map(M=>({id:M.id,...M.data()}));l(P)}catch(U){Re.error("Failed to load projects: "+U.message)}finally{p(!1)}}},[e,n]),I=D.useCallback(async U=>{if(e){p(!0);try{const{doc:k,getDoc:H}=await Ma(async()=>{const{doc:S,getDoc:A}=await Promise.resolve().then(()=>La);return{doc:S,getDoc:A}},void 0),X=k(n,"projects",U),Q=await H(X);if(Q.exists()){const S={id:Q.id,...Q.data()};i(S),Re.success("Project loaded successfully!")}else Re.error("Project not found")}catch(k){Re.error("Failed to load project: "+k.message)}finally{p(!1)}}},[e,n]),N=D.useCallback(async U=>{if(e){p(!0);try{const{doc:k,deleteDoc:H}=await Ma(async()=>{const{doc:X,deleteDoc:Q}=await Promise.resolve().then(()=>La);return{doc:X,deleteDoc:Q}},void 0);await H(k(n,"projects",U)),l(X=>X.filter(Q=>Q.id!==U)),Re.success("Project deleted successfully!")}catch(k){Re.error("Failed to delete project: "+k.message)}finally{p(!1)}}},[e,n]),C=D.useCallback(()=>{i({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),Re.success("New project created!")},[]),F={currentProject:r,projects:a,isLoading:u,switchFile:m,updateFile:g,updateConfig:v,saveProject:_,loadProjects:T,loadProject:I,deleteProject:N,createNewProject:C};return h.jsx(lS.Provider,{value:F,children:t})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:p,...m},g)=>D.createElement("svg",{ref:g,...YO,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${XO(t)}`,u].join(" "),...m},[...e.map(([v,_])=>D.createElement(v,_)),...Array.isArray(p)?p:[p]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=_e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=_e("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=_e("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=_e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=_e("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=_e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=_e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=_e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=_e("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=_e("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=_e("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=_e("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=_e("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),EL=()=>{const{theme:t,toggleTheme:e}=iy(),[n,r]=D.useState(!1),i=Yc(),a=[{name:"Home",href:"/",icon:wi},{name:"AI Builder",href:"/ai-builder",icon:ur},{name:"Projects",href:"/projects",icon:cL},{name:"Dashboard",href:"/dashboard",icon:vS}],l=u=>i.pathname===u;return h.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-b border-border/50 shadow-sm",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex items-center justify-between h-20",children:[h.jsxs(ai,{to:"/",className:"flex items-center gap-3 group",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-200 shadow-lg",children:h.jsx(If,{className:"h-6 w-6 text-primary-foreground"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xl font-bold text-high-contrast",children:"DreamBuild"}),h.jsx("span",{className:"text-xs text-muted-foreground -mt-1",children:"AI Development Platform"})]})]}),h.jsx("div",{className:"hidden lg:flex items-center gap-1",children:a.map(u=>{const p=u.icon;return h.jsxs(ai,{to:u.href,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 border ${l(u.href)?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-foreground border-border hover:bg-muted hover:border-primary/30 shadow-sm hover:shadow-md"}`,children:[h.jsx(p,{className:"h-4 w-4"}),u.name]},u.name)})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:e,className:"p-2.5 rounded-lg hover:bg-muted/50 transition-all duration-200 border border-border/50 hover:border-primary/30 group",title:`Switch to ${t==="light"?"dark":"light"} mode`,children:t==="light"?h.jsx(yL,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"}):h.jsx(wL,{className:"h-5 w-5 text-warning group-hover:text-primary transition-colors"})}),h.jsxs(ai,{to:"/login",className:"hidden sm:flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary to-primary-dark text-primary-foreground rounded-lg hover:from-primary-dark hover:to-primary transition-all duration-200 text-sm font-semibold shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[h.jsx(wi,{className:"h-4 w-4"}),"Sign In"]}),h.jsx("button",{onClick:()=>r(!n),className:"lg:hidden p-2 rounded-lg hover:bg-muted/50 transition-colors",children:n?h.jsx(bL,{className:"h-6 w-6"}):h.jsx(mL,{className:"h-6 w-6"})})]})]}),n&&h.jsx("div",{className:"lg:hidden border-t border-border/50 bg-background/95 backdrop-blur-lg",children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[a.map(u=>{const p=u.icon;return h.jsxs(ai,{to:u.href,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium transition-all duration-200 border ${l(u.href)?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-foreground border-border hover:bg-muted hover:border-primary/30 shadow-sm"}`,children:[h.jsx(p,{className:"h-5 w-5"}),u.name]},u.name)}),h.jsxs(ai,{to:"/login",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-3 mt-4 bg-gradient-to-r from-primary to-primary-dark text-primary-foreground rounded-lg text-base font-semibold",children:[h.jsx(wi,{className:"h-5 w-5"}),"Sign In"]})]})})]})})},TL=()=>h.jsx("footer",{className:"bg-muted/30 border-t border-border",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-primary-foreground font-bold",children:"D"})}),h.jsx("span",{className:"text-xl font-bold",children:"DreamBuild"})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Universal AI Development Platform supporting 100+ programming languages. Build, code, and deploy with the power of AI."}),h.jsx("div",{className:"flex gap-2",children:h.jsx("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-muted rounded-md transition-colors",children:h.jsx(Tf,{className:"h-4 w-4"})})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Product"}),h.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsx("li",{children:h.jsx("a",{href:"/ai-builder",className:"hover:text-foreground transition-colors",children:"AI Builder"})}),h.jsx("li",{children:h.jsx("a",{href:"/projects",className:"hover:text-foreground transition-colors",children:"Projects"})}),h.jsx("li",{children:h.jsx("a",{href:"/dashboard",className:"hover:text-foreground transition-colors",children:"Dashboard"})})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Resources"}),h.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Documentation"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Examples"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Community"})})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Company"}),h.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"About"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Blog"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]})]}),h.jsx("hr",{className:"my-8 border-border"}),h.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h.jsx("span",{children:"© 2024 Bradley Virtual Solutions, LLC"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Made with"}),h.jsx(hL,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{children:"for developers"})]})})]})}),xS=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Cf=D.createContext({}),Af=D.createContext(null),kf=typeof document<"u",Zy=kf?D.useLayoutEffect:D.useEffect,wS=D.createContext({strict:!1}),ev=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),SL="framerAppearId",_S="data-"+ev(SL);function IL(t,e,n,r){const{visualElement:i}=D.useContext(Cf),a=D.useContext(wS),l=D.useContext(Af),u=D.useContext(xS).reducedMotion,p=D.useRef();r=r||a.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=p.current;D.useInsertionEffect(()=>{m&&m.update(n,l)});const g=D.useRef(!!(n[_S]&&!window.HandoffComplete));return Zy(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),D.useEffect(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),m}function Va(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CL(t,e,n){return D.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Va(n)&&(n.current=r))},[e])}function qc(t){return typeof t=="string"||Array.isArray(t)}function Pf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const tv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nv=["initial",...tv];function Rf(t){return Pf(t.animate)||nv.some(e=>qc(t[e]))}function bS(t){return!!(Rf(t)||t.variants)}function AL(t,e){if(Rf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||qc(n)?n:void 0,animate:qc(r)?r:void 0}}return t.inherit!==!1?e:{}}function kL(t){const{initial:e,animate:n}=AL(t,D.useContext(Cf));return D.useMemo(()=>({initial:e,animate:n}),[D_(e),D_(n)])}function D_(t){return Array.isArray(t)?t.join(" "):t}const O_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wc={};for(const t in O_)Wc[t]={isEnabled:e=>O_[t].some(n=>!!e[n])};function PL(t){for(const e in t)Wc[e]={...Wc[e],...t[e]}}const rv=D.createContext({}),ES=D.createContext({}),RL=Symbol.for("motionComponentSymbol");function NL({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&PL(t);function a(u,p){let m;const g={...D.useContext(xS),...u,layoutId:jL(u)},{isStatic:v}=g,_=kL(u),T=r(u,v);if(!v&&kf){_.visualElement=IL(i,T,g,e);const I=D.useContext(ES),N=D.useContext(wS).strict;_.visualElement&&(m=_.visualElement.loadFeatures(g,N,t,I))}return D.createElement(Cf.Provider,{value:_},m&&_.visualElement?D.createElement(m,{visualElement:_.visualElement,...g}):null,n(i,u,CL(T,_.visualElement,p),T,v,_.visualElement))}const l=D.forwardRef(a);return l[RL]=i,l}function jL({layoutId:t}){const e=D.useContext(rv).id;return e&&t!==void 0?e+"-"+t:t}function DL(t){function e(r,i={}){return NL(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const OL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sv(t){return typeof t!="string"||t.includes("-")?!1:!!(OL.indexOf(t)>-1||/[A-Z]/.test(t))}const Vh={};function LL(t){Object.assign(Vh,t)}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(cu);function TS(t,{layout:e,layoutId:n}){return Bo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Vh[t]||t==="opacity")}const bn=t=>!!(t&&t.getVelocity),ML={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VL=cu.length;function FL(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let a="";for(let l=0;l<VL;l++){const u=cu[l];if(t[u]!==void 0){const p=ML[u]||u;a+=`${p}(${t[u]}) `}}return e&&!t.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(t,r?"":a):n&&r&&(a="none"),a}const SS=t=>e=>typeof e=="string"&&e.startsWith(t),IS=SS("--"),Lg=SS("var(--"),UL=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,BL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ri=(t,e,n)=>Math.min(Math.max(n,t),e),zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ac={...zo,transform:t=>Ri(0,1,t)},zd={...zo,default:1},kc=t=>Math.round(t*1e5)/1e5,Nf=/(-)?([\d]*\.?[\d])+/g,CS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,zL=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function uu(t){return typeof t=="string"}const du=t=>({test:e=>uu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),si=du("deg"),Ur=du("%"),Ae=du("px"),$L=du("vh"),HL=du("vw"),L_={...Ur,parse:t=>Ur.parse(t)/100,transform:t=>Ur.transform(t*100)},M_={...zo,transform:Math.round},AS={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,size:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,rotate:si,rotateX:si,rotateY:si,rotateZ:si,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:si,skewX:si,skewY:si,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Ac,originX:L_,originY:L_,originZ:Ae,zIndex:M_,fillOpacity:Ac,strokeOpacity:Ac,numOctaves:M_};function iv(t,e,n,r){const{style:i,vars:a,transform:l,transformOrigin:u}=t;let p=!1,m=!1,g=!0;for(const v in e){const _=e[v];if(IS(v)){a[v]=_;continue}const T=AS[v],I=BL(_,T);if(Bo.has(v)){if(p=!0,l[v]=I,!g)continue;_!==(T.default||0)&&(g=!1)}else v.startsWith("origin")?(m=!0,u[v]=I):i[v]=I}if(e.transform||(p||r?i.transform=FL(t.transform,n,g,r):i.transform&&(i.transform="none")),m){const{originX:v="50%",originY:_="50%",originZ:T=0}=u;i.transformOrigin=`${v} ${_} ${T}`}}const ov=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kS(t,e,n){for(const r in e)!bn(e[r])&&!TS(r,n)&&(t[r]=e[r])}function qL({transformTemplate:t},e,n){return D.useMemo(()=>{const r=ov();return iv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function WL(t,e,n){const r=t.style||{},i={};return kS(i,r,t),Object.assign(i,qL(t,e,n)),t.transformValues?t.transformValues(i):i}function GL(t,e,n){const r={},i=WL(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const KL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KL.has(t)}let PS=t=>!Fh(t);function QL(t){t&&(PS=e=>e.startsWith("on")?!Fh(e):t(e))}try{QL(require("@emotion/is-prop-valid").default)}catch{}function YL(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(PS(i)||n===!0&&Fh(i)||!e&&!Fh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function V_(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function XL(t,e,n){const r=V_(e,t.x,t.width),i=V_(n,t.y,t.height);return`${r} ${i}`}const JL={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZL={offset:"strokeDashoffset",array:"strokeDasharray"};function eM(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?JL:ZL;t[a.offset]=Ae.transform(-r);const l=Ae.transform(e),u=Ae.transform(n);t[a.array]=`${l} ${u}`}function av(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:p=0,...m},g,v,_){if(iv(t,m,g,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:T,style:I,dimensions:N}=t;T.transform&&(N&&(I.transform=T.transform),delete T.transform),N&&(i!==void 0||a!==void 0||I.transform)&&(I.transformOrigin=XL(N,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),l!==void 0&&eM(T,l,u,p,!1)}const RS=()=>({...ov(),attrs:{}}),lv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tM(t,e,n,r){const i=D.useMemo(()=>{const a=RS();return av(a,e,{enableHardwareAcceleration:!1},lv(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};kS(a,t.style,t),i.style={...a,...i.style}}return i}function nM(t=!1){return(n,r,i,{latestValues:a},l)=>{const p=(sv(n)?tM:GL)(r,a,l,n),g={...YL(r,typeof n=="string",t),...p,ref:i},{children:v}=r,_=D.useMemo(()=>bn(v)?v.get():v,[v]);return D.createElement(n,{...g,children:_})}}function NS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const jS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DS(t,e,n,r){NS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(jS.has(i)?i:ev(i),e.attrs[i])}function cv(t,e){const{style:n}=t,r={};for(const i in n)(bn(n[i])||e.style&&bn(e.style[i])||TS(i,t))&&(r[i]=n[i]);return r}function OS(t,e){const n=cv(t,e);for(const r in t)if(bn(t[r])||bn(e[r])){const i=cu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function uv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function LS(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uh=t=>Array.isArray(t),rM=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sM=t=>Uh(t)?t[t.length-1]||0:t;function ch(t){const e=bn(t)?t.get():t;return rM(e)?e.toValue():e}function iM({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,a){const l={latestValues:oM(r,i,a,t),renderState:e()};return n&&(l.mount=u=>n(r,u,l)),l}const MS=t=>(e,n)=>{const r=D.useContext(Cf),i=D.useContext(Af),a=()=>iM(t,e,r,i);return n?a():LS(a)};function oM(t,e,n,r){const i={},a=r(t,{});for(const _ in a)i[_]=ch(a[_]);let{initial:l,animate:u}=t;const p=Rf(t),m=bS(t);e&&m&&!p&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const v=g?u:l;return v&&typeof v!="boolean"&&!Pf(v)&&(Array.isArray(v)?v:[v]).forEach(T=>{const I=uv(t,T);if(!I)return;const{transitionEnd:N,transition:C,...F}=I;for(const U in F){let k=F[U];if(Array.isArray(k)){const H=g?k.length-1:0;k=k[H]}k!==null&&(i[U]=k)}for(const U in N)i[U]=N[U]}),i}const _t=t=>t;class F_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function aM(t){let e=new F_,n=new F_,r=0,i=!1,a=!1;const l=new WeakSet,u={schedule:(p,m=!1,g=!1)=>{const v=g&&i,_=v?e:n;return m&&l.add(p),_.add(p)&&v&&i&&(r=e.order.length),p},cancel:p=>{n.remove(p),l.delete(p)},process:p=>{if(i){a=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const g=e.order[m];g(p),l.has(g)&&(u.schedule(g),t())}i=!1,a&&(a=!1,u.process(p))}};return u}const $d=["prepare","read","update","preRender","render","postRender"],lM=40;function cM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=$d.reduce((v,_)=>(v[_]=aM(()=>n=!0),v),{}),l=v=>a[v].process(i),u=()=>{const v=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(v-i.timestamp,lM),1),i.timestamp=v,i.isProcessing=!0,$d.forEach(l),i.isProcessing=!1,n&&e&&(r=!1,t(u))},p=()=>{n=!0,r=!0,i.isProcessing||t(u)};return{schedule:$d.reduce((v,_)=>{const T=a[_];return v[_]=(I,N=!1,C=!1)=>(n||p(),T.schedule(I,N,C)),v},{}),cancel:v=>$d.forEach(_=>a[_].cancel(v)),state:i,steps:a}}const{schedule:rt,cancel:Ss,state:nn,steps:Rm}=cM(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0),uM={useVisualState:MS({scrapeMotionValuesFromProps:OS,createRenderState:RS,onMount:(t,e,{renderState:n,latestValues:r})=>{rt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),rt.render(()=>{av(n,r,{enableHardwareAcceleration:!1},lv(e.tagName),t.transformTemplate),DS(e,n)})}})},dM={useVisualState:MS({scrapeMotionValuesFromProps:cv,createRenderState:ov})};function hM(t,{forwardMotionProps:e=!1},n,r){return{...sv(t)?uM:dM,preloadedFeatures:n,useRender:nM(e),createVisualElement:r,Component:t}}function hs(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const VS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function jf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const fM=t=>e=>VS(e)&&t(e,jf(e));function gs(t,e,n,r){return hs(t,e,fM(n),r)}const pM=(t,e)=>n=>e(t(n)),bi=(...t)=>t.reduce(pM);function FS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const U_=FS("dragHorizontal"),B_=FS("dragVertical");function US(t){let e=!1;if(t==="y")e=B_();else if(t==="x")e=U_();else{const n=U_(),r=B_();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function BS(){const t=US(!0);return t?(t(),!1):!0}class Oi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function z_(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(a,l)=>{if(a.pointerType==="touch"||BS())return;const u=t.getProps();t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",e),u[r]&&rt.update(()=>u[r](a,l))};return gs(t.current,n,i,{passive:!t.getProps()[r]})}class mM extends Oi{mount(){this.unmount=bi(z_(this.node,!0),z_(this.node,!1))}unmount(){}}class gM extends Oi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bi(hs(this.node.current,"focus",()=>this.onFocus()),hs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const zS=(t,e)=>e?t===e?!0:zS(t,e.parentElement):!1;function Nm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,jf(n))}class yM extends Oi{constructor(){super(...arguments),this.removeStartListeners=_t,this.removeEndListeners=_t,this.removeAccessibleListeners=_t,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=gs(window,"pointerup",(u,p)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:g,globalTapTarget:v}=this.node.getProps();rt.update(()=>{!v&&!zS(this.node.current,u.target)?g&&g(u,p):m&&m(u,p)})},{passive:!(r.onTap||r.onPointerUp)}),l=gs(window,"pointercancel",(u,p)=>this.cancelPress(u,p),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=bi(a,l),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||Nm("up",(p,m)=>{const{onTap:g}=this.node.getProps();g&&rt.update(()=>g(p,m))})};this.removeEndListeners(),this.removeEndListeners=hs(this.node.current,"keyup",l),Nm("down",(u,p)=>{this.startPress(u,p)})},n=hs(this.node.current,"keydown",e),r=()=>{this.isPressing&&Nm("cancel",(a,l)=>this.cancelPress(a,l))},i=hs(this.node.current,"blur",r);this.removeAccessibleListeners=bi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&rt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!BS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&rt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=gs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=hs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Mg=new WeakMap,jm=new WeakMap,vM=t=>{const e=Mg.get(t.target);e&&e(t)},xM=t=>{t.forEach(vM)};function wM({root:t,...e}){const n=t||document;jm.has(n)||jm.set(n,{});const r=jm.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(xM,{root:t,...e})),r[i]}function _M(t,e,n){const r=wM(e);return Mg.set(t,n),r.observe(t),()=>{Mg.delete(t),r.unobserve(t)}}const bM={some:0,all:1};class EM extends Oi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bM[i]},u=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(p)};return _M(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(TM(e,n))&&this.startObserver()}unmount(){}}function TM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SM={inView:{Feature:EM},tap:{Feature:yM},focus:{Feature:gM},hover:{Feature:mM}};function $S(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function IM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function CM(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Df(t,e,n){const r=t.getProps();return uv(r,e,n!==void 0?n:r.custom,IM(t),CM(t))}let dv=_t;const bo=t=>t*1e3,ys=t=>t/1e3,AM={current:!1},HS=t=>Array.isArray(t)&&typeof t[0]=="number";function qS(t){return!!(!t||typeof t=="string"&&WS[t]||HS(t)||Array.isArray(t)&&t.every(qS))}const vc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,WS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function GS(t){if(t)return HS(t)?vc(t):Array.isArray(t)?t.map(GS):WS[t]}function kM(t,e,n,{delay:r=0,duration:i,repeat:a=0,repeatType:l="loop",ease:u,times:p}={}){const m={[e]:n};p&&(m.offset=p);const g=GS(u);return Array.isArray(g)&&(m.easing=g),t.animate(m,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function PM(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const KS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,RM=1e-7,NM=12;function jM(t,e,n,r,i){let a,l,u=0;do l=e+(n-e)/2,a=KS(l,r,i)-t,a>0?n=l:e=l;while(Math.abs(a)>RM&&++u<NM);return l}function hu(t,e,n,r){if(t===e&&n===r)return _t;const i=a=>jM(a,0,1,t,n);return a=>a===0||a===1?a:KS(i(a),e,r)}const DM=hu(.42,0,1,1),OM=hu(0,0,.58,1),QS=hu(.42,0,.58,1),LM=t=>Array.isArray(t)&&typeof t[0]!="number",YS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,XS=t=>e=>1-t(1-e),hv=t=>1-Math.sin(Math.acos(t)),JS=XS(hv),MM=YS(hv),ZS=hu(.33,1.53,.69,.99),fv=XS(ZS),VM=YS(fv),FM=t=>(t*=2)<1?.5*fv(t):.5*(2-Math.pow(2,-10*(t-1))),UM={linear:_t,easeIn:DM,easeInOut:QS,easeOut:OM,circIn:hv,circInOut:MM,circOut:JS,backIn:fv,backInOut:VM,backOut:ZS,anticipate:FM},$_=t=>{if(Array.isArray(t)){dv(t.length===4);const[e,n,r,i]=t;return hu(e,n,r,i)}else if(typeof t=="string")return UM[t];return t},pv=(t,e)=>n=>!!(uu(n)&&zL.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),e2=(t,e,n)=>r=>{if(!uu(r))return r;const[i,a,l,u]=r.match(Nf);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},BM=t=>Ri(0,255,t),Dm={...zo,transform:t=>Math.round(BM(t))},vo={test:pv("rgb","red"),parse:e2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dm.transform(t)+", "+Dm.transform(e)+", "+Dm.transform(n)+", "+kc(Ac.transform(r))+")"};function zM(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vg={test:pv("#"),parse:zM,transform:vo.transform},Fa={test:pv("hsl","hue"),parse:e2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ur.transform(kc(e))+", "+Ur.transform(kc(n))+", "+kc(Ac.transform(r))+")"},dn={test:t=>vo.test(t)||Vg.test(t)||Fa.test(t),parse:t=>vo.test(t)?vo.parse(t):Fa.test(t)?Fa.parse(t):Vg.parse(t),transform:t=>uu(t)?t:t.hasOwnProperty("red")?vo.transform(t):Fa.transform(t)},ut=(t,e,n)=>-n*t+n*e+t;function Om(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $M({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,p=2*n-u;i=Om(p,u,t+1/3),a=Om(p,u,t),l=Om(p,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Lm=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},HM=[Vg,vo,Fa],qM=t=>HM.find(e=>e.test(t));function H_(t){const e=qM(t);let n=e.parse(t);return e===Fa&&(n=$M(n)),n}const t2=(t,e)=>{const n=H_(t),r=H_(e),i={...n};return a=>(i.red=Lm(n.red,r.red,a),i.green=Lm(n.green,r.green,a),i.blue=Lm(n.blue,r.blue,a),i.alpha=ut(n.alpha,r.alpha,a),vo.transform(i))};function WM(t){var e,n;return isNaN(t)&&uu(t)&&(((e=t.match(Nf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CS))===null||n===void 0?void 0:n.length)||0)>0}const n2={regex:UL,countKey:"Vars",token:"${v}",parse:_t},r2={regex:CS,countKey:"Colors",token:"${c}",parse:dn.parse},s2={regex:Nf,countKey:"Numbers",token:"${n}",parse:zo.parse};function Mm(t,{regex:e,countKey:n,token:r,parse:i}){const a=t.tokenised.match(e);a&&(t["num"+n]=a.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...a.map(i)))}function Bh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Mm(n,n2),Mm(n,r2),Mm(n,s2),n}function i2(t){return Bh(t).values}function o2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Bh(t),a=e.length;return l=>{let u=i;for(let p=0;p<a;p++)p<r?u=u.replace(n2.token,l[p]):p<r+n?u=u.replace(r2.token,dn.transform(l[p])):u=u.replace(s2.token,kc(l[p]));return u}}const GM=t=>typeof t=="number"?0:t;function KM(t){const e=i2(t);return o2(t)(e.map(GM))}const Ni={test:WM,parse:i2,createTransformer:o2,getAnimatableNone:KM},a2=(t,e)=>n=>`${n>0?e:t}`;function l2(t,e){return typeof t=="number"?n=>ut(t,e,n):dn.test(t)?t2(t,e):t.startsWith("var(")?a2(t,e):u2(t,e)}const c2=(t,e)=>{const n=[...t],r=n.length,i=t.map((a,l)=>l2(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=i[l](a);return n}},QM=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=l2(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},u2=(t,e)=>{const n=Ni.createTransformer(e),r=Bh(t),i=Bh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?bi(c2(r.values,i.values),n):a2(t,e)},Gc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},q_=(t,e)=>n=>ut(t,e,n);function YM(t){return typeof t=="number"?q_:typeof t=="string"?dn.test(t)?t2:u2:Array.isArray(t)?c2:typeof t=="object"?QM:q_}function XM(t,e,n){const r=[],i=n||YM(t[0]),a=t.length-1;for(let l=0;l<a;l++){let u=i(t[l],t[l+1]);if(e){const p=Array.isArray(e)?e[l]||_t:e;u=bi(p,u)}r.push(u)}return r}function d2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(dv(a===e.length),a===1)return()=>e[0];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=XM(e,r,i),u=l.length,p=m=>{let g=0;if(u>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=Gc(t[g],t[g+1],m);return l[g](v)};return n?m=>p(Ri(t[0],t[a-1],m)):p}function JM(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Gc(0,e,r);t.push(ut(n,1,i))}}function ZM(t){const e=[0];return JM(e,t.length-1),e}function eV(t,e){return t.map(n=>n*e)}function tV(t,e){return t.map(()=>e||QS).splice(0,t.length-1)}function zh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=LM(r)?r.map($_):$_(r),a={done:!1,value:e[0]},l=eV(n&&n.length===e.length?n:ZM(e),t),u=d2(l,e,{ease:Array.isArray(i)?i:tV(e,i)});return{calculatedDuration:t,next:p=>(a.value=u(p),a.done=p>=t,a)}}function h2(t,e){return e?t*(1e3/e):0}const nV=5;function f2(t,e,n){const r=Math.max(e-nV,0);return h2(n-t(r),e-r)}const Vm=.001,rV=.01,sV=10,iV=.05,oV=1;function aV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,a,l=1-e;l=Ri(iV,oV,l),t=Ri(rV,sV,ys(t)),l<1?(i=m=>{const g=m*l,v=g*t,_=g-n,T=Fg(m,l),I=Math.exp(-v);return Vm-_/T*I},a=m=>{const v=m*l*t,_=v*n+n,T=Math.pow(l,2)*Math.pow(m,2)*t,I=Math.exp(-v),N=Fg(Math.pow(m,2),l);return(-i(m)+Vm>0?-1:1)*((_-T)*I)/N}):(i=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Vm+g*v},a=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const u=5/t,p=cV(i,a,u);if(t=bo(t),isNaN(p))return{stiffness:100,damping:10,duration:t};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const lV=12;function cV(t,e,n){let r=n;for(let i=1;i<lV;i++)r=r-t(r)/e(r);return r}function Fg(t,e){return t*Math.sqrt(1-e*e)}const uV=["duration","bounce"],dV=["stiffness","damping","mass"];function W_(t,e){return e.some(n=>t[n]!==void 0)}function hV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!W_(t,dV)&&W_(t,uV)){const n=aV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function p2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],a=t[t.length-1],l={done:!1,value:i},{stiffness:u,damping:p,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=hV({...r,velocity:-ys(r.velocity||0)}),T=v||0,I=p/(2*Math.sqrt(u*m)),N=a-i,C=ys(Math.sqrt(u/m)),F=Math.abs(N)<5;n||(n=F?.01:2),e||(e=F?.005:.5);let U;if(I<1){const k=Fg(C,I);U=H=>{const X=Math.exp(-I*C*H);return a-X*((T+I*C*N)/k*Math.sin(k*H)+N*Math.cos(k*H))}}else if(I===1)U=k=>a-Math.exp(-C*k)*(N+(T+C*N)*k);else{const k=C*Math.sqrt(I*I-1);U=H=>{const X=Math.exp(-I*C*H),Q=Math.min(k*H,300);return a-X*((T+I*C*N)*Math.sinh(Q)+k*N*Math.cosh(Q))/k}}return{calculatedDuration:_&&g||null,next:k=>{const H=U(k);if(_)l.done=k>=g;else{let X=T;k!==0&&(I<1?X=f2(U,k,H):X=0);const Q=Math.abs(X)<=n,S=Math.abs(a-H)<=e;l.done=Q&&S}return l.value=l.done?a:H,l}}}function G_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:p,restDelta:m=.5,restSpeed:g}){const v=t[0],_={done:!1,value:v},T=A=>u!==void 0&&A<u||p!==void 0&&A>p,I=A=>u===void 0?p:p===void 0||Math.abs(u-A)<Math.abs(p-A)?u:p;let N=n*e;const C=v+N,F=l===void 0?C:l(C);F!==C&&(N=F-v);const U=A=>-N*Math.exp(-A/r),k=A=>F+U(A),H=A=>{const j=U(A),P=k(A);_.done=Math.abs(j)<=m,_.value=_.done?F:P};let X,Q;const S=A=>{T(_.value)&&(X=A,Q=p2({keyframes:[_.value,I(_.value)],velocity:f2(k,A,_.value),damping:i,stiffness:a,restDelta:m,restSpeed:g}))};return S(0),{calculatedDuration:null,next:A=>{let j=!1;return!Q&&X===void 0&&(j=!0,H(A),S(A)),X!==void 0&&A>X?Q.next(A-X):(!j&&H(A),_)}}}const fV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>rt.update(e,!0),stop:()=>Ss(e),now:()=>nn.isProcessing?nn.timestamp:performance.now()}},K_=2e4;function Q_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<K_;)e+=n,r=t.next(e);return e>=K_?1/0:e}const pV={decay:G_,inertia:G_,tween:zh,keyframes:zh,spring:p2};function $h({autoplay:t=!0,delay:e=0,driver:n=fV,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",onPlay:p,onStop:m,onComplete:g,onUpdate:v,..._}){let T=1,I=!1,N,C;const F=()=>{C=new Promise(V=>{N=V})};F();let U;const k=pV[i]||zh;let H;k!==zh&&typeof r[0]!="number"&&(H=d2([0,100],r,{clamp:!1}),r=[0,100]);const X=k({..._,keyframes:r});let Q;u==="mirror"&&(Q=k({..._,keyframes:[...r].reverse(),velocity:-(_.velocity||0)}));let S="idle",A=null,j=null,P=null;X.calculatedDuration===null&&a&&(X.calculatedDuration=Q_(X));const{calculatedDuration:M}=X;let z=1/0,O=1/0;M!==null&&(z=M+l,O=z*(a+1)-l);let ye=0;const q=V=>{if(j===null)return;T>0&&(j=Math.min(j,V)),T<0&&(j=Math.min(V-O/T,j)),A!==null?ye=A:ye=Math.round(V-j)*T;const ee=ye-e*(T>=0?1:-1),Se=T>=0?ee<0:ee>O;ye=Math.max(ee,0),S==="finished"&&A===null&&(ye=O);let Te=ye,Le=X;if(a){const Qe=Math.min(ye,O)/z;let Et=Math.floor(Qe),hn=Qe%1;!hn&&Qe>=1&&(hn=1),hn===1&&Et--,Et=Math.min(Et,a+1),!!(Et%2)&&(u==="reverse"?(hn=1-hn,l&&(hn-=l/z)):u==="mirror"&&(Le=Q)),Te=Ri(0,1,hn)*z}const Me=Se?{done:!1,value:r[0]}:Le.next(Te);H&&(Me.value=H(Me.value));let{done:We}=Me;!Se&&M!==null&&(We=T>=0?ye>=O:ye<=0);const $e=A===null&&(S==="finished"||S==="running"&&We);return v&&v(Me.value),$e&&se(),Me},te=()=>{U&&U.stop(),U=void 0},ge=()=>{S="idle",te(),N(),F(),j=P=null},se=()=>{S="finished",g&&g(),te(),N()},he=()=>{if(I)return;U||(U=n(q));const V=U.now();p&&p(),A!==null?j=V-A:(!j||S==="finished")&&(j=V),S==="finished"&&F(),P=j,A=null,S="running",U.start()};t&&he();const ue={then(V,ee){return C.then(V,ee)},get time(){return ys(ye)},set time(V){V=bo(V),ye=V,A!==null||!U||T===0?A=V:j=U.now()-V/T},get duration(){const V=X.calculatedDuration===null?Q_(X):X.calculatedDuration;return ys(V)},get speed(){return T},set speed(V){V===T||!U||(T=V,ue.time=ys(ye))},get state(){return S},play:he,pause:()=>{S="paused",A=ye},stop:()=>{I=!0,S!=="idle"&&(S="idle",m&&m(),ge())},cancel:()=>{P!==null&&q(P),ge()},complete:()=>{S="finished"},sample:V=>(j=0,q(V))};return ue}function mV(t){let e;return()=>(e===void 0&&(e=t()),e)}const gV=mV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Hd=10,vV=2e4,xV=(t,e)=>e.type==="spring"||t==="backgroundColor"||!qS(e.ease);function wV(t,e,{onUpdate:n,onComplete:r,...i}){if(!(gV()&&yV.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,u,p,m=!1;const g=()=>{p=new Promise(k=>{u=k})};g();let{keyframes:v,duration:_=300,ease:T,times:I}=i;if(xV(e,i)){const k=$h({...i,repeat:0,delay:0});let H={done:!1,value:v[0]};const X=[];let Q=0;for(;!H.done&&Q<vV;)H=k.sample(Q),X.push(H.value),Q+=Hd;I=void 0,v=X,_=Q-Hd,T="linear"}const N=kM(t.owner.current,e,v,{...i,duration:_,ease:T,times:I}),C=()=>{m=!1,N.cancel()},F=()=>{m=!0,rt.update(C),u(),g()};return N.onfinish=()=>{m||(t.set(PM(v,i)),r&&r(),F())},{then(k,H){return p.then(k,H)},attachTimeline(k){return N.timeline=k,N.onfinish=null,_t},get time(){return ys(N.currentTime||0)},set time(k){N.currentTime=bo(k)},get speed(){return N.playbackRate},set speed(k){N.playbackRate=k},get duration(){return ys(_)},play:()=>{l||(N.play(),Ss(C))},pause:()=>N.pause(),stop:()=>{if(l=!0,N.playState==="idle")return;const{currentTime:k}=N;if(k){const H=$h({...i,autoplay:!1});t.setWithVelocity(H.sample(k-Hd).value,H.sample(k).value,Hd)}F()},complete:()=>{m||N.finish()},cancel:F}}function _V({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:_t,pause:_t,stop:_t,then:a=>(a(),Promise.resolve()),cancel:_t,complete:_t});return e?$h({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const bV={type:"spring",stiffness:500,damping:25,restSpeed:10},EV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),TV={type:"keyframes",duration:.8},SV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IV=(t,{keyframes:e})=>e.length>2?TV:Bo.has(t)?t.startsWith("scale")?EV(e[1]):bV:SV,Ug=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ni.test(e)||e==="0")&&!e.startsWith("url(")),CV=new Set(["brightness","contrast","saturate","opacity"]);function AV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Nf)||[];if(!r)return t;const i=n.replace(r,"");let a=CV.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const kV=/([a-z-]*)\(.*?\)/g,Bg={...Ni,getAnimatableNone:t=>{const e=t.match(kV);return e?e.map(AV).join(" "):t}},PV={...AS,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:Bg,WebkitFilter:Bg},mv=t=>PV[t];function m2(t,e){let n=mv(t);return n!==Bg&&(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g2=t=>/^0[^.\s]+$/.test(t);function RV(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||g2(t)}function NV(t,e,n,r){const i=Ug(e,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const l=r.from!==void 0?r.from:t.get();let u;const p=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?l:a[m-1]),RV(a[m])&&p.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(u=a[m]);if(i&&p.length&&u)for(let m=0;m<p.length;m++){const g=p[m];a[g]=m2(e,u)}return a}function jV({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:u,from:p,elapsed:m,...g}){return!!Object.keys(g).length}function gv(t,e){return t[e]||t.default||t}const DV={skipAnimations:!1},yv=(t,e,n,r={})=>i=>{const a=gv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-bo(l);const p=NV(e,t,n,a),m=p[0],g=p[p.length-1],v=Ug(t,m),_=Ug(t,g);let T={keyframes:p,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:I=>{e.set(I),a.onUpdate&&a.onUpdate(I)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(jV(a)||(T={...T,...IV(t,T)}),T.duration&&(T.duration=bo(T.duration)),T.repeatDelay&&(T.repeatDelay=bo(T.repeatDelay)),!v||!_||AM.current||a.type===!1||DV.skipAnimations)return _V(T);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const I=wV(e,t,T);if(I)return I}return $h(T)};function Hh(t){return!!(bn(t)&&t.add)}const y2=t=>/^\-?\d*\.?\d+$/.test(t);function vv(t,e){t.indexOf(e)===-1&&t.push(e)}function xv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wv{constructor(){this.subscriptions=[]}add(e){return vv(this.subscriptions,e),()=>xv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const OV=t=>!isNaN(parseFloat(t));class LV{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=nn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,rt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>rt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=OV(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new wv);const r=this.events[e].add(n);return e==="change"?()=>{r(),rt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?h2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(t,e){return new LV(t,e)}const v2=t=>e=>e.test(t),MV={test:t=>t==="auto",parse:t=>t},x2=[zo,Ae,Ur,si,HL,$L,MV],uc=t=>x2.find(v2(t)),VV=[...x2,dn,Ni],FV=t=>VV.find(v2(t));function UV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rl(n))}function BV(t,e){const n=Df(t,e);let{transitionEnd:r={},transition:i={},...a}=n?t.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const l in a){const u=sM(a[l]);UV(t,l,u)}}function zV(t,e,n){var r,i;const a=Object.keys(e).filter(u=>!t.hasValue(u)),l=a.length;if(l)for(let u=0;u<l;u++){const p=a[u],m=e[p];let g=null;Array.isArray(m)&&(g=m[0]),g===null&&(g=(i=(r=n[p])!==null&&r!==void 0?r:t.readValue(p))!==null&&i!==void 0?i:e[p]),g!=null&&(typeof g=="string"&&(y2(g)||g2(g))?g=parseFloat(g):!FV(g)&&Ni.test(m)&&(g=m2(p,m)),t.addValue(p,rl(g,{owner:t})),n[p]===void 0&&(n[p]=g),g!==null&&t.setBaseTarget(p,g))}}function $V(t,e){return e?(e[t]||e.default||e).from:void 0}function HV(t,e,n){const r={};for(const i in t){const a=$V(i,e);if(a!==void 0)r[i]=a;else{const l=n.getValue(i);l&&(r[i]=l.get())}}return r}function qV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function WV(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function w2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...u}=t.makeTargetAnimatable(e);const p=t.getValue("willChange");r&&(a=r);const m=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const v in u){const _=t.getValue(v),T=u[v];if(!_||T===void 0||g&&qV(g,v))continue;const I={delay:n,elapsed:0,...gv(a||{},v)};if(window.HandoffAppearAnimations){const F=t.getProps()[_S];if(F){const U=window.HandoffAppearAnimations(F,v,_,rt);U!==null&&(I.elapsed=U,I.isHandoff=!0)}}let N=!I.isHandoff&&!WV(_,T);if(I.type==="spring"&&(_.getVelocity()||I.velocity)&&(N=!1),_.animation&&(N=!1),N)continue;_.start(yv(v,_,T,t.shouldReduceMotion&&Bo.has(v)?{type:!1}:I));const C=_.animation;Hh(p)&&(p.add(v),C.then(()=>p.remove(v))),m.push(C)}return l&&Promise.all(m).then(()=>{l&&BV(t,l)}),m}function zg(t,e,n={}){const r=Df(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(w2(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=i;return GV(t,e,m+p,g,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[p,m]=u==="beforeChildren"?[a,l]:[l,a];return p().then(()=>m())}else return Promise.all([a(),l(n.delay)])}function GV(t,e,n=0,r=0,i=1,a){const l=[],u=(t.variantChildren.size-1)*r,p=i===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(t.variantChildren).sort(KV).forEach((m,g)=>{m.notify("AnimationStart",e),l.push(zg(m,e,{...a,delay:n+p(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function KV(t,e){return t.sortNodePosition(e)}function QV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>zg(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=zg(t,e,n);else{const i=typeof e=="function"?Df(t,e,n.custom):e;r=Promise.all(w2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const YV=[...tv].reverse(),XV=tv.length;function JV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>QV(t,n,r)))}function ZV(t){let e=JV(t);const n=t3();let r=!0;const i=(p,m)=>{const g=Df(t,m);if(g){const{transition:v,transitionEnd:_,...T}=g;p={...p,...T,..._}}return p};function a(p){e=p(t)}function l(p,m){const g=t.getProps(),v=t.getVariantContext(!0)||{},_=[],T=new Set;let I={},N=1/0;for(let F=0;F<XV;F++){const U=YV[F],k=n[U],H=g[U]!==void 0?g[U]:v[U],X=qc(H),Q=U===m?k.isActive:null;Q===!1&&(N=F);let S=H===v[U]&&H!==g[U]&&X;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),k.protectedKeys={...I},!k.isActive&&Q===null||!H&&!k.prevProp||Pf(H)||typeof H=="boolean")continue;let j=e3(k.prevProp,H)||U===m&&k.isActive&&!S&&X||F>N&&X,P=!1;const M=Array.isArray(H)?H:[H];let z=M.reduce(i,{});Q===!1&&(z={});const{prevResolvedValues:O={}}=k,ye={...O,...z},q=te=>{j=!0,T.has(te)&&(P=!0,T.delete(te)),k.needsAnimating[te]=!0};for(const te in ye){const ge=z[te],se=O[te];if(I.hasOwnProperty(te))continue;let he=!1;Uh(ge)&&Uh(se)?he=!$S(ge,se):he=ge!==se,he?ge!==void 0?q(te):T.add(te):ge!==void 0&&T.has(te)?q(te):k.protectedKeys[te]=!0}k.prevProp=H,k.prevResolvedValues=z,k.isActive&&(I={...I,...z}),r&&t.blockInitialAnimation&&(j=!1),j&&(!S||P)&&_.push(...M.map(te=>({animation:te,options:{type:U,...p}})))}if(T.size){const F={};T.forEach(U=>{const k=t.getBaseTarget(U);k!==void 0&&(F[U]=k)}),_.push({animation:F})}let C=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!t.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(_):Promise.resolve()}function u(p,m,g){var v;if(n[p].isActive===m)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(T=>{var I;return(I=T.animationState)===null||I===void 0?void 0:I.setActive(p,m)}),n[p].isActive=m;const _=l(g,p);for(const T in n)n[T].protectedKeys={};return _}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>n}}function e3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$S(e,t):!1}function co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function t3(){return{animate:co(!0),whileInView:co(),whileHover:co(),whileTap:co(),whileDrag:co(),whileFocus:co(),exit:co()}}class n3 extends Oi{constructor(e){super(e),e.animationState||(e.animationState=ZV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Pf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let r3=0;class s3 extends Oi{constructor(){super(...arguments),this.id=r3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const i3={animation:{Feature:n3},exit:{Feature:s3}},Y_=(t,e)=>Math.abs(t-e);function o3(t,e){const n=Y_(t.x,e.x),r=Y_(t.y,e.y);return Math.sqrt(n**2+r**2)}class _2{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Um(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=o3(v.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:I}=v,{timestamp:N}=nn;this.history.push({...I,timestamp:N});const{onStart:C,onMove:F}=this.handlers;_||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Fm(_,this.transformPagePoint),rt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:T,onSessionEnd:I,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Um(v.type==="pointercancel"?this.lastMoveEventInfo:Fm(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,C),I&&I(v,C)},!VS(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const l=jf(e),u=Fm(l,this.transformPagePoint),{point:p}=u,{timestamp:m}=nn;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Um(u,this.history)),this.removeListeners=bi(gs(this.contextWindow,"pointermove",this.handlePointerMove),gs(this.contextWindow,"pointerup",this.handlePointerUp),gs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ss(this.updatePoint)}}function Fm(t,e){return e?{point:e(t.point)}:t}function X_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Um({point:t},e){return{point:t,delta:X_(t,b2(e)),offset:X_(t,a3(e)),velocity:l3(e,.1)}}function a3(t){return t[0]}function b2(t){return t[t.length-1]}function l3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=b2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bo(e)));)n--;if(!r)return{x:0,y:0};const a=ys(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function On(t){return t.max-t.min}function $g(t,e=0,n=.01){return Math.abs(t-e)<=n}function J_(t,e,n,r=.5){t.origin=r,t.originPoint=ut(e.min,e.max,t.origin),t.scale=On(n)/On(e),($g(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,($g(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Pc(t,e,n,r){J_(t.x,e.x,n.x,r?r.originX:void 0),J_(t.y,e.y,n.y,r?r.originY:void 0)}function Z_(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function c3(t,e,n){Z_(t.x,e.x,n.x),Z_(t.y,e.y,n.y)}function e1(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Rc(t,e,n){e1(t.x,e.x,n.x),e1(t.y,e.y,n.y)}function u3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ut(n,t,r.max):Math.min(t,n)),t}function t1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function d3(t,{top:e,left:n,bottom:r,right:i}){return{x:t1(t.x,n,i),y:t1(t.y,e,r)}}function n1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function h3(t,e){return{x:n1(t.x,e.x),y:n1(t.y,e.y)}}function f3(t,e){let n=.5;const r=On(t),i=On(e);return i>r?n=Gc(e.min,e.max-r,t.min):r>i&&(n=Gc(t.min,t.max-i,e.min)),Ri(0,1,n)}function p3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hg=.35;function m3(t=Hg){return t===!1?t=0:t===!0&&(t=Hg),{x:r1(t,"left","right"),y:r1(t,"top","bottom")}}function r1(t,e,n){return{min:s1(t,e),max:s1(t,n)}}function s1(t,e){return typeof t=="number"?t:t[e]||0}const i1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ua=()=>({x:i1(),y:i1()}),o1=()=>({min:0,max:0}),At=()=>({x:o1(),y:o1()});function qn(t){return[t("x"),t("y")]}function E2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function g3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function y3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bm(t){return t===void 0||t===1}function qg({scale:t,scaleX:e,scaleY:n}){return!Bm(t)||!Bm(e)||!Bm(n)}function fo(t){return qg(t)||T2(t)||t.z||t.rotate||t.rotateX||t.rotateY}function T2(t){return a1(t.x)||a1(t.y)}function a1(t){return t&&t!=="0%"}function qh(t,e,n){const r=t-n,i=e*r;return n+i}function l1(t,e,n,r,i){return i!==void 0&&(t=qh(t,i,r)),qh(t,n,r)+e}function Wg(t,e=0,n=1,r,i){t.min=l1(t.min,e,n,r,i),t.max=l1(t.max,e,n,r,i)}function S2(t,{x:e,y:n}){Wg(t.x,e.translate,e.scale,e.originPoint),Wg(t.y,n.translate,n.scale,n.originPoint)}function v3(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let u=0;u<i;u++){a=n[u],l=a.projectionDelta;const p=a.instance;p&&p.style&&p.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ba(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,S2(t,l)),r&&fo(a.latestValues)&&Ba(t,a.latestValues))}e.x=c1(e.x),e.y=c1(e.y)}function c1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function oi(t,e){t.min=t.min+e,t.max=t.max+e}function u1(t,e,[n,r,i]){const a=e[i]!==void 0?e[i]:.5,l=ut(t.min,t.max,a);Wg(t,e[n],e[r],l,e.scale)}const x3=["x","scaleX","originX"],w3=["y","scaleY","originY"];function Ba(t,e){u1(t.x,e,x3),u1(t.y,e,w3)}function I2(t,e){return E2(y3(t.getBoundingClientRect(),e))}function _3(t,e,n){const r=I2(t,n),{scroll:i}=e;return i&&(oi(r.x,i.offset.x),oi(r.y,i.offset.y)),r}const C2=({current:t})=>t?t.ownerDocument.defaultView:null,b3=new WeakMap;class E3{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=At(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jf(g,"page").point)},a=(g,v)=>{const{drag:_,dragPropagation:T,onDragStart:I}=this.getProps();if(_&&!T&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=US(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qn(C=>{let F=this.getAxisMotionValue(C).get()||0;if(Ur.test(F)){const{projection:U}=this.visualElement;if(U&&U.layout){const k=U.layout.layoutBox[C];k&&(F=On(k)*(parseFloat(F)/100))}}this.originPoint[C]=F}),I&&rt.update(()=>I(g,v),!1,!0);const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:I,onDrag:N}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:C}=v;if(T&&this.currentDirection===null){this.currentDirection=T3(C),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),N&&N(g,v)},u=(g,v)=>this.stop(g,v),p=()=>qn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new _2(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:C2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&rt.update(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!qd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=u3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Va(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=d3(i.layoutBox,n):this.constraints=!1,this.elastic=m3(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=p3(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Va(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=_3(r,i.root,this.visualElement.getTransformPagePoint());let l=h3(i.layout.layoutBox,a);if(n){const u=n(g3(l));this.hasMutatedConstraints=!!u,u&&(l=E2(u))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),p=this.constraints||{},m=qn(g=>{if(!qd(g,n,this.currentDirection))return;let v=p&&p[g]||{};l&&(v={min:0,max:0});const _=i?200:1e6,T=i?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,I)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(yv(e,r,0,n))}stopAnimation(){qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){qn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){qn(n=>{const{drag:r}=this.getProps();if(!qd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[n];a.set(e[n]-ut(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Va(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qn(l=>{const u=this.getAxisMotionValue(l);if(u){const p=u.get();i[l]=f3({min:p,max:p},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qn(l=>{if(!qd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:p,max:m}=this.constraints[l];u.set(ut(p,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;b3.set(this.visualElement,this);const e=this.visualElement.current,n=gs(e,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Va(p)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const l=hs(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(qn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=p[g].translate,v.set(v.get()+p[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Hg,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function qd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function T3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class S3 extends Oi{constructor(e){super(e),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new E3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const d1=t=>(e,n)=>{t&&rt.update(()=>t(e,n))};class I3 extends Oi{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(e){this.session=new _2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:d1(e),onStart:d1(n),onMove:r,onEnd:(a,l)=>{delete this.session,i&&rt.update(()=>i(a,l))}}}mount(){this.removePointerDownListener=gs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function C3(){const t=D.useContext(Af);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=D.useId();return D.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const uh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function h1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=h1(t,e.target.x),r=h1(t,e.target.y);return`${n}% ${r}%`}},A3={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ni.parse(t);if(i.length>5)return r;const a=Ni.createTransformer(t),l=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,p=n.y.scale*e.y;i[0+l]/=u,i[1+l]/=p;const m=ut(u,p,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),a(i)}};class k3 extends Dr.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;LL(P3),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),uh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||rt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function A2(t){const[e,n]=C3(),r=D.useContext(rv);return Dr.createElement(k3,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(ES),isPresent:e,safeToRemove:n})}const P3={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:A3},k2=["TopLeft","TopRight","BottomLeft","BottomRight"],R3=k2.length,f1=t=>typeof t=="string"?parseFloat(t):t,p1=t=>typeof t=="number"||Ae.test(t);function N3(t,e,n,r,i,a){i?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,j3(r)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,D3(r))):a&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<R3;l++){const u=`border${k2[l]}Radius`;let p=m1(e,u),m=m1(n,u);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||p1(p)===p1(m)?(t[u]=Math.max(ut(f1(p),f1(m),r),0),(Ur.test(m)||Ur.test(p))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,r))}function m1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const j3=P2(0,.5,JS),D3=P2(.5,.95,_t);function P2(t,e,n){return r=>r<t?0:r>e?1:n(Gc(t,e,r))}function g1(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){g1(t.x,e.x),g1(t.y,e.y)}function y1(t,e,n,r,i){return t-=e,t=qh(t,1/n,r),i!==void 0&&(t=qh(t,1/i,r)),t}function O3(t,e=0,n=1,r=.5,i,a=t,l=t){if(Ur.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ut(a.min,a.max,r);t===a&&(u-=e),t.min=y1(t.min,e,n,u,i),t.max=y1(t.max,e,n,u,i)}function v1(t,e,[n,r,i],a,l){O3(t,e[n],e[r],e[i],e.scale,a,l)}const L3=["x","scaleX","originX"],M3=["y","scaleY","originY"];function x1(t,e,n,r){v1(t.x,e,L3,n?n.x:void 0,r?r.x:void 0),v1(t.y,e,M3,n?n.y:void 0,r?r.y:void 0)}function w1(t){return t.translate===0&&t.scale===1}function R2(t){return w1(t.x)&&w1(t.y)}function V3(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function N2(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function _1(t){return On(t.x)/On(t.y)}class F3{constructor(){this.members=[]}add(e){vv(this.members,e),e.scheduleRender()}remove(e){if(xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b1(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:p,rotateX:m,rotateY:g}=n;p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const U3=(t,e)=>t.depth-e.depth;class B3{constructor(){this.children=[],this.isDirty=!1}add(e){vv(this.children,e),this.isDirty=!0}remove(e){xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(U3),this.isDirty=!1,this.children.forEach(e)}}function z3(t,e){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Ss(r),t(a-e))};return rt.read(r,!0),()=>Ss(r)}function $3(t){window.MotionDebug&&window.MotionDebug.record(t)}function H3(t){return t instanceof SVGElement&&t.tagName!=="svg"}function q3(t,e,n){const r=bn(t)?t:rl(t);return r.start(yv("",r,e,n)),r.animation}const E1=["","X","Y","Z"],W3={visibility:"hidden"},T1=1e3;let G3=0;const po={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function j2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},u=e?.()){this.id=G3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,po.totalNodes=po.resolvedTargetDeltas=po.recalculatedProjection=0,this.nodes.forEach(Y3),this.nodes.forEach(t5),this.nodes.forEach(n5),this.nodes.forEach(X3),$3(po)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new B3)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new wv),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const p=this.eventHandlers.get(l);p&&p.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=H3(l),this.instance=l;const{layoutId:p,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||p)&&(this.isLayoutDirty=!0),t){let v;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=z3(_,250),uh.hasAnimatedSinceResize&&(uh.hasAnimatedSinceResize=!1,this.nodes.forEach(I1))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||a5,{onLayoutAnimationStart:C,onLayoutAnimationComplete:F}=g.getProps(),U=!this.targetLayout||!N2(this.targetLayout,I)||T,k=!_&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,k);const H={...gv(N,"layout"),onPlay:C,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else _||I1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:p}=this.options;if(u===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S1);return}this.isUpdating||this.nodes.forEach(Z3),this.isUpdating=!1,this.nodes.forEach(e5),this.nodes.forEach(K3),this.nodes.forEach(Q3),this.clearAllSnapshots();const u=performance.now();nn.delta=Ri(0,1e3/60,u-nn.timestamp),nn.timestamp=u,nn.isProcessing=!0,Rm.update.process(nn),Rm.preRender.process(nn),Rm.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(J3),this.sharedNodes.forEach(s5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,rt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){rt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=At(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!R2(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&(u||fo(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let p=this.removeElementScroll(u);return l&&(p=this.removeTransform(p)),l5(p),{animationId:this.root.animationId,measuredBox:u,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return At();const u=l.measureViewportBox(),{scroll:p}=this.root;return p&&(oi(u.x,p.offset.x),oi(u.y,p.offset.y)),u}removeElementScroll(l){const u=At();Hn(u,l);for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:g,options:v}=m;if(m!==this.root&&g&&v.layoutScroll){if(g.isRoot){Hn(u,l);const{scroll:_}=this.root;_&&(oi(u.x,-_.offset.x),oi(u.y,-_.offset.y))}oi(u.x,g.offset.x),oi(u.y,g.offset.y)}}return u}applyTransform(l,u=!1){const p=At();Hn(p,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ba(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),fo(g.latestValues)&&Ba(p,g.latestValues)}return fo(this.latestValues)&&Ba(p,this.latestValues),p}removeTransform(l){const u=At();Hn(u,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!fo(m.latestValues))continue;qg(m.latestValues)&&m.updateSnapshot();const g=At(),v=m.measurePageBox();Hn(g,v),x1(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return fo(this.latestValues)&&x1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Rc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=At(),this.targetWithTransforms=At()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),S2(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=At(),this.relativeTargetOrigin=At(),Rc(this.relativeTargetOrigin,this.target,T.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}po.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qg(this.parent.latestValues)||T2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),p=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Hn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;v3(this.layoutCorrected,this.treeScale,this.path,p),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:I}=u;if(!I){this.projectionTransform&&(this.projectionDelta=Ua(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ua(),this.projectionDeltaWithTransform=Ua());const N=this.projectionTransform;Pc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),this.projectionTransform=b1(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==_||this.treeScale.y!==T)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),po.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},v=Ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=At(),T=p?p.source:void 0,I=this.layout?this.layout.source:void 0,N=T!==I,C=this.getStack(),F=!C||C.members.length<=1,U=!!(N&&!F&&this.options.crossfade===!0&&!this.path.some(o5));this.animationProgress=0;let k;this.mixTargetDelta=H=>{const X=H/1e3;C1(v.x,l.x,X),C1(v.y,l.y,X),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i5(this.relativeTarget,this.relativeTargetOrigin,_,X),k&&V3(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=At()),Hn(k,this.relativeTarget)),N&&(this.animationValues=g,N3(g,m,this.latestValues,X,U,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=rt.update(()=>{uh.hasAnimatedSinceResize=!0,this.currentAnimation=q3(0,T1,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:p,layout:m,latestValues:g}=l;if(!(!u||!p||!m)){if(this!==l&&this.layout&&m&&D2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||At();const v=On(this.layout.layoutBox.x);p.x.min=l.target.x.min,p.x.max=p.x.min+v;const _=On(this.layout.layoutBox.y);p.y.min=l.target.y.min,p.y.max=p.y.min+_}Hn(u,p),Ba(u,g),Pc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new F3),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:p}=l;if((p.rotate||p.rotateX||p.rotateY||p.rotateZ)&&(u=!0),!u)return;const m={};for(let g=0;g<E1.length;g++){const v="rotate"+E1[g];p[v]&&(m[v]=p[v],l.setStaticValue(v,0))}l.render();for(const g in m)l.setStaticValue(g,m[g]);l.scheduleRender()}getProjectionStyles(l){var u,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return W3;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=ch(l?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=ch(l?.pointerEvents)||""),this.hasProjected&&!fo(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=b1(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:T,y:I}=this.projectionDelta;m.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,v.animationValues?m.opacity=v===this?(p=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in Vh){if(_[N]===void 0)continue;const{correct:C,applyTo:F}=Vh[N],U=m.transform==="none"?_[N]:C(_[N],v);if(F){const k=F.length;for(let H=0;H<k;H++)m[F[H]]=U}else m[N]=U}return this.options.layoutId&&(m.pointerEvents=v===this?ch(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(S1),this.root.sharedNodes.clear()}}}function K3(t){t.updateLayout()}function Q3(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?qn(v=>{const _=l?n.measuredBox[v]:n.layoutBox[v],T=On(_);_.min=r[v].min,_.max=_.min+T}):D2(a,n.layoutBox,r)&&qn(v=>{const _=l?n.measuredBox[v]:n.layoutBox[v],T=On(r[v]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const u=Ua();Pc(u,r,n.layoutBox);const p=Ua();l?Pc(p,t.applyTransform(i,!0),n.measuredBox):Pc(p,r,n.layoutBox);const m=!R2(u);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:T}=v;if(_&&T){const I=At();Rc(I,n.layoutBox,_.layoutBox);const N=At();Rc(N,r,T.layoutBox),N2(I,N)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=I,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:p,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Y3(t){po.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function X3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function J3(t){t.clearSnapshot()}function S1(t){t.clearMeasurements()}function Z3(t){t.isLayoutDirty=!1}function e5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function t5(t){t.resolveTargetDelta()}function n5(t){t.calcProjection()}function r5(t){t.resetRotation()}function s5(t){t.removeLeadSnapshot()}function C1(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A1(t,e,n,r){t.min=ut(e.min,n.min,r),t.max=ut(e.max,n.max,r)}function i5(t,e,n,r){A1(t.x,e.x,n.x,r),A1(t.y,e.y,n.y,r)}function o5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const a5={duration:.45,ease:[.4,0,.1,1]},k1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),P1=k1("applewebkit/")&&!k1("chrome/")?Math.round:_t;function R1(t){t.min=P1(t.min),t.max=P1(t.max)}function l5(t){R1(t.x),R1(t.y)}function D2(t,e,n){return t==="position"||t==="preserve-aspect"&&!$g(_1(e),_1(n),.2)}const c5=j2({attachResizeListener:(t,e)=>hs(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zm={current:void 0},O2=j2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zm.current){const t=new c5({});t.mount(window),t.setOptions({layoutScroll:!0}),zm.current=t}return zm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u5={pan:{Feature:I3},drag:{Feature:S3,ProjectionNode:O2,MeasureLayout:A2}},d5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function h5(t){const e=d5.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Gg(t,e,n=1){const[r,i]=h5(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return y2(l)?parseFloat(l):l}else return Lg(i)?Gg(i,e,n+1):i}function f5(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const a=i.get();if(!Lg(a))return;const l=Gg(a,r);l&&i.set(l)});for(const i in e){const a=e[i];if(!Lg(a))continue;const l=Gg(a,r);l&&(e[i]=l,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:e,transitionEnd:n}}const p5=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),L2=t=>p5.has(t),m5=t=>Object.keys(t).some(L2),N1=t=>t===zo||t===Ae,j1=(t,e)=>parseFloat(t.split(", ")[e]),D1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return j1(i[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?j1(a[1],t):0}},g5=new Set(["x","y","z"]),y5=cu.filter(t=>!g5.has(t));function v5(t){const e=[];return y5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const sl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:D1(4,13),y:D1(5,14)};sl.translateX=sl.x;sl.translateY=sl.y;const x5=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,a=getComputedStyle(i),{display:l}=a,u={};l==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(m=>{u[m]=sl[m](r,a)}),e.render();const p=e.measureViewportBox();return n.forEach(m=>{const g=e.getValue(m);g&&g.jump(u[m]),t[m]=sl[m](p,a)}),t},w5=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(L2);let a=[],l=!1;const u=[];if(i.forEach(p=>{const m=t.getValue(p);if(!t.hasValue(p))return;let g=n[p],v=uc(g);const _=e[p];let T;if(Uh(_)){const I=_.length,N=_[0]===null?1:0;g=_[N],v=uc(g);for(let C=N;C<I&&_[C]!==null;C++)T?dv(uc(_[C])===T):T=uc(_[C])}else T=uc(_);if(v!==T)if(N1(v)&&N1(T)){const I=m.get();typeof I=="string"&&m.set(parseFloat(I)),typeof _=="string"?e[p]=parseFloat(_):Array.isArray(_)&&T===Ae&&(e[p]=_.map(parseFloat))}else v?.transform&&T?.transform&&(g===0||_===0)?g===0?m.set(T.transform(g)):e[p]=v.transform(_):(l||(a=v5(t),l=!0),u.push(p),r[p]=r[p]!==void 0?r[p]:e[p],m.jump(_))}),u.length){const p=u.indexOf("height")>=0?window.pageYOffset:null,m=x5(e,t,u);return a.length&&a.forEach(([g,v])=>{t.getValue(g).set(v)}),t.render(),kf&&p!==null&&window.scrollTo({top:p}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function _5(t,e,n,r){return m5(e)?w5(t,e,n,r):{target:e,transitionEnd:r}}const b5=(t,e,n,r)=>{const i=f5(t,e,r);return e=i.target,r=i.transitionEnd,_5(t,e,n,r)},Kg={current:null},M2={current:!1};function E5(){if(M2.current=!0,!!kf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kg.current=t.matches;t.addListener(e),e()}else Kg.current=!1}function T5(t,e,n){const{willChange:r}=e;for(const i in e){const a=e[i],l=n[i];if(bn(a))t.addValue(i,a),Hh(r)&&r.add(i);else if(bn(l))t.addValue(i,rl(a,{owner:t})),Hh(r)&&r.remove(i);else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);!u.hasAnimated&&u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,rl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const O1=new WeakMap,V2=Object.keys(Wc),S5=V2.length,L1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],I5=nv.length;class C5{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>rt.render(this.render,!1,!0);const{latestValues:u,renderState:p}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=Rf(n),this.isVariantNode=bS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{});for(const v in g){const _=g[v];u[v]!==void 0&&bn(_)&&(_.set(u[v],!1),Hh(m)&&m.add(v))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,O1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),M2.current||E5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O1.delete(this.current),this.projection&&this.projection.unmount(),Ss(this.notifyUpdate),Ss(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Bo.has(e),i=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&rt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,a){let l,u;for(let p=0;p<S5;p++){const m=V2[p],{isEnabled:g,Feature:v,ProjectionNode:_,MeasureLayout:T}=Wc[m];_&&(l=_),g(n)&&(!this.features[m]&&v&&(this.features[m]=new v(this)),T&&(u=T))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:p,layout:m,drag:g,dragConstraints:v,layoutScroll:_,layoutRoot:T}=n;this.projection.setOptions({layoutId:p,layout:m,alwaysMeasureLayout:!!g||v&&Va(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:_,layoutRoot:T})}return u}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):At()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<L1.length;r++){const i=L1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=e["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=T5(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<I5;r++){const i=nv[r],a=this.props[i];(qc(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rl(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=uv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!bn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new wv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class F2 extends C5{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},a){let l=HV(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),l&&(l=i(l))),a){zV(this,r,l);const u=b5(this,r,l,n);n=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:n,...r}}}function A5(t){return window.getComputedStyle(t)}class k5 extends F2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Bo.has(n)){const r=mv(n);return r&&r.default||0}else{const r=A5(e),i=(IS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return I2(e,n)}build(e,n,r,i){iv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return cv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){NS(e,n,r,i)}}class P5 extends F2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bo.has(n)){const r=mv(n);return r&&r.default||0}return n=jS.has(n)?n:ev(n),e.getAttribute(n)}measureInstanceViewportBox(){return At()}scrapeMotionValuesFromProps(e,n){return OS(e,n)}build(e,n,r,i){av(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){DS(e,n,r,i)}mount(e){this.isSVGTag=lv(e.tagName),super.mount(e)}}const R5=(t,e)=>sv(t)?new P5(e,{enableHardwareAcceleration:!1}):new k5(e,{enableHardwareAcceleration:!0}),N5={layout:{ProjectionNode:O2,MeasureLayout:A2}},j5={...i3,...SM,...u5,...N5},Ee=DL((t,e)=>hM(t,e,j5,R5));function U2(){const t=D.useRef(!1);return Zy(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function D5(){const t=U2(),[e,n]=D.useState(0),r=D.useCallback(()=>{t.current&&n(e+1)},[e]);return[D.useCallback(()=>rt.postRender(r),[r]),e]}class O5 extends D.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function L5({children:t,isPresent:e}){const n=D.useId(),r=D.useRef(null),i=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:p}=i.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=n;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),D.createElement(O5,{isPresent:e,childRef:r,sizeRef:i},D.cloneElement(t,{ref:r}))}const $m=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:l})=>{const u=LS(M5),p=D.useId(),m=D.useMemo(()=>({id:p,initial:e,isPresent:n,custom:i,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),a?void 0:[n]);return D.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[n]),D.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),l==="popLayout"&&(t=D.createElement(L5,{isPresent:n},t)),D.createElement(Af.Provider,{value:m},t)};function M5(){return new Map}function V5(t){return D.useEffect(()=>()=>t(),[])}const mo=t=>t.key||"";function F5(t,e){t.forEach(n=>{const r=mo(n);e.set(r,n)})}function U5(t){const e=[];return D.Children.forEach(t,n=>{D.isValidElement(n)&&e.push(n)}),e}const vs=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const u=D.useContext(rv).forceRender||D5()[0],p=U2(),m=U5(t);let g=m;const v=D.useRef(new Map).current,_=D.useRef(g),T=D.useRef(new Map).current,I=D.useRef(!0);if(Zy(()=>{I.current=!1,F5(m,T),_.current=g}),V5(()=>{I.current=!0,T.clear(),v.clear()}),I.current)return D.createElement(D.Fragment,null,g.map(U=>D.createElement($m,{key:mo(U),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:l},U)));g=[...g];const N=_.current.map(mo),C=m.map(mo),F=N.length;for(let U=0;U<F;U++){const k=N[U];C.indexOf(k)===-1&&!v.has(k)&&v.set(k,void 0)}return l==="wait"&&v.size&&(g=[]),v.forEach((U,k)=>{if(C.indexOf(k)!==-1)return;const H=T.get(k);if(!H)return;const X=N.indexOf(k);let Q=U;if(!Q){const S=()=>{v.delete(k);const A=Array.from(T.keys()).filter(j=>!C.includes(j));if(A.forEach(j=>T.delete(j)),_.current=m.filter(j=>{const P=mo(j);return P===k||A.includes(P)}),!v.size){if(p.current===!1)return;u(),r&&r()}};Q=D.createElement($m,{key:mo(H),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:a,mode:l},H),v.set(k,Q)}g.splice(X,0,Q)}),g=g.map(U=>{const k=U.key;return v.has(k)?U:D.createElement($m,{key:mo(U),isPresent:!0,presenceAffectsLayout:a,mode:l},U)}),D.createElement(D.Fragment,null,v.size?g:g.map(U=>D.cloneElement(U)))},B5=()=>{const t=[{icon:ms,title:"AI-Powered Code Generation",description:"Generate code using advanced AI with multiple free services including Groq, Hugging Face, and Ollama."},{icon:ur,title:"170+ Programming Languages",description:"Support for JavaScript, Python, Java, C++, Rust, Go, and many more programming languages."},{icon:nl,title:"Real-time Preview",description:"See your code come to life instantly with our live preview system powered by Monaco Editor."},{icon:Mh,title:"Secure & Private",description:"Your code stays private. Use local AI models or trusted cloud services with encryption."}],e=[{label:"Languages",value:"170+",icon:ur},{label:"AI Services",value:"4",icon:ms},{label:"Free Forever",value:"100%",icon:Mh},{label:"Open Source",value:"Yes",icon:vS}];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[h.jsx("section",{className:"relative overflow-hidden pt-32 pb-20",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-8",children:[h.jsx(If,{className:"h-4 w-4"}),"AI Development Platform"]}),h.jsxs(Ee.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Build with"," ",h.jsx("span",{className:"bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:"AI Power"})]}),h.jsx(Ee.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-foreground mb-12 max-w-2xl mx-auto",children:"The universal AI development platform supporting 170+ programming languages. Generate, edit, and deploy code with artificial intelligence."}),h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[h.jsxs(ai,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-lg font-semibold",children:[h.jsx(wi,{className:"h-5 w-5"}),"Start Building"]}),h.jsxs("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:[h.jsx(Tf,{className:"h-5 w-5"}),"View on GitHub",h.jsx(uS,{className:"h-4 w-4"})]})]}),h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((n,r)=>h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx(n.icon,{className:"h-5 w-5 text-primary"}),h.jsx("div",{className:"text-2xl font-bold text-primary",children:n.value})]}),h.jsx("div",{className:"text-sm text-foreground",children:n.label})]},r))})]})}),h.jsx("section",{className:"py-20 bg-muted/30",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Everything you need to build with AI"}),h.jsx("p",{className:"text-lg text-foreground max-w-2xl mx-auto",children:"From simple websites to complex applications, DreamBuild provides all the tools you need to bring your ideas to life."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((n,r)=>h.jsxs(Ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-lg hover:bg-card/70 transition-all duration-200",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:h.jsx(n.icon,{className:"h-6 w-6 text-primary"})}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:n.title}),h.jsx("p",{className:"text-foreground",children:n.description})]},r))})]})}),h.jsx("section",{className:"py-20",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to start building?"}),h.jsx("p",{className:"text-lg text-foreground mb-8",children:"Join thousands of developers who are already using DreamBuild to create amazing applications."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(ai,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-lg font-semibold",children:["Get Started Free",h.jsx(nL,{className:"h-5 w-5"})]}),h.jsx(ai,{to:"/dashboard",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:"View Dashboard"})]})]})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebasestorage.googleapis.com",z2="storageBucket",z5=120*1e3,$5=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends $r{constructor(e,n,r=0){super(Hm(e),`Firebase Storage: ${n} (${Hm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function Hm(t){return"storage/"+t}function _v(){const t="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,t)}function H5(t){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function q5(t){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,t)}function G5(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K5(t){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Q5(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y5(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function X5(t){return new gt(pt.INVALID_URL,"Invalid URL '"+t+"'.")}function J5(t){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Z5(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+z2+"' property when initializing the app?")}function eF(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tF(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nF(t){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qg(t){return new gt(pt.INVALID_ARGUMENT,t)}function $2(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function rF(t){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nc(t,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hc(t){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(r.path==="")return r;throw J5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),p={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${v}/${g}/b/${i}/o${_}`,"i"),I={bucket:1,path:3},N=n===B2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",F=new RegExp(`^https?://${N}/${i}/${C}`,"i"),k=[{regex:u,indices:p,postModify:a},{regex:T,indices:I,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<k.length;H++){const X=k[H],Q=X.regex.exec(e);if(Q){const S=Q[X.indices.bucket];let A=Q[X.indices.path];A||(A=""),r=new Dn(S,A),X.postModify(r);break}}if(r==null)throw X5(e);return r}}class sF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iF(t,e,n){let r=1,i=null,a=null,l=!1,u=0;function p(){return u===2}let m=!1;function g(...C){m||(m=!0,e.apply(null,C))}function v(C){i=setTimeout(()=>{i=null,t(T,p())},C)}function _(){a&&clearTimeout(a)}function T(C,...F){if(m){_();return}if(C){_(),g.call(null,C,...F);return}if(p()||l){_(),g.call(null,C,...F);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,v(k)}let I=!1;function N(C){I||(I=!0,_(),!m&&(i!==null?(C||(u=2),clearTimeout(i),v(0)):C||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function oF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){return t!==void 0}function lF(t){return typeof t=="object"&&!Array.isArray(t)}function bv(t){return typeof t=="string"||t instanceof String}function M1(t){return Ev()&&t instanceof Blob}function Ev(){return typeof Blob<"u"}function V1(t,e,n,r){if(r<e)throw Qg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Eo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Eo||(Eo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i,a,l,u,p,m,g,v,_=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,N)=>{this.resolve_=I,this.reject_=N,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const p=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Eo.NO_ERROR,p=a.getStatus();if(!u||cF(p,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Eo.ABORT;r(!1,new Wd(!1,null,g));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new Wd(m,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(u,u.getResponse());aF(p)?a(p):a()}catch(p){l(p)}else if(u!==null){const p=_v();p.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,p)):l(p)}else if(i.canceled){const p=this.appDelete_?$2():Y5();l(p)}else{const p=Q5();l(p)}};this.canceled_?n(!1,new Wd(!1,null,!0)):this.backoffId_=iF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mF(t,e,n,r,i,a,l=!0,u=!1){const p=H2(t.urlParams),m=t.url+p,g=Object.assign({},t.headers);return fF(g,e),dF(g,n),hF(g,a),pF(g,r),new uF(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yF(...t){const e=gF();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ev())return new Blob(t);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vF(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(t){if(typeof atob>"u")throw nF("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qm{constructor(e,n){this.data=e,this.contentType=n||null}}function wF(t,e){switch(t){case jr.RAW:return new qm(q2(e));case jr.BASE64:case jr.BASE64URL:return new qm(W2(t,e));case jr.DATA_URL:return new qm(bF(e),EF(e))}throw _v()}function q2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function _F(t){let e;try{e=decodeURIComponent(t)}catch{throw Nc(jr.DATA_URL,"Malformed data URL.")}return q2(e)}function W2(t,e){switch(t){case jr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Nc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case jr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Nc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xF(e)}catch(i){throw i.message.includes("polyfill")?i:Nc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class G2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nc(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function bF(t){const e=new G2(t);return e.base64?W2(jr.BASE64,e.rest):_F(e.rest)}function EF(t){return new G2(t).contentType}function TF(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n){let r=0,i="";M1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(M1(this.data_)){const r=this.data_,i=vF(r,e,n);return i===null?null:new hi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new hi(r,!0)}}static getBlob(...e){if(Ev()){const n=e.map(r=>r instanceof hi?r.data_:r);return new hi(yF.apply(null,n))}else{const n=e.map(l=>bv(l)?wF(jr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)i[a++]=l[u]}),new hi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){let e;try{e=JSON.parse(t)}catch{return null}return lF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IF(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Q2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){return e}class un{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||CF}}let Gd=null;function AF(t){return!bv(t)||t.length<2?t:Q2(t)}function Y2(){if(Gd)return Gd;const t=[];t.push(new un("bucket")),t.push(new un("generation")),t.push(new un("metageneration")),t.push(new un("name","fullPath",!0));function e(a,l){return AF(l)}const n=new un("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new un("size");return i.xform=r,t.push(i),t.push(new un("timeCreated")),t.push(new un("updated")),t.push(new un("md5Hash",null,!0)),t.push(new un("cacheControl",null,!0)),t.push(new un("contentDisposition",null,!0)),t.push(new un("contentEncoding",null,!0)),t.push(new un("contentLanguage",null,!0)),t.push(new un("contentType",null,!0)),t.push(new un("metadata","customMetadata",!0)),Gd=t,Gd}function kF(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Dn(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function PF(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return kF(r,t),r}function X2(t,e,n){const r=K2(e);return r===null?null:PF(t,r,n)}function RF(t,e,n,r){const i=K2(e);if(i===null||!bv(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const g=t.bucket,v=t.fullPath,_="/b/"+l(g)+"/o/"+l(v),T=Tv(_,n,r),I=H2({alt:"media",token:m});return T+I})[0]}function NF(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class J2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t){if(!t)throw _v()}function jF(t,e){function n(r,i){const a=X2(t,i,e);return Z2(a!==null),a}return n}function DF(t,e){function n(r,i){const a=X2(t,i,e);return Z2(a!==null),RF(a,i,t.host,t._protocol)}return n}function eI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=G5():i=W5():n.getStatus()===402?i=q5(t.bucket):n.getStatus()===403?i=K5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function OF(t){const e=eI(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=H5(t.path)),a.serverResponse=i.serverResponse,a}return n}function LF(t,e,n){const r=e.fullServerUrl(),i=Tv(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,u=new J2(i,a,DF(t,n),l);return u.errorHandler=OF(e),u}function MF(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VF(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=MF(null,e)),r}function FF(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let H=0;H<2;H++)k=k+Math.random().toString().slice(2);return k}const p=u();l["Content-Type"]="multipart/related; boundary="+p;const m=VF(e,r,i),g=NF(m,n),v="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+p+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+p+"--",T=hi.getBlob(v,r,_);if(T===null)throw eF();const I={name:m.fullPath},N=Tv(a,t.host,t._protocol),C="POST",F=t.maxUploadRetryTime,U=new J2(N,C,jF(t,n),F);return U.urlParams=I,U.headers=l,U.body=T.uploadData(),U.errorHandler=eI(e),U}class UF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Eo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Eo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Eo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw hc("cannot .send() more than once");if(Di(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class BF extends UF{initXhr(){this.xhr_.responseType="text"}}function tI(){return new BF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this._service=e,n instanceof Dn?this._location=n:this._location=Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ro(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q2(this._location.path)}get storage(){return this._service}get parent(){const e=SF(this._location.path);if(e===null)return null;const n=new Dn(this._location.bucket,e);return new Ro(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rF(e)}}function zF(t,e,n){t._throwIfRoot("uploadBytes");const r=FF(t.storage,t._location,Y2(),new hi(e,!0),n);return t.storage.makeRequestWithTokens(r,tI).then(i=>({metadata:i,ref:t}))}function $F(t){t._throwIfRoot("getDownloadURL");const e=LF(t.storage,t._location,Y2());return t.storage.makeRequestWithTokens(e,tI).then(n=>{if(n===null)throw tF();return n})}function HF(t,e){const n=IF(t._location.path,e),r=new Dn(t._location.bucket,n);return new Ro(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){return/^[A-Za-z]+:\/\//.test(t)}function WF(t,e){return new Ro(t,e)}function nI(t,e){if(t instanceof Sv){const n=t;if(n._bucket==null)throw Z5();const r=new Ro(n,n._bucket);return e!=null?nI(r,e):r}else return e!==void 0?HF(t,e):t}function GF(t,e){if(e&&qF(e)){if(t instanceof Sv)return WF(t,e);throw Qg("To use ref(service, url), the first argument must be a Storage instance.")}else return nI(t,e)}function F1(t,e){const n=e?.[z2];return n==null?null:Dn.makeFromBucketSpec(n,t)}function KF(t,e,n,r={}){t.host=`${e}:${n}`;const i=Di(e);i&&(oy(`https://${t.host}/b`),ay("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:zb(a,t.app.options.projectId))}class Sv{constructor(e,n,r,i,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=B2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=z5,this._maxUploadRetryTime=$5,this._requests=new Set,i!=null?this._bucket=Dn.makeFromBucketSpec(i,this._host):this._bucket=F1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dn.makeFromBucketSpec(this._url,e):this._bucket=F1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){V1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){V1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ro(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new sF($2());{const l=mF(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const U1="@firebase/storage",B1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="storage";function Wm(t,e,n){return t=zt(t),zF(t,e,n)}function Gm(t){return t=zt(t),$F(t)}function Km(t,e){return t=zt(t),GF(t,e)}function QF(t=dy(),e){t=zt(t);const r=Jh(t,rI).getImmediate({identifier:e}),i=Fb("storage");return i&&YF(r,...i),r}function YF(t,e,n,r={}){KF(t,e,n,r)}function XF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Sv(n,r,i,e,Oo)}function JF(){Io(new Ti(rI,XF,"PUBLIC").setMultipleInstances(!0)),Or(U1,B1,""),Or(U1,B1,"esm2020")}JF();const ZF={apiKey:"demo-key",authDomain:"dreambuild-2024-app.firebaseapp.com",projectId:"dreambuild-2024-app",storageBucket:"dreambuild-2024-app.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456789"},sI=uy(ZF),Qm=QF(sI),Kd=Gy(sI);class e6{constructor(){this.deployments=new Map,this.isDeploying=!1}async deployToFirebase(e,n){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log("🚀 Starting Firebase deployment...");const r=`deploy_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i={id:r,projectName:n||"dream-app",files:e.files,config:e.config,deployedAt:new Date,status:"uploading",platform:"firebase"},a={};for(const[g,v]of Object.entries(e.files))if(v&&v.trim()){const _=Km(Qm,`projects/${r}/${g}`),T=new Blob([v],{type:this.getMimeType(g)});await Wm(_,T);const I=await Gm(_);a[g]=I}const l=this.createHostedHTML(e.files),u=Km(Qm,`projects/${r}/index.html`),p=new Blob([l],{type:"text/html"});await Wm(u,p);const m=await Gm(u);return await Lh(Ga(Kd,"deployments",r),{...i,status:"completed",hostedURL:m,files:a,completedAt:new Date}),this.deployments.set(r,i),console.log("✅ Firebase deployment completed:",m),{success:!0,deploymentId:r,url:m,platform:"firebase"}}catch(r){throw console.error("❌ Firebase deployment failed:",r),new Error(`Firebase deployment failed: ${r.message}`)}finally{this.isDeploying=!1}}async deployToGitHub(e,n,r=null){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log("🚀 Starting GitHub deployment...");const i=`github_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(!r){const a=n.toLowerCase().replace(/[^a-z0-9-]/g,"-"),l=this.createHostedHTML(e.files),u=Km(Qm,`github-pages/${i}/index.html`),p=new Blob([l],{type:"text/html"});await Wm(u,p);const m=await Gm(u);return await Lh(Ga(Kd,"deployments",i),{id:i,projectName:n,files:e.files,config:e.config,deployedAt:new Date,status:"completed",platform:"github-pages",hostedURL:m,repoName:a,instructions:this.generateGitHubInstructions(n,e.files)}),{success:!0,deploymentId:i,url:m,platform:"github-pages",repoName:a,instructions:this.generateGitHubInstructions(n,e.files)}}throw new Error("GitHub API integration not yet implemented. Please use the demo deployment.")}catch(i){throw console.error("❌ GitHub deployment failed:",i),new Error(`GitHub deployment failed: ${i.message}`)}finally{this.isDeploying=!1}}createHostedHTML(e){const n=e["index.html"]||this.generateDefaultHTML(),r=e["style.css"]||"",i=e["script.js"]||"";let a=n;return r.trim()&&(a.includes("</head>")?a=a.replace("</head>",`<style>${r}</style>
</head>`):a.includes("<head>")?a=a.replace("<head>",`<head>
<style>${r}</style>`):a=`<style>${r}</style>
${a}`),i.trim()&&(a.includes("</body>")?a=a.replace("</body>",`<script>${i}<\/script>
</body>`):a+=`
<script>${i}<\/script>`),a.includes("<!DOCTYPE html>")||(a=`<!DOCTYPE html>
${a}`),a.includes('<meta name="viewport"')||(a=a.replace("<head>",`<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">`)),a}generateDefaultHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamBuild App</title>
</head>
<body>
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px);">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;">🚀 DreamBuild App</h1>
            <p style="font-size: 1.2rem; opacity: 0.9;">Your app is ready! Add some content to get started.</p>
        </div>
    </div>
</body>
</html>`}getMimeType(e){const n=e.split(".").pop().toLowerCase();return{html:"text/html",css:"text/css",js:"application/javascript",json:"application/json",md:"text/markdown",txt:"text/plain"}[n]||"text/plain"}generateGitHubInstructions(e,n){const r=e.toLowerCase().replace(/[^a-z0-9-]/g,"-");return{steps:["1. Create a new repository on GitHub",`2. Name it "${r}" (or your preferred name)`,"3. Initialize with README","4. Upload your generated files to the repository","5. Go to Settings > Pages",'6. Select "Deploy from a branch"','7. Choose "main" branch and "/ (root)" folder',"8. Click Save - your site will be available at:",`   https://yourusername.github.io/${r}`],files:Object.keys(n),repoName:r}}getDeploymentStatus(e){return this.deployments.get(e)}async getAllDeployments(){try{const{collection:e,query:n,orderBy:r,limit:i,getDocs:a}=await Ma(async()=>{const{collection:m,query:g,orderBy:v,limit:_,getDocs:T}=await Promise.resolve().then(()=>La);return{collection:m,query:g,orderBy:v,limit:_,getDocs:T}},void 0),l=e(Kd,"deployments"),u=n(l,r("deployedAt","desc"),i(20));return(await a(u)).docs.map(m=>({id:m.id,...m.data()}))}catch(e){return console.error("Error fetching deployments:",e),[]}}async deleteDeployment(e){try{const{deleteDoc:n}=await Ma(async()=>{const{deleteDoc:r}=await Promise.resolve().then(()=>La);return{deleteDoc:r}},void 0);return await n(Ga(Kd,"deployments",e)),this.deployments.delete(e),!0}catch(n){return console.error("Error deleting deployment:",n),!1}}isCurrentlyDeploying(){return this.isDeploying}}const z1=new e6,t6=()=>{const{currentProject:t,switchFile:e,updateFile:n,saveProject:r,createNewProject:i,updateConfig:a}=Uo(),[l,u]=D.useState(!1),[p,m]=D.useState(""),[g,v]=D.useState(!1),[_,T]=D.useState(!1),[I,N]=D.useState(!1),[C,F]=D.useState("firebase"),[U,k]=D.useState(""),H={"index.html":"🌐","style.css":"🎨","script.js":"⚡","components.jsx":"🧩","package.json":"📦","README.md":"📖","server.js":"🖥️","database.js":"🗄️","auth.js":"🔐","api.js":"🔌"},X=q=>H[q]||"📄",Q=q=>{const te=t.files[q];return te&&te.trim()?"Ready":"Empty"},S=q=>{e(q)},A=()=>{if(p.trim()){const q=p.includes(".")?p:`${p}.js`;n(q,""),e(q),m(""),u(!1),Re.success(`Created ${q}`)}},j=q=>{if(Object.keys(t.files).length<=1){Re.error("Cannot delete the last file");return}if(confirm(`Delete ${q}?`)){const te={...t.files};if(delete te[q],Object.keys(te).forEach(ge=>{t.files[ge]=te[ge]}),t.activeFile===q){const ge=Object.keys(te);e(ge[0])}Re.success(`Deleted ${q}`)}},P=q=>{const te=t.files[q]||"",ge=new Blob([te],{type:"text/plain"}),se=URL.createObjectURL(ge),he=document.createElement("a");he.href=se,he.download=q,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(se),Re.success(`Downloaded ${q}`)},M=()=>{const q={name:t.name,files:t.files,config:t.config,timestamp:new Date().toISOString()},te=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),ge=URL.createObjectURL(te),se=document.createElement("a");se.href=ge,se.download=`${t.name}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(ge),Re.success("Project downloaded!")},z=q=>{const te=q.target.files[0];if(te){const ge=new FileReader;ge.onload=se=>{n(te.name,se.target.result),e(te.name),Re.success(`Uploaded ${te.name}`)},ge.readAsText(te)}},O=async()=>{if(!U.trim()){Re.error("Please enter a project name");return}if(Object.keys(t.files).length===0){Re.error("Please generate some code first");return}N(!0);try{let q;C==="firebase"?q=await z1.deployToFirebase(t,U):q=await z1.deployToGitHub(t,U),q.success&&(Re.success(`Successfully deployed to ${q.platform}!`),q.url&&window.open(q.url,"_blank"),q.instructions&&(console.log("GitHub deployment instructions:",q.instructions),Re.success("Check console for GitHub Pages setup instructions")),T(!1),k(""))}catch(q){Re.error(`Deployment failed: ${q.message}`)}finally{N(!1)}},ye=[{name:"HTML File",extension:".html",icon:"🌐"},{name:"CSS File",extension:".css",icon:"🎨"},{name:"JavaScript File",extension:".js",icon:"⚡"},{name:"React Component",extension:".jsx",icon:"🧩"},{name:"TypeScript File",extension:".ts",icon:"🔷"},{name:"JSON File",extension:".json",icon:"📦"},{name:"Markdown File",extension:".md",icon:"📖"}];return h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-border/50 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:h.jsx(Ka,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground",children:"Project Files"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your project"})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-transparent hover:border-primary/20",title:"New File",children:h.jsx(Dg,{className:"h-4 w-4 text-primary"})}),h.jsx(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!0),className:"p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-transparent hover:border-primary/20",title:"Project Settings",children:h.jsx(_i,{className:"h-4 w-4 text-primary"})})]})]}),h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[h.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(),className:"flex items-center gap-2 px-3 py-2 text-sm bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-sm shadow-primary/20",title:"Save Project",children:[h.jsx(pS,{className:"h-4 w-4"}),"Save"]}),h.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>T(!0),className:"flex items-center gap-2 px-3 py-2 text-sm bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-sm shadow-green-600/20",title:"Deploy Project",disabled:Object.keys(t.files).length===0,children:[h.jsx(wi,{className:"h-4 w-4"}),"Deploy"]}),h.jsxs("button",{onClick:M,className:"flex items-center gap-1 px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded hover:bg-secondary/90 transition-colors",title:"Download Project",children:[h.jsx(Hc,{className:"h-3 w-3"}),"Export"]}),h.jsxs("button",{onClick:i,className:"flex items-center gap-1 px-2 py-1 text-xs bg-accent text-accent-foreground rounded hover:bg-accent/90 transition-colors",title:"New Project",children:[h.jsx(dL,{className:"h-3 w-3"}),"New"]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:Object.keys(t.files).map(q=>h.jsxs(Ee.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`group flex items-center gap-2 p-2 rounded-md cursor-pointer transition-all ${t.activeFile===q?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>S(q),children:[h.jsx("span",{className:"text-sm",children:X(q)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm font-medium truncate",children:q}),h.jsx("div",{className:`text-xs ${t.activeFile===q?"text-primary-foreground/70":"text-muted-foreground"}`,children:Q(q)})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:te=>{te.stopPropagation(),P(q)},className:"p-1 hover:bg-background/20 rounded transition-colors",title:"Download File",children:h.jsx(Hc,{className:"h-3 w-3"})}),Object.keys(t.files).length>1&&h.jsx("button",{onClick:te=>{te.stopPropagation(),j(q)},className:"p-1 hover:bg-destructive/20 rounded transition-colors",title:"Delete File",children:h.jsx(gS,{className:"h-3 w-3"})})]})]},q))}),h.jsx("div",{className:"p-2 border-t border-border",children:h.jsxs("label",{className:"flex items-center justify-center gap-2 p-2 border-2 border-dashed border-border rounded-md hover:border-primary transition-colors cursor-pointer",children:[h.jsx(yS,{className:"h-4 w-4"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"Upload File"}),h.jsx("input",{type:"file",className:"hidden",accept:".html,.css,.js,.jsx,.ts,.tsx,.json,.md,.txt",onChange:z})]})}),h.jsx(vs,{children:l&&h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>u(!1),children:h.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New File"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"File Name"}),h.jsx("input",{type:"text",value:p,onChange:q=>m(q.target.value),placeholder:"my-file.js",className:"w-full p-2 border border-border rounded-md bg-background",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Templates"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:ye.map(q=>h.jsxs("button",{onClick:()=>m(`new-file${q.extension}`),className:"flex items-center gap-2 p-2 text-xs border border-border rounded hover:bg-muted transition-colors",children:[h.jsx("span",{children:q.icon}),h.jsx("span",{className:"truncate",children:q.name})]},q.extension))})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Cancel"}),h.jsx("button",{onClick:A,className:"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})})}),h.jsx(vs,{children:g&&h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>v(!1),children:h.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Settings"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),h.jsx("input",{type:"text",value:t.name,onChange:q=>a({name:q.target.value}),className:"w-full p-2 border border-border rounded-md bg-background"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"App Type"}),h.jsxs("select",{value:t.config.appType,onChange:q=>a({appType:q.target.value}),className:"w-full p-2 border border-border rounded-md bg-background",children:[h.jsx("option",{value:"frontend",children:"Frontend"}),h.jsx("option",{value:"backend",children:"Backend"}),h.jsx("option",{value:"fullstack",children:"Full Stack"}),h.jsx("option",{value:"mobile",children:"Mobile"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Language"}),h.jsxs("select",{value:t.config.language,onChange:q=>a({language:q.target.value}),className:"w-full p-2 border border-border rounded-md bg-background",children:[h.jsx("option",{value:"javascript",children:"JavaScript"}),h.jsx("option",{value:"typescript",children:"TypeScript"}),h.jsx("option",{value:"python",children:"Python"}),h.jsx("option",{value:"java",children:"Java"}),h.jsx("option",{value:"csharp",children:"C#"})]})]}),h.jsx("div",{className:"flex gap-2 justify-end",children:h.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})}),h.jsx(vs,{children:_&&h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>T(!1),children:h.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(wi,{className:"h-5 w-5"}),"Deploy Your App"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),h.jsx("input",{type:"text",value:U,onChange:q=>k(q.target.value),placeholder:"my-awesome-app",className:"w-full p-2 border border-border rounded-md bg-background",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deployment Platform"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[h.jsx("input",{type:"radio",value:"firebase",checked:C==="firebase",onChange:q=>F(q.target.value),className:"text-primary"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:"F"})}),h.jsx("span",{children:"Firebase Hosting"})]})]}),h.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[h.jsx("input",{type:"radio",value:"github",checked:C==="github",onChange:q=>F(q.target.value),className:"text-primary"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tf,{className:"h-4 w-4"}),h.jsx("span",{children:"GitHub Pages"})]})]})]})]}),h.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Platform Info"}),h.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:C==="firebase"?h.jsxs(h.Fragment,{children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Firebase Hosting:"})," Instant deployment with custom domain support"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Features:"})," CDN, SSL, automatic HTTPS"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cost:"})," Free tier available"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("p",{children:[h.jsx("strong",{children:"GitHub Pages:"})," Host static sites directly from GitHub repositories"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Features:"})," Custom domains, Jekyll support"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cost:"})," Free for public repositories"]})]})})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",disabled:I,children:"Cancel"}),h.jsx("button",{onClick:O,disabled:I||!U.trim(),className:"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:I?h.jsxs(h.Fragment,{children:[h.jsx(fS,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}):h.jsxs(h.Fragment,{children:[h.jsx(wi,{className:"h-4 w-4"}),"Deploy Now"]})})]})]})]})})})]})};function n6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$1(Object(n),!0).forEach(function(r){n6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s6(t,e){if(t==null)return{};var n=r6(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i6(t,e){return o6(t)||a6(t,e)||l6(t,e)||c6()}function o6(t){if(Array.isArray(t))return t}function a6(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var l=t[Symbol.iterator](),u;!(r=(u=l.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(p){i=!0,a=p}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw a}}return n}}function l6(t,e){if(t){if(typeof t=="string")return q1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q1(t,e)}}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W1(Object(n),!0).forEach(function(r){u6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d6(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,a){return a(i)},r)}}function xc(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return e.apply(n,[].concat(i,u))}}}function Wh(t){return{}.toString.call(t).includes("Object")}function h6(t){return!Object.keys(t).length}function Kc(t){return typeof t=="function"}function f6(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p6(t,e){return Wh(e)||Ei("changeType"),Object.keys(e).some(function(n){return!f6(t,n)})&&Ei("changeField"),e}function m6(t){Kc(t)||Ei("selectorType")}function g6(t){Kc(t)||Wh(t)||Ei("handlerType"),Wh(t)&&Object.values(t).some(function(e){return!Kc(e)})&&Ei("handlersType")}function y6(t){t||Ei("initialIsRequired"),Wh(t)||Ei("initialType"),h6(t)&&Ei("initialContent")}function v6(t,e){throw new Error(t[e]||t.default)}var x6={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ei=xc(v6)(x6),Qd={changes:p6,selector:m6,handler:g6,initial:y6};function w6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Qd.initial(t),Qd.handler(e);var n={current:t},r=xc(E6)(n,e),i=xc(b6)(n),a=xc(Qd.changes)(t),l=xc(_6)(n);function u(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return Qd.selector(m),m(n.current)}function p(m){d6(r,i,a,l)(m)}return[u,p]}function _6(t,e){return Kc(e)?e(t.current):e}function b6(t,e){return t.current=G1(G1({},t.current),e),e}function E6(t,e,n){return Kc(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var T6={create:w6},S6={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function I6(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=t.length?t.apply(this,i):function(){for(var l=arguments.length,u=new Array(l),p=0;p<l;p++)u[p]=arguments[p];return e.apply(n,[].concat(i,u))}}}function C6(t){return{}.toString.call(t).includes("Object")}function A6(t){return t||K1("configIsRequired"),C6(t)||K1("configType"),t.urls?(k6(),{paths:{vs:t.urls.monacoBase}}):t}function k6(){console.warn(iI.deprecation)}function P6(t,e){throw new Error(t[e]||t.default)}var iI={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},K1=I6(P6)(iI),R6={config:A6},N6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(a,l){return l(a)},i)}};function oI(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],oI(t[n],e[n]))}),H1(H1({},t),e)}var j6={type:"cancelation",msg:"operation is manually canceled"};function Ym(t){var e=!1,n=new Promise(function(r,i){t.then(function(a){return e?i(j6):r(a)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var D6=T6.create({config:S6,isInitialized:!1,resolve:null,reject:null,monaco:null}),aI=i6(D6,2),fu=aI[0],Of=aI[1];function O6(t){var e=R6.config(t),n=e.monaco,r=s6(e,["monaco"]);Of(function(i){return{config:oI(i.config,r),monaco:n}})}function L6(){var t=fu(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(Of({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Ym(Xm);if(window.monaco&&window.monaco.editor)return lI(window.monaco),t.resolve(window.monaco),Ym(Xm);N6(M6,F6)(U6)}return Ym(Xm)}function M6(t){return document.body.appendChild(t)}function V6(t){var e=document.createElement("script");return t&&(e.src=t),e}function F6(t){var e=fu(function(r){var i=r.config,a=r.reject;return{config:i,reject:a}}),n=V6("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function U6(){var t=fu(function(n){var r=n.config,i=n.resolve,a=n.reject;return{config:r,resolve:i,reject:a}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){lI(n),t.resolve(n)},function(n){t.reject(n)})}function lI(t){fu().monaco||Of({monaco:t})}function B6(){return fu(function(t){var e=t.monaco;return e})}var Xm=new Promise(function(t,e){return Of({resolve:t,reject:e})}),cI={config:O6,init:L6,__getMonacoInstance:B6},z6={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Jm=z6,$6={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},H6=$6;function q6({children:t}){return Dr.createElement("div",{style:H6.container},t)}var W6=q6,G6=W6;function K6({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:a,wrapperProps:l}){return Dr.createElement("section",{style:{...Jm.wrapper,width:t,height:e},...l},!n&&Dr.createElement(G6,null,r),Dr.createElement("div",{ref:i,style:{...Jm.fullWidth,...!n&&Jm.hide},className:a}))}var Q6=K6,uI=D.memo(Q6);function Y6(t){D.useEffect(t,[])}var dI=Y6;function X6(t,e,n=!0){let r=D.useRef(!0);D.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Nn=X6;function jc(){}function za(t,e,n,r){return J6(t,r)||Z6(t,e,n,r)}function J6(t,e){return t.editor.getModel(hI(t,e))}function Z6(t,e,n,r){return t.editor.createModel(e,n,r?hI(t,r):void 0)}function hI(t,e){return t.Uri.parse(e)}function eU({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:p=!1,theme:m="light",loading:g="Loading...",options:v={},height:_="100%",width:T="100%",className:I,wrapperProps:N={},beforeMount:C=jc,onMount:F=jc}){let[U,k]=D.useState(!1),[H,X]=D.useState(!0),Q=D.useRef(null),S=D.useRef(null),A=D.useRef(null),j=D.useRef(F),P=D.useRef(C),M=D.useRef(!1);dI(()=>{let q=cI.init();return q.then(te=>(S.current=te)&&X(!1)).catch(te=>te?.type!=="cancelation"&&console.error("Monaco initialization: error:",te)),()=>Q.current?ye():q.cancel()}),Nn(()=>{if(Q.current&&S.current){let q=Q.current.getOriginalEditor(),te=za(S.current,t||"",r||n||"text",a||"");te!==q.getModel()&&q.setModel(te)}},[a],U),Nn(()=>{if(Q.current&&S.current){let q=Q.current.getModifiedEditor(),te=za(S.current,e||"",i||n||"text",l||"");te!==q.getModel()&&q.setModel(te)}},[l],U),Nn(()=>{let q=Q.current.getModifiedEditor();q.getOption(S.current.editor.EditorOption.readOnly)?q.setValue(e||""):e!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[e],U),Nn(()=>{Q.current?.getModel()?.original.setValue(t||"")},[t],U),Nn(()=>{let{original:q,modified:te}=Q.current.getModel();S.current.editor.setModelLanguage(q,r||n||"text"),S.current.editor.setModelLanguage(te,i||n||"text")},[n,r,i],U),Nn(()=>{S.current?.editor.setTheme(m)},[m],U),Nn(()=>{Q.current?.updateOptions(v)},[v],U);let z=D.useCallback(()=>{if(!S.current)return;P.current(S.current);let q=za(S.current,t||"",r||n||"text",a||""),te=za(S.current,e||"",i||n||"text",l||"");Q.current?.setModel({original:q,modified:te})},[n,e,i,t,r,a,l]),O=D.useCallback(()=>{!M.current&&A.current&&(Q.current=S.current.editor.createDiffEditor(A.current,{automaticLayout:!0,...v}),z(),S.current?.editor.setTheme(m),k(!0),M.current=!0)},[v,m,z]);D.useEffect(()=>{U&&j.current(Q.current,S.current)},[U]),D.useEffect(()=>{!H&&!U&&O()},[H,U,O]);function ye(){let q=Q.current?.getModel();u||q?.original?.dispose(),p||q?.modified?.dispose(),Q.current?.dispose()}return Dr.createElement(uI,{width:T,height:_,isEditorReady:U,loading:g,_ref:A,className:I,wrapperProps:N})}var tU=eU;D.memo(tU);function nU(t){let e=D.useRef();return D.useEffect(()=>{e.current=t},[t]),e.current}var rU=nU,Yd=new Map;function sU({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:a,theme:l="light",line:u,loading:p="Loading...",options:m={},overrideServices:g={},saveViewState:v=!0,keepCurrentModel:_=!1,width:T="100%",height:I="100%",className:N,wrapperProps:C={},beforeMount:F=jc,onMount:U=jc,onChange:k,onValidate:H=jc}){let[X,Q]=D.useState(!1),[S,A]=D.useState(!0),j=D.useRef(null),P=D.useRef(null),M=D.useRef(null),z=D.useRef(U),O=D.useRef(F),ye=D.useRef(),q=D.useRef(r),te=rU(a),ge=D.useRef(!1),se=D.useRef(!1);dI(()=>{let V=cI.init();return V.then(ee=>(j.current=ee)&&A(!1)).catch(ee=>ee?.type!=="cancelation"&&console.error("Monaco initialization: error:",ee)),()=>P.current?ue():V.cancel()}),Nn(()=>{let V=za(j.current,t||r||"",e||i||"",a||n||"");V!==P.current?.getModel()&&(v&&Yd.set(te,P.current?.saveViewState()),P.current?.setModel(V),v&&P.current?.restoreViewState(Yd.get(a)))},[a],X),Nn(()=>{P.current?.updateOptions(m)},[m],X),Nn(()=>{!P.current||r===void 0||(P.current.getOption(j.current.editor.EditorOption.readOnly)?P.current.setValue(r):r!==P.current.getValue()&&(se.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),P.current.pushUndoStop(),se.current=!1))},[r],X),Nn(()=>{let V=P.current?.getModel();V&&i&&j.current?.editor.setModelLanguage(V,i)},[i],X),Nn(()=>{u!==void 0&&P.current?.revealLine(u)},[u],X),Nn(()=>{j.current?.editor.setTheme(l)},[l],X);let he=D.useCallback(()=>{if(!(!M.current||!j.current)&&!ge.current){O.current(j.current);let V=a||n,ee=za(j.current,r||t||"",e||i||"",V||"");P.current=j.current?.editor.create(M.current,{model:ee,automaticLayout:!0,...m},g),v&&P.current.restoreViewState(Yd.get(V)),j.current.editor.setTheme(l),u!==void 0&&P.current.revealLine(u),Q(!0),ge.current=!0}},[t,e,n,r,i,a,m,g,v,l,u]);D.useEffect(()=>{X&&z.current(P.current,j.current)},[X]),D.useEffect(()=>{!S&&!X&&he()},[S,X,he]),q.current=r,D.useEffect(()=>{X&&k&&(ye.current?.dispose(),ye.current=P.current?.onDidChangeModelContent(V=>{se.current||k(P.current.getValue(),V)}))},[X,k]),D.useEffect(()=>{if(X){let V=j.current.editor.onDidChangeMarkers(ee=>{let Se=P.current.getModel()?.uri;if(Se&&ee.find(Te=>Te.path===Se.path)){let Te=j.current.editor.getModelMarkers({resource:Se});H?.(Te)}});return()=>{V?.dispose()}}return()=>{}},[X,H]);function ue(){ye.current?.dispose(),_?v&&Yd.set(a,P.current.saveViewState()):P.current.getModel()?.dispose(),P.current.dispose()}return Dr.createElement(uI,{width:T,height:I,isEditorReady:X,loading:p,_ref:M,className:N,wrapperProps:C})}var iU=sU,oU=D.memo(iU);const Q1=()=>{const{theme:t}=iy(),{currentProject:e,updateFile:n}=Uo(),[r,i]=D.useState(!1),a=D.useRef(null),l=(C,F)=>{a.current=C,F.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"569CD6"},{token:"string",foreground:"CE9178"},{token:"number",foreground:"B5CEA8"},{token:"tag",foreground:"569CD6"},{token:"attribute.name",foreground:"92C5F8"},{token:"attribute.value",foreground:"CE9178"}],colors:{"editor.background":"#1e1e1e","editor.foreground":"#d4d4d4","editor.lineHighlightBackground":"#2a2d2e","editor.selectionBackground":"#264f78","editor.inactiveSelectionBackground":"#3a3d41"}}),F.editor.defineTheme("custom-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"number",foreground:"098658"},{token:"tag",foreground:"800000"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"}],colors:{"editor.background":"#ffffff","editor.foreground":"#000000","editor.lineHighlightBackground":"#f5f5f5","editor.selectionBackground":"#add6ff","editor.inactiveSelectionBackground":"#e5ebf1"}}),F.editor.setTheme(t==="dark"?"custom-dark":"custom-light"),C.updateOptions({fontSize:14,fontFamily:"JetBrains Mono, Monaco, Consolas, monospace",lineHeight:22,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",formatOnPaste:!0,formatOnType:!0,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",tabCompletion:"on"}),C.addCommand(F.KeyMod.CtrlCmd|F.KeyCode.KeyS,()=>{_()}),C.addCommand(F.KeyMod.CtrlCmd|F.KeyCode.KeyC,()=>{C.getSelection().isEmpty()&&g()})},u=C=>{C!==void 0&&n(e.activeFile,C)},p=()=>{const C=e.activeFile.split(".").pop();return{html:"html",css:"css",js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",php:"php",rb:"ruby",go:"go",rs:"rust",swift:"swift",kt:"kotlin",scala:"scala",clj:"clojure",hs:"haskell",ml:"fsharp",fs:"fsharp",vb:"vb",sql:"sql",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",sh:"shell",bash:"shell",ps1:"powershell",dockerfile:"dockerfile"}[C]||"plaintext"},m=()=>{const C=e.files[e.activeFile]||"";navigator.clipboard.writeText(C),Re.success("Code copied to clipboard!")},g=()=>{const C=e.files[e.activeFile]||"";navigator.clipboard.writeText(C),Re.success("All code copied to clipboard!")},v=()=>{const C=e.files[e.activeFile]||"",F=new Blob([C],{type:"text/plain"}),U=URL.createObjectURL(F),k=document.createElement("a");k.href=U,k.download=e.activeFile,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(U),Re.success(`Downloaded ${e.activeFile}`)},_=()=>{Re.success("Code saved!")},T=()=>{a.current&&(a.current.getAction("editor.action.formatDocument").run(),Re.success("Code formatted!"))},I={"index.html":"🌐","style.css":"🎨","script.js":"⚡","components.jsx":"🧩","package.json":"📦","README.md":"📖"},N=C=>I[C]||"📄";return h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-lg",children:N(e.activeFile)}),h.jsx("span",{className:"font-medium text-sm",children:e.activeFile}),h.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:p()})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:T,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Format Code (Ctrl+Shift+F)",children:h.jsx(Sf,{className:"h-4 w-4"})}),h.jsx("button",{onClick:m,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Copy Code",children:h.jsx(lL,{className:"h-4 w-4"})}),h.jsx("button",{onClick:v,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Download File",children:h.jsx(Hc,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"flex-1 relative",children:h.jsx(oU,{height:"100%",language:p(),value:e.files[e.activeFile]||"",onChange:u,onMount:l,theme:t==="dark"?"custom-dark":"custom-light",loading:h.jsxs("div",{className:"flex items-center justify-center h-full",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"ml-2",children:"Loading editor..."})]}),options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,mouseWheelZoom:!0,smoothScrolling:!0,cursorBlinking:"blink",cursorSmoothCaretAnimation:!0,renderLineHighlight:"line",renderWhitespace:"selection",renderIndentGuides:!0,highlightActiveIndentGuide:!0,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0}}})}),h.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{children:["Line ",a.current?.getPosition()?.lineNumber||1]}),h.jsxs("span",{children:["Column ",a.current?.getPosition()?.column||1]}),h.jsxs("span",{children:[e.files[e.activeFile]?.length||0," characters"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:"Ctrl+S to save"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Ctrl+C to copy all"})]})]})]})},Y1=()=>{const{currentProject:t}=Uo(),e=D.useRef(null),[n,r]=D.useState(!1),[i,a]=D.useState(!1),[l,u]=D.useState(null);D.useEffect(()=>{p()},[t.files,t.activeFile]);const p=()=>{if(e.current){r(!0),u(null);try{const I=t.files["index.html"]||"",N=t.files["style.css"]||"",C=t.files["script.js"]||"";if(!I.trim()){m();return}let F=I;N.trim()&&(F=F.replace(/<link[^>]*rel=["']stylesheet["'][^>]*href=["']style\.css["'][^>]*>/gi,`<style>${N}</style>`),F===I&&F.includes("<head>")?F=F.replace("<head>",`<head>
<style>${N}</style>`):F===I&&!F.includes("<head>")&&(F.includes("<title>")?F=F.replace("</title>",`</title>
<style>${N}</style>`):F=`<style>${N}</style>
${F}`)),C.trim()&&(F=F.replace(/<script[^>]*src=["']script\.js["'][^>]*><\/script>/gi,`<script>${C}<\/script>`),F.includes("</body>")?F=F.replace("</body>",`<script>${C}<\/script>
</body>`):F+=`
<script>${C}<\/script>`),F.includes("<!DOCTYPE html>")||(F=`<!DOCTYPE html>
${F}`);const U=e.current,k=U.contentDocument||U.contentWindow.document;k.open(),k.write(F),k.close(),U.onload=()=>{r(!1),u(null)},U.onerror=()=>{r(!1),u("Failed to load preview")}}catch(I){console.error("Preview update error:",I),r(!1),u("Preview update failed")}}},m=()=>{if(!e.current)return;const I=`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Preview</title>
        <style>
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
          }
          .placeholder {
            text-align: center;
            padding: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            max-width: 400px;
          }
          .placeholder h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            opacity: 0.9;
          }
          .placeholder p {
            font-size: 1.1rem;
            opacity: 0.8;
            line-height: 1.6;
          }
          .icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
          }
        </style>
      </head>
      <body>
        <div class="placeholder">
          <span class="icon">🚀</span>
          <h2>Ready to Build</h2>
          <p>Generate some code to see your application preview here!</p>
        </div>
      </body>
      </html>
    `,N=e.current,C=N.contentDocument||N.contentWindow.document;C.open(),C.write(I),C.close(),r(!1)},g=()=>{p(),Re.success("Preview refreshed!")},v=()=>{if(!e.current)return;const I=e.current,N=I.contentDocument||I.contentWindow.document;if(N){const C=window.open("","_blank");C.document.write(N.documentElement.outerHTML),C.document.close(),Re.success("Opened in new tab!")}},_=()=>{document.fullscreenElement||a(!1)};D.useEffect(()=>(document.addEventListener("fullscreenchange",_),()=>{document.removeEventListener("fullscreenchange",_)}),[]);const T=async()=>{i?document.exitFullscreen&&await document.exitFullscreen():e.current.requestFullscreen&&await e.current.requestFullscreen()};return h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden ${i?"fixed inset-0 z-50 rounded-none":""}`,children:[h.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-semibold text-sm",children:"Live Preview"}),n&&h.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{children:"Updating..."})]}),l&&h.jsx("span",{className:"text-xs text-destructive",children:"Error"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:g,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Refresh Preview",children:h.jsx(Sf,{className:"h-4 w-4"})}),h.jsx("button",{onClick:v,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Open in New Tab",children:h.jsx(uS,{className:"h-4 w-4"})}),h.jsx("button",{onClick:T,className:"p-2 hover:bg-muted rounded-md transition-colors",title:i?"Exit Fullscreen":"Enter Fullscreen",children:i?h.jsx(gL,{className:"h-4 w-4"}):h.jsx(pL,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"flex-1 relative bg-background",children:l?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Error"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:l}),h.jsx("button",{onClick:g,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"})]})}):h.jsx("iframe",{ref:e,className:"w-full h-full border-0",title:"Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",onLoad:()=>r(!1),onError:()=>{r(!1),u("Failed to load preview")}})}),h.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{children:"Responsive"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Auto-refresh"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:"Ctrl+R to refresh"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"F11 for fullscreen"})]})]})]})};function fI(t,e){return function(){return t.apply(e,arguments)}}const{toString:aU}=Object.prototype,{getPrototypeOf:Iv}=Object,{iterator:Lf,toStringTag:pI}=Symbol,Mf=(t=>e=>{const n=aU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dr=t=>(t=t.toLowerCase(),e=>Mf(e)===t),Vf=t=>e=>typeof e===t,{isArray:pl}=Array,il=Vf("undefined");function pu(t){return t!==null&&!il(t)&&t.constructor!==null&&!il(t.constructor)&&wn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const mI=dr("ArrayBuffer");function lU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&mI(t.buffer),e}const cU=Vf("string"),wn=Vf("function"),gI=Vf("number"),mu=t=>t!==null&&typeof t=="object",uU=t=>t===!0||t===!1,dh=t=>{if(Mf(t)!=="object")return!1;const e=Iv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(pI in t)&&!(Lf in t)},dU=t=>{if(!mu(t)||pu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},hU=dr("Date"),fU=dr("File"),pU=dr("Blob"),mU=dr("FileList"),gU=t=>mu(t)&&wn(t.pipe),yU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||wn(t.append)&&((e=Mf(t))==="formdata"||e==="object"&&wn(t.toString)&&t.toString()==="[object FormData]"))},vU=dr("URLSearchParams"),[xU,wU,_U,bU]=["ReadableStream","Request","Response","Headers"].map(dr),EU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),pl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(pu(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(r=0;r<l;r++)u=a[r],e.call(null,t[u],u,t)}}function yI(t,e){if(pu(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const xo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vI=t=>!il(t)&&t!==xo;function Yg(){const{caseless:t,skipUndefined:e}=vI(this)&&this||{},n={},r=(i,a)=>{const l=t&&yI(n,a)||a;dh(n[l])&&dh(i)?n[l]=Yg(n[l],i):dh(i)?n[l]=Yg({},i):pl(i)?n[l]=i.slice():(!e||!il(i))&&(n[l]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&gu(arguments[i],r);return n}const TU=(t,e,n,{allOwnKeys:r}={})=>(gu(e,(i,a)=>{n&&wn(i)?t[a]=fI(i,n):t[a]=i},{allOwnKeys:r}),t),SU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},CU=(t,e,n,r)=>{let i,a,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Iv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},AU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},kU=t=>{if(!t)return null;if(pl(t))return t;let e=t.length;if(!gI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},PU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Iv(Uint8Array)),RU=(t,e)=>{const r=(t&&t[Lf]).call(t);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},NU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},jU=dr("HTMLFormElement"),DU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),X1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OU=dr("RegExp"),xI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};gu(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(r[a]=l||i)}),Object.defineProperties(t,r)},LU=t=>{xI(t,(e,n)=>{if(wn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(wn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MU=(t,e)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return pl(t)?r(t):r(String(t).split(e)),n},VU=()=>{},FU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function UU(t){return!!(t&&wn(t.append)&&t[pI]==="FormData"&&t[Lf])}const BU=t=>{const e=new Array(10),n=(r,i)=>{if(mu(r)){if(e.indexOf(r)>=0)return;if(pu(r))return r;if(!("toJSON"in r)){e[i]=r;const a=pl(r)?[]:{};return gu(r,(l,u)=>{const p=n(l,i+1);!il(p)&&(a[u]=p)}),e[i]=void 0,a}}return r};return n(t,0)},zU=dr("AsyncFunction"),$U=t=>t&&(mu(t)||wn(t))&&wn(t.then)&&wn(t.catch),wI=((t,e)=>t?setImmediate:e?((n,r)=>(xo.addEventListener("message",({source:i,data:a})=>{i===xo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),xo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wn(xo.postMessage)),HU=typeof queueMicrotask<"u"?queueMicrotask.bind(xo):typeof process<"u"&&process.nextTick||wI,qU=t=>t!=null&&wn(t[Lf]),Z={isArray:pl,isArrayBuffer:mI,isBuffer:pu,isFormData:yU,isArrayBufferView:lU,isString:cU,isNumber:gI,isBoolean:uU,isObject:mu,isPlainObject:dh,isEmptyObject:dU,isReadableStream:xU,isRequest:wU,isResponse:_U,isHeaders:bU,isUndefined:il,isDate:hU,isFile:fU,isBlob:pU,isRegExp:OU,isFunction:wn,isStream:gU,isURLSearchParams:vU,isTypedArray:PU,isFileList:mU,forEach:gu,merge:Yg,extend:TU,trim:EU,stripBOM:SU,inherits:IU,toFlatObject:CU,kindOf:Mf,kindOfTest:dr,endsWith:AU,toArray:kU,forEachEntry:RU,matchAll:NU,isHTMLForm:jU,hasOwnProperty:X1,hasOwnProp:X1,reduceDescriptors:xI,freezeMethods:LU,toObjectSet:MU,toCamelCase:DU,noop:VU,toFiniteNumber:FU,findKey:yI,global:xo,isContextDefined:vI,isSpecCompliantForm:UU,toJSONObject:BU,isAsyncFn:zU,isThenable:$U,setImmediate:wI,asap:HU,isIterable:qU};function Ve(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Z.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const _I=Ve.prototype,bI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bI[t]={value:t}});Object.defineProperties(Ve,bI);Object.defineProperty(_I,"isAxiosError",{value:!0});Ve.from=(t,e,n,r,i,a)=>{const l=Object.create(_I);Z.toFlatObject(t,l,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const u=t&&t.message?t.message:"Error",p=e==null&&t?t.code:e;return Ve.call(l,u,p,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",a&&Object.assign(l,a),l};const WU=null;function Xg(t){return Z.isPlainObject(t)||Z.isArray(t)}function EI(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function J1(t,e,n){return t?t.concat(e).map(function(i,a){return i=EI(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function GU(t){return Z.isArray(t)&&!t.some(Xg)}const KU=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function Ff(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,C){return!Z.isUndefined(C[N])});const r=n.metaTokens,i=n.visitor||g,a=n.dots,l=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function m(I){if(I===null)return"";if(Z.isDate(I))return I.toISOString();if(Z.isBoolean(I))return I.toString();if(!p&&Z.isBlob(I))throw new Ve("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(I)||Z.isTypedArray(I)?p&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function g(I,N,C){let F=I;if(I&&!C&&typeof I=="object"){if(Z.endsWith(N,"{}"))N=r?N:N.slice(0,-2),I=JSON.stringify(I);else if(Z.isArray(I)&&GU(I)||(Z.isFileList(I)||Z.endsWith(N,"[]"))&&(F=Z.toArray(I)))return N=EI(N),F.forEach(function(k,H){!(Z.isUndefined(k)||k===null)&&e.append(l===!0?J1([N],H,a):l===null?N:N+"[]",m(k))}),!1}return Xg(I)?!0:(e.append(J1(C,N,a),m(I)),!1)}const v=[],_=Object.assign(KU,{defaultVisitor:g,convertValue:m,isVisitable:Xg});function T(I,N){if(!Z.isUndefined(I)){if(v.indexOf(I)!==-1)throw Error("Circular reference detected in "+N.join("."));v.push(I),Z.forEach(I,function(F,U){(!(Z.isUndefined(F)||F===null)&&i.call(e,F,Z.isString(U)?U.trim():U,N,_))===!0&&T(F,N?N.concat(U):[U])}),v.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return T(t),e}function Z1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Cv(t,e){this._pairs=[],t&&Ff(t,this,e)}const TI=Cv.prototype;TI.append=function(e,n){this._pairs.push([e,n])};TI.toString=function(e){const n=e?function(r){return e.call(this,r,Z1)}:Z1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function QU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function SI(t,e,n){if(!e)return t;const r=n&&n.encode||QU;Z.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(e,n):a=Z.isURLSearchParams(e)?e.toString():new Cv(e,n).toString(r),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class eb{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const II={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YU=typeof URLSearchParams<"u"?URLSearchParams:Cv,XU=typeof FormData<"u"?FormData:null,JU=typeof Blob<"u"?Blob:null,ZU={isBrowser:!0,classes:{URLSearchParams:YU,FormData:XU,Blob:JU},protocols:["http","https","file","blob","url","data"]},Av=typeof window<"u"&&typeof document<"u",Jg=typeof navigator=="object"&&navigator||void 0,e9=Av&&(!Jg||["ReactNative","NativeScript","NS"].indexOf(Jg.product)<0),t9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",n9=Av&&window.location.href||"http://localhost",r9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Av,hasStandardBrowserEnv:e9,hasStandardBrowserWebWorkerEnv:t9,navigator:Jg,origin:n9},Symbol.toStringTag,{value:"Module"})),on={...r9,...ZU};function s9(t,e){return Ff(t,new on.classes.URLSearchParams,{visitor:function(n,r,i,a){return on.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function i9(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function o9(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}function CI(t){function e(n,r,i,a){let l=n[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),p=a>=n.length;return l=!l&&Z.isArray(i)?i.length:l,p?(Z.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!Z.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],a)&&Z.isArray(i[l])&&(i[l]=o9(i[l])),!u)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,i)=>{e(i9(r),i,n,0)}),n}return null}function a9(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const yu={transitional:II,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Z.isObject(e);if(a&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(CI(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return s9(e,this.formSerializer).toString();if((u=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Ff(u?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),a9(e)):e}],transformResponse:[function(e){const n=this.transitional||yu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ve.from(u,Ve.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:on.classes.FormData,Blob:on.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{yu.headers[t]={}});const l9=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c9=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&l9[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tb=Symbol("internals");function fc(t){return t&&String(t).trim().toLowerCase()}function hh(t){return t===!1||t==null?t:Z.isArray(t)?t.map(hh):String(t)}function u9(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const d9=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zm(t,e,n,r,i){if(Z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function h9(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function f9(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,a,l){return this[r].call(this,e,i,a,l)},configurable:!0})})}let _n=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function a(u,p,m){const g=fc(p);if(!g)throw new Error("header name must be a non-empty string");const v=Z.findKey(i,g);(!v||i[v]===void 0||m===!0||m===void 0&&i[v]!==!1)&&(i[v||p]=hh(u))}const l=(u,p)=>Z.forEach(u,(m,g)=>a(m,g,p));if(Z.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(Z.isString(e)&&(e=e.trim())&&!d9(e))l(c9(e),n);else if(Z.isObject(e)&&Z.isIterable(e)){let u={},p,m;for(const g of e){if(!Z.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[m=g[0]]=(p=u[m])?Z.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}l(u,n)}else e!=null&&a(n,e,r);return this}get(e,n){if(e=fc(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return u9(i);if(Z.isFunction(n))return n.call(this,i,r);if(Z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fc(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Zm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function a(l){if(l=fc(l),l){const u=Z.findKey(r,l);u&&(!n||Zm(r,r[u],u,n))&&(delete r[u],i=!0)}}return Z.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!e||Zm(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,r={};return Z.forEach(this,(i,a)=>{const l=Z.findKey(r,a);if(l){n[l]=hh(i),delete n[a];return}const u=e?h9(a):String(a).trim();u!==a&&delete n[a],n[u]=hh(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[tb]=this[tb]={accessors:{}}).accessors,i=this.prototype;function a(l){const u=fc(l);r[u]||(f9(i,l),r[u]=!0)}return Z.isArray(e)?e.forEach(a):a(e),this}};_n.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(_n.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(_n);function eg(t,e){const n=this||yu,r=e||n,i=_n.from(r.headers);let a=r.data;return Z.forEach(t,function(u){a=u.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function AI(t){return!!(t&&t.__CANCEL__)}function ml(t,e,n){Ve.call(this,t??"canceled",Ve.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(ml,Ve,{__CANCEL__:!0});function kI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ve("Request failed with status code "+n.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function p9(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function m9(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),g=r[a];l||(l=m),n[i]=p,r[i]=m;let v=a,_=0;for(;v!==i;)_+=n[v++],v=v%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),m-l<e)return;const T=g&&m-g;return T?Math.round(_*1e3/T):void 0}}function g9(t,e){let n=0,r=1e3/e,i,a;const l=(m,g=Date.now())=>{n=g,i=null,a&&(clearTimeout(a),a=null),t(...m)};return[(...m)=>{const g=Date.now(),v=g-n;v>=r?l(m,g):(i=m,a||(a=setTimeout(()=>{a=null,l(i)},r-v)))},()=>i&&l(i)]}const Gh=(t,e,n=3)=>{let r=0;const i=m9(50,250);return g9(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,p=l-r,m=i(p),g=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:p,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(v)},n)},nb=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rb=t=>(...e)=>Z.asap(()=>t(...e)),y9=on.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,on.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(on.origin),on.navigator&&/(msie|trident)/i.test(on.navigator.userAgent)):()=>!0,v9=on.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const l=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&l.push("path="+r),Z.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function x9(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function w9(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PI(t,e,n){let r=!x9(e);return t&&(r||n==!1)?w9(t,e):e}const sb=t=>t instanceof _n?{...t}:t;function No(t,e){e=e||{};const n={};function r(m,g,v,_){return Z.isPlainObject(m)&&Z.isPlainObject(g)?Z.merge.call({caseless:_},m,g):Z.isPlainObject(g)?Z.merge({},g):Z.isArray(g)?g.slice():g}function i(m,g,v,_){if(Z.isUndefined(g)){if(!Z.isUndefined(m))return r(void 0,m,v,_)}else return r(m,g,v,_)}function a(m,g){if(!Z.isUndefined(g))return r(void 0,g)}function l(m,g){if(Z.isUndefined(g)){if(!Z.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function u(m,g,v){if(v in e)return r(m,g);if(v in t)return r(void 0,m)}const p={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g,v)=>i(sb(m),sb(g),v,!0)};return Z.forEach(Object.keys({...t,...e}),function(g){const v=p[g]||i,_=v(t[g],e[g],g);Z.isUndefined(_)&&v!==u||(n[g]=_)}),n}const RI=t=>{const e=No({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:u}=e;if(e.headers=l=_n.from(l),e.url=SI(PI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Z.isFormData(n)){if(on.hasStandardBrowserEnv||on.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Z.isFunction(n.getHeaders)){const p=n.getHeaders(),m=["content-type","content-length"];Object.entries(p).forEach(([g,v])=>{m.includes(g.toLowerCase())&&l.set(g,v)})}}if(on.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&y9(e.url))){const p=i&&a&&v9.read(a);p&&l.set(i,p)}return e},_9=typeof XMLHttpRequest<"u",b9=_9&&function(t){return new Promise(function(n,r){const i=RI(t);let a=i.data;const l=_n.from(i.headers).normalize();let{responseType:u,onUploadProgress:p,onDownloadProgress:m}=i,g,v,_,T,I;function N(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(i.method.toUpperCase(),i.url,!0),C.timeout=i.timeout;function F(){if(!C)return;const k=_n.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),X={data:!u||u==="text"||u==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:k,config:t,request:C};kI(function(S){n(S),N()},function(S){r(S),N()},X),C=null}"onloadend"in C?C.onloadend=F:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(F)},C.onabort=function(){C&&(r(new Ve("Request aborted",Ve.ECONNABORTED,t,C)),C=null)},C.onerror=function(H){const X=H&&H.message?H.message:"Network Error",Q=new Ve(X,Ve.ERR_NETWORK,t,C);Q.event=H||null,r(Q),C=null},C.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const X=i.transitional||II;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),r(new Ve(H,X.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,t,C)),C=null},a===void 0&&l.setContentType(null),"setRequestHeader"in C&&Z.forEach(l.toJSON(),function(H,X){C.setRequestHeader(X,H)}),Z.isUndefined(i.withCredentials)||(C.withCredentials=!!i.withCredentials),u&&u!=="json"&&(C.responseType=i.responseType),m&&([_,I]=Gh(m,!0),C.addEventListener("progress",_)),p&&C.upload&&([v,T]=Gh(p),C.upload.addEventListener("progress",v),C.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(g=k=>{C&&(r(!k||k.type?new ml(null,t,C):k),C.abort(),C=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const U=p9(i.url);if(U&&on.protocols.indexOf(U)===-1){r(new Ve("Unsupported protocol "+U+":",Ve.ERR_BAD_REQUEST,t));return}C.send(a||null)})},E9=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const a=function(m){if(!i){i=!0,u();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Ve?g:new ml(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=r;return p.unsubscribe=()=>Z.asap(u),p}},T9=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},S9=async function*(t,e){for await(const n of I9(t))yield*T9(n,e)},I9=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},ib=(t,e,n,r)=>{const i=S9(t,e);let a=0,l,u=p=>{l||(l=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:m,value:g}=await i.next();if(m){u(),p.close();return}let v=g.byteLength;if(n){let _=a+=v;n(_)}p.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(p){return u(p),i.return()}},{highWaterMark:2})},ob=64*1024,{isFunction:Xd}=Z,C9=(({Request:t,Response:e})=>({Request:t,Response:e}))(Z.global),{ReadableStream:ab,TextEncoder:lb}=Z.global,cb=(t,...e)=>{try{return!!t(...e)}catch{return!1}},A9=t=>{t=Z.merge.call({skipUndefined:!0},C9,t);const{fetch:e,Request:n,Response:r}=t,i=e?Xd(e):typeof fetch=="function",a=Xd(n),l=Xd(r);if(!i)return!1;const u=i&&Xd(ab),p=i&&(typeof lb=="function"?(I=>N=>I.encode(N))(new lb):async I=>new Uint8Array(await new n(I).arrayBuffer())),m=a&&u&&cb(()=>{let I=!1;const N=new n(on.origin,{body:new ab,method:"POST",get duplex(){return I=!0,"half"}}).headers.has("Content-Type");return I&&!N}),g=l&&u&&cb(()=>Z.isReadableStream(new r("").body)),v={stream:g&&(I=>I.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(I=>{!v[I]&&(v[I]=(N,C)=>{let F=N&&N[I];if(F)return F.call(N);throw new Ve(`Response type '${I}' is not supported`,Ve.ERR_NOT_SUPPORT,C)})});const _=async I=>{if(I==null)return 0;if(Z.isBlob(I))return I.size;if(Z.isSpecCompliantForm(I))return(await new n(on.origin,{method:"POST",body:I}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(I)||Z.isArrayBuffer(I))return I.byteLength;if(Z.isURLSearchParams(I)&&(I=I+""),Z.isString(I))return(await p(I)).byteLength},T=async(I,N)=>{const C=Z.toFiniteNumber(I.getContentLength());return C??_(N)};return async I=>{let{url:N,method:C,data:F,signal:U,cancelToken:k,timeout:H,onDownloadProgress:X,onUploadProgress:Q,responseType:S,headers:A,withCredentials:j="same-origin",fetchOptions:P}=RI(I),M=e||fetch;S=S?(S+"").toLowerCase():"text";let z=E9([U,k&&k.toAbortSignal()],H),O=null;const ye=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let q;try{if(Q&&m&&C!=="get"&&C!=="head"&&(q=await T(A,F))!==0){let V=new n(N,{method:"POST",body:F,duplex:"half"}),ee;if(Z.isFormData(F)&&(ee=V.headers.get("content-type"))&&A.setContentType(ee),V.body){const[Se,Te]=nb(q,Gh(rb(Q)));F=ib(V.body,ob,Se,Te)}}Z.isString(j)||(j=j?"include":"omit");const te=a&&"credentials"in n.prototype,ge={...P,signal:z,method:C.toUpperCase(),headers:A.normalize().toJSON(),body:F,duplex:"half",credentials:te?j:void 0};O=a&&new n(N,ge);let se=await(a?M(O,P):M(N,ge));const he=g&&(S==="stream"||S==="response");if(g&&(X||he&&ye)){const V={};["status","statusText","headers"].forEach(Le=>{V[Le]=se[Le]});const ee=Z.toFiniteNumber(se.headers.get("content-length")),[Se,Te]=X&&nb(ee,Gh(rb(X),!0))||[];se=new r(ib(se.body,ob,Se,()=>{Te&&Te(),ye&&ye()}),V)}S=S||"text";let ue=await v[Z.findKey(v,S)||"text"](se,I);return!he&&ye&&ye(),await new Promise((V,ee)=>{kI(V,ee,{data:ue,headers:_n.from(se.headers),status:se.status,statusText:se.statusText,config:I,request:O})})}catch(te){throw ye&&ye(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,I,O),{cause:te.cause||te}):Ve.from(te,te&&te.code,I,O)}}},k9=new Map,NI=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let l=a.length,u=l,p,m,g=k9;for(;u--;)p=a[u],m=g.get(p),m===void 0&&g.set(p,m=u?new Map:A9(e)),g=m;return m};NI();const Zg={http:WU,xhr:b9,fetch:{get:NI}};Z.forEach(Zg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ub=t=>`- ${t}`,P9=t=>Z.isFunction(t)||t===null||t===!1,jI={getAdapter:(t,e)=>{t=Z.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let l=0;l<n;l++){r=t[l];let u;if(i=r,!P9(r)&&(i=Zg[(u=String(r)).toLowerCase()],i===void 0))throw new Ve(`Unknown adapter '${u}'`);if(i&&(Z.isFunction(i)||(i=i.get(e))))break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([p,m])=>`adapter ${p} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(ub).join(`
`):" "+ub(l[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Zg};function tg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ml(null,t)}function db(t){return tg(t),t.headers=_n.from(t.headers),t.data=eg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jI.getAdapter(t.adapter||yu.adapter,t)(t).then(function(r){return tg(t),r.data=eg.call(t,t.transformResponse,r),r.headers=_n.from(r.headers),r},function(r){return AI(r)||(tg(t),r&&r.response&&(r.response.data=eg.call(t,t.transformResponse,r.response),r.response.headers=_n.from(r.response.headers))),Promise.reject(r)})}const DI="1.12.2",Uf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Uf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const hb={};Uf.transitional=function(e,n,r){function i(a,l){return"[Axios v"+DI+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,u)=>{if(e===!1)throw new Ve(i(l," has been removed"+(n?" in "+n:"")),Ve.ERR_DEPRECATED);return n&&!hb[l]&&(hb[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,u):!0}};Uf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function R9(t,e,n){if(typeof t!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],l=e[a];if(l){const u=t[a],p=u===void 0||l(u,a,t);if(p!==!0)throw new Ve("option "+a+" must be "+p,Ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ve("Unknown option "+a,Ve.ERR_BAD_OPTION)}}const fh={assertOptions:R9,validators:Uf},Pr=fh.validators;let To=class{constructor(e){this.defaults=e||{},this.interceptors={request:new eb,response:new eb}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=No(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&fh.assertOptions(r,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),i!=null&&(Z.isFunction(i)?n.paramsSerializer={serialize:i}:fh.assertOptions(i,{encode:Pr.function,serialize:Pr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fh.assertOptions(n,{baseUrl:Pr.spelling("baseURL"),withXsrfToken:Pr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&Z.merge(a.common,a[n.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],I=>{delete a[I]}),n.headers=_n.concat(l,a);const u=[];let p=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(p=p&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let g,v=0,_;if(!p){const I=[db.bind(this),void 0];for(I.unshift(...u),I.push(...m),_=I.length,g=Promise.resolve(n);v<_;)g=g.then(I[v++],I[v++]);return g}_=u.length;let T=n;for(;v<_;){const I=u[v++],N=u[v++];try{T=I(T)}catch(C){N.call(this,C);break}}try{g=db.call(this,T)}catch(I){return Promise.reject(I)}for(v=0,_=m.length;v<_;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=No(this.defaults,e);const n=PI(e.baseURL,e.url,e.allowAbsoluteUrls);return SI(n,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){To.prototype[e]=function(n,r){return this.request(No(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(a,l,u){return this.request(No(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}To.prototype[e]=n(),To.prototype[e+"Form"]=n(!0)});let N9=class OI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(u=>{r.subscribe(u),a=u}).then(i);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,u){r.reason||(r.reason=new ml(a,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new OI(function(i){e=i}),cancel:e}}};function j9(t){return function(n){return t.apply(null,n)}}function D9(t){return Z.isObject(t)&&t.isAxiosError===!0}const ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ey).forEach(([t,e])=>{ey[e]=t});function LI(t){const e=new To(t),n=fI(To.prototype.request,e);return Z.extend(n,To.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return LI(No(t,i))},n}const mt=LI(yu);mt.Axios=To;mt.CanceledError=ml;mt.CancelToken=N9;mt.isCancel=AI;mt.VERSION=DI;mt.toFormData=Ff;mt.AxiosError=Ve;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=j9;mt.isAxiosError=D9;mt.mergeConfig=No;mt.AxiosHeaders=_n;mt.formToJSON=t=>CI(Z.isHTMLForm(t)?new FormData(t):t);mt.getAdapter=jI.getAdapter;mt.HttpStatusCode=ey;mt.default=mt;const{Axios:Z9,AxiosError:eB,CanceledError:tB,isCancel:nB,CancelToken:rB,VERSION:sB,all:iB,Cancel:oB,isAxiosError:aB,spread:lB,toFormData:cB,AxiosHeaders:uB,HttpStatusCode:dB,formToJSON:hB,getAdapter:fB,mergeConfig:pB}=mt,ii={"codellama-7b":{name:"CodeLlama 7B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:7b",description:"Fast and efficient code generation (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["speed","efficiency","general-purpose"],ram_required:"8GB"},"codellama-13b":{name:"CodeLlama 13B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:13b",description:"Higher quality code generation (13B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["quality","accuracy","complex-problems"],ram_required:"16GB"},"codellama-34b":{name:"CodeLlama 34B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:34b",description:"Best quality code generation (34B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["best-quality","complex-systems","enterprise-code"],ram_required:"32GB"},"starcoder-15b":{name:"StarCoder 15B",type:"Code Completion",baseURL:"http://localhost:11434/api",model:"starcoder:15b",description:"Excellent code completion and understanding (15B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","typescript","csharp"],strengths:["code-completion","understanding","context-awareness"],ram_required:"24GB"},"deepseek-coder":{name:"DeepSeek Coder",type:"High Performance",baseURL:"http://localhost:11434/api",model:"deepseek-coder:6.7b",description:"High-performance code generation (6.7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["performance","speed","efficiency"],ram_required:"12GB"},"wizardcoder-7b":{name:"WizardCoder 7B",type:"Instruction Following",baseURL:"http://localhost:11434/api",model:"wizardcoder:7b",description:"Great at following complex instructions (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["instruction-following","complex-tasks","reasoning"],ram_required:"10GB"},"phi3-mini":{name:"Phi-3 Mini",type:"Lightweight General",baseURL:"http://localhost:11434/api",model:"phi3:mini",description:"Lightweight but powerful general-purpose model (3.8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["lightweight","fast","general-purpose"],ram_required:"6GB"},"llama3-8b":{name:"Llama 3 8B",type:"General Purpose",baseURL:"http://localhost:11434/api",model:"llama3:8b",description:"General purpose model good for documentation and planning (8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["general-purpose","documentation","planning"],ram_required:"10GB"}},O9=(t,e=16)=>{const r=Object.values(ii).filter(i=>parseInt(i.ram_required.replace("GB",""))<=e);if(r.length===0)return"phi3-mini";switch(t){case"code-generation":return r.find(i=>i.strengths.includes("quality"))?.model||"codellama-7b";case"code-completion":return r.find(i=>i.strengths.includes("code-completion"))?.model||"starcoder-15b";case"instruction-following":return r.find(i=>i.strengths.includes("instruction-following"))?.model||"wizardcoder-7b";case"documentation":return r.find(i=>i.strengths.includes("general-purpose"))?.model||"llama3-8b";default:return"codellama-7b"}};class L9{constructor(){this.currentModel="codellama-7b",this.baseURL="http://localhost:11434/api",this.isHealthy=!1,this.modelHealth={},this.initializeHealthMonitoring()}async initializeHealthMonitoring(){if(console.log("🔍 Initializing local AI health monitoring..."),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"){console.log("🏠 Running on localhost - checking local AI models...");for(const[e,n]of Object.entries(ii))try{await this.checkModelHealth(e)}catch(r){console.log(`⚠️ Model ${e} not available:`,r.message)}setInterval(()=>{this.performHealthChecks()},6e4)}else console.log("🌐 Running on web domain - local AI models not accessible due to CORS"),console.log("💡 To use local AI:"),console.log("   1. Install Ollama: curl -fsSL https://ollama.ai/install.sh | sh"),console.log("   2. Download models: ollama pull codellama:7b"),console.log("   3. Start Ollama: ollama serve"),console.log("   4. Run DreamBuild locally: npm run dev"),console.log("   5. Access at: http://localhost:5173")}async checkModelHealth(e){try{const n=ii[e];if(!n)return!1;if(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log(`⚠️ Skipping health check for ${n.name} - running on web domain`),this.modelHealth[e]={isHealthy:!1,lastCheck:Date.now(),error:"Web domain - local AI not accessible"},!1;const r=await mt.post(`${n.baseURL}/generate`,{model:n.model,prompt:"Hello",stream:!1,options:{temperature:.1,max_tokens:10}},{timeout:1e4});return this.modelHealth[e]={isHealthy:!0,lastCheck:Date.now(),responseTime:r.data.total_duration||0},console.log(`✅ ${n.name} is healthy`),!0}catch(n){return this.modelHealth[e]={isHealthy:!1,lastCheck:Date.now(),error:n.message},console.log(`⚠️ ${e} health check failed:`,n.message),!1}}async performHealthChecks(){const e=Object.keys(ii).map(r=>this.checkModelHealth(r));await Promise.all(e);const n=Object.values(this.modelHealth).filter(r=>r.isHealthy);this.isHealthy=n.length>0,console.log(`📊 Local AI Health: ${n.length}/${Object.keys(ii).length} models healthy`)}getAvailableModels(){return Object.entries(ii).map(([e,n])=>({id:e,...n,isHealthy:this.modelHealth[e]?.isHealthy||!1}))}getHealthyModels(){return this.getAvailableModels().filter(e=>e.isHealthy)}getBestModel(e="code-generation"){const n=this.getHealthyModels();if(n.length===0)throw new Error("No healthy AI models available. Please check your local AI setup.");const r=O9(e);return ii[r]&&this.modelHealth[r]?.isHealthy?r:n[0].id}async generateCode(e,n={}){try{if(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log("⚠️ Running on web domain - using template fallback instead of local AI"),this.createFallbackResponse(e,n);const r=this.detectTaskType(e),i=this.getBestModel(r),a=ii[i];console.log(`🤖 Using ${a.name} for ${r} task`);const u=`${this.buildSystemPrompt(n,a)}

User Request: ${e}`,p=await mt.post(`${a.baseURL}/generate`,{model:a.model,prompt:u,stream:!1,options:{temperature:.7,max_tokens:4e3,top_p:.9,top_k:40}},{timeout:12e4});return this.parseResponse(p.data.response,e,n)}catch(r){return console.error("❌ Local AI generation failed:",r),this.createFallbackResponse(e,n)}}detectTaskType(e){const n=e.toLowerCase();return n.includes("complete")||n.includes("finish")?"code-completion":n.includes("document")||n.includes("explain")?"documentation":n.includes("complex")||n.includes("advanced")?"instruction-following":"code-generation"}buildSystemPrompt(e,n){return`You are an expert software developer and AI assistant. Generate high-quality, production-ready code based on user requests.

Context:
- App Type: ${e.appType||"frontend"}
- Language: ${e.language||"javascript"}
- Styling: ${e.styling||"tailwind"}
- Features: ${e.features?.join(", ")||"basic functionality"}

Instructions:
1. Generate complete, working code
2. Include proper error handling
3. Add comments for complex logic
4. Use modern best practices
5. Make code responsive and accessible
6. Include all necessary files (HTML, CSS, JS)

You are using ${n.name} - ${n.description}.
Supported languages: ${n.languages.join(", ")}.`}parseResponse(e,n,r){try{const i=e.match(/```[\s\S]*?```/g);if(i&&i.length>0){const a={};return i.forEach((l,u)=>{const m=l.split(`
`)[0].replace(/```/g,"").trim();let g;if(m&&m.includes("."))g=m;else{const _=l.replace(/```[\w]*\n?/,"").replace(/```$/,"");g=this.detectFilename(_,u)}const v=l.replace(/```[\w]*\n?/,"").replace(/```$/,"").trim();a[g]=v}),a}return this.createFallbackResponse(n,r)}catch(i){return console.error("Error parsing AI response:",i),this.createFallbackResponse(n,r)}}detectFilename(e,n){const r=e.toLowerCase();return r.includes("<!doctype")||r.includes("<html")?"index.html":r.includes("function")||r.includes("const")||r.includes("var")?"script.js":r.includes("{")&&r.includes("}")&&r.includes(":")?"style.css":`file${n+1}.txt`}createFallbackResponse(e,n){const r=e.toLowerCase();return r.includes("health")&&r.includes("food")?{"index.html":this.generateHealthHTML(),"style.css":this.generateHealthCSS(),"script.js":this.generateHealthJS()}:r.includes("todo")||r.includes("task")?{"index.html":this.generateTodoHTML(),"style.css":this.generateTodoCSS(),"script.js":this.generateTodoJS()}:r.includes("portfolio")||r.includes("resume")?{"index.html":this.generatePortfolioHTML(),"style.css":this.generatePortfolioCSS(),"script.js":this.generatePortfolioJS()}:{"index.html":this.generateGenericHTML(e),"style.css":this.generateGenericCSS(),"script.js":this.generateGenericJS()}}generateHealthHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🥗 Health Food Tips</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🥗 Health Food Tips</h1>
            <p>Your guide to healthy eating and nutrition</p>
        </header>
        
        <main>
            <section class="hero">
                <h2>Welcome to Your Health Journey</h2>
                <p>Discover amazing tips for healthy eating and better nutrition.</p>
            </section>
            
            <section class="content">
                <h3>Healthy Eating Tips</h3>
                <div class="tip-card">
                    <h4>🥕 Eat More Vegetables</h4>
                    <p>Include a variety of colorful vegetables in your meals for essential vitamins and minerals.</p>
                </div>
                <div class="tip-card">
                    <h4>💧 Stay Hydrated</h4>
                    <p>Drink plenty of water throughout the day to maintain optimal health.</p>
                </div>
                <div class="tip-card">
                    <h4>🌾 Choose Whole Grains</h4>
                    <p>Opt for whole grain options like brown rice, quinoa, and whole wheat bread.</p>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Health Food Tips. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateHealthCSS(){return`/* Health Food Tips Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.hero {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    margin: 40px 0;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.hero h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: #667eea;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.tip-card {
    background: white;
    padding: 30px;
    margin: 20px 0;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-left: 5px solid #667eea;
}

.tip-card h4 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .hero h2 {
        font-size: 2rem;
    }
    
    .container {
        padding: 10px;
    }
}`}generateHealthJS(){return`// Health Food Tips JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🥗 Health Food Tips loaded with Local AI!');
    
    // Add interactive features
    const tipCards = document.querySelectorAll('.tip-card');
    
    tipCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    tipCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});`}generateTodoHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✅ Todo App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>✅ My Todo List</h1>
            <p>Stay organized and productive</p>
        </header>
        
        <main>
            <div class="todo-input">
                <input type="text" id="todoInput" placeholder="Add a new task...">
                <button id="addBtn">Add Task</button>
            </div>
            
            <div class="todo-list" id="todoList">
                <!-- Tasks will be added here -->
            </div>
        </main>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateTodoCSS(){return`/* Todo App Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
    min-height: 100vh;
    color: #333;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.todo-input {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
}

#todoInput {
    flex: 1;
    padding: 15px;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

#addBtn {
    padding: 15px 30px;
    background: #00b894;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: background 0.3s ease;
}

#addBtn:hover {
    background: #00a085;
}

.todo-item {
    background: white;
    padding: 20px;
    margin: 10px 0;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.todo-item.completed {
    opacity: 0.6;
    text-decoration: line-through;
}

.delete-btn {
    background: #e17055;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.delete-btn:hover {
    background: #d63031;
}`}generateTodoJS(){return`// Todo App JavaScript
document.addEventListener('DOMContentLoaded', function() {
    const todoInput = document.getElementById('todoInput');
    const addBtn = document.getElementById('addBtn');
    const todoList = document.getElementById('todoList');
    
    // Load todos from localStorage
    loadTodos();
    
    // Add event listeners
    addBtn.addEventListener('click', addTodo);
    todoInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addTodo();
        }
    });
    
    function addTodo() {
        const text = todoInput.value.trim();
        if (text === '') return;
        
        const todo = {
            id: Date.now(),
            text: text,
            completed: false
        };
        
        saveTodo(todo);
        displayTodo(todo);
        todoInput.value = '';
    }
    
    function displayTodo(todo) {
        const todoItem = document.createElement('div');
        todoItem.className = 'todo-item';
        todoItem.dataset.id = todo.id;
        
        if (todo.completed) {
            todoItem.classList.add('completed');
        }
        
        todoItem.innerHTML = \`
            <span>\${todo.text}</span>
            <div>
                <button class="delete-btn" onclick="deleteTodo(\${todo.id})">Delete</button>
            </div>
        \`;
        
        todoItem.addEventListener('click', function(e) {
            if (e.target.classList.contains('delete-btn')) return;
            toggleTodo(todo.id);
        });
        
        todoList.appendChild(todoItem);
    }
    
    function toggleTodo(id) {
        const todos = getTodos();
        const todo = todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            saveTodos(todos);
            loadTodos();
        }
    }
    
    function deleteTodo(id) {
        const todos = getTodos();
        const filteredTodos = todos.filter(t => t.id !== id);
        saveTodos(filteredTodos);
        loadTodos();
    }
    
    function loadTodos() {
        todoList.innerHTML = '';
        const todos = getTodos();
        todos.forEach(todo => displayTodo(todo));
    }
    
    function getTodos() {
        return JSON.parse(localStorage.getItem('todos') || '[]');
    }
    
    function saveTodo(todo) {
        const todos = getTodos();
        todos.push(todo);
        saveTodos(todos);
    }
    
    function saveTodos(todos) {
        localStorage.setItem('todos', JSON.stringify(todos));
    }
    
    // Make functions global for onclick handlers
    window.deleteTodo = deleteTodo;
    
    console.log('✅ Todo App loaded with Local AI!');
});`}generatePortfolioHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💼 Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>💼 John Developer</h1>
            <p>Full Stack Developer & AI Enthusiast</p>
        </header>
        
        <main>
            <section class="about">
                <h2>About Me</h2>
                <p>Passionate developer with expertise in modern web technologies and AI integration.</p>
            </section>
            
            <section class="projects">
                <h2>Projects</h2>
                <div class="project-grid">
                    <div class="project-card">
                        <h3>DreamBuild AI</h3>
                        <p>AI-powered development platform built with React and local AI models.</p>
                    </div>
                    <div class="project-card">
                        <h3>Smart Todo App</h3>
                        <p>Intelligent task management with AI-powered suggestions.</p>
                    </div>
                    <div class="project-card">
                        <h3>Health Tracker</h3>
                        <p>Comprehensive health monitoring with data visualization.</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 John Developer. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePortfolioCSS(){return`/* Portfolio Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3.5rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.3rem;
    opacity: 0.9;
}

section {
    background: rgba(255,255,255,0.95);
    margin: 40px 0;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

section h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.about p {
    font-size: 1.2rem;
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
}

.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.project-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.project-card:hover {
    transform: translateY(-5px);
}

.project-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2.5rem;
    }
    
    section {
        padding: 20px;
    }
    
    .project-grid {
        grid-template-columns: 1fr;
    }
}`}generatePortfolioJS(){return`// Portfolio JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('💼 Portfolio loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe project cards
    document.querySelectorAll('.project-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}generateGenericHTML(e){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</h1>
            <p>Generated with DreamBuild Local AI</p>
        </header>
        
        <main>
            <section class="content">
                <h2>Welcome</h2>
                <p>This application was generated based on your prompt using DreamBuild Local AI.</p>
                <div class="features">
                    <div class="feature-card">
                        <h3>✨ Feature 1</h3>
                        <p>Modern and responsive design</p>
                    </div>
                    <div class="feature-card">
                        <h3>🚀 Feature 2</h3>
                        <p>Built with local AI models</p>
                    </div>
                    <div class="feature-card">
                        <h3>💡 Feature 3</h3>
                        <p>No API keys required</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Generated with DreamBuild Local AI</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateGenericCSS(){return`/* Generic Template Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    margin: 40px 0;
}

.content h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.content p {
    font-size: 1.2rem;
    text-align: center;
    margin-bottom: 40px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.feature-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .content {
        padding: 20px;
    }
    
    .features {
        grid-template-columns: 1fr;
    }
}`}generateGenericJS(){return`// Generic Template JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🚀 Generic template loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe feature cards
    document.querySelectorAll('.feature-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}}const Ft=new L9;class M9{constructor(){this.currentService="local-ai",this.usageStats={totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0},console.log("🤖 Simple AI Service initialized - Local AI only!")}getServices(){return{"local-ai":{name:"Local AI Models",type:"Local",description:"Self-hosted AI models - no API keys required",models:Ft.getAvailableModels()}}}getTemplateCategories(){return Ft.getTemplateCategories()}getTemplatesByCategory(e){return Ft.getTemplatesByCategory(e)}getAllTemplates(){return Ft.getAllTemplates()}generateTemplateById(e,n={}){return Ft.generateTemplateById(e,n)}searchTemplates(e){return Ft.searchTemplates(e)}getPopularTemplates(){return Ft.getPopularTemplates()}async generateCode(e,n={}){const r=Date.now();this.usageStats.totalRequests++;try{if(console.log("🚀 Generating code with Local AI..."),!Ft.isHealthy)return console.log("⚠️ Local AI not available, using template fallback"),Ft.createFallbackResponse(e,n);const i=await Ft.generateCode(e,n),a=Date.now()-r;return this.usageStats.successfulRequests++,this.usageStats.averageResponseTime=(this.usageStats.averageResponseTime+a)/2,console.log("✅ Code generated successfully with Local AI!"),i}catch(i){return console.error("❌ Local AI generation failed:",i),this.usageStats.failedRequests++,console.log("🔄 Falling back to template generation..."),Ft.createFallbackResponse(e,n)}}getServiceHealth(){return Ft.modelHealth}getUsageStats(){return this.usageStats}getUserPreferences(){return{preferredService:"local-ai",fallbackEnabled:!0,autoHealthCheck:!0}}updateUserPreferences(e){localStorage.setItem("dreambuild-preferences",JSON.stringify(e))}loadUserPreferences(){const e=localStorage.getItem("dreambuild-preferences");return e?JSON.parse(e):this.getUserPreferences()}getServiceStatus(){return{"local-ai":{isHealthy:Ft.isHealthy,models:Ft.getHealthyModels().length,totalModels:Ft.getAvailableModels().length}}}resetServiceHealth(){Ft.modelHealth={}}getFallbackOrder(){return["local-ai"]}isFallbackEnabled(){return!0}setFallbackEnabled(e){return!0}getSetupInstructions(){return{"local-ai":{title:"Local AI Setup",description:"Set up local AI models for code generation",steps:["1. Install Ollama from https://ollama.ai","2. Run: ollama pull codellama:7b","3. Run: ollama serve","4. Refresh DreamBuild to start using local AI"],isSetup:Ft.isHealthy}}}getServicesNeedingSetup(){return Ft.isHealthy?[]:["local-ai"]}hasValidApiKey(e){return e==="local-ai"}setService(e){e==="local-ai"&&(this.currentService=e)}getCurrentService(){return this.currentService}}const Kt=new M9,V9=({isOpen:t,onClose:e})=>{const[n,r]=D.useState({}),[i,a]=D.useState({}),[l,u]=D.useState({}),[p,m]=D.useState(!1),[g,v]=D.useState([]);D.useEffect(()=>{t&&_()},[t]);const _=()=>{r(Kt.getServiceStatus()),a(Kt.getUserPreferences()),u(Kt.getUsageStats()),v(Kt.getServicesNeedingSetup())},T=Q=>{Kt.setService(Q),a(Kt.getUserPreferences()),_()},I=(Q,S)=>{const A={...i,[Q]:S};Kt.updateUserPreferences(A),a(A)},N=async()=>{m(!0);try{await Kt.performHealthChecks(),_()}catch(Q){console.error("Error refreshing health:",Q)}finally{m(!1)}},C=(Q=null)=>{Kt.resetServiceHealth(Q),_()},F=Q=>Q.isHealthy?h.jsx(iL,{className:"h-4 w-4 text-green-500"}):h.jsx(j_,{className:"h-4 w-4 text-red-500"}),U=Q=>Q.isCurrent?"bg-primary text-primary-foreground":Q.isPreferred?"bg-secondary text-secondary-foreground":Q.isHealthy?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",k=Q=>Q<1e3?`${Q}ms`:`${(Q/1e3).toFixed(1)}s`,H=Q=>`${(Q*100).toFixed(1)}%`,X=Q=>{switch(Q){case"groq":return h.jsx(nl,{className:"h-4 w-4"});case"together":return h.jsx(Mh,{className:"h-4 w-4"});case"huggingface":return h.jsx(Cc,{className:"h-4 w-4"});case"ollama":return h.jsx(_i,{className:"h-4 w-4"});default:return h.jsx(fL,{className:"h-4 w-4"})}};return t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"AI Service Status"}),h.jsx("p",{className:"text-muted-foreground",children:"Monitor and configure AI services"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:N,disabled:p,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:h.jsx(Sf,{className:`h-5 w-5 ${p?"animate-spin":""}`})}),h.jsx("button",{onClick:e,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:h.jsx(j_,{className:"h-5 w-5"})})]})]}),h.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Cc,{className:"h-5 w-5"}),"Service Status"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:Object.entries(n).map(([Q,S])=>h.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md ${U(S)}`,onClick:()=>T(Q),children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[X(Q),h.jsx("span",{className:"font-semibold",children:S.name}),F(S)]}),h.jsxs("div",{className:"flex items-center gap-2",children:[S.isCurrent&&h.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"Current"}),S.isPreferred&&!S.isCurrent&&h.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:"Preferred"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(cS,{className:"h-3 w-3"}),h.jsx("span",{children:k(S.responseTime)})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(eL,{className:"h-3 w-3"}),h.jsx("span",{children:H(S.errorRate)})]}),h.jsx("div",{className:"col-span-2",children:h.jsxs("span",{className:"text-xs",children:["Requests: ",S.usage.totalRequests," | Success: ",S.usage.successfulRequests," | Failed: ",S.usage.failedRequests]})})]}),S.consecutiveFailures>0&&h.jsxs("div",{className:"mt-2 text-xs text-orange-600",children:[S.consecutiveFailures," consecutive failures"]})]},Q))}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(_i,{className:"h-5 w-5"}),"Preferences"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"Enable Fallback"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically switch to backup services when primary fails"})]}),h.jsx("button",{onClick:()=>I("fallbackEnabled",!i.fallbackEnabled),className:"flex items-center gap-2",children:i.fallbackEnabled?h.jsx(N_,{className:"h-6 w-6 text-primary"}):h.jsx(R_,{className:"h-6 w-6 text-muted-foreground"})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"Show Notifications"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Display fallback notifications in console"})]}),h.jsx("button",{onClick:()=>I("showNotifications",!i.showNotifications),className:"flex items-center gap-2",children:i.showNotifications?h.jsx(N_,{className:"h-6 w-6 text-primary"}):h.jsx(R_,{className:"h-6 w-6 text-muted-foreground"})})]})]})]}),g.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(_i,{className:"h-5 w-5"}),"Setup Required"]}),h.jsx("div",{className:"space-y-3",children:g.map(Q=>h.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"font-medium text-orange-800",children:Q.name}),h.jsx("span",{className:"text-sm text-orange-600 bg-orange-100 px-2 py-1 rounded",children:"Setup Required"})]}),h.jsx("p",{className:"text-sm text-orange-700 mb-2",children:Q.instructions.setup}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-orange-600",children:[h.jsxs("span",{children:["💰 ",Q.instructions.freeTier]}),h.jsxs("span",{children:["⚡ ",Q.instructions.features]})]})]},Q.key))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Cc,{className:"h-5 w-5"}),"Usage Statistics"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:l.totalRequests||0}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Requests"})]}),h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.successfulRequests||0}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Successful"})]}),h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failedRequests||0}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString()]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>C(),className:"px-4 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors",children:"Reset All Health"}),h.jsx("button",{onClick:e,className:"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Close"})]})]})]})})]})}):null},F9=({isOpen:t,onClose:e,onTemplateSelect:n})=>{const{updateFile:r}=Uo(),[i,a]=D.useState(""),[l,u]=D.useState("all"),[p,m]=D.useState("grid"),[g,v]=D.useState("popular"),[_,T]=D.useState([]),[I,N]=D.useState({}),[C,F]=D.useState({});D.useEffect(()=>{t&&U()},[t]);const U=()=>{try{const S=Kt.getTemplateCategories();N(S);const A=Kt.getAllTemplates();T(A)}catch(S){console.error("Error loading template data:",S),Re.error("Failed to load templates")}};D.useEffect(()=>{k()},[i,l,g]);const k=()=>{let S=Kt.getAllTemplates();if(i&&(S=Kt.searchTemplates(i)),l!=="all"){const A=Kt.getTemplatesByCategory(l);S=S.filter(j=>A.includes(j.id))}switch(g){case"popular":const A=Kt.getPopularTemplates().map(j=>j.id);S=S.sort((j,P)=>{const M=A.includes(j.id),z=A.includes(P.id);return M&&!z?-1:!M&&z?1:0});break;case"alphabetical":S=S.sort((j,P)=>j.name.localeCompare(P.name));break;case"newest":S=S.reverse();break}T(S)},H=async S=>{try{const A=Kt.createFallbackResponse(S,{title:S.replace(/-/g," ").replace(/\b\w/g,P=>P.toUpperCase())});Object.entries(A).forEach(([P,M])=>{r(P,M)});const j=S.replace(/-/g," ").replace(/\b\w/g,P=>P.toUpperCase());Re.success(`Generated ${j} template!`),n&&n({id:S,name:j,files:A}),e()}catch(A){console.error("Error generating template:",A),Re.error("Failed to generate template")}},X=S=>{F(A=>({...A,[S]:!A[S]}))},Q=S=>S.includes("store")||S.includes("ecommerce")?"🛒 E-commerce platform with shopping cart and payments":S.includes("blog")||S.includes("content")?"📝 Content management with articles and comments":S.includes("dashboard")||S.includes("admin")?"📊 Analytics dashboard with charts and metrics":S.includes("social")||S.includes("network")?"👥 Social platform with profiles and connections":S.includes("game")||S.includes("entertainment")?"🎮 Interactive game with scoring and levels":S.includes("health")||S.includes("fitness")?"💪 Health tracking with goals and progress":S.includes("finance")||S.includes("money")?"💰 Financial management with budgets and investments":S.includes("education")||S.includes("learning")?"🎓 Educational platform with courses and quizzes":"✨ Custom application with modern design";return t?h.jsx(vs,{children:h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:h.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg w-full max-w-7xl h-[90vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[h.jsxs("div",{className:"p-6 border-b border-border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(If,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Template Library"}),h.jsx("p",{className:"text-muted-foreground",children:"Choose from 1000+ professional templates"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:"✕"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(Og,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx("input",{type:"text",placeholder:"Search templates...",value:i,onChange:S=>a(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background",children:[h.jsx("option",{value:"all",children:"All Categories"}),Object.entries(I).map(([S,A])=>h.jsxs("option",{value:S,children:[A.icon," ",A.name]},S))]}),h.jsxs("select",{value:g,onChange:S=>v(S.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background",children:[h.jsx("option",{value:"popular",children:"Popular"}),h.jsx("option",{value:"alphabetical",children:"A-Z"}),h.jsx("option",{value:"newest",children:"Newest"})]}),h.jsxs("div",{className:"flex border border-border rounded-lg",children:[h.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${p==="grid"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:h.jsx(dS,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>m("list"),className:`p-2 ${p==="list"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:h.jsx(hS,{className:"h-4 w-4"})})]})]})]})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs("div",{className:"h-full flex",children:[h.jsx("div",{className:"w-64 border-r border-border bg-muted/30 overflow-y-auto",children:h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"font-semibold mb-3",children:"Categories"}),h.jsx("div",{className:"space-y-1",children:Object.entries(I).map(([S,A])=>h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>{u(S),X(S)},className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-muted transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:A.icon}),h.jsx("span",{className:"text-sm",children:A.name}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",A.templates.length,")"]})]}),C[S]?h.jsx(oL,{className:"h-4 w-4"}):h.jsx(aL,{className:"h-4 w-4"})]}),C[S]&&h.jsxs("div",{className:"ml-4 space-y-1 mt-1",children:[A.templates.slice(0,5).map(j=>h.jsx("button",{onClick:()=>{a(j),u(S)},className:"w-full text-left p-1 text-xs text-muted-foreground hover:text-foreground truncate",children:j.replace(/-/g," ")},j)),A.templates.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground p-1",children:["+",A.templates.length-5," more..."]})]})]},S))})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold",children:[_.length," Templates",l!=="all"&&` in ${I[l]?.name}`]}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," of ",Kt.getAllTemplates().length," templates"]})]}),p==="grid"?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_.map((S,A)=>h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.05},onClick:()=>H(S.id),className:"bg-card border border-border rounded-lg p-4 hover:shadow-lg hover:border-primary/30 transition-all cursor-pointer group",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-lg",children:S.icon})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-medium truncate",children:S.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:S.category})]})]}),h.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:Q(S.id)}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[h.jsx(ur,{className:"h-3 w-3"}),h.jsx("span",{children:"HTML/CSS/JS"})]}),h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(nl,{className:"h-4 w-4 text-primary"})})]})]},S.id))}):h.jsx("div",{className:"space-y-2",children:_.map((S,A)=>h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.02},onClick:()=>H(S.id),className:"flex items-center gap-4 p-4 bg-card border border-border rounded-lg hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx("span",{className:"text-xl",children:S.icon})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-medium",children:S.name}),h.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:Q(S.id)}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[h.jsx("span",{children:S.category}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"HTML/CSS/JS"})]})]}),h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(nl,{className:"h-5 w-5 text-primary"})})]},S.id))}),_.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Og,{className:"h-8 w-8 text-muted-foreground"})}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No templates found"}),h.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})]})})]})})]})})}):null},U9=()=>{const{currentProject:t,updateFile:e,updateConfig:n}=Uo(),[r,i]=D.useState(""),[a,l]=D.useState(!1),[u,p]=D.useState(!1),[m,g]=D.useState(!1),[v,_]=D.useState(!1),[T,I]=D.useState("groq"),[N,C]=D.useState("llama3-8b-8192"),[F,U]=D.useState([]),[k,H]=D.useState([]),[X,Q]=D.useState({}),S=D.useRef(null);D.useEffect(()=>{S.current&&(S.current.style.height="auto",S.current.style.height=S.current.scrollHeight+"px")},[r]),D.useEffect(()=>{Q(T?.getServiceStatus?T.getServiceStatus():{});const q=setInterval(()=>{Q(T?.getServiceStatus?T.getServiceStatus():{})},3e4);return()=>clearInterval(q)},[]),D.useEffect(()=>{r.length>10?A():U([])},[r]);const A=()=>{const q=r.toLowerCase(),te=[];(q.includes("health")||q.includes("food"))&&(te.push({text:"Add nutrition calculator",type:"feature",icon:"🧮"}),te.push({text:"Include meal planning calendar",type:"feature",icon:"📅"})),(q.includes("todo")||q.includes("task"))&&(te.push({text:"Add due dates and reminders",type:"feature",icon:"⏰"}),te.push({text:"Include priority levels",type:"feature",icon:"⭐"})),(q.includes("portfolio")||q.includes("resume"))&&(te.push({text:"Add contact form",type:"feature",icon:"📧"}),te.push({text:"Include project gallery",type:"feature",icon:"🖼️"})),te.push({text:"Make it responsive",type:"improvement",icon:"📱"}),te.push({text:"Add dark mode",type:"improvement",icon:"🌙"}),U(te.slice(0,4))},j=async()=>{if(!r.trim()){Re.error("Please enter a description of what you want to build");return}l(!0);try{H(te=>[r,...te.slice(0,4)]);const q=await T.generateCode(r,t.config);Object.entries(q).forEach(([te,ge])=>{e(te,ge)}),P(r),Re.success("Code generated successfully!"),i("")}catch(q){console.error("AI generation error:",q),Re.error("Failed to generate code: "+q.message)}finally{l(!1)}},P=q=>{const te=q.toLowerCase(),ge={...t.config};te.includes("mobile")||te.includes("app")?ge.appType="mobile":te.includes("api")||te.includes("backend")?ge.appType="backend":(te.includes("frontend")||te.includes("website"))&&(ge.appType="frontend"),te.includes("typescript")||te.includes("ts")?ge.language="typescript":te.includes("python")?ge.language="python":te.includes("java")&&(ge.language="java"),te.includes("bootstrap")?ge.styling="bootstrap":te.includes("material")?ge.styling="material":ge.styling="tailwind",n(ge)},M=q=>{i(te=>te+" "+q.text),Re.success(`Added suggestion: ${q.text}`)},z=q=>{i(q)},O=q=>{q.key==="Enter"&&(q.ctrlKey||q.metaKey)&&(q.preventDefault(),j())},ye=T?.getServices?T.getServices():{};return h.jsxs(Ee.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-3 border-b border-border bg-muted/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[h.jsx(If,{className:"h-4 w-4"}),"AI Assistant"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:T?.currentService||"local-ai"}),h.jsx("button",{onClick:()=>_(!0),className:"p-1 hover:bg-muted rounded transition-colors",title:"Browse Templates (1000+)",children:h.jsx(ur,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>g(!0),className:"p-1 hover:bg-muted rounded transition-colors",title:"AI Service Status",children:h.jsx(Cc,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>p(!0),className:"p-1 hover:bg-muted rounded transition-colors",title:"AI Settings",children:h.jsx(_i,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[X[T?.currentService||"local-ai"]?.isHealthy?h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}):h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),h.jsx("span",{className:"text-muted-foreground",children:X[T?.currentService||"local-ai"]?.isHealthy?"AI Ready":"AI Unhealthy"})]}),h.jsx("span",{children:"•"}),h.jsx("span",{className:"text-muted-foreground",children:T?.isFallbackEnabled?T.isFallbackEnabled()?"Fallback Enabled":"Single Service":"Local AI Only"})]})]}),h.jsxs("div",{className:"flex-1 p-3 space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Describe what you want to build"}),h.jsxs("div",{className:"relative",children:[h.jsx("textarea",{ref:S,value:r,onChange:q=>i(q.target.value),onKeyPress:O,placeholder:"Create a healthy food tips website with nutrition advice and meal planning features...",className:"w-full p-3 border border-border rounded-md bg-background resize-none min-h-[120px] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:a}),h.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:[r.length,"/2000"]})]})]}),h.jsx(vs,{children:F.length>0&&h.jsxs(Ee.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Suggestions"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:F.map((q,te)=>h.jsxs(Ee.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>M(q),className:`flex items-center gap-1 px-2 py-1 text-xs rounded-md border transition-colors ${q.type==="feature"?"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100":"border-green-200 bg-green-50 text-green-700 hover:bg-green-100"}`,children:[h.jsx("span",{children:q.icon}),h.jsx("span",{children:q.text})]},te))})]})}),k.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Recent Prompts"}),h.jsx("div",{className:"space-y-1",children:k.slice(0,3).map((q,te)=>h.jsx("button",{onClick:()=>z(q),className:"w-full text-left p-2 text-xs bg-muted hover:bg-muted/80 rounded-md transition-colors truncate",title:q,children:q},te))})]})]}),h.jsxs("div",{className:"p-3 border-t border-border",children:[h.jsx("button",{onClick:j,disabled:!r.trim()||a,className:"w-full flex items-center justify-center gap-2 p-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?h.jsxs(h.Fragment,{children:[h.jsx(fS,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:"Generating..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(nl,{className:"h-4 w-4"}),h.jsx("span",{children:"Generate Code"})]})}),h.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Press Ctrl+Enter to generate"})]}),h.jsx(F9,{isOpen:v,onClose:()=>_(!1),onTemplateSelect:q=>{console.log("Template selected:",q)}}),h.jsx(V9,{isOpen:m,onClose:()=>g(!1)}),h.jsx(vs,{children:u&&h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>p(!1),children:h.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(ms,{className:"h-5 w-5"}),"AI Settings"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"AI Service"}),h.jsx("select",{value:T,onChange:q=>{I(q.target.value),T?.setService&&T.setService(q.target.value)},className:"w-full p-2 border border-border rounded-md bg-background",children:Object.entries(ye).map(([q,te])=>h.jsxs("option",{value:q,children:[te.name," - ",te.type]},q))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),h.jsx("select",{value:N,onChange:q=>{C(q.target.value),T?.setService&&T.setService(q.target.value)},className:"w-full p-2 border border-border rounded-md bg-background",children:Object.entries(ye[T]?.models||{}).map(([q,te])=>h.jsx("option",{value:q,children:te},q))})]}),h.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Service Info"}),h.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Type:"})," ",ye[T]?.type]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cost:"})," Free tier available"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Features:"})," Fast inference, modern models"]})]})]}),h.jsx("div",{className:"flex gap-2 justify-end",children:h.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})})]})},fb=({children:t,direction:e="horizontal",className:n=""})=>h.jsx("div",{className:`resizable-panel-group ${e} ${n}`,children:t}),pc=({children:t,defaultSize:e=50,minSize:n=10,maxSize:r=90,className:i=""})=>h.jsx("div",{className:`resizable-panel ${i}`,style:{flexBasis:`${e}%`,minWidth:`${n}%`,maxWidth:`${r}%`},children:t}),ng=({className:t=""})=>{const[e,n]=D.useState(!1),r=D.useRef(null),i=u=>{n(!0),u.preventDefault()},a=u=>{if(!e)return;const p=r.current?.parentElement;if(p){const m=p.getBoundingClientRect(),g=(u.clientX-m.left)/m.width*100,v=p.querySelectorAll(".resizable-panel");if(v.length>=2){const _=v[0],T=v[1];_.style.flexBasis=`${Math.max(10,Math.min(90,g))}%`,T.style.flexBasis=`${Math.max(10,Math.min(90,100-g))}%`}}},l=()=>{n(!1)};return D.useEffect(()=>{if(e)return document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l)}},[e]),h.jsx("div",{ref:r,className:`resizable-handle ${t} ${e?"resizing":""}`,onMouseDown:i})},B9=()=>{const[t,e]=D.useState("code");return h.jsxs("div",{className:"h-[calc(100vh-120px)] flex flex-col bg-gradient-to-br from-background via-background to-muted/20",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50 bg-card/50 backdrop-blur-sm",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:h.jsx(ms,{className:"h-6 w-6 text-primary"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-foreground",children:"AI Builder"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Build applications with AI assistance"})]})]})}),h.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50",children:[h.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("code"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${t==="code"?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[h.jsx(ur,{className:"h-4 w-4"}),h.jsx("span",{children:"Code Editor"})]}),h.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("preview"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${t==="preview"?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[h.jsx(lh,{className:"h-4 w-4"}),h.jsx("span",{children:"Live Preview"})]}),h.jsxs(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("terminal"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${t==="terminal"?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[h.jsx(Pm,{className:"h-4 w-4"}),h.jsx("span",{children:"Terminal"})]})]})]}),h.jsx("div",{className:"flex-grow p-4",children:h.jsxs(fb,{direction:"horizontal",className:"h-full gap-2",children:[h.jsx(pc,{defaultSize:18,minSize:12,maxSize:25,children:h.jsx("div",{className:"h-full bg-card/50 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm",children:h.jsx(t6,{})})}),h.jsx(ng,{className:"w-1 bg-border/30 hover:bg-primary/30 transition-colors rounded-full"}),h.jsx(pc,{defaultSize:52,minSize:35,children:h.jsx("div",{className:"h-full bg-card/50 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm overflow-hidden",children:h.jsxs(fb,{direction:"vertical",className:"h-full gap-2",children:[h.jsx(pc,{defaultSize:60,minSize:30,children:h.jsxs("div",{className:"h-full bg-card/80 rounded-lg border border-border/30 shadow-sm overflow-hidden",children:[t==="code"&&h.jsx(Q1,{}),t==="preview"&&h.jsx(Y1,{}),t==="terminal"&&h.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-gray-300 rounded-lg border border-gray-700/50",children:h.jsxs("div",{className:"text-center p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:h.jsx(Pm,{className:"h-8 w-8 text-primary"})}),h.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Terminal Component"}),h.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Terminal functionality is temporarily disabled while we optimize the local AI integration."}),h.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["💡 ",h.jsx("strong",{children:"Tip:"})," Use the AI Assistant to generate code and see live previews instead!"]})})]})})]})}),h.jsx(ng,{className:"h-1 bg-border/30 hover:bg-primary/30 transition-colors rounded-full"}),h.jsx(pc,{defaultSize:40,minSize:20,children:h.jsxs("div",{className:"h-full bg-card/80 rounded-lg border border-border/30 shadow-sm overflow-hidden",children:[t==="code"&&h.jsx(Y1,{}),t==="preview"&&h.jsx(Q1,{}),t==="terminal"&&h.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-card via-card/80 to-card rounded-lg border border-border/50 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"p-4 border-b border-border/50 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:h.jsx(ms,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-foreground",children:"AI Assistant"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to help you code"})]})]})}),h.jsx("div",{className:"flex-grow p-6 flex items-center justify-center text-muted-foreground",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Pm,{className:"h-8 w-8 text-primary"})}),h.jsx("p",{className:"text-lg mb-2 text-foreground",children:"Terminal Active"}),h.jsx("p",{className:"text-sm max-w-xs",children:"Use the terminal above to run commands and manage your project files."})]})})]})]})})]})})}),h.jsx(ng,{className:"w-1 bg-border/30 hover:bg-primary/30 transition-colors rounded-full"}),h.jsx(pc,{defaultSize:30,minSize:20,maxSize:40,children:h.jsx("div",{className:"h-full bg-card/50 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm overflow-hidden",children:h.jsx(U9,{})})})]})})]})},z9=()=>{const{currentProject:t,projects:e}=Uo(),[n,r]=D.useState("7d"),[i,a]=D.useState(!0);D.useEffect(()=>{const v=setTimeout(()=>a(!1),1e3);return()=>clearTimeout(v)},[]);const l={totalProjects:12,aiGenerations:89,linesOfCode:12450,hoursSpent:42.5},u=[{id:1,type:"ai_generation",project:"E-commerce Store",action:"Generated React component",time:"2 minutes ago",icon:ms,color:"text-blue-600"},{id:2,type:"file_created",project:"Portfolio Website",action:"Created new CSS file",time:"15 minutes ago",icon:Ng,color:"text-green-600"},{id:3,type:"project_completed",project:"Task Manager App",action:"Project marked as completed",time:"1 hour ago",icon:mS,color:"text-yellow-600"},{id:4,type:"deployment",project:"Analytics Dashboard",action:"Deployed to Firebase",time:"3 hours ago",icon:wi,color:"text-purple-600"}],p=[{name:"E-commerce Store",files:24,lastModified:"2 min ago",type:"web",progress:85},{name:"Portfolio Website",files:12,lastModified:"15 min ago",type:"web",progress:100},{name:"Task Manager App",files:18,lastModified:"1 hour ago",type:"mobile",progress:100},{name:"Analytics Dashboard",files:31,lastModified:"3 hours ago",type:"dashboard",progress:75}],m=[{language:"JavaScript",percentage:45,files:70,color:"bg-yellow-500"},{language:"HTML",percentage:25,files:39,color:"bg-orange-500"},{language:"CSS",percentage:20,files:31,color:"bg-blue-500"},{language:"Python",percentage:10,files:16,color:"bg-green-500"}],g=({title:v,value:_,icon:T,change:I,changeType:N,description:C})=>h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(T,{className:"h-6 w-6 text-primary"})}),I&&h.jsxs("div",{className:`flex items-center gap-1 text-sm ${N==="increase"?"text-green-600":"text-red-600"}`,children:[N==="increase"?h.jsx(rL,{className:"h-4 w-4"}):h.jsx(tL,{className:"h-4 w-4"}),I]})]}),h.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:_}),h.jsx("p",{className:"text-sm text-muted-foreground",children:v}),C&&h.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C})]});return i?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((v,_)=>h.jsxs("div",{className:"bg-card/50 rounded-xl p-6",children:[h.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg mb-4"}),h.jsx("div",{className:"h-6 bg-muted rounded w-1/2 mb-2"}),h.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]},_))})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),h.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your projects."})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("select",{value:n,onChange:v=>r(v.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"7d",children:"Last 7 days"}),h.jsx("option",{value:"30d",children:"Last 30 days"}),h.jsx("option",{value:"90d",children:"Last 90 days"})]})})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[h.jsx(g,{title:"Total Projects",value:l.totalProjects,icon:Ka,change:"+2",changeType:"increase",description:"This week"}),h.jsx(g,{title:"AI Generations",value:l.aiGenerations,icon:ms,change:"+12",changeType:"increase",description:"This week"}),h.jsx(g,{title:"Lines of Code",value:l.linesOfCode.toLocaleString(),icon:ur,change:"+1.2k",changeType:"increase",description:"This week"}),h.jsx(g,{title:"Hours Spent",value:l.hoursSpent,icon:cS,change:"+5.2h",changeType:"increase",description:"This week"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[h.jsxs("div",{className:"lg:col-span-2 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[h.jsx(JO,{className:"h-5 w-5 text-primary"}),"Recent Activity"]}),h.jsx("button",{className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"View all"})]}),h.jsx("div",{className:"space-y-4",children:u.map((v,_)=>{const T=v.icon;return h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[h.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${v.color.replace("text-","bg-").replace("-600","-100")}`,children:h.jsx(T,{className:`h-4 w-4 ${v.color}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-foreground",children:v.action}),h.jsx("p",{className:"text-xs text-muted-foreground",children:v.project})]}),h.jsx("span",{className:"text-xs text-muted-foreground",children:v.time})]},v.id)})})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[h.jsx(Cc,{className:"h-5 w-5 text-primary"}),"Top Projects"]}),h.jsx("div",{className:"space-y-4",children:p.map((v,_)=>h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"p-3 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"font-medium text-foreground text-sm",children:v.name}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.files," files"]})]}),h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 mr-3",children:h.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${v.progress}%`}})}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.progress,"%"]})]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:v.lastModified})]},v.name))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[h.jsx(ur,{className:"h-5 w-5 text-primary"}),"Language Usage"]}),h.jsx("div",{className:"space-y-4",children:m.map((v,_)=>h.jsxs(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center",children:h.jsx("div",{className:`w-2 h-2 rounded-full ${v.color}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-foreground",children:v.language}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.percentage,"%"]})]}),h.jsx("div",{className:"bg-muted rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${v.color}`,style:{width:`${v.percentage}%`}})}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v.files," files"]})]})]},v.language))})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[h.jsx(nl,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"New Project",icon:Ka,color:"bg-blue-500",href:"/ai-builder"},{name:"AI Builder",icon:ms,color:"bg-purple-500",href:"/ai-builder"},{name:"View Projects",icon:jg,color:"bg-green-500",href:"/projects"},{name:"Settings",icon:_i,color:"bg-orange-500",href:"/settings"}].map((v,_)=>h.jsxs(Ee.a,{href:v.href,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:_*.1},className:"flex flex-col items-center p-4 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[h.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-3 ${v.color} group-hover:scale-105 transition-transform`,children:h.jsx(v.icon,{className:"h-6 w-6 text-white"})}),h.jsx("span",{className:"text-sm font-medium text-foreground text-center",children:v.name})]},v.name))})]})]})]})})},$9=()=>h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-card border border-border rounded-lg p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-primary rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx(_L,{className:"h-8 w-8 text-primary-foreground"})}),h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome to DreamBuild"}),h.jsx("p",{className:"text-muted-foreground",children:"Sign in to save your projects and access all features"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("button",{className:"w-full flex items-center justify-center gap-3 p-3 border border-border rounded-lg hover:bg-muted transition-colors font-medium",children:[h.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),h.jsxs("button",{className:"w-full flex items-center justify-center gap-3 p-3 border border-border rounded-lg hover:bg-muted transition-colors font-medium",children:[h.jsx(Tf,{className:"h-5 w-5"}),"Continue with GitHub"]})]}),h.jsxs("div",{className:"relative my-6",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-border"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Want to try without signing in?"}),h.jsx("a",{href:"/ai-builder",className:"inline-flex items-center gap-2 px-4 py-2 text-primary hover:text-primary/80 transition-colors font-medium",children:"Continue as Guest"})]})]})})}),H9=()=>{const{currentProject:t,createNewProject:e,projects:n,switchProject:r}=Uo(),[i,a]=D.useState(""),[l,u]=D.useState("all"),[p,m]=D.useState("grid"),[g,v]=D.useState(!1),[_,T]=D.useState(""),[I,N]=D.useState("web"),[C,F]=D.useState(null),[U,k]=D.useState([{id:"1",name:"E-commerce Store",type:"web",description:"Modern e-commerce platform with React and Node.js",status:"active",lastModified:"2024-01-15",files:12,size:"2.4 MB",tags:["React","Node.js","E-commerce"],preview:"https://via.placeholder.com/300x200/007acc/ffffff?text=E-commerce+Store"},{id:"2",name:"Portfolio Website",type:"web",description:"Personal portfolio website with modern design",status:"completed",lastModified:"2024-01-10",files:8,size:"1.2 MB",tags:["HTML","CSS","JavaScript"],preview:"https://via.placeholder.com/300x200/28a745/ffffff?text=Portfolio+Website"},{id:"3",name:"Task Manager App",type:"mobile",description:"Mobile task management application",status:"development",lastModified:"2024-01-12",files:15,size:"3.1 MB",tags:["React Native","Firebase"],preview:"https://via.placeholder.com/300x200/ffc107/000000?text=Task+Manager"},{id:"4",name:"Analytics Dashboard",type:"dashboard",description:"Business analytics dashboard with charts",status:"active",lastModified:"2024-01-14",files:20,size:"4.2 MB",tags:["Vue.js","D3.js","Charts"],preview:"https://via.placeholder.com/300x200/6f42c1/ffffff?text=Analytics+Dashboard"}]),H={all:{name:"All Projects",icon:Ka,count:U.length},web:{name:"Web Apps",icon:jg,count:U.filter(P=>P.type==="web").length},mobile:{name:"Mobile Apps",icon:ur,count:U.filter(P=>P.type==="mobile").length},dashboard:{name:"Dashboards",icon:_i,count:U.filter(P=>P.type==="dashboard").length},completed:{name:"Completed",icon:mS,count:U.filter(P=>P.status==="completed").length}},X=U.filter(P=>{const M=P.name.toLowerCase().includes(i.toLowerCase())||P.description.toLowerCase().includes(i.toLowerCase())||P.tags.some(O=>O.toLowerCase().includes(i.toLowerCase())),z=l==="all"||P.type===l||P.status===l;return M&&z}),Q=()=>{if(!_.trim()){Re.error("Please enter a project name");return}const P={id:Date.now().toString(),name:_,type:I,description:`New ${I} project`,status:"active",lastModified:new Date().toISOString().split("T")[0],files:0,size:"0 MB",tags:[I],preview:"https://via.placeholder.com/300x200/6c757d/ffffff?text=New+Project"};k([P,...U]),T(""),N("web"),v(!1),Re.success("Project created successfully!")},S=P=>{k(U.filter(M=>M.id!==P)),F(null),Re.success("Project deleted successfully!")},A=P=>{switch(P){case"active":return"bg-green-100 text-green-800 border-green-200";case"development":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=P=>{switch(P){case"web":return jg;case"mobile":return ur;case"dashboard":return _i;default:return Ka}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Projects"}),h.jsx("p",{className:"text-muted-foreground",children:"Manage and organize your AI-generated projects"})]}),h.jsxs(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-sm shadow-primary/20",children:[h.jsx(Dg,{className:"h-4 w-4"}),"New Project"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:Object.entries(H).map(([P,M])=>{const z=M.icon;return h.jsx(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P==="all"?0:parseInt(P)*.1},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-md transition-all duration-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(z,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-foreground",children:M.count}),h.jsx("p",{className:"text-sm text-muted-foreground",children:M.name})]})]})},P)})})]}),h.jsx("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4 mb-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(Og,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx("input",{type:"text",placeholder:"Search projects...",value:i,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(uL,{className:"h-4 w-4 text-muted-foreground"}),h.jsx("select",{value:l,onChange:P=>u(P.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:Object.entries(H).map(([P,M])=>h.jsxs("option",{value:P,children:[M.name," (",M.count,")"]},P))})]})]}),h.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[h.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded-md transition-colors ${p==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:h.jsx(dS,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded-md transition-colors ${p==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:h.jsx(hS,{className:"h-4 w-4"})})]})]})}),h.jsx(vs,{mode:"wait",children:p==="grid"?h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map((P,M)=>{const z=j(P.type);return h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200 group",children:[h.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-muted to-muted/50",children:[h.jsx("img",{src:P.preview,alt:P.name,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${A(P.status)}`,children:P.status})}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-primary text-primary-foreground rounded-lg shadow-lg",onClick:()=>r(P.id),children:h.jsx(lh,{className:"h-4 w-4"})}),h.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white text-gray-900 rounded-lg shadow-lg",children:h.jsx(km,{className:"h-4 w-4"})})]})})]}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(z,{className:"h-4 w-4 text-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]})]}),h.jsx("button",{onClick:()=>F(C===P.id?null:P.id),className:"p-1 hover:bg-muted rounded-md transition-colors",children:h.jsx(P_,{className:"h-4 w-4 text-muted-foreground"})})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Ng,{className:"h-3 w-3"}),P.files," files"]}),h.jsx("span",{children:P.size})]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(k_,{className:"h-3 w-3"}),P.lastModified]})]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:P.tags.map(O=>h.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:O},O))})]}),h.jsx(vs,{children:C===P.id&&h.jsx(Ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-12 right-3 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[150px]",children:h.jsxs("div",{className:"p-1",children:[h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(lh,{className:"h-4 w-4"}),"View"]}),h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(km,{className:"h-4 w-4"}),"Edit"]}),h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(Hc,{className:"h-4 w-4"}),"Download"]}),h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(xL,{className:"h-4 w-4"}),"Share"]}),h.jsx("hr",{className:"my-1"}),h.jsxs("button",{onClick:()=>S(P.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[h.jsx(gS,{className:"h-4 w-4"}),"Delete"]})]})})})]},P.id)})},"grid"):h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:X.map((P,M)=>{const z=j(P.type);return h.jsx(Ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-md transition-all duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(z,{className:"h-6 w-6 text-primary"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[h.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${A(P.status)}`,children:P.status})]}),h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Ng,{className:"h-3 w-3"}),P.files," files"]}),h.jsx("span",{children:P.size}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(k_,{className:"h-3 w-3"}),P.lastModified]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex gap-1",children:[P.tags.slice(0,2).map(O=>h.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:O},O)),P.tags.length>2&&h.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["+",P.tags.length-2]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",onClick:()=>r(P.id),children:h.jsx(lh,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(Ee.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",children:h.jsx(km,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx("button",{onClick:()=>F(C===P.id?null:P.id),className:"p-2 hover:bg-muted rounded-md transition-colors",children:h.jsx(P_,{className:"h-4 w-4 text-muted-foreground"})})]})]})]})},P.id)})},"list")}),X.length===0&&h.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(Ka,{className:"h-12 w-12 text-muted-foreground"})}),h.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No projects found"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:i||l!=="all"?"Try adjusting your search or filter criteria":"Get started by creating your first project"}),h.jsxs(Ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Dg,{className:"h-4 w-4"}),"Create Project"]})]})]}),h.jsx(vs,{children:g&&h.jsx(Ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>v(!1),children:h.jsxs(Ee.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-xl p-6 w-full max-w-md mx-4",onClick:P=>P.stopPropagation(),children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Create New Project"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Name"}),h.jsx("input",{type:"text",value:_,onChange:P=>T(P.target.value),placeholder:"Enter project name...",className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Type"}),h.jsxs("select",{value:I,onChange:P=>N(P.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"web",children:"Web Application"}),h.jsx("option",{value:"mobile",children:"Mobile Application"}),h.jsx("option",{value:"dashboard",children:"Dashboard"})]})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-foreground hover:bg-muted transition-colors",children:"Cancel"}),h.jsx(Ee.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create"})]})]})})}),C&&h.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>F(null)})]})},q9=()=>{const{theme:t,setTheme:e}=iy(),[n,r]=D.useState("appearance"),[i,a]=D.useState({appearance:{theme:t,fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),[l,u]=D.useState(!0),[p,m]=D.useState(!1);D.useEffect(()=>{const k=localStorage.getItem("dreambuild-settings");k&&a(JSON.parse(k)),u(!1)},[]),D.useEffect(()=>{m(!0)},[i]);const g=()=>{localStorage.setItem("dreambuild-settings",JSON.stringify(i)),m(!1),Re.success("Settings saved successfully!")},v=()=>{a({appearance:{theme:"system",fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),Re.success("Settings reset to defaults!")},_=()=>{const k=JSON.stringify(i,null,2),H=new Blob([k],{type:"application/json"}),X=URL.createObjectURL(H),Q=document.createElement("a");Q.href=X,Q.download="dreambuild-settings.json",Q.click(),URL.revokeObjectURL(X),Re.success("Settings exported!")},T=k=>{const H=k.target.files[0];if(H){const X=new FileReader;X.onload=Q=>{try{const S=JSON.parse(Q.target.result);a(S),Re.success("Settings imported successfully!")}catch{Re.error("Invalid settings file!")}},X.readAsText(H)}},I=(k,H,X)=>{a(Q=>({...Q,[k]:{...Q[k],[H]:X}})),k==="appearance"&&H==="theme"&&e(X)},N=[{id:"appearance",name:"Appearance",icon:vL},{id:"editor",name:"Editor",icon:ur},{id:"ai",name:"AI Settings",icon:ms},{id:"notifications",name:"Notifications",icon:sL},{id:"privacy",name:"Privacy",icon:Mh}],C=({title:k,description:H,children:X,warning:Q})=>h.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h3",{className:"font-medium text-foreground",children:k}),Q&&h.jsx(ZO,{className:"h-4 w-4 text-yellow-500",title:Q})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:H})]}),h.jsx("div",{className:"ml-4",children:X})]}),F=({checked:k,onChange:H,disabled:X=!1})=>h.jsx("button",{onClick:()=>H(!k),disabled:X,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k?"bg-primary":"bg-muted"} ${X?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k?"translate-x-6":"translate-x-1"}`})}),U=()=>{switch(n){case"appearance":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(C,{title:"Theme",description:"Choose your preferred color scheme",children:h.jsxs("select",{value:i.appearance.theme,onChange:k=>I("appearance","theme",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"light",children:"Light"}),h.jsx("option",{value:"dark",children:"Dark"}),h.jsx("option",{value:"system",children:"System"})]})}),h.jsx(C,{title:"Font Size",description:"Adjust the text size throughout the interface",children:h.jsxs("select",{value:i.appearance.fontSize,onChange:k=>I("appearance","fontSize",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"small",children:"Small"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"large",children:"Large"})]})}),h.jsx(C,{title:"Font Family",description:"Choose the font family for the editor",children:h.jsxs("select",{value:i.appearance.fontFamily,onChange:k=>I("appearance","fontFamily",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"system",children:"System Default"}),h.jsx("option",{value:"mono",children:"Monospace"}),h.jsx("option",{value:"sans",children:"Sans Serif"}),h.jsx("option",{value:"serif",children:"Serif"})]})}),h.jsx(C,{title:"Animations",description:"Enable smooth animations and transitions",children:h.jsx(F,{checked:i.appearance.animations,onChange:k=>I("appearance","animations",k)})}),h.jsx(C,{title:"Compact Mode",description:"Reduce spacing for a more compact interface",children:h.jsx(F,{checked:i.appearance.compactMode,onChange:k=>I("appearance","compactMode",k)})})]});case"editor":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(C,{title:"Tab Size",description:"Number of spaces for indentation",children:h.jsxs("select",{value:i.editor.tabSize,onChange:k=>I("editor","tabSize",parseInt(k.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:2,children:"2 spaces"}),h.jsx("option",{value:4,children:"4 spaces"}),h.jsx("option",{value:8,children:"8 spaces"})]})}),h.jsx(C,{title:"Word Wrap",description:"Wrap long lines in the editor",children:h.jsx(F,{checked:i.editor.wordWrap,onChange:k=>I("editor","wordWrap",k)})}),h.jsx(C,{title:"Minimap",description:"Show a minimap of your code",children:h.jsx(F,{checked:i.editor.minimap,onChange:k=>I("editor","minimap",k)})}),h.jsx(C,{title:"Line Numbers",description:"Show line numbers in the editor",children:h.jsx(F,{checked:i.editor.lineNumbers,onChange:k=>I("editor","lineNumbers",k)})}),h.jsx(C,{title:"Auto Save",description:"Automatically save files as you type",children:h.jsx(F,{checked:i.editor.autoSave,onChange:k=>I("editor","autoSave",k)})}),h.jsx(C,{title:"Format on Save",description:"Automatically format code when saving",children:h.jsx(F,{checked:i.editor.formatOnSave,onChange:k=>I("editor","formatOnSave",k)})}),h.jsx(C,{title:"Auto Complete",description:"Enable intelligent code completion",children:h.jsx(F,{checked:i.editor.autoComplete,onChange:k=>I("editor","autoComplete",k)})})]});case"ai":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(C,{title:"Default AI Model",description:"Choose your preferred AI model for code generation",children:h.jsxs("select",{value:i.ai.defaultModel,onChange:k=>I("ai","defaultModel",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"codellama-7b",children:"CodeLlama 7B"}),h.jsx("option",{value:"codellama-13b",children:"CodeLlama 13B"}),h.jsx("option",{value:"starcoder-15b",children:"StarCoder 15B"}),h.jsx("option",{value:"deepseek-coder",children:"DeepSeek Coder"}),h.jsx("option",{value:"wizardcoder-7b",children:"WizardCoder 7B"})]})}),h.jsx(C,{title:"Temperature",description:"Controls randomness in AI responses (0.0 = deterministic, 1.0 = creative)",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:i.ai.temperature,onChange:k=>I("ai","temperature",parseFloat(k.target.value)),className:"w-24"}),h.jsx("span",{className:"text-sm text-muted-foreground w-8",children:i.ai.temperature})]})}),h.jsx(C,{title:"Max Tokens",description:"Maximum number of tokens in AI responses",children:h.jsxs("select",{value:i.ai.maxTokens,onChange:k=>I("ai","maxTokens",parseInt(k.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:1e3,children:"1,000"}),h.jsx("option",{value:2e3,children:"2,000"}),h.jsx("option",{value:4e3,children:"4,000"}),h.jsx("option",{value:8e3,children:"8,000"})]})}),h.jsx(C,{title:"Auto Generate",description:"Automatically generate code suggestions as you type",children:h.jsx(F,{checked:i.ai.autoGenerate,onChange:k=>I("ai","autoGenerate",k)})}),h.jsx(C,{title:"AI Suggestions",description:"Show contextual AI suggestions in the editor",children:h.jsx(F,{checked:i.ai.suggestions,onChange:k=>I("ai","suggestions",k)})})]});case"notifications":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(C,{title:"Project Updates",description:"Get notified when projects are updated",children:h.jsx(F,{checked:i.notifications.projectUpdates,onChange:k=>I("notifications","projectUpdates",k)})}),h.jsx(C,{title:"AI Completions",description:"Get notified when AI completes code generation",children:h.jsx(F,{checked:i.notifications.aiCompletions,onChange:k=>I("notifications","aiCompletions",k)})}),h.jsx(C,{title:"Error Notifications",description:"Get notified about errors and issues",children:h.jsx(F,{checked:i.notifications.errors,onChange:k=>I("notifications","errors",k)})}),h.jsx(C,{title:"Sound Notifications",description:"Play sounds for notifications",children:h.jsx(F,{checked:i.notifications.sound,onChange:k=>I("notifications","sound",k)})}),h.jsx(C,{title:"Email Notifications",description:"Receive notifications via email",children:h.jsx(F,{checked:i.notifications.email,onChange:k=>I("notifications","email",k)})})]});case"privacy":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(C,{title:"Analytics",description:"Help improve DreamBuild by sharing anonymous usage data",children:h.jsx(F,{checked:i.privacy.analytics,onChange:k=>I("privacy","analytics",k)})}),h.jsx(C,{title:"Crash Reports",description:"Automatically send crash reports to help fix bugs",children:h.jsx(F,{checked:i.privacy.crashReports,onChange:k=>I("privacy","crashReports",k)})}),h.jsx(C,{title:"Telemetry",description:"Share performance and usage telemetry",warning:"This may include personal information",children:h.jsx(F,{checked:i.privacy.telemetry,onChange:k=>I("privacy","telemetry",k)})}),h.jsx(C,{title:"Share Usage Statistics",description:"Share anonymous usage statistics with the community",children:h.jsx(F,{checked:i.privacy.shareUsage,onChange:k=>I("privacy","shareUsage",k)})})]});default:return null}};return l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"space-y-3",children:[...Array(5)].map((k,H)=>h.jsx("div",{className:"h-12 bg-muted rounded"},H))})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsx("div",{className:"bg-card/50 rounded-xl p-6",children:h.jsx("div",{className:"space-y-4",children:[...Array(6)].map((k,H)=>h.jsx("div",{className:"h-16 bg-muted rounded"},H))})})})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),h.jsx("p",{className:"text-muted-foreground",children:"Customize your DreamBuild experience and preferences"})]}),h.jsx("div",{className:"flex items-center gap-2",children:p&&h.jsxs(Ee.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200",children:[h.jsx(pS,{className:"h-4 w-4"}),"Save Changes"]})})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:h.jsx("nav",{className:"space-y-2",children:N.map(k=>{const H=k.icon;return h.jsxs("button",{onClick:()=>r(k.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n===k.id?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[h.jsx(H,{className:"h-4 w-4"}),k.name]},k.id)})})}),h.jsxs("div",{className:"mt-6 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:[h.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Data Management"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors",children:[h.jsx(Hc,{className:"h-4 w-4"}),"Export Settings"]}),h.jsxs("label",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors cursor-pointer",children:[h.jsx(yS,{className:"h-4 w-4"}),"Import Settings",h.jsx("input",{type:"file",accept:".json",onChange:T,className:"hidden"})]}),h.jsxs("button",{onClick:v,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[h.jsx(Sf,{className:"h-4 w-4"}),"Reset to Defaults"]})]})]})]}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-border/50",children:h.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[Dr.createElement(N.find(k=>k.id===n)?.icon,{className:"h-5 w-5 text-primary"}),N.find(k=>k.id===n)?.name]})}),h.jsx("div",{className:"divide-y divide-border/50",children:U()})]})})]})]})})};function W9(){return h.jsx(Hk,{children:h.jsx(WO,{children:h.jsx(QO,{children:h.jsx(JA,{children:h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(EL,{}),h.jsx("main",{className:"pt-16",children:h.jsxs(qA,{children:[h.jsx(uo,{path:"/",element:h.jsx(B5,{})}),h.jsx(uo,{path:"/ai-builder",element:h.jsx(B9,{})}),h.jsx(uo,{path:"/dashboard",element:h.jsx(z9,{})}),h.jsx(uo,{path:"/login",element:h.jsx($9,{})}),h.jsx(uo,{path:"/projects",element:h.jsx(H9,{})}),h.jsx(uo,{path:"/settings",element:h.jsx(q9,{})})]})}),h.jsx(TL,{}),h.jsx($k,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--card)",color:"var(--card-foreground)",border:"1px solid var(--border)"}}})]})})})})})}ZC.createRoot(document.getElementById("root")).render(h.jsx(D.StrictMode,{children:h.jsx(W9,{})}));
//# sourceMappingURL=index-fX92RUCD.js.map
