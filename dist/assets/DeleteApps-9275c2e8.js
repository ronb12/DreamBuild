import{d as i,a as t,j as a}from"./index-dcd6846d.js";import{r as l}from"./react-vendor-84e09ada.js";import{p as w,t as v,y as g,j as h}from"./firebase-24a1fa17.js";import"https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";import"./monaco-editor-bb996daf.js";import"./router-vendor-e414a864.js";import"./ui-vendor-4e0271b3.js";const E=()=>{const[r,u]=l.useState([]),[b,x]=l.useState(!0),[d,c]=l.useState(!1),[y,p]=l.useState(0);l.useEffect(()=>{o()},[]);const o=async()=>{try{const e=w(i,"apps"),n=(await v(e)).docs.map(m=>({id:m.id,...m.data()}));u(n)}catch(e){console.error("❌ Error loading apps:",e)}finally{x(!1)}},f=async()=>{if(confirm("Are you sure you want to delete ALL apps? This cannot be undone!")){c(!0),p(0);try{for(const e of r)try{await g(h(i,"apps",e.id)),console.log(`✅ Deleted app: ${e.name||"Unknown"} (${e.id})`),p(s=>s+1)}catch(s){console.error(`❌ Failed to delete app ${e.id}:`,s)}await o()}catch(e){console.error("❌ Error deleting apps:",e)}finally{c(!1)}}},N=async(e,s)=>{if(confirm(`Are you sure you want to delete "${s||"Unknown"}"?`))try{await g(h(i,"apps",e)),console.log(`✅ Deleted app: ${s} (${e})`),await o()}catch(n){console.error(`❌ Failed to delete app ${e}:`,n)}};return b?t("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:a("div",{className:"text-center",children:[t("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t("p",{className:"text-gray-600",children:"Loading apps..."})]})}):t("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:t("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[t("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Delete Apps"}),a("div",{className:"mb-6",children:[a("p",{className:"text-gray-600 mb-4",children:["Found ",r.length," apps in the gallery. You can delete individual apps or all apps at once."]}),a("div",{className:"flex gap-4",children:[t("button",{onClick:f,disabled:d||r.length===0,className:"bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:d?`Deleting... (${y}/${r.length})`:"Delete All Apps"}),t("button",{onClick:o,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh List"})]})]}),r.length===0?a("div",{className:"text-center py-12",children:[t("div",{className:"text-6xl mb-4",children:"🎉"}),t("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"All apps deleted!"}),t("p",{className:"text-gray-600",children:"The gallery is now empty."})]}):t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>a("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[t("h3",{className:"font-semibold text-gray-900 mb-2",children:e.name||"Untitled Project"}),a("p",{className:"text-sm text-gray-600 mb-2",children:["ID: ",e.id]}),a("p",{className:"text-sm text-gray-600 mb-4",children:["Created: ",e.createdAt?new Date(e.createdAt.seconds*1e3).toLocaleDateString():"Unknown"]}),t("button",{onClick:()=>N(e.id,e.name),className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition-colors text-sm",children:"Delete"})]},e.id))})]})})})};export{E as default};
