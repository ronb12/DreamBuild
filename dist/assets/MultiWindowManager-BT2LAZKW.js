import{u as $,j as e,z as x}from"./index-LBKmsDph.js";import{r as a}from"./react-vendor-JLUQ8ThL.js";import{L as q}from"./router-vendor-BXkIxita.js";import{R as F,a as k,F as G,b as L,C as K,P as X,T as Y,c as _,I as J,A as Q,d as ee}from"./Resizable-DVcBFSkx.js";import{C as M,F as ne,E as O,j as R,k as S,S as H,m as T,K as C,Y as ie,ak as re,$ as se,M as z,X as P,l as le,al as oe,am as de,an as te}from"./ui-vendor-DjXKHw3V.js";import"https://www.gstatic.com/firebasejs/10.14.1/firebase-app.js";import"https://www.gstatic.com/firebasejs/10.14.1/firebase-auth.js";import"./monaco-editor-CKIEnvzl.js";import"./firebase-HQh6JyMG.js";import"./firebaseAppService-Cw6Qe1GD.js";import"./simpleAIService-D_3TONB8.js";import"./utils-vendor-ngrFHoWO.js";class ae{constructor(){this.windows=new Map,this.activeWindowId=null,this.windowCounter=0,this.listeners=new Map}createWindow(n=null,i={}){console.log("🪟 MultiWindowService.createWindow called with:",{projectData:n,options:i});const r=`window_${++this.windowCounter}`;console.log("🪟 Generated window ID:",r);const l={id:r,project:n||this.createDefaultProject(),isActive:!1,isMinimized:!1,isMaximized:!1,position:i.position||{x:100,y:100},size:i.size||{width:1200,height:800},zIndex:this.getNextZIndex(),lastAccessed:new Date,tabs:["editor","preview","terminal","conversation"],activeTab:"editor",isDirty:!1,isFullscreen:!1,theme:i.theme||"default",layout:i.layout||"default"};return console.log("🪟 Window object created:",l),this.windows.set(r,l),console.log("🪟 Window added to Map. Total windows:",this.windows.size),this.setActiveWindow(r),console.log("🪟 Window set as active:",r),this.notifyListeners("windowCreated",{windowId:r,window:l}),console.log(`🪟 Window created: ${r}`),r}createDefaultProject(){return{id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}}setActiveWindow(n){return this.windows.has(n)?(this.activeWindowId&&this.windows.has(this.activeWindowId)&&(this.windows.get(this.activeWindowId).isActive=!1),this.activeWindowId=n,this.windows.get(n).isActive=!0,this.windows.get(n).lastAccessed=new Date,this.windows.get(n).zIndex=this.getNextZIndex(),this.notifyListeners("windowActivated",{windowId:n}),console.log(`🪟 Window activated: ${n}`),!0):(console.error(`Window ${n} not found`),!1)}getActiveWindow(){return this.activeWindowId?this.windows.get(this.activeWindowId):null}getAllWindows(){return Array.from(this.windows.values())}getWindow(n){return this.windows.get(n)}closeWindow(n){if(!this.windows.has(n))return console.error(`Window ${n} not found`),!1;const i=this.windows.get(n);if(i.isDirty)return this.notifyListeners("windowCloseRequested",{windowId:n,window:i}),!1;if(this.windows.delete(n),this.activeWindowId===n){const r=this.getAllWindows();if(r.length>0){const l=r.reduce((c,p)=>p.lastAccessed>c.lastAccessed?p:c);this.setActiveWindow(l.id)}else this.activeWindowId=null}return this.notifyListeners("windowClosed",{windowId:n}),console.log(`🪟 Window closed: ${n}`),!0}forceCloseWindow(n){if(!this.windows.has(n))return!1;if(this.windows.delete(n),this.activeWindowId===n){const i=this.getAllWindows();if(i.length>0){const r=i.reduce((l,c)=>c.lastAccessed>l.lastAccessed?c:l);this.setActiveWindow(r.id)}else this.activeWindowId=null}return this.notifyListeners("windowClosed",{windowId:n}),!0}updateWindowProject(n,i){const r=this.windows.get(n);return r?(r.project={...r.project,...i},r.isDirty=!0,r.lastModified=new Date,this.notifyListeners("windowProjectUpdated",{windowId:n,project:r.project}),!0):(console.error(`Window ${n} not found`),!1)}updateWindowState(n,i){const r=this.windows.get(n);return r?(Object.assign(r,i),r.lastAccessed=new Date,this.notifyListeners("windowStateUpdated",{windowId:n,state:i}),!0):(console.error(`Window ${n} not found`),!1)}minimizeWindow(n){return this.updateWindowState(n,{isMinimized:!0})}maximizeWindow(n){return this.updateWindowState(n,{isMaximized:!0})}restoreWindow(n){return this.updateWindowState(n,{isMinimized:!1,isMaximized:!1})}toggleFullscreen(n){const i=this.windows.get(n);return i?(i.isFullscreen=!i.isFullscreen,i.lastAccessed=new Date,this.notifyListeners("windowFullscreenToggled",{windowId:n,isFullscreen:i.isFullscreen}),!0):!1}moveWindow(n,i){return this.updateWindowState(n,{position:i})}resizeWindow(n,i){return this.updateWindowState(n,{size:i})}switchTab(n,i){const r=this.windows.get(n);return r&&r.tabs.includes(i)?(r.activeTab=i,r.lastAccessed=new Date,this.notifyListeners("windowTabSwitched",{windowId:n,tabId:i}),!0):!1}addTab(n,i){const r=this.windows.get(n);return r?r.tabs.includes(i)?!1:(r.tabs.push(i),r.lastAccessed=new Date,this.notifyListeners("windowTabAdded",{windowId:n,tabId:i}),!0):!1}removeTab(n,i){const r=this.windows.get(n);if(!r)return!1;const l=r.tabs.indexOf(i);return l>-1?(r.tabs.splice(l,1),r.activeTab===i&&r.tabs.length>0&&(r.activeTab=r.tabs[Math.max(0,l-1)]),r.lastAccessed=new Date,this.notifyListeners("windowTabRemoved",{windowId:n,tabId:i}),!0):!1}markWindowDirty(n,i=!0){return this.updateWindowState(n,{isDirty:i})}async saveWindowProject(n,i){const r=this.windows.get(n);return r?(r.project={...r.project,...i},r.isDirty=!1,r.lastModified=new Date,this.notifyListeners("windowProjectSaved",{windowId:n,project:r.project}),!0):!1}duplicateWindow(n){const i=this.windows.get(n);if(!i)return null;const r=this.createWindow({...i.project,name:`${i.project.name} (Copy)`},{position:{x:i.position.x+30,y:i.position.y+30},size:i.size,theme:i.theme,layout:i.layout}),l=this.windows.get(r);return l.tabs=[...i.tabs],l.activeTab=i.activeTab,this.notifyListeners("windowDuplicated",{originalWindowId:n,newWindowId:r}),r}getNextZIndex(){const n=this.getAllWindows();return Math.max(...n.map(r=>r.zIndex),0)+1}bringToFront(n){const i=this.windows.get(n);return i?(i.zIndex=this.getNextZIndex(),i.lastAccessed=new Date,this.notifyListeners("windowBroughtToFront",{windowId:n}),!0):!1}arrangeWindows(n="cascade"){const i=this.getAllWindows();switch(n){case"cascade":this.arrangeCascade(i);break;case"tile":this.arrangeTile(i);break;case"minimize":i.forEach(r=>this.minimizeWindow(r.id));break;case"maximize":i.forEach(r=>this.maximizeWindow(r.id));break}this.notifyListeners("windowsArranged",{arrangement:n})}arrangeCascade(n){n.forEach((r,l)=>{this.moveWindow(r.id,{x:100+l*30,y:100+l*30}),this.restoreWindow(r.id)})}arrangeTile(n){if(n.length===0)return;const i=window.innerWidth,r=window.innerHeight,l=Math.ceil(Math.sqrt(n.length)),c=Math.ceil(n.length/l),p=Math.floor(i/l),j=Math.floor(r/c);n.forEach((h,D)=>{const m=Math.floor(D/l),g=D%l;this.moveWindow(h.id,{x:g*p,y:m*j}),this.resizeWindow(h.id,{width:p,height:j}),this.restoreWindow(h.id)})}addEventListener(n,i){this.listeners.has(n)||this.listeners.set(n,new Set),this.listeners.get(n).add(i)}removeEventListener(n,i){this.listeners.has(n)&&this.listeners.get(n).delete(i)}notifyListeners(n,i){this.listeners.has(n)&&this.listeners.get(n).forEach(r=>{try{r(i)}catch(l){console.error(`Error in window event listener for ${n}:`,l)}})}getStats(){const n=this.getAllWindows();return{totalWindows:n.length,activeWindows:n.filter(i=>!i.isMinimized).length,minimizedWindows:n.filter(i=>i.isMinimized).length,dirtyWindows:n.filter(i=>i.isDirty).length,totalProjects:new Set(n.map(i=>i.project.id)).size}}cleanup(){this.windows.clear(),this.activeWindowId=null,this.windowCounter=0,this.listeners.clear()}}const d=new ae,ue=({windowId:w,project:n,activeTab:i,onProjectUpdate:r,onTabChange:l})=>{const{currentProject:c,updateFile:p,switchFile:j,updateConfig:h}=$(),[D,m]=a.useState(!1),[g,y]=a.useState(!1),u=n||c,N=i||"editor",E=[{id:"editor",label:"Code Editor",icon:M,description:"Edit your code with live preview"},{id:"preview",label:"Live Preview",icon:O,description:"View your application in real-time"},{id:"terminal",label:"Terminal",icon:R,description:"Command line interface"},{id:"conversation",label:"AI Assistant",icon:S,description:"Continuous conversation with AI for iterative development"},{id:"workspace",label:"Advanced Workspace",icon:H,description:"Full-featured workspace with collaboration, visual editor, and deployment"}],V=t=>{t==="workspace"?N==="workspace"&&D?(m(!1),l?.("editor")):(m(!0),l?.(t)):(l?.(t),m(!1))},B=a.useCallback((t,f)=>{if(p(t,f),w&&r){const v={...u,files:{...u.files,[t]:f},lastModified:new Date};r(v)}},[w,r,u,p]),A=a.useCallback(t=>{if(h(t),w&&r){const f={...u,config:{...u.config,...t},lastModified:new Date};r(f)}},[w,r,u,h]),U=a.useCallback(t=>{if(j(t),w&&r){const f={...u,activeFile:t,lastModified:new Date};r(f)}},[w,r,u,j]);return a.useEffect(()=>{w&&d.markWindowDirty(w,!0)},[u.files,u.config,w]),e.jsxDEV("div",{className:"h-full bg-background flex flex-col",children:[e.jsxDEV("div",{className:"flex items-center justify-between px-8 py-4 bg-gradient-to-r from-card/95 to-background/95 backdrop-blur-xl border-b border-border/60 shadow-lg shadow-primary/5 mt-16",children:[e.jsxDEV("div",{className:"flex items-center gap-6",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-light rounded-xl flex items-center justify-center shadow-lg shadow-primary/25",children:e.jsxDEV(M,{className:"h-5 w-5 text-primary-foreground"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:119,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:118,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-xl font-bold text-foreground",children:"AI Builder"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:122,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-xs text-muted-foreground",children:"Build with artificial intelligence"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:123,columnNumber:15},void 0),e.jsxDEV("div",{className:"hidden",children:[e.jsxDEV("span",{children:"Advanced Editor with Monaco Editor integration"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:126,columnNumber:17},void 0),e.jsxDEV("span",{children:"Syntax highlighting and color themes"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:127,columnNumber:17},void 0),e.jsxDEV("span",{children:"Git integration and version control"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:128,columnNumber:17},void 0),e.jsxDEV("span",{children:"Repository management and commit tracking"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:129,columnNumber:17},void 0),e.jsxDEV("span",{children:"Branch and merge operations"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:130,columnNumber:17},void 0),e.jsxDEV("span",{children:"Advanced keyboard shortcuts and hotkeys"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:131,columnNumber:17},void 0),e.jsxDEV("span",{children:"Keyboard accelerators and key bindings"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:132,columnNumber:17},void 0),e.jsxDEV("span",{children:"Version control and change tracking"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:133,columnNumber:17},void 0),e.jsxDEV("span",{children:"Advanced code completion and IntelliSense"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:134,columnNumber:17},void 0),e.jsxDEV("span",{children:"Real-time collaboration and team features"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:135,columnNumber:17},void 0),e.jsxDEV("span",{children:"Multi-language support and syntax highlighting"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:136,columnNumber:17},void 0),e.jsxDEV("span",{children:"Error detection and validation"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:137,columnNumber:17},void 0),e.jsxDEV("span",{children:"Code formatting and beautification"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:138,columnNumber:17},void 0),e.jsxDEV("span",{children:"File management and download capabilities"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:139,columnNumber:17},void 0),e.jsxDEV("span",{children:"Advanced debugging and step-through"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:140,columnNumber:17},void 0),e.jsxDEV("span",{children:"AI assistance and intelligent suggestions"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:141,columnNumber:17},void 0),e.jsxDEV("span",{children:"Professional development environment"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:142,columnNumber:17},void 0),e.jsxDEV("span",{children:"Enterprise-grade code editor"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:143,columnNumber:17},void 0),e.jsxDEV("span",{children:"Premium advanced features"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:144,columnNumber:17},void 0),e.jsxDEV("span",{children:"Pro-level development tools"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:145,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:124,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:121,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV(q,{to:"/templates",className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-primary to-primary-light text-primary-foreground rounded-xl hover:from-primary-dark hover:to-primary transition-all duration-300 text-sm font-semibold shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30",title:"Browse Templates",children:[e.jsxDEV(ne,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:154,columnNumber:13},void 0),"Templates"]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:149,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:116,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-1 bg-muted/40 p-1.5 rounded-2xl border border-border/60 shadow-inner",children:E.map(t=>{const f=t.icon,v=N===t.id;return e.jsxDEV(T.button,{onClick:()=>V(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ${v?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/60"}`,whileHover:{scale:1.02},whileTap:{scale:.98},title:t.description,children:[e.jsxDEV(f,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:177,columnNumber:17},void 0),t.label]},t.id,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:165,columnNumber:15},void 0)})},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:160,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:114,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 overflow-hidden p-4",children:e.jsxDEV(F,{direction:"horizontal",className:"h-full w-full rounded-2xl border border-border/60 shadow-xl shadow-primary/10",children:[e.jsxDEV(k,{defaultSize:70,minSize:40,children:e.jsxDEV(F,{direction:"vertical",children:[e.jsxDEV(k,{defaultSize:15,minSize:10,maxSize:25,children:e.jsxDEV("div",{className:"h-full bg-card/80 backdrop-blur-sm border-b border-border/60 rounded-t-2xl shadow-inner overflow-hidden",children:e.jsxDEV(G,{project:u,onFileSwitch:U,onFileUpdate:B},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:194,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:193,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:192,columnNumber:15},void 0),e.jsxDEV(L,{withHandle:!0},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:201,columnNumber:15},void 0),e.jsxDEV(k,{defaultSize:85,children:e.jsxDEV("div",{className:"h-full bg-card/80 backdrop-blur-sm rounded-b-2xl shadow-lg shadow-primary/5 overflow-hidden",children:[N==="editor"&&e.jsxDEV(K,{project:u,onFileUpdate:B},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:206,columnNumber:21},void 0),N==="preview"&&e.jsxDEV(X,{project:u},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:212,columnNumber:21},void 0),N==="terminal"&&e.jsxDEV(Y,{},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:216,columnNumber:54},void 0),N==="conversation"&&e.jsxDEV(_,{project:u},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:218,columnNumber:21},void 0),N==="workspace"&&e.jsxDEV(J,{},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:222,columnNumber:55},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:204,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:203,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:190,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:189,columnNumber:11},void 0),e.jsxDEV(L,{withHandle:!0},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:228,columnNumber:11},void 0),e.jsxDEV(k,{defaultSize:30,minSize:15,maxSize:60,children:e.jsxDEV("div",{className:"h-full bg-card/80 backdrop-blur-sm border border-border/60 rounded-2xl shadow-lg shadow-primary/5 overflow-hidden flex flex-col hover:shadow-xl hover:shadow-primary/10 transition-all duration-300",children:[e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(S,{className:"h-4 w-4 text-primary"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:236,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-sm font-medium text-foreground",children:"AI Assistant"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:237,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:235,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:240,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xs text-muted-foreground",children:"Online"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:241,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:239,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:234,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex-1 overflow-hidden",children:e.jsxDEV(Q,{project:u,onProjectUpdate:A},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:247,columnNumber:17},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:246,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:232,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:231,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:187,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:186,columnNumber:7},void 0),e.jsxDEV(ee,{isVisible:g,onClose:()=>y(!1),onTemplateSelect:(t,f)=>{if(y(!1),r){const v={...u,files:{...u.files,...f},lastModified:new Date};r(v)}}},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:259,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/WindowAwareAIBuilder.jsx",lineNumber:112,columnNumber:5},void 0)},je=()=>{console.log("🪟 MultiWindowManager component rendering...");const{currentProject:w,projects:n,loadProject:i}=$(),[r,l]=a.useState([]),[c,p]=a.useState(null),[j,h]=a.useState(null),[D,m]=a.useState(!1);console.log("🪟 Current state:",{windows:r.length,activeWindowId:c,isWindowMenuOpen:D}),console.log("🪟 Windows array:",r),a.useEffect(()=>{console.log("🪟 MultiWindowManager useEffect running..."),console.log("🪟 Service instance:",d);const s=()=>{console.log("🪟 Updating windows state...");const b=d.getAllWindows(),W=d.activeWindowId;console.log("🪟 Current windows:",b.length,"Active:",W),console.log("🪟 Windows data:",b),l(b),p(W),console.log("🪟 State set - windows:",b.length,"active:",W)};s();const o=b=>{console.log("🪟 Window event received:",b),s()};return console.log("🪟 Adding event listeners..."),d.addEventListener("windowCreated",o),d.addEventListener("windowClosed",o),d.addEventListener("windowActivated",o),d.addEventListener("windowStateUpdated",o),()=>{d.removeEventListener("windowCreated",o),d.removeEventListener("windowClosed",o),d.removeEventListener("windowActivated",o),d.removeEventListener("windowStateUpdated",o)}},[]);const g=a.useCallback(async(s=null)=>{try{console.log("🪟 Creating new window...",s),console.log("🪟 Service before creation:",d),console.log("🪟 Service methods:",Object.getOwnPropertyNames(Object.getPrototypeOf(d)));const o=d.createWindow(s);console.log("🪟 Window created with ID:",o),s&&s.id&&await i(s.id);const b=d.getAllWindows();return console.log("🪟 All windows after creation:",b),l(b),p(o),console.log("🪟 State updated - windows:",b.length,"active:",o),x.success("New window created!"),o}catch(o){console.error("Failed to create window:",o),x.error("Failed to create window")}},[i]),y=a.useCallback(async s=>{try{const o=d.createWindow(s);return await i(s.id),x.success(`Opened "${s.name}" in new window!`),o}catch(o){console.error("Failed to open project in new window:",o),x.error("Failed to open project in new window")}},[i]),u=a.useCallback(s=>{const o=d.getWindow(s);o&&o.isDirty?o.confirm("This window has unsaved changes. Are you sure you want to close it?")&&(d.forceCloseWindow(s),x.success("Window closed")):(d.closeWindow(s),x.success("Window closed"))},[]),N=a.useCallback(s=>{d.setActiveWindow(s),x.success("Switched to window")},[]);a.useCallback(s=>{d.duplicateWindow(s)&&x.success("Window duplicated!")},[]);const E=a.useCallback(s=>{d.minimizeWindow(s)},[]),V=a.useCallback(s=>{d.maximizeWindow(s)},[]),B=a.useCallback(s=>{d.restoreWindow(s)},[]);a.useCallback(s=>{d.toggleFullscreen(s)},[]);const A=a.useCallback(s=>{d.arrangeWindows(s),x.success(`Windows arranged: ${s}`)},[]),U=s=>({editor:M,preview:O,terminal:R,conversation:S,workspace:H})[s]||M,t=s=>s.config?.appType==="mobile"?"📱":s.config?.appType==="desktop"?"🖥️":s.config?.appType==="backend"?"⚙️":"🌐",f=s=>{const o=s.id===c,b=U(s.activeTab),W=t(s.project);return e.jsxDEV(T.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`fixed bg-card border border-border rounded-lg shadow-xl overflow-hidden ${o?"ring-2 ring-primary":""} ${s.isMinimized?"hidden":""}`,style:{left:s.position.x,top:s.position.y,width:s.size.width,height:s.size.height,zIndex:s.zIndex},children:[e.jsxDEV("div",{className:"flex items-center justify-between bg-muted/50 px-3 py-2 border-b border-border",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"text-lg",children:W},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:223,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV(b,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:225,columnNumber:15},void 0),e.jsxDEV("span",{className:"text-sm font-medium truncate max-w-32",children:s.project.name},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:226,columnNumber:15},void 0),s.isDirty&&e.jsxDEV("span",{className:"text-orange-500",children:"●"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:229,columnNumber:34},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:224,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:222,columnNumber:11},void 0),e.jsxDEV("div",{className:"flex items-center gap-1",children:[e.jsxDEV("button",{onClick:()=>E(s.id),className:"p-1 hover:bg-muted rounded transition-colors",title:"Minimize",children:e.jsxDEV(oe,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:239,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:234,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>s.isMaximized?B(s.id):V(s.id),className:"p-1 hover:bg-muted rounded transition-colors",title:s.isMaximized?"Restore":"Maximize",children:s.isMaximized?e.jsxDEV(de,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:247,columnNumber:37},void 0):e.jsxDEV(te,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:247,columnNumber:73},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:242,columnNumber:13},void 0),e.jsxDEV("button",{onClick:()=>u(s.id),className:"p-1 hover:bg-red-500 hover:text-white rounded transition-colors",title:"Close",children:e.jsxDEV(P,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:255,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:250,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:233,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:221,columnNumber:9},void 0),e.jsxDEV("div",{className:"h-full overflow-hidden",children:e.jsxDEV(ue,{windowId:s.id,project:s.project,activeTab:s.activeTab,onProjectUpdate:I=>{d.updateWindowProject(s.id,I)},onTabChange:I=>{d.switchTab(s.id,I)}},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:262,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:261,columnNumber:9},void 0)]},s.id,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:204,columnNumber:7},void 0)},v=()=>D?e.jsxDEV(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-12 right-4 bg-card border border-border rounded-lg shadow-xl z-50 min-w-64",children:e.jsxDEV("div",{className:"p-2",children:[e.jsxDEV("div",{className:"text-xs font-semibold text-muted-foreground px-2 py-1 mb-2",children:"Window Management"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:290,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{g(),m(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-muted rounded text-sm",children:[e.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:301,columnNumber:13},void 0),"New Window"]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:294,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{A("cascade"),m(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-muted rounded text-sm",children:[e.jsxDEV(z,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:312,columnNumber:13},void 0),"Cascade Windows"]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:305,columnNumber:11},void 0),e.jsxDEV("button",{onClick:()=>{A("tile"),m(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-muted rounded text-sm",children:[e.jsxDEV(z,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:323,columnNumber:13},void 0),"Tile Windows"]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:316,columnNumber:11},void 0),e.jsxDEV("div",{className:"border-t border-border my-2"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:327,columnNumber:11},void 0),e.jsxDEV("div",{className:"text-xs font-semibold text-muted-foreground px-2 py-1 mb-2",children:"Open Project in New Window"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:329,columnNumber:11},void 0),n.slice(0,5).map(s=>e.jsxDEV("button",{onClick:()=>{y(s),m(!1)},className:"w-full flex items-center gap-2 px-2 py-1.5 hover:bg-muted rounded text-sm",children:[e.jsxDEV(le,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:342,columnNumber:15},void 0),e.jsxDEV("span",{className:"truncate",children:s.name},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:343,columnNumber:15},void 0)]},s.id,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:334,columnNumber:13},void 0))]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:289,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:283,columnNumber:7},void 0):null,Z=()=>r.length===0?null:e.jsxDEV("div",{className:"flex items-center gap-1 bg-muted/30 rounded-lg p-1",children:r.map(s=>e.jsxDEV("button",{onClick:()=>N(s.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs transition-colors ${s.id===c?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:[e.jsxDEV("span",{className:"text-sm",children:t(s.project)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:367,columnNumber:13},void 0),e.jsxDEV("span",{className:"truncate max-w-20",children:s.project.name},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:368,columnNumber:13},void 0),s.isDirty&&e.jsxDEV("span",{className:"text-orange-500",children:"●"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:369,columnNumber:32},void 0),e.jsxDEV("button",{onClick:o=>{o.stopPropagation(),u(s.id)},className:"hover:bg-red-500 hover:text-white rounded p-0.5",children:e.jsxDEV(P,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:377,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:370,columnNumber:13},void 0)]},s.id,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:358,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:356,columnNumber:7},void 0);return e.jsxDEV("div",{className:"h-screen bg-background flex flex-col",style:{paddingTop:"64px"},children:[e.jsxDEV("div",{className:"flex items-center justify-between px-4 py-2 bg-muted/30 border-b border-border",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("h1",{className:"text-lg font-semibold",children:"DreamBuild Multi-Window"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:390,columnNumber:11},void 0),Z()]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:389,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),console.log("🪟 New Window button clicked!");try{console.log("🪟 Calling createNewWindow..."),g(),console.log("🪟 createNewWindow called successfully")}catch(o){console.error("🪟 Error calling createNewWindow:",o)}},className:"flex items-center gap-1 px-3 py-1.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm",type:"button",children:[e.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:411,columnNumber:13},void 0),"New Window"]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:395,columnNumber:11},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("button",{onClick:()=>m(!D),className:"flex items-center gap-1 px-3 py-1.5 bg-muted hover:bg-muted/80 rounded-lg transition-colors text-sm",children:[e.jsxDEV(ie,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:420,columnNumber:15},void 0),e.jsxDEV(re,{className:"h-3 w-3"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:421,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:416,columnNumber:13},void 0),v()]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:415,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:394,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:388,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 relative overflow-hidden",children:[e.jsxDEV(se,{children:r.map(s=>f(s))},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:430,columnNumber:9},void 0),r.length===0&&e.jsxDEV("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsxDEV(z,{className:"h-16 w-16 text-muted-foreground mb-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:437,columnNumber:13},void 0),e.jsxDEV("h2",{className:"text-xl font-semibold mb-2",children:"No Windows Open"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:438,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-muted-foreground mb-4",children:"Create a new window to start working on your projects"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:439,columnNumber:13},void 0),e.jsxDEV("button",{onClick:s=>{s.preventDefault(),s.stopPropagation(),console.log("🪟 Create New Window button clicked!"),g()},className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",type:"button",children:[e.jsxDEV(C,{className:"h-4 w-4"},void 0,!1,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:452,columnNumber:15},void 0),"Create New Window"]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:442,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:436,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:429,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/ronellbradley/Desktop/DreamBuild/src/components/MultiWindowManager.jsx",lineNumber:386,columnNumber:5},void 0)};export{je as default};
