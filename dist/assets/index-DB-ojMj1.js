function tC(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function nC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Am={exports:{}},pc={},km={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function rC(){if(Xx)return $e;Xx=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function C(V,Z,ke){this.props=V,this.context=Z,this.refs=R,this.updater=ke||S}C.prototype.isReactComponent={},C.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=C.prototype;function B(V,Z,ke){this.props=V,this.context=Z,this.refs=R,this.updater=ke||S}var I=B.prototype=new F;I.constructor=B,A(I,C.prototype),I.isPureReactComponent=!0;var H=Array.isArray,X=Object.prototype.hasOwnProperty,G={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(V,Z,ke){var Se,Le={},Ve=null,Ge=null;if(Z!=null)for(Se in Z.ref!==void 0&&(Ge=Z.ref),Z.key!==void 0&&(Ve=""+Z.key),Z)X.call(Z,Se)&&!k.hasOwnProperty(Se)&&(Le[Se]=Z[Se]);var ee=arguments.length-2;if(ee===1)Le.children=ke;else if(1<ee){for(var he=Array(ee),de=0;de<ee;de++)he[de]=arguments[de+2];Le.children=he}if(V&&V.defaultProps)for(Se in ee=V.defaultProps,ee)Le[Se]===void 0&&(Le[Se]=ee[Se]);return{$$typeof:n,type:V,key:Ve,ref:Ge,props:Le,_owner:G.current}}function P(V,Z){return{$$typeof:n,type:V.type,key:Z,ref:V.ref,props:V.props,_owner:V._owner}}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function L(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ke){return Z[ke]})}var $=/\/+/g;function D(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Z.toString(36)}function be(V,Z,ke,Se,Le){var Ve=typeof V;(Ve==="undefined"||Ve==="boolean")&&(V=null);var Ge=!1;if(V===null)Ge=!0;else switch(Ve){case"string":case"number":Ge=!0;break;case"object":switch(V.$$typeof){case n:case e:Ge=!0}}if(Ge)return Ge=V,Le=Le(Ge),V=Se===""?"."+D(Ge,0):Se,H(Le)?(ke="",V!=null&&(ke=V.replace($,"$&/")+"/"),be(Le,Z,ke,"",function(de){return de})):Le!=null&&(M(Le)&&(Le=P(Le,ke+(!Le.key||Ge&&Ge.key===Le.key?"":(""+Le.key).replace($,"$&/")+"/")+V)),Z.push(Le)),1;if(Ge=0,Se=Se===""?".":Se+":",H(V))for(var ee=0;ee<V.length;ee++){Ve=V[ee];var he=Se+D(Ve,ee);Ge+=be(Ve,Z,ke,he,Le)}else if(he=b(V),typeof he=="function")for(V=he.call(V),ee=0;!(Ve=V.next()).done;)Ve=Ve.value,he=Se+D(Ve,ee++),Ge+=be(Ve,Z,ke,he,Le);else if(Ve==="object")throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ge}function re(V,Z,ke){if(V==null)return V;var Se=[],Le=0;return be(V,Se,"","",function(Ve){return Z.call(ke,Ve,Le++)}),Se}function ie(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ke){(V._status===0||V._status===-1)&&(V._status=1,V._result=ke)},function(ke){(V._status===0||V._status===-1)&&(V._status=2,V._result=ke)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Ce={current:null},ae={transition:null},ye={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ae,ReactCurrentOwner:G};function pe(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:re,forEach:function(V,Z,ke){re(V,function(){Z.apply(this,arguments)},ke)},count:function(V){var Z=0;return re(V,function(){Z++}),Z},toArray:function(V){return re(V,function(Z){return Z})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},$e.Component=C,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=B,$e.StrictMode=r,$e.Suspense=f,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,$e.act=pe,$e.cloneElement=function(V,Z,ke){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Se=A({},V.props),Le=V.key,Ve=V.ref,Ge=V._owner;if(Z!=null){if(Z.ref!==void 0&&(Ve=Z.ref,Ge=G.current),Z.key!==void 0&&(Le=""+Z.key),V.type&&V.type.defaultProps)var ee=V.type.defaultProps;for(he in Z)X.call(Z,he)&&!k.hasOwnProperty(he)&&(Se[he]=Z[he]===void 0&&ee!==void 0?ee[he]:Z[he])}var he=arguments.length-2;if(he===1)Se.children=ke;else if(1<he){ee=Array(he);for(var de=0;de<he;de++)ee[de]=arguments[de+2];Se.children=ee}return{$$typeof:n,type:V.type,key:Le,ref:Ve,props:Se,_owner:Ge}},$e.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},$e.createElement=T,$e.createFactory=function(V){var Z=T.bind(null,V);return Z.type=V,Z},$e.createRef=function(){return{current:null}},$e.forwardRef=function(V){return{$$typeof:d,render:V}},$e.isValidElement=M,$e.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:ie}},$e.memo=function(V,Z){return{$$typeof:m,type:V,compare:Z===void 0?null:Z}},$e.startTransition=function(V){var Z=ae.transition;ae.transition={};try{V()}finally{ae.transition=Z}},$e.unstable_act=pe,$e.useCallback=function(V,Z){return Ce.current.useCallback(V,Z)},$e.useContext=function(V){return Ce.current.useContext(V)},$e.useDebugValue=function(){},$e.useDeferredValue=function(V){return Ce.current.useDeferredValue(V)},$e.useEffect=function(V,Z){return Ce.current.useEffect(V,Z)},$e.useId=function(){return Ce.current.useId()},$e.useImperativeHandle=function(V,Z,ke){return Ce.current.useImperativeHandle(V,Z,ke)},$e.useInsertionEffect=function(V,Z){return Ce.current.useInsertionEffect(V,Z)},$e.useLayoutEffect=function(V,Z){return Ce.current.useLayoutEffect(V,Z)},$e.useMemo=function(V,Z){return Ce.current.useMemo(V,Z)},$e.useReducer=function(V,Z,ke){return Ce.current.useReducer(V,Z,ke)},$e.useRef=function(V){return Ce.current.useRef(V)},$e.useState=function(V){return Ce.current.useState(V)},$e.useSyncExternalStore=function(V,Z,ke){return Ce.current.useSyncExternalStore(V,Z,ke)},$e.useTransition=function(){return Ce.current.useTransition()},$e.version="18.3.1",$e}var Zx;function fy(){return Zx||(Zx=1,km.exports=rC()),km.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ew;function sC(){if(ew)return pc;ew=1;var n=fy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,m){var g,y={},b=null,S=null;m!==void 0&&(b=""+m),f.key!==void 0&&(b=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:d,key:b,ref:S,props:y,_owner:s.current}}return pc.Fragment=t,pc.jsx=l,pc.jsxs=l,pc}var tw;function iC(){return tw||(tw=1,Am.exports=sC()),Am.exports}var c=iC(),N=fy();const Yn=nC(N),oC=tC({__proto__:null,default:Yn},[N]);var Fd={},Cm={exports:{}},xn={},Im={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw;function aC(){return nw||(nw=1,(function(n){function e(ae,ye){var pe=ae.length;ae.push(ye);e:for(;0<pe;){var V=pe-1>>>1,Z=ae[V];if(0<s(Z,ye))ae[V]=ye,ae[pe]=Z,pe=V;else break e}}function t(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ye=ae[0],pe=ae.pop();if(pe!==ye){ae[0]=pe;e:for(var V=0,Z=ae.length,ke=Z>>>1;V<ke;){var Se=2*(V+1)-1,Le=ae[Se],Ve=Se+1,Ge=ae[Ve];if(0>s(Le,pe))Ve<Z&&0>s(Ge,Le)?(ae[V]=Ge,ae[Ve]=pe,V=Ve):(ae[V]=Le,ae[Se]=pe,V=Se);else if(Ve<Z&&0>s(Ge,pe))ae[V]=Ge,ae[Ve]=pe,V=Ve;else break e}}return ye}function s(ae,ye){var pe=ae.sortIndex-ye.sortIndex;return pe!==0?pe:ae.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();n.unstable_now=function(){return l.now()-d}}var f=[],m=[],g=1,y=null,b=3,S=!1,A=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ae){for(var ye=t(m);ye!==null;){if(ye.callback===null)r(m);else if(ye.startTime<=ae)r(m),ye.sortIndex=ye.expirationTime,e(f,ye);else break;ye=t(m)}}function H(ae){if(R=!1,I(ae),!A)if(t(f)!==null)A=!0,ie(X);else{var ye=t(m);ye!==null&&Ce(H,ye.startTime-ae)}}function X(ae,ye){A=!1,R&&(R=!1,F(T),T=-1),S=!0;var pe=b;try{for(I(ye),y=t(f);y!==null&&(!(y.expirationTime>ye)||ae&&!L());){var V=y.callback;if(typeof V=="function"){y.callback=null,b=y.priorityLevel;var Z=V(y.expirationTime<=ye);ye=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(f)&&r(f),I(ye)}else r(f);y=t(f)}if(y!==null)var ke=!0;else{var Se=t(m);Se!==null&&Ce(H,Se.startTime-ye),ke=!1}return ke}finally{y=null,b=pe,S=!1}}var G=!1,k=null,T=-1,P=5,M=-1;function L(){return!(n.unstable_now()-M<P)}function $(){if(k!==null){var ae=n.unstable_now();M=ae;var ye=!0;try{ye=k(!0,ae)}finally{ye?D():(G=!1,k=null)}}else G=!1}var D;if(typeof B=="function")D=function(){B($)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,re=be.port2;be.port1.onmessage=$,D=function(){re.postMessage(null)}}else D=function(){C($,0)};function ie(ae){k=ae,G||(G=!0,D())}function Ce(ae,ye){T=C(function(){ae(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,ie(X))},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var pe=b;b=ye;try{return ae()}finally{b=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var pe=b;b=ae;try{return ye()}finally{b=pe}},n.unstable_scheduleCallback=function(ae,ye,pe){var V=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?V+pe:V):pe=V,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=pe+Z,ae={id:g++,callback:ye,priorityLevel:ae,startTime:pe,expirationTime:Z,sortIndex:-1},pe>V?(ae.sortIndex=pe,e(m,ae),t(f)===null&&ae===t(m)&&(R?(F(T),T=-1):R=!0,Ce(H,pe-V))):(ae.sortIndex=Z,e(f,ae),A||S||(A=!0,ie(X))),ae},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ae){var ye=b;return function(){var pe=b;b=ye;try{return ae.apply(this,arguments)}finally{b=pe}}}})(Nm)),Nm}var rw;function lC(){return rw||(rw=1,Im.exports=aC()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function cC(){if(sw)return xn;sw=1;var n=fy(),e=lC();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function b(i){return f.call(y,i)?!0:f.call(g,i)?!1:m.test(i)?y[i]=!0:(g[i]=!0,!1)}function S(i,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,o,u,p){if(o===null||typeof o>"u"||S(i,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(i,o,u,p,v,x,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new R(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new R(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new R(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new R(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new R(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new R(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new R(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new R(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new R(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,B);C[o]=new R(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,B);C[o]=new R(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,B);C[o]=new R(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new R(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new R(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,o,u,p){var v=C.hasOwnProperty(o)?C[o]:null;(v!==null?v.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,v,p)&&(u=null),p||v===null?b(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):v.mustUseProperty?i[v.propertyName]=u===null?v.type===3?!1:"":u:(o=v.attributeName,p=v.attributeNamespace,u===null?i.removeAttribute(o):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,p?i.setAttributeNS(p,o,u):i.setAttribute(o,u))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),G=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=ae&&i[ae]||i["@@iterator"],typeof i=="function"?i:null)}var pe=Object.assign,V;function Z(i){if(V===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+i}var ke=!1;function Se(i,o){if(!i||ke)return"";ke=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Q){var p=Q}Reflect.construct(i,[],o)}else{try{o.call()}catch(Q){p=Q}i.call(o.prototype)}else{try{throw Error()}catch(Q){p=Q}i()}}catch(Q){if(Q&&p&&typeof Q.stack=="string"){for(var v=Q.stack.split(`
`),x=p.stack.split(`
`),E=v.length-1,O=x.length-1;1<=E&&0<=O&&v[E]!==x[O];)O--;for(;1<=E&&0<=O;E--,O--)if(v[E]!==x[O]){if(E!==1||O!==1)do if(E--,O--,0>O||v[E]!==x[O]){var U=`
`+v[E].replace(" at new "," at ");return i.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",i.displayName)),U}while(1<=E&&0<=O);break}}}finally{ke=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function Le(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case G:return"Portal";case P:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case $:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case re:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case ie:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function Ge(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function he(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function de(i){var o=he(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(E){p=""+E,x.call(this,E)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function et(i){i._valueTracker||(i._valueTracker=de(i))}function Vn(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=he(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function Ps(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Yo(i,o){var u=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Eu(i,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=ee(o.value!=null?o.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Xo(i,o){o=o.checked,o!=null&&I(i,"checked",o,!1)}function Bi(i,o){Xo(i,o);var u=ee(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?At(i,o.type,u):o.hasOwnProperty("defaultValue")&&At(i,o.type,ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function bl(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function At(i,o,u){(o!=="number"||Ps(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var wt=Array.isArray;function Xn(i,o,u,p){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&p&&(i[u].defaultSelected=!0)}else{for(u=""+ee(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function _l(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Tl(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(wt(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:ee(u)}}function Su(i,o){var u=ee(o.value),p=ee(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Rs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function El(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zo(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?El(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ds,Au=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,v){MSApp.execUnsafeLocalFunction(function(){return i(o,u,p,v)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ds.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function $i(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ku=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(i){ku.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ms[o]=Ms[i]})});function Os(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ms.hasOwnProperty(i)&&Ms[i]?(""+o).trim():o+"px"}function ea(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,v=Os(u,o[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,v):i[u]=v}}var Sl=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(i,o){if(o){if(Sl[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ta(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=null;function na(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qr=null,Jr=null,mt=null;function Al(i){if(i=Zl(i)){if(typeof Qr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=ed(o),Qr(i.stateNode,i.type,o))}}function Vs(i){Jr?mt?mt.push(i):mt=[i]:Jr=i}function Fs(){if(Jr){var i=Jr,o=mt;if(mt=Jr=null,Al(i),o)for(i=0;i<o.length;i++)Al(o[i])}}function Cu(i,o){return i(o)}function Iu(){}var mr=!1;function Nu(i,o,u){if(mr)return i(o,u);mr=!0;try{return Cu(i,o,u)}finally{mr=!1,(Jr!==null||mt!==null)&&(Iu(),Fs())}}function zi(i,o){var u=i.stateNode;if(u===null)return null;var p=ed(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var Us=!1;if(d)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Us=!1}function ju(i,o,u,p,v,x,E,O,U){var Q=Array.prototype.slice.call(arguments,3);try{o.apply(u,Q)}catch(oe){this.onError(oe)}}var Yr=!1,gr=null,ra=!1,Fn=null,Pu={onError:function(i){Yr=!0,gr=i}};function Ru(i,o,u,p,v,x,E,O,U){Yr=!1,gr=null,ju.apply(Pu,arguments)}function kl(i,o,u,p,v,x,E,O,U){if(Ru.apply(this,arguments),Yr){if(Yr){var Q=gr;Yr=!1,gr=null}else throw Error(t(198));ra||(ra=!0,Fn=Q)}}function er(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Cl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Du(i){if(er(i)!==i)throw Error(t(188))}function Mu(i){var o=i.alternate;if(!o){if(o=er(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,p=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(p=v.return,p!==null){u=p;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return Du(v),i;if(x===p)return Du(v),o;x=x.sibling}throw Error(t(188))}if(u.return!==p.return)u=v,p=x;else{for(var E=!1,O=v.child;O;){if(O===u){E=!0,u=v,p=x;break}if(O===p){E=!0,p=v,u=x;break}O=O.sibling}if(!E){for(O=x.child;O;){if(O===u){E=!0,u=x,p=v;break}if(O===p){E=!0,p=x,u=v;break}O=O.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Ou(i){return i=Mu(i),i!==null?Hi(i):null}function Hi(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Hi(i);if(o!==null)return o;i=i.sibling}return null}var Il=e.unstable_scheduleCallback,sa=e.unstable_cancelCallback,qi=e.unstable_shouldYield,Xr=e.unstable_requestPaint,at=e.unstable_now,rp=e.unstable_getCurrentPriorityLevel,ia=e.unstable_ImmediatePriority,Nl=e.unstable_UserBlockingPriority,Wi=e.unstable_NormalPriority,jl=e.unstable_LowPriority,oa=e.unstable_IdlePriority,Gi=null,Sn=null;function Lu(i){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Gi,i,void 0,(i.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Ki,yr=Math.log,Un=Math.LN2;function Ki(i){return i>>>=0,i===0?32:31-(yr(i)/Un|0)|0}var vr=64,$s=4194304;function Xe(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Zr(i,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,v=i.suspendedLanes,x=i.pingedLanes,E=u&268435455;if(E!==0){var O=E&~v;O!==0?p=Xe(O):(x&=E,x!==0&&(p=Xe(x)))}else E=u&~v,E!==0?p=Xe(E):x!==0&&(p=Xe(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&v)===0&&(v=p&-p,x=o&-o,v>=x||v===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)u=31-An(o),v=1<<u,p|=i[u],o&=~v;return p}function Qi(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ji(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes;0<x;){var E=31-An(x),O=1<<E,U=v[E];U===-1?((O&u)===0||(O&p)!==0)&&(v[E]=Qi(O,o)):U<=o&&(i.expiredLanes|=O),x&=~O}}function Pl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Rl(){var i=vr;return vr<<=1,(vr&4194240)===0&&(vr=64),i}function Dl(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Yi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-An(o),i[o]=u}function sp(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var v=31-An(u),x=1<<v;o[v]=0,p[v]=-1,i[v]=-1,u&=~x}}function Ml(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-An(u),v=1<<p;v&o|i[p]&o&&(i[p]|=o),u&=~v}}var Ke=0;function xr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ol,aa,Ll,Vl,Fl,wr=!1,la=[],br=null,_r=null,Gt=null,Xi=new Map,es=new Map,kn=[],Vu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zs(i,o){switch(i){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(o.pointerId)}}function tr(i,o,u,p,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Zl(o),o!==null&&aa(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function Fu(i,o,u,p,v){switch(o){case"focusin":return br=tr(br,i,o,u,p,v),!0;case"dragenter":return _r=tr(_r,i,o,u,p,v),!0;case"mouseover":return Gt=tr(Gt,i,o,u,p,v),!0;case"pointerover":var x=v.pointerId;return Xi.set(x,tr(Xi.get(x)||null,i,o,u,p,v)),!0;case"gotpointercapture":return x=v.pointerId,es.set(x,tr(es.get(x)||null,i,o,u,p,v)),!0}return!1}function ca(i){var o=no(i.target);if(o!==null){var u=er(o);if(u!==null){if(o=u.tag,o===13){if(o=Cl(u),o!==null){i.blockedOn=o,Fl(i.priority,function(){Ll(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ua(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);Ls=p,u.target.dispatchEvent(p),Ls=null}else return o=Zl(u),o!==null&&aa(o),i.blockedOn=u,!1;o.shift()}return!0}function Uu(i,o,u){nt(i)&&u.delete(o)}function ip(){wr=!1,br!==null&&nt(br)&&(br=null),_r!==null&&nt(_r)&&(_r=null),Gt!==null&&nt(Gt)&&(Gt=null),Xi.forEach(Uu),es.forEach(Uu)}function Hs(i,o){i.blockedOn===o&&(i.blockedOn=null,wr||(wr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ip)))}function qs(i){function o(v){return Hs(v,i)}if(0<la.length){Hs(la[0],i);for(var u=1;u<la.length;u++){var p=la[u];p.blockedOn===i&&(p.blockedOn=null)}}for(br!==null&&Hs(br,i),_r!==null&&Hs(_r,i),Gt!==null&&Hs(Gt,i),Xi.forEach(o),es.forEach(o),u=0;u<kn.length;u++)p=kn[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<kn.length&&(u=kn[0],u.blockedOn===null);)ca(u),u.blockedOn===null&&kn.shift()}var ts=H.ReactCurrentBatchConfig,ns=!0;function Tr(i,o,u,p){var v=Ke,x=ts.transition;ts.transition=null;try{Ke=1,Ul(i,o,u,p)}finally{Ke=v,ts.transition=x}}function Bu(i,o,u,p){var v=Ke,x=ts.transition;ts.transition=null;try{Ke=4,Ul(i,o,u,p)}finally{Ke=v,ts.transition=x}}function Ul(i,o,u,p){if(ns){var v=ua(i,o,u,p);if(v===null)gp(i,o,p,Er,u),zs(i,p);else if(Fu(v,i,o,u,p))p.stopPropagation();else if(zs(i,p),o&4&&-1<Vu.indexOf(i)){for(;v!==null;){var x=Zl(v);if(x!==null&&Ol(x),x=ua(i,o,u,p),x===null&&gp(i,o,p,Er,u),x===v)break;v=x}v!==null&&p.stopPropagation()}else gp(i,o,p,null,u)}}var Er=null;function ua(i,o,u,p){if(Er=null,i=na(p),i=no(i),i!==null)if(o=er(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Cl(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Er=i,null}function da(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rp()){case ia:return 1;case Nl:return 4;case Wi:case jl:return 16;case oa:return 536870912;default:return 16}default:return 16}}var Cn=null,ha=null,rs=null;function $u(){if(rs)return rs;var i,o=ha,u=o.length,p,v="value"in Cn?Cn.value:Cn.textContent,x=v.length;for(i=0;i<u&&o[i]===v[i];i++);var E=u-i;for(p=1;p<=E&&o[u-p]===v[x-p];p++);return rs=v.slice(i,1<p?1-p:void 0)}function Zi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Sr(){return!0}function Bl(){return!1}function Xt(i){function o(u,p,v,x,E){this._reactName=u,this._targetInst=v,this.type=p,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(u=i[O],this[O]=u?u(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Sr:Bl,this.isPropagationStopped=Bl,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Xt(Ar),Ws=pe({},Ar,{view:0,detail:0}),fa=Xt(Ws),pa,ma,In,to=pe({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==In&&(In&&i.type==="mousemove"?(pa=i.screenX-In.screenX,ma=i.screenY-In.screenY):ma=pa=0,In=i),pa)},movementY:function(i){return"movementY"in i?i.movementY:ma}}),$l=Xt(to),zu=pe({},to,{dataTransfer:0}),Hu=Xt(zu),ga=pe({},Ws,{relatedTarget:0}),Kt=Xt(ga),qu=pe({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=Xt(qu),Gs=pe({},Ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=Xt(Gs),w=pe({},Ar,{data:0}),_=Xt(w),j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=J[i])?!!o[i]:!1}function Fe(){return ue}var bt=pe({},Ws,{key:function(i){if(i.key){var o=j[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Zi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?W[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(i){return i.type==="keypress"?Zi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tt=Xt(bt),kt=pe({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nn=Xt(kt),ss=pe({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),kr=Xt(ss),Cr=pe({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),ya=Xt(Cr),zl=pe({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),QA=Xt(zl),JA=[9,13,27,32],op=d&&"CompositionEvent"in window,Hl=null;d&&"documentMode"in document&&(Hl=document.documentMode);var YA=d&&"TextEvent"in window&&!Hl,Hv=d&&(!op||Hl&&8<Hl&&11>=Hl),qv=" ",Wv=!1;function Gv(i,o){switch(i){case"keyup":return JA.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var va=!1;function XA(i,o){switch(i){case"compositionend":return Kv(o);case"keypress":return o.which!==32?null:(Wv=!0,qv);case"textInput":return i=o.data,i===qv&&Wv?null:i;default:return null}}function ZA(i,o){if(va)return i==="compositionend"||!op&&Gv(i,o)?(i=$u(),rs=ha=Cn=null,va=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Hv&&o.locale!=="ko"?null:o.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ek[i.type]:o==="textarea"}function Jv(i,o,u,p){Vs(p),o=Yu(o,"onChange"),0<o.length&&(u=new eo("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var ql=null,Wl=null;function tk(i){p0(i,0)}function Gu(i){var o=Ta(i);if(Vn(o))return i}function nk(i,o){if(i==="change")return o}var Yv=!1;if(d){var ap;if(d){var lp="oninput"in document;if(!lp){var Xv=document.createElement("div");Xv.setAttribute("oninput","return;"),lp=typeof Xv.oninput=="function"}ap=lp}else ap=!1;Yv=ap&&(!document.documentMode||9<document.documentMode)}function Zv(){ql&&(ql.detachEvent("onpropertychange",e0),Wl=ql=null)}function e0(i){if(i.propertyName==="value"&&Gu(Wl)){var o=[];Jv(o,Wl,i,na(i)),Nu(tk,o)}}function rk(i,o,u){i==="focusin"?(Zv(),ql=o,Wl=u,ql.attachEvent("onpropertychange",e0)):i==="focusout"&&Zv()}function sk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Gu(Wl)}function ik(i,o){if(i==="click")return Gu(o)}function ok(i,o){if(i==="input"||i==="change")return Gu(o)}function ak(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var nr=typeof Object.is=="function"?Object.is:ak;function Gl(i,o){if(nr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var v=u[p];if(!f.call(o,v)||!nr(i[v],o[v]))return!1}return!0}function t0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function n0(i,o){var u=t0(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=t0(u)}}function r0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?r0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function s0(){for(var i=window,o=Ps();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Ps(i.document)}return o}function cp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function lk(i){var o=s0(),u=i.focusedElem,p=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&r0(u.ownerDocument.documentElement,u)){if(p!==null&&cp(u)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var v=u.textContent.length,x=Math.min(p.start,v);p=p.end===void 0?x:Math.min(p.end,v),!i.extend&&x>p&&(v=p,p=x,x=v),v=n0(u,x);var E=n0(u,p);v&&E&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(v.node,v.offset),i.removeAllRanges(),x>p?(i.addRange(o),i.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ck=d&&"documentMode"in document&&11>=document.documentMode,xa=null,up=null,Kl=null,dp=!1;function i0(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dp||xa==null||xa!==Ps(p)||(p=xa,"selectionStart"in p&&cp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Kl&&Gl(Kl,p)||(Kl=p,p=Yu(up,"onSelect"),0<p.length&&(o=new eo("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=xa)))}function Ku(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var wa={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},hp={},o0={};d&&(o0=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Qu(i){if(hp[i])return hp[i];if(!wa[i])return i;var o=wa[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in o0)return hp[i]=o[u];return i}var a0=Qu("animationend"),l0=Qu("animationiteration"),c0=Qu("animationstart"),u0=Qu("transitionend"),d0=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(i,o){d0.set(i,o),a(o,[i])}for(var fp=0;fp<h0.length;fp++){var pp=h0[fp],uk=pp.toLowerCase(),dk=pp[0].toUpperCase()+pp.slice(1);Ks(uk,"on"+dk)}Ks(a0,"onAnimationEnd"),Ks(l0,"onAnimationIteration"),Ks(c0,"onAnimationStart"),Ks("dblclick","onDoubleClick"),Ks("focusin","onFocus"),Ks("focusout","onBlur"),Ks(u0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function f0(i,o,u){var p=i.type||"unknown-event";i.currentTarget=u,kl(p,o,void 0,i),i.currentTarget=null}function p0(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],v=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var E=p.length-1;0<=E;E--){var O=p[E],U=O.instance,Q=O.currentTarget;if(O=O.listener,U!==x&&v.isPropagationStopped())break e;f0(v,O,Q),x=U}else for(E=0;E<p.length;E++){if(O=p[E],U=O.instance,Q=O.currentTarget,O=O.listener,U!==x&&v.isPropagationStopped())break e;f0(v,O,Q),x=U}}}if(ra)throw i=Fn,ra=!1,Fn=null,i}function lt(i,o){var u=o[_p];u===void 0&&(u=o[_p]=new Set);var p=i+"__bubble";u.has(p)||(m0(o,i,2,!1),u.add(p))}function mp(i,o,u){var p=0;o&&(p|=4),m0(u,i,p,o)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Jl(i){if(!i[Ju]){i[Ju]=!0,r.forEach(function(u){u!=="selectionchange"&&(hk.has(u)||mp(u,!1,i),mp(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ju]||(o[Ju]=!0,mp("selectionchange",!1,o))}}function m0(i,o,u,p){switch(da(o)){case 1:var v=Tr;break;case 4:v=Bu;break;default:v=Ul}u=v.bind(null,o,u,i),v=void 0,!Us||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function gp(i,o,u,p,v){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var O=p.stateNode.containerInfo;if(O===v||O.nodeType===8&&O.parentNode===v)break;if(E===4)for(E=p.return;E!==null;){var U=E.tag;if((U===3||U===4)&&(U=E.stateNode.containerInfo,U===v||U.nodeType===8&&U.parentNode===v))return;E=E.return}for(;O!==null;){if(E=no(O),E===null)return;if(U=E.tag,U===5||U===6){p=x=E;continue e}O=O.parentNode}}p=p.return}Nu(function(){var Q=x,oe=na(u),le=[];e:{var se=d0.get(i);if(se!==void 0){var ge=eo,_e=i;switch(i){case"keypress":if(Zi(u)===0)break e;case"keydown":case"keyup":ge=tt;break;case"focusin":_e="focus",ge=Kt;break;case"focusout":_e="blur",ge=Kt;break;case"beforeblur":case"afterblur":ge=Kt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=kr;break;case a0:case l0:case c0:ge=Wu;break;case u0:ge=ya;break;case"scroll":ge=fa;break;case"wheel":ge=QA;break;case"copy":case"cut":case"paste":ge=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Nn}var Te=(o&4)!==0,_t=!Te&&i==="scroll",q=Te?se!==null?se+"Capture":null:se;Te=[];for(var z=Q,K;z!==null;){K=z;var ce=K.stateNode;if(K.tag===5&&ce!==null&&(K=ce,q!==null&&(ce=zi(z,q),ce!=null&&Te.push(Yl(z,ce,K)))),_t)break;z=z.return}0<Te.length&&(se=new ge(se,_e,null,u,oe),le.push({event:se,listeners:Te}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",se&&u!==Ls&&(_e=u.relatedTarget||u.fromElement)&&(no(_e)||_e[is]))break e;if((ge||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,ge?(_e=u.relatedTarget||u.toElement,ge=Q,_e=_e?no(_e):null,_e!==null&&(_t=er(_e),_e!==_t||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=Q),ge!==_e)){if(Te=$l,ce="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Nn,ce="onPointerLeave",q="onPointerEnter",z="pointer"),_t=ge==null?se:Ta(ge),K=_e==null?se:Ta(_e),se=new Te(ce,z+"leave",ge,u,oe),se.target=_t,se.relatedTarget=K,ce=null,no(oe)===Q&&(Te=new Te(q,z+"enter",_e,u,oe),Te.target=K,Te.relatedTarget=_t,ce=Te),_t=ce,ge&&_e)t:{for(Te=ge,q=_e,z=0,K=Te;K;K=ba(K))z++;for(K=0,ce=q;ce;ce=ba(ce))K++;for(;0<z-K;)Te=ba(Te),z--;for(;0<K-z;)q=ba(q),K--;for(;z--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=ba(Te),q=ba(q)}Te=null}else Te=null;ge!==null&&g0(le,se,ge,Te,!1),_e!==null&&_t!==null&&g0(le,_t,_e,Te,!0)}}e:{if(se=Q?Ta(Q):window,ge=se.nodeName&&se.nodeName.toLowerCase(),ge==="select"||ge==="input"&&se.type==="file")var Ee=nk;else if(Qv(se))if(Yv)Ee=ok;else{Ee=sk;var Ie=rk}else(ge=se.nodeName)&&ge.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(Ee=ik);if(Ee&&(Ee=Ee(i,Q))){Jv(le,Ee,u,oe);break e}Ie&&Ie(i,se,Q),i==="focusout"&&(Ie=se._wrapperState)&&Ie.controlled&&se.type==="number"&&At(se,"number",se.value)}switch(Ie=Q?Ta(Q):window,i){case"focusin":(Qv(Ie)||Ie.contentEditable==="true")&&(xa=Ie,up=Q,Kl=null);break;case"focusout":Kl=up=xa=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,i0(le,u,oe);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":i0(le,u,oe)}var Ne;if(op)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else va?Gv(i,u)&&(De="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(Hv&&u.locale!=="ko"&&(va||De!=="onCompositionStart"?De==="onCompositionEnd"&&va&&(Ne=$u()):(Cn=oe,ha="value"in Cn?Cn.value:Cn.textContent,va=!0)),Ie=Yu(Q,De),0<Ie.length&&(De=new _(De,i,null,u,oe),le.push({event:De,listeners:Ie}),Ne?De.data=Ne:(Ne=Kv(u),Ne!==null&&(De.data=Ne)))),(Ne=YA?XA(i,u):ZA(i,u))&&(Q=Yu(Q,"onBeforeInput"),0<Q.length&&(oe=new _("onBeforeInput","beforeinput",null,u,oe),le.push({event:oe,listeners:Q}),oe.data=Ne))}p0(le,o)})}function Yl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Yu(i,o){for(var u=o+"Capture",p=[];i!==null;){var v=i,x=v.stateNode;v.tag===5&&x!==null&&(v=x,x=zi(i,u),x!=null&&p.unshift(Yl(i,x,v)),x=zi(i,o),x!=null&&p.push(Yl(i,x,v))),i=i.return}return p}function ba(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function g0(i,o,u,p,v){for(var x=o._reactName,E=[];u!==null&&u!==p;){var O=u,U=O.alternate,Q=O.stateNode;if(U!==null&&U===p)break;O.tag===5&&Q!==null&&(O=Q,v?(U=zi(u,x),U!=null&&E.unshift(Yl(u,U,O))):v||(U=zi(u,x),U!=null&&E.push(Yl(u,U,O)))),u=u.return}E.length!==0&&i.push({event:o,listeners:E})}var fk=/\r\n?/g,pk=/\u0000|\uFFFD/g;function y0(i){return(typeof i=="string"?i:""+i).replace(fk,`
`).replace(pk,"")}function Xu(i,o,u){if(o=y0(o),y0(i)!==o&&u)throw Error(t(425))}function Zu(){}var yp=null,vp=null;function xp(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wp=typeof setTimeout=="function"?setTimeout:void 0,mk=typeof clearTimeout=="function"?clearTimeout:void 0,v0=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof v0<"u"?function(i){return v0.resolve(null).then(i).catch(yk)}:wp;function yk(i){setTimeout(function(){throw i})}function bp(i,o){var u=o,p=0;do{var v=u.nextSibling;if(i.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(p===0){i.removeChild(v),qs(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=v}while(u);qs(o)}function Qs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function x0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var _a=Math.random().toString(36).slice(2),Ir="__reactFiber$"+_a,Xl="__reactProps$"+_a,is="__reactContainer$"+_a,_p="__reactEvents$"+_a,vk="__reactListeners$"+_a,xk="__reactHandles$"+_a;function no(i){var o=i[Ir];if(o)return o;for(var u=i.parentNode;u;){if(o=u[is]||u[Ir]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=x0(i);i!==null;){if(u=i[Ir])return u;i=x0(i)}return o}i=u,u=i.parentNode}return null}function Zl(i){return i=i[Ir]||i[is],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ta(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ed(i){return i[Xl]||null}var Tp=[],Ea=-1;function Js(i){return{current:i}}function ct(i){0>Ea||(i.current=Tp[Ea],Tp[Ea]=null,Ea--)}function rt(i,o){Ea++,Tp[Ea]=i.current,i.current=o}var Ys={},Zt=Js(Ys),pn=Js(!1),ro=Ys;function Sa(i,o){var u=i.type.contextTypes;if(!u)return Ys;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var v={},x;for(x in u)v[x]=o[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=v),v}function mn(i){return i=i.childContextTypes,i!=null}function td(){ct(pn),ct(Zt)}function w0(i,o,u){if(Zt.current!==Ys)throw Error(t(168));rt(Zt,o),rt(pn,u)}function b0(i,o,u){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var v in p)if(!(v in o))throw Error(t(108,Ge(i)||"Unknown",v));return pe({},u,p)}function nd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ys,ro=Zt.current,rt(Zt,i),rt(pn,pn.current),!0}function _0(i,o,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=b0(i,o,ro),p.__reactInternalMemoizedMergedChildContext=i,ct(pn),ct(Zt),rt(Zt,i)):ct(pn),rt(pn,u)}var os=null,rd=!1,Ep=!1;function T0(i){os===null?os=[i]:os.push(i)}function wk(i){rd=!0,T0(i)}function Xs(){if(!Ep&&os!==null){Ep=!0;var i=0,o=Ke;try{var u=os;for(Ke=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}os=null,rd=!1}catch(v){throw os!==null&&(os=os.slice(i+1)),Il(ia,Xs),v}finally{Ke=o,Ep=!1}}return null}var Aa=[],ka=0,sd=null,id=0,Bn=[],$n=0,so=null,as=1,ls="";function io(i,o){Aa[ka++]=id,Aa[ka++]=sd,sd=i,id=o}function E0(i,o,u){Bn[$n++]=as,Bn[$n++]=ls,Bn[$n++]=so,so=i;var p=as;i=ls;var v=32-An(p)-1;p&=~(1<<v),u+=1;var x=32-An(o)+v;if(30<x){var E=v-v%5;x=(p&(1<<E)-1).toString(32),p>>=E,v-=E,as=1<<32-An(o)+v|u<<v|p,ls=x+i}else as=1<<x|u<<v|p,ls=i}function Sp(i){i.return!==null&&(io(i,1),E0(i,1,0))}function Ap(i){for(;i===sd;)sd=Aa[--ka],Aa[ka]=null,id=Aa[--ka],Aa[ka]=null;for(;i===so;)so=Bn[--$n],Bn[$n]=null,ls=Bn[--$n],Bn[$n]=null,as=Bn[--$n],Bn[$n]=null}var jn=null,Pn=null,ut=!1,rr=null;function S0(i,o){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function A0(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,jn=i,Pn=Qs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,jn=i,Pn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=so!==null?{id:as,overflow:ls}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,jn=i,Pn=null,!0):!1;default:return!1}}function kp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Cp(i){if(ut){var o=Pn;if(o){var u=o;if(!A0(i,o)){if(kp(i))throw Error(t(418));o=Qs(u.nextSibling);var p=jn;o&&A0(i,o)?S0(p,u):(i.flags=i.flags&-4097|2,ut=!1,jn=i)}}else{if(kp(i))throw Error(t(418));i.flags=i.flags&-4097|2,ut=!1,jn=i}}}function k0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;jn=i}function od(i){if(i!==jn)return!1;if(!ut)return k0(i),ut=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!xp(i.type,i.memoizedProps)),o&&(o=Pn)){if(kp(i))throw C0(),Error(t(418));for(;o;)S0(i,o),o=Qs(o.nextSibling)}if(k0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Pn=Qs(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Pn=null}}else Pn=jn?Qs(i.stateNode.nextSibling):null;return!0}function C0(){for(var i=Pn;i;)i=Qs(i.nextSibling)}function Ca(){Pn=jn=null,ut=!1}function Ip(i){rr===null?rr=[i]:rr.push(i)}var bk=H.ReactCurrentBatchConfig;function ec(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var v=p,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(E){var O=v.refs;E===null?delete O[x]:O[x]=E},o._stringRef=x,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function ad(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function I0(i){var o=i._init;return o(i._payload)}function N0(i){function o(q,z){if(i){var K=q.deletions;K===null?(q.deletions=[z],q.flags|=16):K.push(z)}}function u(q,z){if(!i)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function p(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function v(q,z){return q=oi(q,z),q.index=0,q.sibling=null,q}function x(q,z,K){return q.index=K,i?(K=q.alternate,K!==null?(K=K.index,K<z?(q.flags|=2,z):K):(q.flags|=2,z)):(q.flags|=1048576,z)}function E(q){return i&&q.alternate===null&&(q.flags|=2),q}function O(q,z,K,ce){return z===null||z.tag!==6?(z=wm(K,q.mode,ce),z.return=q,z):(z=v(z,K),z.return=q,z)}function U(q,z,K,ce){var Ee=K.type;return Ee===k?oe(q,z,K.props.children,ce,K.key):z!==null&&(z.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ie&&I0(Ee)===z.type)?(ce=v(z,K.props),ce.ref=ec(q,z,K),ce.return=q,ce):(ce=jd(K.type,K.key,K.props,null,q.mode,ce),ce.ref=ec(q,z,K),ce.return=q,ce)}function Q(q,z,K,ce){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=bm(K,q.mode,ce),z.return=q,z):(z=v(z,K.children||[]),z.return=q,z)}function oe(q,z,K,ce,Ee){return z===null||z.tag!==7?(z=po(K,q.mode,ce,Ee),z.return=q,z):(z=v(z,K),z.return=q,z)}function le(q,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=wm(""+z,q.mode,K),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case X:return K=jd(z.type,z.key,z.props,null,q.mode,K),K.ref=ec(q,null,z),K.return=q,K;case G:return z=bm(z,q.mode,K),z.return=q,z;case ie:var ce=z._init;return le(q,ce(z._payload),K)}if(wt(z)||ye(z))return z=po(z,q.mode,K,null),z.return=q,z;ad(q,z)}return null}function se(q,z,K,ce){var Ee=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return Ee!==null?null:O(q,z,""+K,ce);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case X:return K.key===Ee?U(q,z,K,ce):null;case G:return K.key===Ee?Q(q,z,K,ce):null;case ie:return Ee=K._init,se(q,z,Ee(K._payload),ce)}if(wt(K)||ye(K))return Ee!==null?null:oe(q,z,K,ce,null);ad(q,K)}return null}function ge(q,z,K,ce,Ee){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return q=q.get(K)||null,O(z,q,""+ce,Ee);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case X:return q=q.get(ce.key===null?K:ce.key)||null,U(z,q,ce,Ee);case G:return q=q.get(ce.key===null?K:ce.key)||null,Q(z,q,ce,Ee);case ie:var Ie=ce._init;return ge(q,z,K,Ie(ce._payload),Ee)}if(wt(ce)||ye(ce))return q=q.get(K)||null,oe(z,q,ce,Ee,null);ad(z,ce)}return null}function _e(q,z,K,ce){for(var Ee=null,Ie=null,Ne=z,De=z=0,Bt=null;Ne!==null&&De<K.length;De++){Ne.index>De?(Bt=Ne,Ne=null):Bt=Ne.sibling;var Ye=se(q,Ne,K[De],ce);if(Ye===null){Ne===null&&(Ne=Bt);break}i&&Ne&&Ye.alternate===null&&o(q,Ne),z=x(Ye,z,De),Ie===null?Ee=Ye:Ie.sibling=Ye,Ie=Ye,Ne=Bt}if(De===K.length)return u(q,Ne),ut&&io(q,De),Ee;if(Ne===null){for(;De<K.length;De++)Ne=le(q,K[De],ce),Ne!==null&&(z=x(Ne,z,De),Ie===null?Ee=Ne:Ie.sibling=Ne,Ie=Ne);return ut&&io(q,De),Ee}for(Ne=p(q,Ne);De<K.length;De++)Bt=ge(Ne,q,De,K[De],ce),Bt!==null&&(i&&Bt.alternate!==null&&Ne.delete(Bt.key===null?De:Bt.key),z=x(Bt,z,De),Ie===null?Ee=Bt:Ie.sibling=Bt,Ie=Bt);return i&&Ne.forEach(function(ai){return o(q,ai)}),ut&&io(q,De),Ee}function Te(q,z,K,ce){var Ee=ye(K);if(typeof Ee!="function")throw Error(t(150));if(K=Ee.call(K),K==null)throw Error(t(151));for(var Ie=Ee=null,Ne=z,De=z=0,Bt=null,Ye=K.next();Ne!==null&&!Ye.done;De++,Ye=K.next()){Ne.index>De?(Bt=Ne,Ne=null):Bt=Ne.sibling;var ai=se(q,Ne,Ye.value,ce);if(ai===null){Ne===null&&(Ne=Bt);break}i&&Ne&&ai.alternate===null&&o(q,Ne),z=x(ai,z,De),Ie===null?Ee=ai:Ie.sibling=ai,Ie=ai,Ne=Bt}if(Ye.done)return u(q,Ne),ut&&io(q,De),Ee;if(Ne===null){for(;!Ye.done;De++,Ye=K.next())Ye=le(q,Ye.value,ce),Ye!==null&&(z=x(Ye,z,De),Ie===null?Ee=Ye:Ie.sibling=Ye,Ie=Ye);return ut&&io(q,De),Ee}for(Ne=p(q,Ne);!Ye.done;De++,Ye=K.next())Ye=ge(Ne,q,De,Ye.value,ce),Ye!==null&&(i&&Ye.alternate!==null&&Ne.delete(Ye.key===null?De:Ye.key),z=x(Ye,z,De),Ie===null?Ee=Ye:Ie.sibling=Ye,Ie=Ye);return i&&Ne.forEach(function(eC){return o(q,eC)}),ut&&io(q,De),Ee}function _t(q,z,K,ce){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case X:e:{for(var Ee=K.key,Ie=z;Ie!==null;){if(Ie.key===Ee){if(Ee=K.type,Ee===k){if(Ie.tag===7){u(q,Ie.sibling),z=v(Ie,K.props.children),z.return=q,q=z;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===ie&&I0(Ee)===Ie.type){u(q,Ie.sibling),z=v(Ie,K.props),z.ref=ec(q,Ie,K),z.return=q,q=z;break e}u(q,Ie);break}else o(q,Ie);Ie=Ie.sibling}K.type===k?(z=po(K.props.children,q.mode,ce,K.key),z.return=q,q=z):(ce=jd(K.type,K.key,K.props,null,q.mode,ce),ce.ref=ec(q,z,K),ce.return=q,q=ce)}return E(q);case G:e:{for(Ie=K.key;z!==null;){if(z.key===Ie)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){u(q,z.sibling),z=v(z,K.children||[]),z.return=q,q=z;break e}else{u(q,z);break}else o(q,z);z=z.sibling}z=bm(K,q.mode,ce),z.return=q,q=z}return E(q);case ie:return Ie=K._init,_t(q,z,Ie(K._payload),ce)}if(wt(K))return _e(q,z,K,ce);if(ye(K))return Te(q,z,K,ce);ad(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(u(q,z.sibling),z=v(z,K),z.return=q,q=z):(u(q,z),z=wm(K,q.mode,ce),z.return=q,q=z),E(q)):u(q,z)}return _t}var Ia=N0(!0),j0=N0(!1),ld=Js(null),cd=null,Na=null,Np=null;function jp(){Np=Na=cd=null}function Pp(i){var o=ld.current;ct(ld),i._currentValue=o}function Rp(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function ja(i,o){cd=i,Np=Na=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(gn=!0),i.firstContext=null)}function zn(i){var o=i._currentValue;if(Np!==i)if(i={context:i,memoizedValue:o,next:null},Na===null){if(cd===null)throw Error(t(308));Na=i,cd.dependencies={lanes:0,firstContext:i}}else Na=Na.next=i;return o}var oo=null;function Dp(i){oo===null?oo=[i]:oo.push(i)}function P0(i,o,u,p){var v=o.interleaved;return v===null?(u.next=u,Dp(o)):(u.next=v.next,v.next=u),o.interleaved=u,cs(i,p)}function cs(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Zs=!1;function Mp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function us(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ei(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Je&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,cs(i,u)}return v=p.interleaved,v===null?(o.next=o,Dp(p)):(o.next=v.next,v.next=o),p.interleaved=o,cs(i,u)}function ud(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,Ml(i,u)}}function D0(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?v=x=E:x=x.next=E,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function dd(i,o,u,p){var v=i.updateQueue;Zs=!1;var x=v.firstBaseUpdate,E=v.lastBaseUpdate,O=v.shared.pending;if(O!==null){v.shared.pending=null;var U=O,Q=U.next;U.next=null,E===null?x=Q:E.next=Q,E=U;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==E&&(O===null?oe.firstBaseUpdate=Q:O.next=Q,oe.lastBaseUpdate=U))}if(x!==null){var le=v.baseState;E=0,oe=Q=U=null,O=x;do{var se=O.lane,ge=O.eventTime;if((p&se)===se){oe!==null&&(oe=oe.next={eventTime:ge,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var _e=i,Te=O;switch(se=o,ge=u,Te.tag){case 1:if(_e=Te.payload,typeof _e=="function"){le=_e.call(ge,le,se);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Te.payload,se=typeof _e=="function"?_e.call(ge,le,se):_e,se==null)break e;le=pe({},le,se);break e;case 2:Zs=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,se=v.effects,se===null?v.effects=[O]:se.push(O))}else ge={eventTime:ge,lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Q=oe=ge,U=le):oe=oe.next=ge,E|=se;if(O=O.next,O===null){if(O=v.shared.pending,O===null)break;se=O,O=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);if(oe===null&&(U=le),v.baseState=U,v.firstBaseUpdate=Q,v.lastBaseUpdate=oe,o=v.shared.interleaved,o!==null){v=o;do E|=v.lane,v=v.next;while(v!==o)}else x===null&&(v.shared.lanes=0);co|=E,i.lanes=E,i.memoizedState=le}}function M0(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],v=p.callback;if(v!==null){if(p.callback=null,p=u,typeof v!="function")throw Error(t(191,v));v.call(p)}}}var tc={},Nr=Js(tc),nc=Js(tc),rc=Js(tc);function ao(i){if(i===tc)throw Error(t(174));return i}function Op(i,o){switch(rt(rc,o),rt(nc,i),rt(Nr,tc),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Zo(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Zo(o,i)}ct(Nr),rt(Nr,o)}function Pa(){ct(Nr),ct(nc),ct(rc)}function O0(i){ao(rc.current);var o=ao(Nr.current),u=Zo(o,i.type);o!==u&&(rt(nc,i),rt(Nr,u))}function Lp(i){nc.current===i&&(ct(Nr),ct(nc))}var dt=Js(0);function hd(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vp=[];function Fp(){for(var i=0;i<Vp.length;i++)Vp[i]._workInProgressVersionPrimary=null;Vp.length=0}var fd=H.ReactCurrentDispatcher,Up=H.ReactCurrentBatchConfig,lo=0,ht=null,Dt=null,Ft=null,pd=!1,sc=!1,ic=0,_k=0;function en(){throw Error(t(321))}function Bp(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!nr(i[u],o[u]))return!1;return!0}function $p(i,o,u,p,v,x){if(lo=x,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fd.current=i===null||i.memoizedState===null?Ak:kk,i=u(p,v),sc){x=0;do{if(sc=!1,ic=0,25<=x)throw Error(t(301));x+=1,Ft=Dt=null,o.updateQueue=null,fd.current=Ck,i=u(p,v)}while(sc)}if(fd.current=yd,o=Dt!==null&&Dt.next!==null,lo=0,Ft=Dt=ht=null,pd=!1,o)throw Error(t(300));return i}function zp(){var i=ic!==0;return ic=0,i}function jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ht.memoizedState=Ft=i:Ft=Ft.next=i,Ft}function Hn(){if(Dt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=Ft===null?ht.memoizedState:Ft.next;if(o!==null)Ft=o,Dt=i;else{if(i===null)throw Error(t(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Ft===null?ht.memoizedState=Ft=i:Ft=Ft.next=i}return Ft}function oc(i,o){return typeof o=="function"?o(i):o}function Hp(i){var o=Hn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=Dt,v=p.baseQueue,x=u.pending;if(x!==null){if(v!==null){var E=v.next;v.next=x.next,x.next=E}p.baseQueue=v=x,u.pending=null}if(v!==null){x=v.next,p=p.baseState;var O=E=null,U=null,Q=x;do{var oe=Q.lane;if((lo&oe)===oe)U!==null&&(U=U.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),p=Q.hasEagerState?Q.eagerState:i(p,Q.action);else{var le={lane:oe,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};U===null?(O=U=le,E=p):U=U.next=le,ht.lanes|=oe,co|=oe}Q=Q.next}while(Q!==null&&Q!==x);U===null?E=p:U.next=O,nr(p,o.memoizedState)||(gn=!0),o.memoizedState=p,o.baseState=E,o.baseQueue=U,u.lastRenderedState=p}if(i=u.interleaved,i!==null){v=i;do x=v.lane,ht.lanes|=x,co|=x,v=v.next;while(v!==i)}else v===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function qp(i){var o=Hn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var E=v=v.next;do x=i(x,E.action),E=E.next;while(E!==v);nr(x,o.memoizedState)||(gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,p]}function L0(){}function V0(i,o){var u=ht,p=Hn(),v=o(),x=!nr(p.memoizedState,v);if(x&&(p.memoizedState=v,gn=!0),p=p.queue,Wp(B0.bind(null,u,p,i),[i]),p.getSnapshot!==o||x||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,ac(9,U0.bind(null,u,p,v,o),void 0,null),Ut===null)throw Error(t(349));(lo&30)!==0||F0(u,o,v)}return v}function F0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function U0(i,o,u,p){o.value=u,o.getSnapshot=p,$0(o)&&z0(i)}function B0(i,o,u){return u(function(){$0(o)&&z0(i)})}function $0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!nr(i,u)}catch{return!0}}function z0(i){var o=cs(i,1);o!==null&&ar(o,i,1,-1)}function H0(i){var o=jr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:i},o.queue=i,i=i.dispatch=Sk.bind(null,ht,i),[o.memoizedState,i]}function ac(i,o,u,p){return i={tag:i,create:o,destroy:u,deps:p,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i)),i}function q0(){return Hn().memoizedState}function md(i,o,u,p){var v=jr();ht.flags|=i,v.memoizedState=ac(1|o,u,void 0,p===void 0?null:p)}function gd(i,o,u,p){var v=Hn();p=p===void 0?null:p;var x=void 0;if(Dt!==null){var E=Dt.memoizedState;if(x=E.destroy,p!==null&&Bp(p,E.deps)){v.memoizedState=ac(o,u,x,p);return}}ht.flags|=i,v.memoizedState=ac(1|o,u,x,p)}function W0(i,o){return md(8390656,8,i,o)}function Wp(i,o){return gd(2048,8,i,o)}function G0(i,o){return gd(4,2,i,o)}function K0(i,o){return gd(4,4,i,o)}function Q0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function J0(i,o,u){return u=u!=null?u.concat([i]):null,gd(4,4,Q0.bind(null,o,i),u)}function Gp(){}function Y0(i,o){var u=Hn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Bp(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function X0(i,o){var u=Hn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&Bp(o,p[1])?p[0]:(i=i(),u.memoizedState=[i,o],i)}function Z0(i,o,u){return(lo&21)===0?(i.baseState&&(i.baseState=!1,gn=!0),i.memoizedState=u):(nr(u,o)||(u=Rl(),ht.lanes|=u,co|=u,i.baseState=!0),o)}function Tk(i,o){var u=Ke;Ke=u!==0&&4>u?u:4,i(!0);var p=Up.transition;Up.transition={};try{i(!1),o()}finally{Ke=u,Up.transition=p}}function ex(){return Hn().memoizedState}function Ek(i,o,u){var p=si(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},tx(i))nx(o,u);else if(u=P0(i,o,u,p),u!==null){var v=dn();ar(u,i,p,v),rx(u,o,p)}}function Sk(i,o,u){var p=si(i),v={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(tx(i))nx(o,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var E=o.lastRenderedState,O=x(E,u);if(v.hasEagerState=!0,v.eagerState=O,nr(O,E)){var U=o.interleaved;U===null?(v.next=v,Dp(o)):(v.next=U.next,U.next=v),o.interleaved=v;return}}catch{}finally{}u=P0(i,o,v,p),u!==null&&(v=dn(),ar(u,i,p,v),rx(u,o,p))}}function tx(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function nx(i,o){sc=pd=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function rx(i,o,u){if((u&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,Ml(i,u)}}var yd={readContext:zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},Ak={readContext:zn,useCallback:function(i,o){return jr().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:W0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,md(4194308,4,Q0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return md(4194308,4,i,o)},useInsertionEffect:function(i,o){return md(4,2,i,o)},useMemo:function(i,o){var u=jr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var p=jr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=Ek.bind(null,ht,i),[p.memoizedState,i]},useRef:function(i){var o=jr();return i={current:i},o.memoizedState=i},useState:H0,useDebugValue:Gp,useDeferredValue:function(i){return jr().memoizedState=i},useTransition:function(){var i=H0(!1),o=i[0];return i=Tk.bind(null,i[1]),jr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var p=ht,v=jr();if(ut){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Ut===null)throw Error(t(349));(lo&30)!==0||F0(p,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,W0(B0.bind(null,p,x,i),[i]),p.flags|=2048,ac(9,U0.bind(null,p,x,u,o),void 0,null),u},useId:function(){var i=jr(),o=Ut.identifierPrefix;if(ut){var u=ls,p=as;u=(p&~(1<<32-An(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=ic++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=_k++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},kk={readContext:zn,useCallback:Y0,useContext:zn,useEffect:Wp,useImperativeHandle:J0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:Hp,useRef:q0,useState:function(){return Hp(oc)},useDebugValue:Gp,useDeferredValue:function(i){var o=Hn();return Z0(o,Dt.memoizedState,i)},useTransition:function(){var i=Hp(oc)[0],o=Hn().memoizedState;return[i,o]},useMutableSource:L0,useSyncExternalStore:V0,useId:ex,unstable_isNewReconciler:!1},Ck={readContext:zn,useCallback:Y0,useContext:zn,useEffect:Wp,useImperativeHandle:J0,useInsertionEffect:G0,useLayoutEffect:K0,useMemo:X0,useReducer:qp,useRef:q0,useState:function(){return qp(oc)},useDebugValue:Gp,useDeferredValue:function(i){var o=Hn();return Dt===null?o.memoizedState=i:Z0(o,Dt.memoizedState,i)},useTransition:function(){var i=qp(oc)[0],o=Hn().memoizedState;return[i,o]},useMutableSource:L0,useSyncExternalStore:V0,useId:ex,unstable_isNewReconciler:!1};function sr(i,o){if(i&&i.defaultProps){o=pe({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Kp(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:pe({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var vd={isMounted:function(i){return(i=i._reactInternals)?er(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var p=dn(),v=si(i),x=us(p,v);x.payload=o,u!=null&&(x.callback=u),o=ei(i,x,v),o!==null&&(ar(o,i,v,p),ud(o,i,v))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=dn(),v=si(i),x=us(p,v);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=ei(i,x,v),o!==null&&(ar(o,i,v,p),ud(o,i,v))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=dn(),p=si(i),v=us(u,p);v.tag=2,o!=null&&(v.callback=o),o=ei(i,v,p),o!==null&&(ar(o,i,p,u),ud(o,i,p))}};function sx(i,o,u,p,v,x,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,E):o.prototype&&o.prototype.isPureReactComponent?!Gl(u,p)||!Gl(v,x):!0}function ix(i,o,u){var p=!1,v=Ys,x=o.contextType;return typeof x=="object"&&x!==null?x=zn(x):(v=mn(o)?ro:Zt.current,p=o.contextTypes,x=(p=p!=null)?Sa(i,v):Ys),o=new o(u,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vd,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=x),o}function ox(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&vd.enqueueReplaceState(o,o.state,null)}function Qp(i,o,u,p){var v=i.stateNode;v.props=u,v.state=i.memoizedState,v.refs={},Mp(i);var x=o.contextType;typeof x=="object"&&x!==null?v.context=zn(x):(x=mn(o)?ro:Zt.current,v.context=Sa(i,x)),v.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Kp(i,o,x,u),v.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(o=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),o!==v.state&&vd.enqueueReplaceState(v,v.state,null),dd(i,u,v,p),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Ra(i,o){try{var u="",p=o;do u+=Le(p),p=p.return;while(p);var v=u}catch(x){v=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:v,digest:null}}function Jp(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Yp(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var Ik=typeof WeakMap=="function"?WeakMap:Map;function ax(i,o,u){u=us(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Sd||(Sd=!0,hm=p),Yp(i,o)},u}function lx(i,o,u){u=us(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var v=o.value;u.payload=function(){return p(v)},u.callback=function(){Yp(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Yp(i,o),typeof p!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),u}function cx(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Ik;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(u)||(v.add(u),i=zk.bind(null,i,o,u),o.then(i,i))}function ux(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function dx(i,o,u,p,v){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=us(-1,1),o.tag=2,ei(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var Nk=H.ReactCurrentOwner,gn=!1;function un(i,o,u,p){o.child=i===null?j0(o,null,u,p):Ia(o,i.child,u,p)}function hx(i,o,u,p,v){u=u.render;var x=o.ref;return ja(o,v),p=$p(i,o,u,p,x,v),u=zp(),i!==null&&!gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,ds(i,o,v)):(ut&&u&&Sp(o),o.flags|=1,un(i,o,p,v),o.child)}function fx(i,o,u,p,v){if(i===null){var x=u.type;return typeof x=="function"&&!xm(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=x,px(i,o,x,p,v)):(i=jd(u.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&v)===0){var E=x.memoizedProps;if(u=u.compare,u=u!==null?u:Gl,u(E,p)&&i.ref===o.ref)return ds(i,o,v)}return o.flags|=1,i=oi(x,p),i.ref=o.ref,i.return=o,o.child=i}function px(i,o,u,p,v){if(i!==null){var x=i.memoizedProps;if(Gl(x,p)&&i.ref===o.ref)if(gn=!1,o.pendingProps=p=x,(i.lanes&v)!==0)(i.flags&131072)!==0&&(gn=!0);else return o.lanes=i.lanes,ds(i,o,v)}return Xp(i,o,u,p,v)}function mx(i,o,u){var p=o.pendingProps,v=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ma,Rn),Rn|=u;else{if((u&1073741824)===0)return i=x!==null?x.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,rt(Ma,Rn),Rn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:u,rt(Ma,Rn),Rn|=p}else x!==null?(p=x.baseLanes|u,o.memoizedState=null):p=u,rt(Ma,Rn),Rn|=p;return un(i,o,v,u),o.child}function gx(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Xp(i,o,u,p,v){var x=mn(u)?ro:Zt.current;return x=Sa(o,x),ja(o,v),u=$p(i,o,u,p,x,v),p=zp(),i!==null&&!gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~v,ds(i,o,v)):(ut&&p&&Sp(o),o.flags|=1,un(i,o,u,v),o.child)}function yx(i,o,u,p,v){if(mn(u)){var x=!0;nd(o)}else x=!1;if(ja(o,v),o.stateNode===null)wd(i,o),ix(o,u,p),Qp(o,u,p,v),p=!0;else if(i===null){var E=o.stateNode,O=o.memoizedProps;E.props=O;var U=E.context,Q=u.contextType;typeof Q=="object"&&Q!==null?Q=zn(Q):(Q=mn(u)?ro:Zt.current,Q=Sa(o,Q));var oe=u.getDerivedStateFromProps,le=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";le||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==p||U!==Q)&&ox(o,E,p,Q),Zs=!1;var se=o.memoizedState;E.state=se,dd(o,p,E,v),U=o.memoizedState,O!==p||se!==U||pn.current||Zs?(typeof oe=="function"&&(Kp(o,u,oe,p),U=o.memoizedState),(O=Zs||sx(o,u,O,p,se,U,Q))?(le||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=U),E.props=p,E.state=U,E.context=Q,p=O):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{E=o.stateNode,R0(i,o),O=o.memoizedProps,Q=o.type===o.elementType?O:sr(o.type,O),E.props=Q,le=o.pendingProps,se=E.context,U=u.contextType,typeof U=="object"&&U!==null?U=zn(U):(U=mn(u)?ro:Zt.current,U=Sa(o,U));var ge=u.getDerivedStateFromProps;(oe=typeof ge=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==le||se!==U)&&ox(o,E,p,U),Zs=!1,se=o.memoizedState,E.state=se,dd(o,p,E,v);var _e=o.memoizedState;O!==le||se!==_e||pn.current||Zs?(typeof ge=="function"&&(Kp(o,u,ge,p),_e=o.memoizedState),(Q=Zs||sx(o,u,Q,p,se,_e,U)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,_e,U),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,_e,U)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=_e),E.props=p,E.state=_e,E.context=U,p=Q):(typeof E.componentDidUpdate!="function"||O===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),p=!1)}return Zp(i,o,u,p,x,v)}function Zp(i,o,u,p,v,x){gx(i,o);var E=(o.flags&128)!==0;if(!p&&!E)return v&&_0(o,u,!1),ds(i,o,x);p=o.stateNode,Nk.current=o;var O=E&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&E?(o.child=Ia(o,i.child,null,x),o.child=Ia(o,null,O,x)):un(i,o,O,x),o.memoizedState=p.state,v&&_0(o,u,!0),o.child}function vx(i){var o=i.stateNode;o.pendingContext?w0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&w0(i,o.context,!1),Op(i,o.containerInfo)}function xx(i,o,u,p,v){return Ca(),Ip(v),o.flags|=256,un(i,o,u,p),o.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(i){return{baseLanes:i,cachePool:null,transitions:null}}function wx(i,o,u){var p=o.pendingProps,v=dt.current,x=!1,E=(o.flags&128)!==0,O;if((O=E)||(O=i!==null&&i.memoizedState===null?!1:(v&2)!==0),O?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),rt(dt,v&1),i===null)return Cp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=p.children,i=p.fallback,x?(p=o.mode,x=o.child,E={mode:"hidden",children:E},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=E):x=Pd(E,p,0,null),i=po(i,p,u,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=tm(u),o.memoizedState=em,i):nm(o,E));if(v=i.memoizedState,v!==null&&(O=v.dehydrated,O!==null))return jk(i,o,E,p,O,v,u);if(x){x=p.fallback,E=o.mode,v=i.child,O=v.sibling;var U={mode:"hidden",children:p.children};return(E&1)===0&&o.child!==v?(p=o.child,p.childLanes=0,p.pendingProps=U,o.deletions=null):(p=oi(v,U),p.subtreeFlags=v.subtreeFlags&14680064),O!==null?x=oi(O,x):(x=po(x,E,u,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,E=i.child.memoizedState,E=E===null?tm(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},x.memoizedState=E,x.childLanes=i.childLanes&~u,o.memoizedState=em,p}return x=i.child,i=x.sibling,p=oi(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=p,o.memoizedState=null,p}function nm(i,o){return o=Pd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function xd(i,o,u,p){return p!==null&&Ip(p),Ia(o,i.child,null,u),i=nm(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function jk(i,o,u,p,v,x,E){if(u)return o.flags&256?(o.flags&=-257,p=Jp(Error(t(422))),xd(i,o,E,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=p.fallback,v=o.mode,p=Pd({mode:"visible",children:p.children},v,0,null),x=po(x,v,E,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&Ia(o,i.child,null,E),o.child.memoizedState=tm(E),o.memoizedState=em,x);if((o.mode&1)===0)return xd(i,o,E,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var O=p.dgst;return p=O,x=Error(t(419)),p=Jp(x,p,void 0),xd(i,o,E,p)}if(O=(E&i.childLanes)!==0,gn||O){if(p=Ut,p!==null){switch(E&-E){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|E))!==0?0:v,v!==0&&v!==x.retryLane&&(x.retryLane=v,cs(i,v),ar(p,i,v,-1))}return vm(),p=Jp(Error(t(421))),xd(i,o,E,p)}return v.data==="$?"?(o.flags|=128,o.child=i.child,o=Hk.bind(null,i),v._reactRetry=o,null):(i=x.treeContext,Pn=Qs(v.nextSibling),jn=o,ut=!0,rr=null,i!==null&&(Bn[$n++]=as,Bn[$n++]=ls,Bn[$n++]=so,as=i.id,ls=i.overflow,so=o),o=nm(o,p.children),o.flags|=4096,o)}function bx(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Rp(i.return,o,u)}function rm(i,o,u,p,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:v}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=v)}function _x(i,o,u){var p=o.pendingProps,v=p.revealOrder,x=p.tail;if(un(i,o,p.children,u),p=dt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bx(i,u,o);else if(i.tag===19)bx(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(rt(dt,p),(o.mode&1)===0)o.memoizedState=null;else switch(v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&hd(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),rm(o,!1,v,u,x);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&hd(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}rm(o,!0,u,null,x);break;case"together":rm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ds(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),co|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=oi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=oi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Pk(i,o,u){switch(o.tag){case 3:vx(o),Ca();break;case 5:O0(o);break;case 1:mn(o.type)&&nd(o);break;case 4:Op(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,v=o.memoizedProps.value;rt(ld,p._currentValue),p._currentValue=v;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(rt(dt,dt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?wx(i,o,u):(rt(dt,dt.current&1),i=ds(i,o,u),i!==null?i.sibling:null);rt(dt,dt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(i.flags&128)!==0){if(p)return _x(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),rt(dt,dt.current),p)break;return null;case 22:case 23:return o.lanes=0,mx(i,o,u)}return ds(i,o,u)}var Tx,sm,Ex,Sx;Tx=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},sm=function(){},Ex=function(i,o,u,p){var v=i.memoizedProps;if(v!==p){i=o.stateNode,ao(Nr.current);var x=null;switch(u){case"input":v=Yo(i,v),p=Yo(i,p),x=[];break;case"select":v=pe({},v,{value:void 0}),p=pe({},p,{value:void 0}),x=[];break;case"textarea":v=_l(i,v),p=_l(i,p),x=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Zu)}Zn(u,p);var E;u=null;for(Q in v)if(!p.hasOwnProperty(Q)&&v.hasOwnProperty(Q)&&v[Q]!=null)if(Q==="style"){var O=v[Q];for(E in O)O.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(s.hasOwnProperty(Q)?x||(x=[]):(x=x||[]).push(Q,null));for(Q in p){var U=p[Q];if(O=v?.[Q],p.hasOwnProperty(Q)&&U!==O&&(U!=null||O!=null))if(Q==="style")if(O){for(E in O)!O.hasOwnProperty(E)||U&&U.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in U)U.hasOwnProperty(E)&&O[E]!==U[E]&&(u||(u={}),u[E]=U[E])}else u||(x||(x=[]),x.push(Q,u)),u=U;else Q==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,O=O?O.__html:void 0,U!=null&&O!==U&&(x=x||[]).push(Q,U)):Q==="children"?typeof U!="string"&&typeof U!="number"||(x=x||[]).push(Q,""+U):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(s.hasOwnProperty(Q)?(U!=null&&Q==="onScroll"&&lt("scroll",i),x||O===U||(x=[])):(x=x||[]).push(Q,U))}u&&(x=x||[]).push("style",u);var Q=x;(o.updateQueue=Q)&&(o.flags|=4)}},Sx=function(i,o,u,p){u!==p&&(o.flags|=4)};function lc(i,o){if(!ut)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function tn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function Rk(i,o,u){var p=o.pendingProps;switch(Ap(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return mn(o.type)&&td(),tn(o),null;case 3:return p=o.stateNode,Pa(),ct(pn),ct(Zt),Fp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(od(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rr!==null&&(mm(rr),rr=null))),sm(i,o),tn(o),null;case 5:Lp(o);var v=ao(rc.current);if(u=o.type,i!==null&&o.stateNode!=null)Ex(i,o,u,p,v),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return tn(o),null}if(i=ao(Nr.current),od(o)){p=o.stateNode,u=o.type;var x=o.memoizedProps;switch(p[Ir]=o,p[Xl]=x,i=(o.mode&1)!==0,u){case"dialog":lt("cancel",p),lt("close",p);break;case"iframe":case"object":case"embed":lt("load",p);break;case"video":case"audio":for(v=0;v<Ql.length;v++)lt(Ql[v],p);break;case"source":lt("error",p);break;case"img":case"image":case"link":lt("error",p),lt("load",p);break;case"details":lt("toggle",p);break;case"input":Eu(p,x),lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},lt("invalid",p);break;case"textarea":Tl(p,x),lt("invalid",p)}Zn(u,x),v=null;for(var E in x)if(x.hasOwnProperty(E)){var O=x[E];E==="children"?typeof O=="string"?p.textContent!==O&&(x.suppressHydrationWarning!==!0&&Xu(p.textContent,O,i),v=["children",O]):typeof O=="number"&&p.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&Xu(p.textContent,O,i),v=["children",""+O]):s.hasOwnProperty(E)&&O!=null&&E==="onScroll"&&lt("scroll",p)}switch(u){case"input":et(p),bl(p,x,!0);break;case"textarea":et(p),Rs(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Zu)}p=v,o.updateQueue=p,p!==null&&(o.flags|=4)}else{E=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=El(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=E.createElement(u,{is:p.is}):(i=E.createElement(u),u==="select"&&(E=i,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):i=E.createElementNS(i,u),i[Ir]=o,i[Xl]=p,Tx(i,o,!1,!1),o.stateNode=i;e:{switch(E=ta(u,p),u){case"dialog":lt("cancel",i),lt("close",i),v=p;break;case"iframe":case"object":case"embed":lt("load",i),v=p;break;case"video":case"audio":for(v=0;v<Ql.length;v++)lt(Ql[v],i);v=p;break;case"source":lt("error",i),v=p;break;case"img":case"image":case"link":lt("error",i),lt("load",i),v=p;break;case"details":lt("toggle",i),v=p;break;case"input":Eu(i,p),v=Yo(i,p),lt("invalid",i);break;case"option":v=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},v=pe({},p,{value:void 0}),lt("invalid",i);break;case"textarea":Tl(i,p),v=_l(i,p),lt("invalid",i);break;default:v=p}Zn(u,v),O=v;for(x in O)if(O.hasOwnProperty(x)){var U=O[x];x==="style"?ea(i,U):x==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Au(i,U)):x==="children"?typeof U=="string"?(u!=="textarea"||U!=="")&&$i(i,U):typeof U=="number"&&$i(i,""+U):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?U!=null&&x==="onScroll"&&lt("scroll",i):U!=null&&I(i,x,U,E))}switch(u){case"input":et(i),bl(i,p,!1);break;case"textarea":et(i),Rs(i);break;case"option":p.value!=null&&i.setAttribute("value",""+ee(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Xn(i,!!p.multiple,x,!1):p.defaultValue!=null&&Xn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=Zu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(i&&o.stateNode!=null)Sx(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=ao(rc.current),ao(Nr.current),od(o)){if(p=o.stateNode,u=o.memoizedProps,p[Ir]=o,(x=p.nodeValue!==u)&&(i=jn,i!==null))switch(i.tag){case 3:Xu(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Xu(p.nodeValue,u,(i.mode&1)!==0)}x&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Ir]=o,o.stateNode=p}return tn(o),null;case 13:if(ct(dt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ut&&Pn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)C0(),Ca(),o.flags|=98560,x=!1;else if(x=od(o),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Ir]=o}else Ca(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),x=!1}else rr!==null&&(mm(rr),rr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(dt.current&1)!==0?Mt===0&&(Mt=3):vm())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return Pa(),sm(i,o),i===null&&Jl(o.stateNode.containerInfo),tn(o),null;case 10:return Pp(o.type._context),tn(o),null;case 17:return mn(o.type)&&td(),tn(o),null;case 19:if(ct(dt),x=o.memoizedState,x===null)return tn(o),null;if(p=(o.flags&128)!==0,E=x.rendering,E===null)if(p)lc(x,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(E=hd(i),E!==null){for(o.flags|=128,lc(x,!1),p=E.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)x=u,i=p,x.flags&=14680066,E=x.alternate,E===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=E.childLanes,x.lanes=E.lanes,x.child=E.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=E.memoizedProps,x.memoizedState=E.memoizedState,x.updateQueue=E.updateQueue,x.type=E.type,i=E.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return rt(dt,dt.current&1|2),o.child}i=i.sibling}x.tail!==null&&at()>Oa&&(o.flags|=128,p=!0,lc(x,!1),o.lanes=4194304)}else{if(!p)if(i=hd(E),i!==null){if(o.flags|=128,p=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),lc(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!ut)return tn(o),null}else 2*at()-x.renderingStartTime>Oa&&u!==1073741824&&(o.flags|=128,p=!0,lc(x,!1),o.lanes=4194304);x.isBackwards?(E.sibling=o.child,o.child=E):(u=x.last,u!==null?u.sibling=E:o.child=E,x.last=E)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=at(),o.sibling=null,u=dt.current,rt(dt,p?u&1|2:u&1),o):(tn(o),null);case 22:case 23:return ym(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Rn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Dk(i,o){switch(Ap(o),o.tag){case 1:return mn(o.type)&&td(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Pa(),ct(pn),ct(Zt),Fp(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Lp(o),null;case 13:if(ct(dt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ca()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ct(dt),null;case 4:return Pa(),null;case 10:return Pp(o.type._context),null;case 22:case 23:return ym(),null;case 24:return null;default:return null}}var bd=!1,nn=!1,Mk=typeof WeakSet=="function"?WeakSet:Set,we=null;function Da(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){gt(i,o,p)}else u.current=null}function im(i,o,u){try{u()}catch(p){gt(i,o,p)}}var Ax=!1;function Ok(i,o){if(yp=ns,i=s0(),cp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var v=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var E=0,O=-1,U=-1,Q=0,oe=0,le=i,se=null;t:for(;;){for(var ge;le!==u||v!==0&&le.nodeType!==3||(O=E+v),le!==x||p!==0&&le.nodeType!==3||(U=E+p),le.nodeType===3&&(E+=le.nodeValue.length),(ge=le.firstChild)!==null;)se=le,le=ge;for(;;){if(le===i)break t;if(se===u&&++Q===v&&(O=E),se===x&&++oe===p&&(U=E),(ge=le.nextSibling)!==null)break;le=se,se=le.parentNode}le=ge}u=O===-1||U===-1?null:{start:O,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(vp={focusedElem:i,selectionRange:u},ns=!1,we=o;we!==null;)if(o=we,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,we=i;else for(;we!==null;){o=we;try{var _e=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var Te=_e.memoizedProps,_t=_e.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?Te:sr(o.type,Te),_t);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ce){gt(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,we=i;break}we=o.return}return _e=Ax,Ax=!1,_e}function cc(i,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&i)===i){var x=v.destroy;v.destroy=void 0,x!==void 0&&im(o,u,x)}v=v.next}while(v!==p)}}function _d(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function om(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function kx(i){var o=i.alternate;o!==null&&(i.alternate=null,kx(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ir],delete o[Xl],delete o[_p],delete o[vk],delete o[xk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Cx(i){return i.tag===5||i.tag===3||i.tag===4}function Ix(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Cx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function am(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Zu));else if(p!==4&&(i=i.child,i!==null))for(am(i,o,u),i=i.sibling;i!==null;)am(i,o,u),i=i.sibling}function lm(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(lm(i,o,u),i=i.sibling;i!==null;)lm(i,o,u),i=i.sibling}var Qt=null,ir=!1;function ti(i,o,u){for(u=u.child;u!==null;)Nx(i,o,u),u=u.sibling}function Nx(i,o,u){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Gi,u)}catch{}switch(u.tag){case 5:nn||Da(u,o);case 6:var p=Qt,v=ir;Qt=null,ti(i,o,u),Qt=p,ir=v,Qt!==null&&(ir?(i=Qt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(ir?(i=Qt,u=u.stateNode,i.nodeType===8?bp(i.parentNode,u):i.nodeType===1&&bp(i,u),qs(i)):bp(Qt,u.stateNode));break;case 4:p=Qt,v=ir,Qt=u.stateNode.containerInfo,ir=!0,ti(i,o,u),Qt=p,ir=v;break;case 0:case 11:case 14:case 15:if(!nn&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var x=v,E=x.destroy;x=x.tag,E!==void 0&&((x&2)!==0||(x&4)!==0)&&im(u,o,E),v=v.next}while(v!==p)}ti(i,o,u);break;case 1:if(!nn&&(Da(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(O){gt(u,o,O)}ti(i,o,u);break;case 21:ti(i,o,u);break;case 22:u.mode&1?(nn=(p=nn)||u.memoizedState!==null,ti(i,o,u),nn=p):ti(i,o,u);break;default:ti(i,o,u)}}function jx(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Mk),o.forEach(function(p){var v=qk.bind(null,i,p);u.has(p)||(u.add(p),p.then(v,v))})}}function or(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];try{var x=i,E=o,O=E;e:for(;O!==null;){switch(O.tag){case 5:Qt=O.stateNode,ir=!1;break e;case 3:Qt=O.stateNode.containerInfo,ir=!0;break e;case 4:Qt=O.stateNode.containerInfo,ir=!0;break e}O=O.return}if(Qt===null)throw Error(t(160));Nx(x,E,v),Qt=null,ir=!1;var U=v.alternate;U!==null&&(U.return=null),v.return=null}catch(Q){gt(v,o,Q)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Px(o,i),o=o.sibling}function Px(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(or(o,i),Pr(i),p&4){try{cc(3,i,i.return),_d(3,i)}catch(Te){gt(i,i.return,Te)}try{cc(5,i,i.return)}catch(Te){gt(i,i.return,Te)}}break;case 1:or(o,i),Pr(i),p&512&&u!==null&&Da(u,u.return);break;case 5:if(or(o,i),Pr(i),p&512&&u!==null&&Da(u,u.return),i.flags&32){var v=i.stateNode;try{$i(v,"")}catch(Te){gt(i,i.return,Te)}}if(p&4&&(v=i.stateNode,v!=null)){var x=i.memoizedProps,E=u!==null?u.memoizedProps:x,O=i.type,U=i.updateQueue;if(i.updateQueue=null,U!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&Xo(v,x),ta(O,E);var Q=ta(O,x);for(E=0;E<U.length;E+=2){var oe=U[E],le=U[E+1];oe==="style"?ea(v,le):oe==="dangerouslySetInnerHTML"?Au(v,le):oe==="children"?$i(v,le):I(v,oe,le,Q)}switch(O){case"input":Bi(v,x);break;case"textarea":Su(v,x);break;case"select":var se=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!x.multiple;var ge=x.value;ge!=null?Xn(v,!!x.multiple,ge,!1):se!==!!x.multiple&&(x.defaultValue!=null?Xn(v,!!x.multiple,x.defaultValue,!0):Xn(v,!!x.multiple,x.multiple?[]:"",!1))}v[Xl]=x}catch(Te){gt(i,i.return,Te)}}break;case 6:if(or(o,i),Pr(i),p&4){if(i.stateNode===null)throw Error(t(162));v=i.stateNode,x=i.memoizedProps;try{v.nodeValue=x}catch(Te){gt(i,i.return,Te)}}break;case 3:if(or(o,i),Pr(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{qs(o.containerInfo)}catch(Te){gt(i,i.return,Te)}break;case 4:or(o,i),Pr(i);break;case 13:or(o,i),Pr(i),v=i.child,v.flags&8192&&(x=v.memoizedState!==null,v.stateNode.isHidden=x,!x||v.alternate!==null&&v.alternate.memoizedState!==null||(dm=at())),p&4&&jx(i);break;case 22:if(oe=u!==null&&u.memoizedState!==null,i.mode&1?(nn=(Q=nn)||oe,or(o,i),nn=Q):or(o,i),Pr(i),p&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!oe&&(i.mode&1)!==0)for(we=i,oe=i.child;oe!==null;){for(le=we=oe;we!==null;){switch(se=we,ge=se.child,se.tag){case 0:case 11:case 14:case 15:cc(4,se,se.return);break;case 1:Da(se,se.return);var _e=se.stateNode;if(typeof _e.componentWillUnmount=="function"){p=se,u=se.return;try{o=p,_e.props=o.memoizedProps,_e.state=o.memoizedState,_e.componentWillUnmount()}catch(Te){gt(p,u,Te)}}break;case 5:Da(se,se.return);break;case 22:if(se.memoizedState!==null){Mx(le);continue}}ge!==null?(ge.return=se,we=ge):Mx(le)}oe=oe.sibling}e:for(oe=null,le=i;;){if(le.tag===5){if(oe===null){oe=le;try{v=le.stateNode,Q?(x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=le.stateNode,U=le.memoizedProps.style,E=U!=null&&U.hasOwnProperty("display")?U.display:null,O.style.display=Os("display",E))}catch(Te){gt(i,i.return,Te)}}}else if(le.tag===6){if(oe===null)try{le.stateNode.nodeValue=Q?"":le.memoizedProps}catch(Te){gt(i,i.return,Te)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;oe===le&&(oe=null),le=le.return}oe===le&&(oe=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:or(o,i),Pr(i),p&4&&jx(i);break;case 21:break;default:or(o,i),Pr(i)}}function Pr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Cx(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&($i(v,""),p.flags&=-33);var x=Ix(i);lm(i,x,v);break;case 3:case 4:var E=p.stateNode.containerInfo,O=Ix(i);am(i,O,E);break;default:throw Error(t(161))}}catch(U){gt(i,i.return,U)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Lk(i,o,u){we=i,Rx(i)}function Rx(i,o,u){for(var p=(i.mode&1)!==0;we!==null;){var v=we,x=v.child;if(v.tag===22&&p){var E=v.memoizedState!==null||bd;if(!E){var O=v.alternate,U=O!==null&&O.memoizedState!==null||nn;O=bd;var Q=nn;if(bd=E,(nn=U)&&!Q)for(we=v;we!==null;)E=we,U=E.child,E.tag===22&&E.memoizedState!==null?Ox(v):U!==null?(U.return=E,we=U):Ox(v);for(;x!==null;)we=x,Rx(x),x=x.sibling;we=v,bd=O,nn=Q}Dx(i)}else(v.subtreeFlags&8772)!==0&&x!==null?(x.return=v,we=x):Dx(i)}}function Dx(i){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||_d(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!nn)if(u===null)p.componentDidMount();else{var v=o.elementType===o.type?u.memoizedProps:sr(o.type,u.memoizedProps);p.componentDidUpdate(v,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&M0(o,x,p);break;case 3:var E=o.updateQueue;if(E!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}M0(o,E,u)}break;case 5:var O=o.stateNode;if(u===null&&o.flags&4){u=O;var U=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&u.focus();break;case"img":U.src&&(u.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Q=o.alternate;if(Q!==null){var oe=Q.memoizedState;if(oe!==null){var le=oe.dehydrated;le!==null&&qs(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||o.flags&512&&om(o)}catch(se){gt(o,o.return,se)}}if(o===i){we=null;break}if(u=o.sibling,u!==null){u.return=o.return,we=u;break}we=o.return}}function Mx(i){for(;we!==null;){var o=we;if(o===i){we=null;break}var u=o.sibling;if(u!==null){u.return=o.return,we=u;break}we=o.return}}function Ox(i){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{_d(4,o)}catch(U){gt(o,u,U)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var v=o.return;try{p.componentDidMount()}catch(U){gt(o,v,U)}}var x=o.return;try{om(o)}catch(U){gt(o,x,U)}break;case 5:var E=o.return;try{om(o)}catch(U){gt(o,E,U)}}}catch(U){gt(o,o.return,U)}if(o===i){we=null;break}var O=o.sibling;if(O!==null){O.return=o.return,we=O;break}we=o.return}}var Vk=Math.ceil,Td=H.ReactCurrentDispatcher,cm=H.ReactCurrentOwner,qn=H.ReactCurrentBatchConfig,Je=0,Ut=null,Ct=null,Jt=0,Rn=0,Ma=Js(0),Mt=0,uc=null,co=0,Ed=0,um=0,dc=null,yn=null,dm=0,Oa=1/0,hs=null,Sd=!1,hm=null,ni=null,Ad=!1,ri=null,kd=0,hc=0,fm=null,Cd=-1,Id=0;function dn(){return(Je&6)!==0?at():Cd!==-1?Cd:Cd=at()}function si(i){return(i.mode&1)===0?1:(Je&2)!==0&&Jt!==0?Jt&-Jt:bk.transition!==null?(Id===0&&(Id=Rl()),Id):(i=Ke,i!==0||(i=window.event,i=i===void 0?16:da(i.type)),i)}function ar(i,o,u,p){if(50<hc)throw hc=0,fm=null,Error(t(185));Yi(i,u,p),((Je&2)===0||i!==Ut)&&(i===Ut&&((Je&2)===0&&(Ed|=u),Mt===4&&ii(i,Jt)),vn(i,p),u===1&&Je===0&&(o.mode&1)===0&&(Oa=at()+500,rd&&Xs()))}function vn(i,o){var u=i.callbackNode;Ji(i,o);var p=Zr(i,i===Ut?Jt:0);if(p===0)u!==null&&sa(u),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(u!=null&&sa(u),o===1)i.tag===0?wk(Vx.bind(null,i)):T0(Vx.bind(null,i)),gk(function(){(Je&6)===0&&Xs()}),u=null;else{switch(xr(p)){case 1:u=ia;break;case 4:u=Nl;break;case 16:u=Wi;break;case 536870912:u=oa;break;default:u=Wi}u=Wx(u,Lx.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Lx(i,o){if(Cd=-1,Id=0,(Je&6)!==0)throw Error(t(327));var u=i.callbackNode;if(La()&&i.callbackNode!==u)return null;var p=Zr(i,i===Ut?Jt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=Nd(i,p);else{o=p;var v=Je;Je|=2;var x=Ux();(Ut!==i||Jt!==o)&&(hs=null,Oa=at()+500,ho(i,o));do try{Bk();break}catch(O){Fx(i,O)}while(!0);jp(),Td.current=x,Je=v,Ct!==null?o=0:(Ut=null,Jt=0,o=Mt)}if(o!==0){if(o===2&&(v=Pl(i),v!==0&&(p=v,o=pm(i,v))),o===1)throw u=uc,ho(i,0),ii(i,p),vn(i,at()),u;if(o===6)ii(i,p);else{if(v=i.current.alternate,(p&30)===0&&!Fk(v)&&(o=Nd(i,p),o===2&&(x=Pl(i),x!==0&&(p=x,o=pm(i,x))),o===1))throw u=uc,ho(i,0),ii(i,p),vn(i,at()),u;switch(i.finishedWork=v,i.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:fo(i,yn,hs);break;case 3:if(ii(i,p),(p&130023424)===p&&(o=dm+500-at(),10<o)){if(Zr(i,0)!==0)break;if(v=i.suspendedLanes,(v&p)!==p){dn(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=wp(fo.bind(null,i,yn,hs),o);break}fo(i,yn,hs);break;case 4:if(ii(i,p),(p&4194240)===p)break;for(o=i.eventTimes,v=-1;0<p;){var E=31-An(p);x=1<<E,E=o[E],E>v&&(v=E),p&=~x}if(p=v,p=at()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Vk(p/1960))-p,10<p){i.timeoutHandle=wp(fo.bind(null,i,yn,hs),p);break}fo(i,yn,hs);break;case 5:fo(i,yn,hs);break;default:throw Error(t(329))}}}return vn(i,at()),i.callbackNode===u?Lx.bind(null,i):null}function pm(i,o){var u=dc;return i.current.memoizedState.isDehydrated&&(ho(i,o).flags|=256),i=Nd(i,o),i!==2&&(o=yn,yn=u,o!==null&&mm(o)),i}function mm(i){yn===null?yn=i:yn.push.apply(yn,i)}function Fk(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var v=u[p],x=v.getSnapshot;v=v.value;try{if(!nr(x(),v))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ii(i,o){for(o&=~um,o&=~Ed,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-An(o),p=1<<u;i[u]=-1,o&=~p}}function Vx(i){if((Je&6)!==0)throw Error(t(327));La();var o=Zr(i,0);if((o&1)===0)return vn(i,at()),null;var u=Nd(i,o);if(i.tag!==0&&u===2){var p=Pl(i);p!==0&&(o=p,u=pm(i,p))}if(u===1)throw u=uc,ho(i,0),ii(i,o),vn(i,at()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,fo(i,yn,hs),vn(i,at()),null}function gm(i,o){var u=Je;Je|=1;try{return i(o)}finally{Je=u,Je===0&&(Oa=at()+500,rd&&Xs())}}function uo(i){ri!==null&&ri.tag===0&&(Je&6)===0&&La();var o=Je;Je|=1;var u=qn.transition,p=Ke;try{if(qn.transition=null,Ke=1,i)return i()}finally{Ke=p,qn.transition=u,Je=o,(Je&6)===0&&Xs()}}function ym(){Rn=Ma.current,ct(Ma)}function ho(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,mk(u)),Ct!==null)for(u=Ct.return;u!==null;){var p=u;switch(Ap(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&td();break;case 3:Pa(),ct(pn),ct(Zt),Fp();break;case 5:Lp(p);break;case 4:Pa();break;case 13:ct(dt);break;case 19:ct(dt);break;case 10:Pp(p.type._context);break;case 22:case 23:ym()}u=u.return}if(Ut=i,Ct=i=oi(i.current,null),Jt=Rn=o,Mt=0,uc=null,um=Ed=co=0,yn=dc=null,oo!==null){for(o=0;o<oo.length;o++)if(u=oo[o],p=u.interleaved,p!==null){u.interleaved=null;var v=p.next,x=u.pending;if(x!==null){var E=x.next;x.next=v,p.next=E}u.pending=p}oo=null}return i}function Fx(i,o){do{var u=Ct;try{if(jp(),fd.current=yd,pd){for(var p=ht.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}pd=!1}if(lo=0,Ft=Dt=ht=null,sc=!1,ic=0,cm.current=null,u===null||u.return===null){Mt=1,uc=o,Ct=null;break}e:{var x=i,E=u.return,O=u,U=o;if(o=Jt,O.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Q=U,oe=O,le=oe.tag;if((oe.mode&1)===0&&(le===0||le===11||le===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var ge=ux(E);if(ge!==null){ge.flags&=-257,dx(ge,E,O,x,o),ge.mode&1&&cx(x,Q,o),o=ge,U=Q;var _e=o.updateQueue;if(_e===null){var Te=new Set;Te.add(U),o.updateQueue=Te}else _e.add(U);break e}else{if((o&1)===0){cx(x,Q,o),vm();break e}U=Error(t(426))}}else if(ut&&O.mode&1){var _t=ux(E);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),dx(_t,E,O,x,o),Ip(Ra(U,O));break e}}x=U=Ra(U,O),Mt!==4&&(Mt=2),dc===null?dc=[x]:dc.push(x),x=E;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var q=ax(x,U,o);D0(x,q);break e;case 1:O=U;var z=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ni===null||!ni.has(K)))){x.flags|=65536,o&=-o,x.lanes|=o;var ce=lx(x,O,o);D0(x,ce);break e}}x=x.return}while(x!==null)}$x(u)}catch(Ee){o=Ee,Ct===u&&u!==null&&(Ct=u=u.return);continue}break}while(!0)}function Ux(){var i=Td.current;return Td.current=yd,i===null?yd:i}function vm(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Ut===null||(co&268435455)===0&&(Ed&268435455)===0||ii(Ut,Jt)}function Nd(i,o){var u=Je;Je|=2;var p=Ux();(Ut!==i||Jt!==o)&&(hs=null,ho(i,o));do try{Uk();break}catch(v){Fx(i,v)}while(!0);if(jp(),Je=u,Td.current=p,Ct!==null)throw Error(t(261));return Ut=null,Jt=0,Mt}function Uk(){for(;Ct!==null;)Bx(Ct)}function Bk(){for(;Ct!==null&&!qi();)Bx(Ct)}function Bx(i){var o=qx(i.alternate,i,Rn);i.memoizedProps=i.pendingProps,o===null?$x(i):Ct=o,cm.current=null}function $x(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Rk(u,o,Rn),u!==null){Ct=u;return}}else{if(u=Dk(u,o),u!==null){u.flags&=32767,Ct=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Mt=6,Ct=null;return}}if(o=o.sibling,o!==null){Ct=o;return}Ct=o=i}while(o!==null);Mt===0&&(Mt=5)}function fo(i,o,u){var p=Ke,v=qn.transition;try{qn.transition=null,Ke=1,$k(i,o,u,p)}finally{qn.transition=v,Ke=p}return null}function $k(i,o,u,p){do La();while(ri!==null);if((Je&6)!==0)throw Error(t(327));u=i.finishedWork;var v=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=u.lanes|u.childLanes;if(sp(i,x),i===Ut&&(Ct=Ut=null,Jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ad||(Ad=!0,Wx(Wi,function(){return La(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=qn.transition,qn.transition=null;var E=Ke;Ke=1;var O=Je;Je|=4,cm.current=null,Ok(i,u),Px(u,i),lk(vp),ns=!!yp,vp=yp=null,i.current=u,Lk(u),Xr(),Je=O,Ke=E,qn.transition=x}else i.current=u;if(Ad&&(Ad=!1,ri=i,kd=v),x=i.pendingLanes,x===0&&(ni=null),Lu(u.stateNode),vn(i,at()),o!==null)for(p=i.onRecoverableError,u=0;u<o.length;u++)v=o[u],p(v.value,{componentStack:v.stack,digest:v.digest});if(Sd)throw Sd=!1,i=hm,hm=null,i;return(kd&1)!==0&&i.tag!==0&&La(),x=i.pendingLanes,(x&1)!==0?i===fm?hc++:(hc=0,fm=i):hc=0,Xs(),null}function La(){if(ri!==null){var i=xr(kd),o=qn.transition,u=Ke;try{if(qn.transition=null,Ke=16>i?16:i,ri===null)var p=!1;else{if(i=ri,ri=null,kd=0,(Je&6)!==0)throw Error(t(331));var v=Je;for(Je|=4,we=i.current;we!==null;){var x=we,E=x.child;if((we.flags&16)!==0){var O=x.deletions;if(O!==null){for(var U=0;U<O.length;U++){var Q=O[U];for(we=Q;we!==null;){var oe=we;switch(oe.tag){case 0:case 11:case 15:cc(8,oe,x)}var le=oe.child;if(le!==null)le.return=oe,we=le;else for(;we!==null;){oe=we;var se=oe.sibling,ge=oe.return;if(kx(oe),oe===Q){we=null;break}if(se!==null){se.return=ge,we=se;break}we=ge}}}var _e=x.alternate;if(_e!==null){var Te=_e.child;if(Te!==null){_e.child=null;do{var _t=Te.sibling;Te.sibling=null,Te=_t}while(Te!==null)}}we=x}}if((x.subtreeFlags&2064)!==0&&E!==null)E.return=x,we=E;else e:for(;we!==null;){if(x=we,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:cc(9,x,x.return)}var q=x.sibling;if(q!==null){q.return=x.return,we=q;break e}we=x.return}}var z=i.current;for(we=z;we!==null;){E=we;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,we=K;else e:for(E=z;we!==null;){if(O=we,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:_d(9,O)}}catch(Ee){gt(O,O.return,Ee)}if(O===E){we=null;break e}var ce=O.sibling;if(ce!==null){ce.return=O.return,we=ce;break e}we=O.return}}if(Je=v,Xs(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Gi,i)}catch{}p=!0}return p}finally{Ke=u,qn.transition=o}}return!1}function zx(i,o,u){o=Ra(u,o),o=ax(i,o,1),i=ei(i,o,1),o=dn(),i!==null&&(Yi(i,1,o),vn(i,o))}function gt(i,o,u){if(i.tag===3)zx(i,i,u);else for(;o!==null;){if(o.tag===3){zx(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ni===null||!ni.has(p))){i=Ra(u,i),i=lx(o,i,1),o=ei(o,i,1),i=dn(),o!==null&&(Yi(o,1,i),vn(o,i));break}}o=o.return}}function zk(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),o=dn(),i.pingedLanes|=i.suspendedLanes&u,Ut===i&&(Jt&u)===u&&(Mt===4||Mt===3&&(Jt&130023424)===Jt&&500>at()-dm?ho(i,0):um|=u),vn(i,o)}function Hx(i,o){o===0&&((i.mode&1)===0?o=1:(o=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var u=dn();i=cs(i,o),i!==null&&(Yi(i,o,u),vn(i,u))}function Hk(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),Hx(i,u)}function qk(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),Hx(i,u)}var qx;qx=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||pn.current)gn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return gn=!1,Pk(i,o,u);gn=(i.flags&131072)!==0}else gn=!1,ut&&(o.flags&1048576)!==0&&E0(o,id,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;wd(i,o),i=o.pendingProps;var v=Sa(o,Zt.current);ja(o,u),v=$p(null,o,p,i,v,u);var x=zp();return o.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mn(p)?(x=!0,nd(o)):x=!1,o.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Mp(o),v.updater=vd,o.stateNode=v,v._reactInternals=o,Qp(o,p,i,u),o=Zp(null,o,p,!0,x,u)):(o.tag=0,ut&&x&&Sp(o),un(null,o,v,u),o=o.child),o;case 16:p=o.elementType;e:{switch(wd(i,o),i=o.pendingProps,v=p._init,p=v(p._payload),o.type=p,v=o.tag=Gk(p),i=sr(p,i),v){case 0:o=Xp(null,o,p,i,u);break e;case 1:o=yx(null,o,p,i,u);break e;case 11:o=hx(null,o,p,i,u);break e;case 14:o=fx(null,o,p,sr(p.type,i),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:sr(p,v),Xp(i,o,p,v,u);case 1:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:sr(p,v),yx(i,o,p,v,u);case 3:e:{if(vx(o),i===null)throw Error(t(387));p=o.pendingProps,x=o.memoizedState,v=x.element,R0(i,o),dd(o,p,null,u);var E=o.memoizedState;if(p=E.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){v=Ra(Error(t(423)),o),o=xx(i,o,p,u,v);break e}else if(p!==v){v=Ra(Error(t(424)),o),o=xx(i,o,p,u,v);break e}else for(Pn=Qs(o.stateNode.containerInfo.firstChild),jn=o,ut=!0,rr=null,u=j0(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ca(),p===v){o=ds(i,o,u);break e}un(i,o,p,u)}o=o.child}return o;case 5:return O0(o),i===null&&Cp(o),p=o.type,v=o.pendingProps,x=i!==null?i.memoizedProps:null,E=v.children,xp(p,v)?E=null:x!==null&&xp(p,x)&&(o.flags|=32),gx(i,o),un(i,o,E,u),o.child;case 6:return i===null&&Cp(o),null;case 13:return wx(i,o,u);case 4:return Op(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ia(o,null,p,u):un(i,o,p,u),o.child;case 11:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:sr(p,v),hx(i,o,p,v,u);case 7:return un(i,o,o.pendingProps,u),o.child;case 8:return un(i,o,o.pendingProps.children,u),o.child;case 12:return un(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,v=o.pendingProps,x=o.memoizedProps,E=v.value,rt(ld,p._currentValue),p._currentValue=E,x!==null)if(nr(x.value,E)){if(x.children===v.children&&!pn.current){o=ds(i,o,u);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var O=x.dependencies;if(O!==null){E=x.child;for(var U=O.firstContext;U!==null;){if(U.context===p){if(x.tag===1){U=us(-1,u&-u),U.tag=2;var Q=x.updateQueue;if(Q!==null){Q=Q.shared;var oe=Q.pending;oe===null?U.next=U:(U.next=oe.next,oe.next=U),Q.pending=U}}x.lanes|=u,U=x.alternate,U!==null&&(U.lanes|=u),Rp(x.return,u,o),O.lanes|=u;break}U=U.next}}else if(x.tag===10)E=x.type===o.type?null:x.child;else if(x.tag===18){if(E=x.return,E===null)throw Error(t(341));E.lanes|=u,O=E.alternate,O!==null&&(O.lanes|=u),Rp(E,u,o),E=x.sibling}else E=x.child;if(E!==null)E.return=x;else for(E=x;E!==null;){if(E===o){E=null;break}if(x=E.sibling,x!==null){x.return=E.return,E=x;break}E=E.return}x=E}un(i,o,v.children,u),o=o.child}return o;case 9:return v=o.type,p=o.pendingProps.children,ja(o,u),v=zn(v),p=p(v),o.flags|=1,un(i,o,p,u),o.child;case 14:return p=o.type,v=sr(p,o.pendingProps),v=sr(p.type,v),fx(i,o,p,v,u);case 15:return px(i,o,o.type,o.pendingProps,u);case 17:return p=o.type,v=o.pendingProps,v=o.elementType===p?v:sr(p,v),wd(i,o),o.tag=1,mn(p)?(i=!0,nd(o)):i=!1,ja(o,u),ix(o,p,v),Qp(o,p,v,u),Zp(null,o,p,!0,i,u);case 19:return _x(i,o,u);case 22:return mx(i,o,u)}throw Error(t(156,o.tag))};function Wx(i,o){return Il(i,o)}function Wk(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,o,u,p){return new Wk(i,o,u,p)}function xm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gk(i){if(typeof i=="function")return xm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===re)return 14}return 2}function oi(i,o){var u=i.alternate;return u===null?(u=Wn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function jd(i,o,u,p,v,x){var E=2;if(p=i,typeof i=="function")xm(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case k:return po(u.children,v,x,o);case T:E=8,v|=8;break;case P:return i=Wn(12,u,o,v|2),i.elementType=P,i.lanes=x,i;case D:return i=Wn(13,u,o,v),i.elementType=D,i.lanes=x,i;case be:return i=Wn(19,u,o,v),i.elementType=be,i.lanes=x,i;case Ce:return Pd(u,v,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:E=10;break e;case L:E=9;break e;case $:E=11;break e;case re:E=14;break e;case ie:E=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Wn(E,u,o,v),o.elementType=i,o.type=p,o.lanes=x,o}function po(i,o,u,p){return i=Wn(7,i,p,o),i.lanes=u,i}function Pd(i,o,u,p){return i=Wn(22,i,p,o),i.elementType=Ce,i.lanes=u,i.stateNode={isHidden:!1},i}function wm(i,o,u){return i=Wn(6,i,null,o),i.lanes=u,i}function bm(i,o,u){return o=Wn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Kk(i,o,u,p,v){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dl(0),this.expirationTimes=Dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function _m(i,o,u,p,v,x,E,O,U){return i=new Kk(i,o,u,O,U),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Wn(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mp(x),i}function Qk(i,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:i,containerInfo:o,implementation:u}}function Gx(i){if(!i)return Ys;i=i._reactInternals;e:{if(er(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(mn(u))return b0(i,u,o)}return o}function Kx(i,o,u,p,v,x,E,O,U){return i=_m(u,p,!0,i,v,x,E,O,U),i.context=Gx(null),u=i.current,p=dn(),v=si(u),x=us(p,v),x.callback=o??null,ei(u,x,v),i.current.lanes=v,Yi(i,v,p),vn(i,p),i}function Rd(i,o,u,p){var v=o.current,x=dn(),E=si(v);return u=Gx(u),o.context===null?o.context=u:o.pendingContext=u,o=us(x,E),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=ei(v,o,E),i!==null&&(ar(i,v,E,x),ud(i,v,E)),E}function Dd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Qx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Tm(i,o){Qx(i,o),(i=i.alternate)&&Qx(i,o)}function Jk(){return null}var Jx=typeof reportError=="function"?reportError:function(i){console.error(i)};function Em(i){this._internalRoot=i}Md.prototype.render=Em.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Rd(i,o,null,null)},Md.prototype.unmount=Em.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;uo(function(){Rd(null,i,null,null)}),o[is]=null}};function Md(i){this._internalRoot=i}Md.prototype.unstable_scheduleHydration=function(i){if(i){var o=Vl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<kn.length&&o!==0&&o<kn[u].priority;u++);kn.splice(u,0,i),u===0&&ca(i)}};function Sm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Od(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Yx(){}function Yk(i,o,u,p,v){if(v){if(typeof p=="function"){var x=p;p=function(){var Q=Dd(E);x.call(Q)}}var E=Kx(o,p,i,0,null,!1,!1,"",Yx);return i._reactRootContainer=E,i[is]=E.current,Jl(i.nodeType===8?i.parentNode:i),uo(),E}for(;v=i.lastChild;)i.removeChild(v);if(typeof p=="function"){var O=p;p=function(){var Q=Dd(U);O.call(Q)}}var U=_m(i,0,!1,null,null,!1,!1,"",Yx);return i._reactRootContainer=U,i[is]=U.current,Jl(i.nodeType===8?i.parentNode:i),uo(function(){Rd(o,U,u,p)}),U}function Ld(i,o,u,p,v){var x=u._reactRootContainer;if(x){var E=x;if(typeof v=="function"){var O=v;v=function(){var U=Dd(E);O.call(U)}}Rd(o,E,i,v)}else E=Yk(u,o,i,v,p);return Dd(E)}Ol=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=Xe(o.pendingLanes);u!==0&&(Ml(o,u|1),vn(o,at()),(Je&6)===0&&(Oa=at()+500,Xs()))}break;case 13:uo(function(){var p=cs(i,1);if(p!==null){var v=dn();ar(p,i,1,v)}}),Tm(i,1)}},aa=function(i){if(i.tag===13){var o=cs(i,134217728);if(o!==null){var u=dn();ar(o,i,134217728,u)}Tm(i,134217728)}},Ll=function(i){if(i.tag===13){var o=si(i),u=cs(i,o);if(u!==null){var p=dn();ar(u,i,o,p)}Tm(i,o)}},Vl=function(){return Ke},Fl=function(i,o){var u=Ke;try{return Ke=i,o()}finally{Ke=u}},Qr=function(i,o,u){switch(o){case"input":if(Bi(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var v=ed(p);if(!v)throw Error(t(90));Vn(p),Bi(p,v)}}}break;case"textarea":Su(i,u);break;case"select":o=u.value,o!=null&&Xn(i,!!u.multiple,o,!1)}},Cu=gm,Iu=uo;var Xk={usingClientEntryPoint:!1,Events:[Zl,Ta,ed,Vs,Fs,gm]},fc={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zk={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ou(i),i===null?null:i.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||Jk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Gi=Vd.inject(Zk),Sn=Vd}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk,xn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sm(o))throw Error(t(200));return Qk(i,o,null,u)},xn.createRoot=function(i,o){if(!Sm(i))throw Error(t(299));var u=!1,p="",v=Jx;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),o=_m(i,1,!1,null,null,u,!1,p,v),i[is]=o.current,Jl(i.nodeType===8?i.parentNode:i),new Em(o)},xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ou(o),i=i===null?null:i.stateNode,i},xn.flushSync=function(i){return uo(i)},xn.hydrate=function(i,o,u){if(!Od(o))throw Error(t(200));return Ld(null,i,o,!0,u)},xn.hydrateRoot=function(i,o,u){if(!Sm(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,v=!1,x="",E=Jx;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),o=Kx(o,null,i,1,u??null,v,!1,x,E),i[is]=o.current,Jl(i),p)for(i=0;i<p.length;i++)u=p[i],v=u._getVersion,v=v(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,v]:o.mutableSourceEagerHydrationData.push(u,v);return new Md(o)},xn.render=function(i,o,u){if(!Od(o))throw Error(t(200));return Ld(null,i,o,!1,u)},xn.unmountComponentAtNode=function(i){if(!Od(i))throw Error(t(40));return i._reactRootContainer?(uo(function(){Ld(null,null,i,!1,function(){i._reactRootContainer=null,i[is]=null})}),!0):!1},xn.unstable_batchedUpdates=gm,xn.unstable_renderSubtreeIntoContainer=function(i,o,u,p){if(!Od(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ld(i,o,u,!1,p)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var iw;function S_(){if(iw)return Cm.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cm.exports=cC(),Cm.exports}var ow;function uC(){if(ow)return Fd;ow=1;var n=S_();return Fd.createRoot=n.createRoot,Fd.hydrateRoot=n.hydrateRoot,Fd}var dC=uC();S_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uc.apply(this,arguments)}var yi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(yi||(yi={}));const aw="popstate";function hC(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:d}=r.location;return fg("",{pathname:a,search:l,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Ah(s)}return pC(e,t,null,n)}function Rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function A_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fC(){return Math.random().toString(36).substr(2,8)}function lw(n,e){return{usr:n.state,key:n.key,idx:e}}function fg(n,e,t,r){return t===void 0&&(t=null),Uc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:t,key:e&&e.key||r||fC()})}function Ah(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function pC(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,d=yi.Pop,f=null,m=g();m==null&&(m=0,l.replaceState(Uc({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function y(){d=yi.Pop;let C=g(),F=C==null?null:C-m;m=C,f&&f({action:d,location:R.location,delta:F})}function b(C,F){d=yi.Push;let B=fg(R.location,C,F);m=g()+1;let I=lw(B,m),H=R.createHref(B);try{l.pushState(I,"",H)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(H)}a&&f&&f({action:d,location:R.location,delta:1})}function S(C,F){d=yi.Replace;let B=fg(R.location,C,F);m=g();let I=lw(B,m),H=R.createHref(B);l.replaceState(I,"",H),a&&f&&f({action:d,location:R.location,delta:0})}function A(C){let F=s.location.origin!=="null"?s.location.origin:s.location.href,B=typeof C=="string"?C:Ah(C);return B=B.replace(/ $/,"%20"),Rt(F,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,F)}let R={get action(){return d},get location(){return n(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(aw,y),f=C,()=>{s.removeEventListener(aw,y),f=null}},createHref(C){return e(s,C)},createURL:A,encodeLocation(C){let F=A(C);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:S,go(C){return l.go(C)}};return R}var cw;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(cw||(cw={}));function mC(n,e,t){return t===void 0&&(t="/"),gC(n,e,t)}function gC(n,e,t,r){let s=typeof e=="string"?dl(e):e,a=py(s.pathname||"/",t);if(a==null)return null;let l=k_(n);yC(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let m=IC(a);d=AC(l[f],m)}return d}function k_(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Rt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=xi([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(Rt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),k_(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:EC(m,a.index),routesMeta:g})};return n.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,l);else for(let f of C_(a.path))s(a,l,f)}),e}function C_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=C_(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...l),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function yC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const vC=/^:[\w-]+$/,xC=3,wC=2,bC=1,_C=10,TC=-2,uw=n=>n==="*";function EC(n,e){let t=n.split("/"),r=t.length;return t.some(uw)&&(r+=TC),e&&(r+=wC),t.filter(s=>!uw(s)).reduce((s,a)=>s+(vC.test(a)?xC:a===""?bC:_C),r)}function SC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function AC(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=kC({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),b=f.route;if(!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:xi([a,y.pathname]),pathnameBase:RC(xi([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=xi([a,y.pathnameBase]))}return l}function kC(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=CC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,g,y)=>{let{paramName:b,isOptional:S}=g;if(b==="*"){let R=d[y]||"";l=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const A=d[y];return S&&!A?m[b]=void 0:m[b]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function CC(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),A_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function IC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function py(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function NC(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?dl(n):n;return{pathname:t?t.startsWith("/")?t:jC(t,e):e,search:DC(r),hash:MC(s)}}function jC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function jm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function I_(n,e){let t=PC(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function N_(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=dl(n):(s=Uc({},n),Rt(!s.pathname||!s.pathname.includes("?"),jm("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),jm("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),jm("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,d;if(l==null)d=t;else{let y=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}d=y>=0?e[y]:"/"}let f=NC(s,d),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const xi=n=>n.join("/").replace(/\/\/+/g,"/"),RC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function OC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const j_=["post","put","patch","delete"];new Set(j_);const LC=["get",...j_];new Set(LC);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bc.apply(this,arguments)}const my=N.createContext(null),VC=N.createContext(null),Uo=N.createContext(null),uf=N.createContext(null),Bo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),P_=N.createContext(null);function FC(n,e){let{relative:t}=e===void 0?{}:e;tu()||Rt(!1);let{basename:r,navigator:s}=N.useContext(Uo),{hash:a,pathname:l,search:d}=D_(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:xi([r,l])),s.createHref({pathname:f,search:d,hash:a})}function tu(){return N.useContext(uf)!=null}function $o(){return tu()||Rt(!1),N.useContext(uf).location}function R_(n){N.useContext(Uo).static||N.useLayoutEffect(n)}function gy(){let{isDataRoute:n}=N.useContext(Bo);return n?XC():UC()}function UC(){tu()||Rt(!1);let n=N.useContext(my),{basename:e,future:t,navigator:r}=N.useContext(Uo),{matches:s}=N.useContext(Bo),{pathname:a}=$o(),l=JSON.stringify(I_(s,t.v7_relativeSplatPath)),d=N.useRef(!1);return R_(()=>{d.current=!0}),N.useCallback(function(m,g){if(g===void 0&&(g={}),!d.current)return;if(typeof m=="number"){r.go(m);return}let y=N_(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xi([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,l,a,n])}function D_(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=N.useContext(Uo),{matches:s}=N.useContext(Bo),{pathname:a}=$o(),l=JSON.stringify(I_(s,r.v7_relativeSplatPath));return N.useMemo(()=>N_(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function BC(n,e){return $C(n,e)}function $C(n,e,t,r){tu()||Rt(!1);let{navigator:s}=N.useContext(Uo),{matches:a}=N.useContext(Bo),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=$o(),g;if(e){var y;let C=typeof e=="string"?dl(e):e;f==="/"||(y=C.pathname)!=null&&y.startsWith(f)||Rt(!1),g=C}else g=m;let b=g.pathname||"/",S=b;if(f!=="/"){let C=f.replace(/^\//,"").split("/");S="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let A=mC(n,{pathname:S}),R=GC(A&&A.map(C=>Object.assign({},C,{params:Object.assign({},d,C.params),pathname:xi([f,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:xi([f,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,r);return e&&R?N.createElement(uf.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:yi.Pop}},R):R}function zC(){let n=YC(),e=OC(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:s},t):null,null)}const HC=N.createElement(zC,null);class qC extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Bo.Provider,{value:this.props.routeContext},N.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WC(n){let{routeContext:e,match:t,children:r}=n,s=N.useContext(my);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Bo.Provider,{value:e},r)}function GC(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=(s=t)==null?void 0:s.errors;if(d!=null){let g=l.findIndex(y=>y.route.id&&d?.[y.route.id]!==void 0);g>=0||Rt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:b,errors:S}=t,A=y.route.loader&&b[y.route.id]===void 0&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,b)=>{let S,A=!1,R=null,C=null;t&&(S=d&&y.route.id?d[y.route.id]:void 0,R=y.route.errorElement||HC,f&&(m<0&&b===0?(ZC("route-fallback"),A=!0,C=null):m===b&&(A=!0,C=y.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,b+1)),B=()=>{let I;return S?I=R:A?I=C:y.route.Component?I=N.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,N.createElement(WC,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:I})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?N.createElement(qC,{location:t.location,revalidation:t.revalidation,component:R,error:S,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}var M_=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(M_||{}),O_=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(O_||{});function KC(n){let e=N.useContext(my);return e||Rt(!1),e}function QC(n){let e=N.useContext(VC);return e||Rt(!1),e}function JC(n){let e=N.useContext(Bo);return e||Rt(!1),e}function L_(n){let e=JC(),t=e.matches[e.matches.length-1];return t.route.id||Rt(!1),t.route.id}function YC(){var n;let e=N.useContext(P_),t=QC(),r=L_();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function XC(){let{router:n}=KC(M_.UseNavigateStable),e=L_(O_.UseNavigateStable),t=N.useRef(!1);return R_(()=>{t.current=!0}),N.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Bc({fromRouteId:e},a)))},[n,e])}const dw={};function ZC(n,e,t){dw[n]||(dw[n]=!0)}function eI(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function wn(n){Rt(!1)}function tI(n){let{basename:e="/",children:t=null,location:r,navigationType:s=yi.Pop,navigator:a,static:l=!1,future:d}=n;tu()&&Rt(!1);let f=e.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:f,navigator:a,static:l,future:Bc({v7_relativeSplatPath:!1},d)}),[f,d,a,l]);typeof r=="string"&&(r=dl(r));let{pathname:g="/",search:y="",hash:b="",state:S=null,key:A="default"}=r,R=N.useMemo(()=>{let C=py(g,f);return C==null?null:{location:{pathname:C,search:y,hash:b,state:S,key:A},navigationType:s}},[f,g,y,b,S,A,s]);return R==null?null:N.createElement(Uo.Provider,{value:m},N.createElement(uf.Provider,{children:t,value:R}))}function nI(n){let{children:e,location:t}=n;return BC(pg(e),t)}new Promise(()=>{});function pg(n,e){e===void 0&&(e=[]);let t=[];return N.Children.forEach(n,(r,s)=>{if(!N.isValidElement(r))return;let a=[...e,s];if(r.type===N.Fragment){t.push.apply(t,pg(r.props.children,a));return}r.type!==wn&&Rt(!1),!r.props.index||!r.props.children||Rt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=pg(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mg(){return mg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mg.apply(this,arguments)}function rI(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function sI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iI(n,e){return n.button===0&&(!e||e==="_self")&&!sI(n)}const oI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aI="6";try{window.__reactRouterVersion=aI}catch{}const lI="startTransition",hw=oC[lI];function cI(n){let{basename:e,children:t,future:r,window:s}=n,a=N.useRef();a.current==null&&(a.current=hC({window:s,v5Compat:!0}));let l=a.current,[d,f]=N.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=N.useCallback(y=>{m&&hw?hw(()=>f(y)):f(y)},[f,m]);return N.useLayoutEffect(()=>l.listen(g),[l,g]),N.useEffect(()=>eI(r),[r]),N.createElement(tI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:l,future:r})}const uI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lh=N.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:d,target:f,to:m,preventScrollReset:g,viewTransition:y}=e,b=rI(e,oI),{basename:S}=N.useContext(Uo),A,R=!1;if(typeof m=="string"&&dI.test(m)&&(A=m,uI))try{let I=new URL(window.location.href),H=m.startsWith("//")?new URL(I.protocol+m):new URL(m),X=py(H.pathname,S);H.origin===I.origin&&X!=null?m=X+H.search+H.hash:R=!0}catch{}let C=FC(m,{relative:s}),F=hI(m,{replace:l,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:y});function B(I){r&&r(I),I.defaultPrevented||F(I)}return N.createElement("a",mg({},b,{href:A||C,onClick:R||a?r:B,ref:t,target:f}))});var fw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(fw||(fw={}));var pw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(pw||(pw={}));function hI(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,f=gy(),m=$o(),g=D_(n,{relative:l});return N.useCallback(y=>{if(iI(y,t)){y.preventDefault();let b=r!==void 0?r:Ah(m)===Ah(g);f(n,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:d})}},[m,f,g,r,s,t,n,a,l,d])}let fI={data:""},pI=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||fI,mI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gI=/\/\*[^]*?\*\/|  +/g,mw=/\n+/g,di=(n,e)=>{let t="",r="",s="";for(let a in n){let l=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":r+=a[1]=="f"?di(l,a):a+"{"+di(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=di(l,e?e.replace(/([^,])+/g,d=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=di.p?di.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+r},fs={},V_=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+V_(n[t]);return e}return n},yI=(n,e,t,r,s)=>{let a=V_(n),l=fs[a]||(fs[a]=(f=>{let m=0,g=11;for(;m<f.length;)g=101*g+f.charCodeAt(m++)>>>0;return"go"+g})(a));if(!fs[l]){let f=a!==n?n:(m=>{let g,y,b=[{}];for(;g=mI.exec(m.replace(gI,""));)g[4]?b.shift():g[3]?(y=g[3].replace(mw," ").trim(),b.unshift(b[0][y]=b[0][y]||{})):b[0][g[1]]=g[2].replace(mw," ").trim();return b[0]})(n);fs[l]=di(s?{["@keyframes "+l]:f}:f,t?"":"."+l)}let d=t&&fs.g?fs.g:null;return t&&(fs.g=fs[l]),((f,m,g,y)=>{y?m.data=m.data.replace(y,f):m.data.indexOf(f)===-1&&(m.data=g?f+m.data:m.data+f)})(fs[l],e,r,d),l},vI=(n,e,t)=>n.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let d=l(t),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;l=f?"."+f:d&&typeof d=="object"?d.props?"":di(d,""):d===!1?"":d}return r+s+(l??"")},"");function df(n){let e=this||{},t=n.call?n(e.p):n;return yI(t.unshift?t.raw?vI(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,pI(e.target),e.g,e.o,e.k)}let F_,gg,yg;df.bind({g:1});let Es=df.bind({k:1});function xI(n,e,t,r){di.p=e,F_=n,gg=t,yg=r}function Vi(n,e){let t=this||{};return function(){let r=arguments;function s(a,l){let d=Object.assign({},a),f=d.className||s.className;t.p=Object.assign({theme:gg&&gg()},d),t.o=/ *go\d+/.test(f),d.className=df.apply(t,r)+(f?" "+f:"");let m=n;return n[0]&&(m=d.as||n,delete d.as),yg&&m[0]&&yg(d),F_(m,d)}return s}}var wI=n=>typeof n=="function",kh=(n,e)=>wI(n)?n(e):n,bI=(()=>{let n=0;return()=>(++n).toString()})(),U_=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),_I=20,yy="default",B_=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return B_(n,{type:n.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},ch=[],$_={toasts:[],pausedAt:void 0,settings:{toastLimit:_I}},Mr={},z_=(n,e=yy)=>{Mr[e]=B_(Mr[e]||$_,n),ch.forEach(([t,r])=>{t===e&&r(Mr[e])})},H_=n=>Object.keys(Mr).forEach(e=>z_(n,e)),TI=n=>Object.keys(Mr).find(e=>Mr[e].toasts.some(t=>t.id===n)),hf=(n=yy)=>e=>{z_(e,n)},EI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},SI=(n={},e=yy)=>{let[t,r]=N.useState(Mr[e]||$_),s=N.useRef(Mr[e]);N.useEffect(()=>(s.current!==Mr[e]&&r(Mr[e]),ch.push([e,r]),()=>{let l=ch.findIndex(([d])=>d===e);l>-1&&ch.splice(l,1)}),[e]);let a=t.toasts.map(l=>{var d,f,m;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((d=n[l.type])==null?void 0:d.removeDelay)||n?.removeDelay,duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||n?.duration||EI[l.type],style:{...n.style,...(m=n[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},AI=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||bI()}),nu=n=>(e,t)=>{let r=AI(e,n,t);return hf(r.toasterId||TI(r.id))({type:2,toast:r}),r.id},Ot=(n,e)=>nu("blank")(n,e);Ot.error=nu("error");Ot.success=nu("success");Ot.loading=nu("loading");Ot.custom=nu("custom");Ot.dismiss=(n,e)=>{let t={type:3,toastId:n};e?hf(e)(t):H_(t)};Ot.dismissAll=n=>Ot.dismiss(void 0,n);Ot.remove=(n,e)=>{let t={type:4,toastId:n};e?hf(e)(t):H_(t)};Ot.removeAll=n=>Ot.remove(void 0,n);Ot.promise=(n,e,t)=>{let r=Ot.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let a=e.success?kh(e.success,s):void 0;return a?Ot.success(a,{id:r,...t,...t?.success}):Ot.dismiss(r),s}).catch(s=>{let a=e.error?kh(e.error,s):void 0;a?Ot.error(a,{id:r,...t,...t?.error}):Ot.dismiss(r)}),n};var kI=1e3,CI=(n,e="default")=>{let{toasts:t,pausedAt:r}=SI(n,e),s=N.useRef(new Map).current,a=N.useCallback((y,b=kI)=>{if(s.has(y))return;let S=setTimeout(()=>{s.delete(y),l({type:4,toastId:y})},b);s.set(y,S)},[]);N.useEffect(()=>{if(r)return;let y=Date.now(),b=t.map(S=>{if(S.duration===1/0)return;let A=(S.duration||0)+S.pauseDuration-(y-S.createdAt);if(A<0){S.visible&&Ot.dismiss(S.id);return}return setTimeout(()=>Ot.dismiss(S.id,e),A)});return()=>{b.forEach(S=>S&&clearTimeout(S))}},[t,r,e]);let l=N.useCallback(hf(e),[e]),d=N.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=N.useCallback((y,b)=>{l({type:1,toast:{id:y,height:b}})},[l]),m=N.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),g=N.useCallback((y,b)=>{let{reverseOrder:S=!1,gutter:A=8,defaultPosition:R}=b||{},C=t.filter(I=>(I.position||R)===(y.position||R)&&I.height),F=C.findIndex(I=>I.id===y.id),B=C.filter((I,H)=>H<F&&I.visible).length;return C.filter(I=>I.visible).slice(...S?[B+1]:[0,B]).reduce((I,H)=>I+(H.height||0)+A,0)},[t]);return N.useEffect(()=>{t.forEach(y=>{if(y.dismissed)a(y.id,y.removeDelay);else{let b=s.get(y.id);b&&(clearTimeout(b),s.delete(y.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:f,startPause:d,endPause:m,calculateOffset:g}}},II=Es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NI=Es`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jI=Es`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,PI=Vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${II} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RI=Es`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,DI=Vi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${RI} 1s linear infinite;
`,MI=Es`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OI=Es`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LI=Vi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VI=Vi("div")`
  position: absolute;
`,FI=Vi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UI=Es`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BI=Vi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$I=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?N.createElement(BI,null,e):e:t==="blank"?null:N.createElement(FI,null,N.createElement(DI,{...r}),t!=="loading"&&N.createElement(VI,null,t==="error"?N.createElement(PI,{...r}):N.createElement(LI,{...r})))},zI=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,HI=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,qI="0%{opacity:0;} 100%{opacity:1;}",WI="0%{opacity:1;} 100%{opacity:0;}",GI=Vi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,KI=Vi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,QI=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=U_()?[qI,WI]:[zI(t),HI(t)];return{animation:e?`${Es(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Es(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},JI=N.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?QI(n.position||e||"top-center",n.visible):{opacity:0},a=N.createElement($I,{toast:n}),l=N.createElement(KI,{...n.ariaProps},kh(n.message,n));return N.createElement(GI,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:a,message:l}):N.createElement(N.Fragment,null,a,l))});xI(N.createElement);var YI=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let a=N.useCallback(l=>{if(l){let d=()=>{let f=l.getBoundingClientRect().height;r(n,f)};d(),new MutationObserver(d).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return N.createElement("div",{ref:a,className:e,style:t},s)},XI=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:U_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},ZI=df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ud=16,eN=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:d})=>{let{toasts:f,handlers:m}=CI(t,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Ud,left:Ud,right:Ud,bottom:Ud,pointerEvents:"none",...l},className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(g=>{let y=g.position||e,b=m.calculateOffset(g,{reverseOrder:n,gutter:r,defaultPosition:e}),S=XI(y,b);return N.createElement(YI,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?ZI:"",style:S},g.type==="custom"?kh(g.message,g):s?s(g):N.createElement(JI,{toast:g,position:y}))}))},je=Ot;const q_=N.createContext();function vy(){return N.useContext(q_)}function tN({children:n}){const[e,t]=N.useState("light");N.useEffect(()=>{const s=localStorage.getItem("theme")||"light";t(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const r=()=>{const s=e==="light"?"dark":"light";t(s),localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")};return c.jsx(q_.Provider,{value:{theme:e,toggleTheme:r},children:n})}const nN=()=>{};var gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},rN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,d=l?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,g=a>>2,y=(a&3)<<4|d>>4;let b=(d&15)<<2|m>>6,S=m&63;f||(S=64,l||(b=64)),r.push(t[g],t[y],t[b],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(W_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const y=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||y==null)throw new sN;const b=a<<2|d>>4;if(r.push(b),m!==64){const S=d<<4&240|m>>2;if(r.push(S),y!==64){const A=m<<6&192|y;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iN=function(n){const e=W_(n);return G_.encodeByteArray(e,!0)},Ch=function(n){return iN(n).replace(/\./g,"")},K_=function(n){try{return G_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=()=>oN().__FIREBASE_DEFAULTS__,lN=()=>{if(typeof process>"u"||typeof gw>"u")return;const n=gw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&K_(n[1]);return e&&JSON.parse(e)},ff=()=>{try{return nN()||aN()||lN()||cN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Q_=n=>ff()?.emulatorHosts?.[n],J_=n=>{const e=Q_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Y_=()=>ff()?.config,X_=n=>ff()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ch(JSON.stringify(t)),Ch(JSON.stringify(l)),""].join(".")}const Ec={};function dN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?n.emulator.push(e):n.prod.push(e);return n}function hN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let yw=!1;function wy(n,e){if(typeof window>"u"||typeof document>"u"||!Fi(window.location.host)||Ec[n]===e||Ec[n]||yw)return;Ec[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=dN().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,S){b.setAttribute("width","24"),b.setAttribute("id",S),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{yw=!0,l()},b}function g(b,S){b.setAttribute("id",S),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=hN(r),S=t("text"),A=document.getElementById(S)||document.createElement("span"),R=t("learnmore"),C=document.getElementById(R)||document.createElement("a"),F=t("preprendIcon"),B=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const I=b.element;d(I),g(C,R);const H=m();f(B,F),I.append(B,A,C,H),document.body.appendChild(I)}a?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function pN(){const n=ff()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vN(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xN(){return!pN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wN(){try{return typeof indexedDB=="object"}catch{return!1}}function bN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="FirebaseError";class Kr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_N,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?TN(a,r):"Error",d=`${this.serviceName}: ${l} (${s}).`;return new Kr(s,d,r)}}function TN(n,e){return n.replace(EN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const EN=/\{\$([^}]+)}/g;function SN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function No(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(vw(a)&&vw(l)){if(!No(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function vw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AN(n,e){const t=new kN(n,e);return t.subscribe.bind(t)}class kN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Pm),s.error===void 0&&(s.error=Pm),s.complete===void 0&&(s.complete=Pm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n&&n._delegate?n._delegate:n}class Ci{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jN(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NN(n){return n===go?void 0:n}function jN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(He||(He={}));const RN={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},DN=He.INFO,MN={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},ON=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=MN[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class by{constructor(e){this.name=e,this._logLevel=DN,this._logHandler=ON,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const LN=(n,e)=>e.some(t=>n instanceof t);let xw,ww;function VN(){return xw||(xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FN(){return ww||(ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,vg=new WeakMap,tT=new WeakMap,Rm=new WeakMap,_y=new WeakMap;function UN(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(wi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&eT.set(t,n)}).catch(()=>{}),_y.set(e,n),e}function BN(n){if(vg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});vg.set(n,e)}let xg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $N(n){xg=n(xg)}function zN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Dm(this),e,...t);return tT.set(r,e.sort?e.sort():[e]),wi(r)}:FN().includes(n)?function(...e){return n.apply(Dm(this),e),wi(eT.get(this))}:function(...e){return wi(n.apply(Dm(this),e))}}function HN(n){return typeof n=="function"?zN(n):(n instanceof IDBTransaction&&BN(n),LN(n,VN())?new Proxy(n,xg):n)}function wi(n){if(n instanceof IDBRequest)return UN(n);if(Rm.has(n))return Rm.get(n);const e=HN(n);return e!==n&&(Rm.set(n,e),_y.set(e,n)),e}const Dm=n=>_y.get(n);function qN(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),d=wi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(wi(l.result),f.oldVersion,f.newVersion,wi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const WN=["get","getKey","getAll","getAllKeys","count"],GN=["put","add","delete","clear"],Mm=new Map;function bw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=GN.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WN.includes(t)))return;const a=async function(l,...d){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return Mm.set(e,a),a}$N(n=>({...n,get:(e,t,r)=>bw(e,t)||n.get(e,t,r),has:(e,t)=>!!bw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QN(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function QN(n){return n.getComponent()?.type==="VERSION"}const wg="@firebase/app",_w="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new by("@firebase/app"),JN="@firebase/app-compat",YN="@firebase/analytics-compat",XN="@firebase/analytics",ZN="@firebase/app-check-compat",ej="@firebase/app-check",tj="@firebase/auth",nj="@firebase/auth-compat",rj="@firebase/database",sj="@firebase/data-connect",ij="@firebase/database-compat",oj="@firebase/functions",aj="@firebase/functions-compat",lj="@firebase/installations",cj="@firebase/installations-compat",uj="@firebase/messaging",dj="@firebase/messaging-compat",hj="@firebase/performance",fj="@firebase/performance-compat",pj="@firebase/remote-config",mj="@firebase/remote-config-compat",gj="@firebase/storage",yj="@firebase/storage-compat",vj="@firebase/firestore",xj="@firebase/ai",wj="@firebase/firestore-compat",bj="firebase",_j="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",Tj={[wg]:"fire-core",[JN]:"fire-core-compat",[XN]:"fire-analytics",[YN]:"fire-analytics-compat",[ej]:"fire-app-check",[ZN]:"fire-app-check-compat",[tj]:"fire-auth",[nj]:"fire-auth-compat",[rj]:"fire-rtdb",[sj]:"fire-data-connect",[ij]:"fire-rtdb-compat",[oj]:"fire-fn",[aj]:"fire-fn-compat",[lj]:"fire-iid",[cj]:"fire-iid-compat",[uj]:"fire-fcm",[dj]:"fire-fcm-compat",[hj]:"fire-perf",[fj]:"fire-perf-compat",[pj]:"fire-rc",[mj]:"fire-rc-compat",[gj]:"fire-gcs",[yj]:"fire-gcs-compat",[vj]:"fire-fst",[wj]:"fire-fst-compat",[xj]:"fire-vertex","fire-js":"fire-js",[bj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,Ej=new Map,_g=new Map;function Tw(n,e){try{n.container.addComponent(e)}catch(t){Ss.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jo(n){const e=n.name;if(_g.has(e))return Ss.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,n);for(const t of Ih.values())Tw(t,n);for(const t of Ej.values())Tw(t,n);return!0}function pf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new ru("app","Firebase",Sj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ci("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=_j;function nT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:bg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw bi.create("bad-app-name",{appName:String(s)});if(t||(t=Y_()),!t)throw bi.create("no-options");const a=Ih.get(s);if(a){if(No(t,a.options)&&No(r,a.config))return a;throw bi.create("duplicate-app",{appName:s})}const l=new PN(s);for(const f of _g.values())l.addComponent(f);const d=new Aj(t,r,l);return Ih.set(s,d),d}function Ty(n=bg){const e=Ih.get(n);if(!e&&n===bg&&Y_())return nT();if(!e)throw bi.create("no-app",{appName:n});return e}function Vr(n,e,t){let r=Tj[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ss.warn(l.join(" "));return}jo(new Ci(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="firebase-heartbeat-database",Cj=1,$c="firebase-heartbeat-store";let Om=null;function rT(){return Om||(Om=qN(kj,Cj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($c)}catch(t){console.warn(t)}}}}).catch(n=>{throw bi.create("idb-open",{originalErrorMessage:n.message})})),Om}async function Ij(n){try{const t=(await rT()).transaction($c),r=await t.objectStore($c).get(sT(n));return await t.done,r}catch(e){if(e instanceof Kr)Ss.warn(e.message);else{const t=bi.create("idb-get",{originalErrorMessage:e?.message});Ss.warn(t.message)}}}async function Ew(n,e){try{const r=(await rT()).transaction($c,"readwrite");await r.objectStore($c).put(e,sT(n)),await r.done}catch(t){if(t instanceof Kr)Ss.warn(t.message);else{const r=bi.create("idb-set",{originalErrorMessage:t?.message});Ss.warn(r.message)}}}function sT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=1024,jj=30;class Pj{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dj(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>jj){const s=Mj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ss.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sw(),{heartbeatsToSend:t,unsentEntries:r}=Rj(this._heartbeatsCache.heartbeats),s=Ch(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ss.warn(e),""}}}function Sw(){return new Date().toISOString().substring(0,10)}function Rj(n,e=Nj){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),Aw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Aw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wN()?bN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ij(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ew(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Aw(n){return Ch(JSON.stringify({version:2,heartbeats:n})).length}function Mj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){jo(new Ci("platform-logger",e=>new KN(e),"PRIVATE")),jo(new Ci("heartbeat",e=>new Pj(e),"PRIVATE")),Vr(wg,_w,n),Vr(wg,_w,"esm2020"),Vr("fire-js","")}Oj("");function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Lj=iT,oT=new ru("auth","Firebase",iT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new by("@firebase/auth");function Vj(n,...e){Nh.logLevel<=He.WARN&&Nh.warn(`Auth (${zo}): ${n}`,...e)}function uh(n,...e){Nh.logLevel<=He.ERROR&&Nh.error(`Auth (${zo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,...e){throw Sy(n,...e)}function ur(n,...e){return Sy(n,...e)}function Ey(n,e,t){const r={...Lj(),[e]:t};return new ru("auth","Firebase",r).create(e,{appName:n.name})}function So(n){return Ey(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fj(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hr(n,"argument-error"),Ey(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return oT.create(n,...e)}function Me(n,e,...t){if(!n)throw Sy(e,...t)}function gs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw uh(e),new Error(e)}function As(n,e){n||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){return typeof self<"u"&&self.location?.href||""}function Uj(){return kw()==="http:"||kw()==="https:"}function kw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uj()||gN()||"connection"in navigator)?navigator.onLine:!0}function $j(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,As(t>e,"Short delay should be less than long delay!"),this.isMobile=fN()||yN()}get(){return Bj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n,e){As(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qj=new iu(3e4,6e4);function ky(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function hl(n,e,t,r,s={}){return lT(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=su({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return mN()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fi(n.emulatorConfig.host)&&(m.credentials="include"),aT.fetch()(await cT(n,n.config.apiHost,t,d),m)})}async function lT(n,e,t){n._canInitEmulator=!1;const r={...zj,...e};try{const s=new Gj(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Bd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Bd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Bd(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Ey(n,g,m);Hr(n,g)}}catch(s){if(s instanceof Kr)throw s;Hr(n,"network-request-failed",{message:String(s)})}}async function Wj(n,e,t,r,s={}){const a=await hl(n,e,t,r,s);return"mfaPendingCredential"in a&&Hr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function cT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?Ay(n.config,s):`${n.config.apiScheme}://${s}`;return Hj.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class Gj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),qj.get())})}}function Bd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=ur(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(n,e){return hl(n,"POST","/v1/accounts:delete",e)}async function jh(n,e){return hl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qj(n,e=!1){const t=qt(n),r=await t.getIdToken(e),s=Cy(r);Me(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Sc(Lm(s.auth_time)),issuedAtTime:Sc(Lm(s.iat)),expirationTime:Sc(Lm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Lm(n){return Number(n)*1e3}function Cy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=K_(t);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Cw(n){const e=Cy(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Kr&&Jj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Jj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(n){const e=n.auth,t=await n.getIdToken(),r=await zc(n,jh(e,{idToken:t}));Me(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?uT(s.providerUserInfo):[],l=Zj(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!l?.length,m=d?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function Xj(n){const e=qt(n);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zj(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function uT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(n,e){const t=await lT(n,{},async()=>{const r=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await cT(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&Fi(n.emulatorConfig.host)&&(f.credentials="include"),aT.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tP(n,e){return hl(n,"POST","/v2/accounts:revokeToken",ky(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=Cw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await eP(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Ya;return r&&(Me(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Me(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Me(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Yj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Eg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await zc(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qj(this,e)}reload(){return Xj(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(So(this.auth));const e=await this.getIdToken();return await zc(this,Kj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:S,providerData:A,stsTokenManager:R}=t;Me(y&&R,e,"internal-error");const C=Ya.fromJSON(this.name,R);Me(typeof y=="string",e,"internal-error"),li(r,e.name),li(s,e.name),Me(typeof b=="boolean",e,"internal-error"),Me(typeof S=="boolean",e,"internal-error"),li(a,e.name),li(l,e.name),li(d,e.name),li(f,e.name),li(m,e.name),li(g,e.name);const F=new lr({uid:y,auth:e,email:s,emailVerified:b,displayName:r,isAnonymous:S,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:C,createdAt:m,lastLoginAt:g});return A&&Array.isArray(A)&&(F.providerData=A.map(B=>({...B}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ya;s.updateFromServerResponse(t);const a=new lr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ph(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Me(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?uT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,d=new Ya;d.updateFromIdToken(r);const f=new lr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Eg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Map;function ys(n){As(n instanceof Function,"Expected a class definition");let e=Iw.get(n);return e?(As(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Iw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dT.type="NONE";const Nw=dT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n,e,t){return`firebase:${n}:${e}:${t}`}class Xa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=dh(this.userKey,s.apiKey,a),this.fullPersistenceKey=dh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xa(ys(Nw),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ys(Nw);const l=dh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const g=await m._get(l);if(g){let y;if(typeof g=="string"){const b=await jh(e,{idToken:g}).catch(()=>{});if(!b)break;y=await lr._fromGetAccountInfoResponse(e,b,g)}else y=lr._fromJSON(e,g);m!==a&&(d=y),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Xa(a,e,r):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Xa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(vT(e))return"Webos";if(fT(e))return"Safari";if((e.includes("chrome/")||pT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function hT(n=cn()){return/firefox\//i.test(n)}function fT(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pT(n=cn()){return/crios\//i.test(n)}function mT(n=cn()){return/iemobile/i.test(n)}function gT(n=cn()){return/android/i.test(n)}function yT(n=cn()){return/blackberry/i.test(n)}function vT(n=cn()){return/webos/i.test(n)}function Iy(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nP(n=cn()){return Iy(n)&&!!window.navigator?.standalone}function rP(){return vN()&&document.documentMode===10}function xT(n=cn()){return Iy(n)||gT(n)||vT(n)||yT(n)||/windows phone/i.test(n)||mT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e=[]){let t;switch(n){case"Browser":t=jw(cn());break;case"Worker":t=`${jw(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${zo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e={}){return hl(n,"GET","/v2/passwordPolicy",ky(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=6;class aP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??oP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new sP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ys(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$j()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(So(this));const t=e?qt(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(So(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(So(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iP(this),t=new aP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ys(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[ys(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Vj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mf(n){return qt(n)}class Pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=AN(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cP(n){Ny=n}function uP(n){return Ny.loadJS(n)}function dP(){return Ny.gapiScript}function hP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n,e){const t=pf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(No(a,e??{}))return s;Hr(s,"already-initialized")}return t.initialize({options:e})}function pP(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ys);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function mP(n,e,t){const r=mf(n);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=bT(e),{host:l,port:d}=gP(e),f=d===null?"":`:${d}`,m={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(No(m,r.config.emulator)&&No(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Fi(l)?(xy(`${a}//${l}${f}`),wy("Auth",!0)):yP()}function bT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gP(n){const e=bT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Rw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Rw(l)}}}function Rw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function yP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,t){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(n,e){return Wj(n,"POST","/v1/accounts:signInWithIdp",ky(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="http://localhost";class Po extends _T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new Po(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Za(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Za(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}buildRequest(){const e={requestUri:vP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends jy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends ou{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Po._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ms.credential(t,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ou{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends ou{constructor(){super("twitter.com")}static credential(e,t){return Po._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return pi.credential(t,r)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await lr._fromIdTokenResponse(e,r,s),l=Dw(r);return new tl({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Dw(r);return new tl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Dw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Kr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rh(e,t,r,s)}}function TT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(n,a,e,r):a})}async function xP(n,e,t=!1){const r=await zc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return tl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(n,e,t=!1){const{auth:r}=n;if(Qn(r.app))return Promise.reject(So(r));const s="reauthenticate";try{const a=await zc(n,TT(r,s,e,n),t);Me(a.idToken,r,"internal-error");const l=Cy(a.idToken);Me(l,r,"internal-error");const{sub:d}=l;return Me(n.uid===d,r,"user-mismatch"),tl._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&Hr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,e,t=!1){if(Qn(n.app))return Promise.reject(So(n));const r="signIn",s=await TT(n,r,e),a=await tl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function _P(n,e,t,r){return qt(n).onIdTokenChanged(e,t,r)}function TP(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}function EP(n,e,t,r){return qt(n).onAuthStateChanged(e,t,r)}function SP(n){return qt(n).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=1e3,kP=10;class ST extends ET{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);rP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},AP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ST.type="LOCAL";const CP=ST;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends ET{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AT.type="SESSION";const kT=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(l).map(async m=>m(t.origin,a)),f=await IP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const m=Py("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(b.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function jP(n){Fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function PP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RP(){return navigator?.serviceWorker?.controller||null}function DP(){return CT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firebaseLocalStorageDb",MP=1,Mh="firebaseLocalStorage",NT="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yf(n,e){return n.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function OP(){const n=indexedDB.deleteDatabase(IT);return new au(n).toPromise()}function Sg(){const n=indexedDB.open(IT,MP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mh,{keyPath:NT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await OP(),e(await Sg()))})})}async function Mw(n,e,t){const r=yf(n,!0).put({[NT]:e,value:t});return new au(r).toPromise()}async function LP(n,e){const t=yf(n,!1).get(e),r=await new au(t).toPromise();return r===void 0?null:r.value}function Ow(n,e){const t=yf(n,!0).delete(e);return new au(t).toPromise()}const VP=800,FP=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>FP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(DP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PP(),!this.activeServiceWorker)return;this.sender=new NP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await Mw(e,Dh,"1"),await Ow(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Ow(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=yf(s,!1).getAll();return new au(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const UP=jT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(n,e){return e?ys(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends _T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Za(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BP(n){return bP(n.auth,new Ry(n),n.bypassAuthState)}function $P(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),wP(t,new Ry(n),n.bypassAuthState)}async function zP(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),xP(t,new Ry(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BP;case"linkViaPopup":case"linkViaRedirect":return zP;case"reauthViaPopup":case"reauthViaRedirect":return $P;default:Hr(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new iu(2e3,1e4);async function qP(n,e,t){if(Qn(n.app))return Promise.reject(ur(n,"operation-not-supported-in-this-environment"));const r=mf(n);Fj(n,e,jy);const s=PT(r,t);return new wo(r,"signInViaPopup",e,s).executeNotNull()}class wo extends RT{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HP.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="pendingRedirect",hh=new Map;class GP extends RT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await KP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KP(n,e){const t=YP(e),r=JP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function QP(n,e){hh.set(n._key(),e)}function JP(n){return ys(n._redirectPersistence)}function YP(n){return dh(WP,n.config.apiKey,n.name)}async function XP(n,e,t=!1){if(Qn(n.app))return Promise.reject(So(n));const r=mf(n),s=PT(r,e),l=await new GP(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=600*1e3;class eR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!DT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ur(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(e))}saveEventToCache(e){this.cachedEventUids.add(Lw(e)),this.lastProcessedEventTime=Date.now()}}function Lw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function tR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(n,e={}){return hl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sR=/^https?/;async function iR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await nR(n);for(const t of e)try{if(oR(t))return}catch{}Hr(n,"unauthorized-domain")}function oR(n){const e=Tg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!sR.test(t))return!1;if(rR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=new iu(3e4,6e4);function Vw(){const n=Fr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function lR(n){return new Promise((e,t)=>{function r(){Vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vw(),t(ur(n,"network-request-failed"))},timeout:aR.get()})}if(Fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fr().gapi?.load)r();else{const s=hP("iframefcb");return Fr()[s]=()=>{gapi.load?r():t(ur(n,"network-request-failed"))},uP(`${dP()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw fh=null,e})}let fh=null;function cR(n){return fh=fh||lR(n),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new iu(5e3,15e3),dR="__/auth/iframe",hR="emulator/auth/iframe",fR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mR(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ay(e,hR):`https://${n.config.authDomain}/${dR}`,r={apiKey:e.apiKey,appName:n.name,v:zo},s=pR.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${su(r).slice(1)}`}async function gR(n){const e=await cR(n),t=Fr().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:mR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fR,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=ur(n,"network-request-failed"),d=Fr().setTimeout(()=>{a(l)},uR.get());function f(){Fr().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vR=500,xR=600,wR="_blank",bR="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _R(n,e,t,r=vR,s=xR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...yR,width:r.toString(),height:s.toString(),top:a,left:l},m=cn().toLowerCase();t&&(d=pT(m)?wR:t),hT(m)&&(e=e||bR,f.scrollbars="yes");const g=Object.entries(f).reduce((b,[S,A])=>`${b}${S}=${A},`,"");if(nP(m)&&d!=="_self")return TR(e||"",d),new Fw(null);const y=window.open(e||"",d,g);Me(y,n,"popup-blocked");try{y.focus()}catch{}return new Fw(y)}function TR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",SR="emulator/auth/handler",AR=encodeURIComponent("fac");async function Uw(n,e,t,r,s,a){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:zo,eventId:s};if(e instanceof jy){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",SN(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof ou){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),m=f?`#${AR}=${encodeURIComponent(f)}`:"";return`${kR(n)}?${su(d).slice(1)}${m}`}function kR({config:n}){return n.emulator?Ay(n,SR):`https://${n.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class CR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=XP,this._overrideRedirectResult=QP}async _openPopup(e,t,r,s){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Uw(e,t,r,Tg(),s);return _R(e,a,Py())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Uw(e,t,r,Tg(),s);return jP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(As(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gR(e),r=new eR(e);return t.register("authEvent",s=>(Me(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vm,{type:Vm},s=>{const a=s?.[0]?.[Vm];a!==void 0&&t(!!a),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xT()||fT()||Iy()}}const IR=CR;var Bw="@firebase/auth",$w="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PR(n){jo(new Ci("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Me(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(n)},m=new lP(r,s,a,f);return pP(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jo(new Ci("auth-internal",e=>{const t=mf(e.getProvider("auth").getImmediate());return(r=>new NR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(Bw,$w,jR(n)),Vr(Bw,$w,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=300,DR=X_("authIdTokenMaxAge")||RR;let zw=null;const MR=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>DR)return;const s=t?.token;zw!==s&&(zw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OR(n=Ty()){const e=pf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fP(n,{popupRedirectResolver:IR,persistence:[UP,CP,kT]}),r=X_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=MR(a.toString());TP(t,l,()=>l(t.currentUser)),_P(t,d=>l(d))}}const s=Q_("auth");return s&&mP(t,`http://${s}`),t}function LR(){return document.getElementsByTagName("head")?.[0]??document}cP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=ur("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",LR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PR("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,MT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function P(){}P.prototype=T.prototype,k.F=T.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(M,L,$){for(var D=Array(arguments.length-2),be=2;be<arguments.length;be++)D[be-2]=arguments[be];return T.prototype[L].apply(M,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,T,P){P||(P=0);const M=Array(16);if(typeof T=="string")for(var L=0;L<16;++L)M[L]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(L=0;L<16;++L)M[L]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=k.g[0],P=k.g[1],L=k.g[2];let $=k.g[3],D;D=T+($^P&(L^$))+M[0]+3614090360&4294967295,T=P+(D<<7&4294967295|D>>>25),D=$+(L^T&(P^L))+M[1]+3905402710&4294967295,$=T+(D<<12&4294967295|D>>>20),D=L+(P^$&(T^P))+M[2]+606105819&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(T^L&($^T))+M[3]+3250441966&4294967295,P=L+(D<<22&4294967295|D>>>10),D=T+($^P&(L^$))+M[4]+4118548399&4294967295,T=P+(D<<7&4294967295|D>>>25),D=$+(L^T&(P^L))+M[5]+1200080426&4294967295,$=T+(D<<12&4294967295|D>>>20),D=L+(P^$&(T^P))+M[6]+2821735955&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(T^L&($^T))+M[7]+4249261313&4294967295,P=L+(D<<22&4294967295|D>>>10),D=T+($^P&(L^$))+M[8]+1770035416&4294967295,T=P+(D<<7&4294967295|D>>>25),D=$+(L^T&(P^L))+M[9]+2336552879&4294967295,$=T+(D<<12&4294967295|D>>>20),D=L+(P^$&(T^P))+M[10]+4294925233&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(T^L&($^T))+M[11]+2304563134&4294967295,P=L+(D<<22&4294967295|D>>>10),D=T+($^P&(L^$))+M[12]+1804603682&4294967295,T=P+(D<<7&4294967295|D>>>25),D=$+(L^T&(P^L))+M[13]+4254626195&4294967295,$=T+(D<<12&4294967295|D>>>20),D=L+(P^$&(T^P))+M[14]+2792965006&4294967295,L=$+(D<<17&4294967295|D>>>15),D=P+(T^L&($^T))+M[15]+1236535329&4294967295,P=L+(D<<22&4294967295|D>>>10),D=T+(L^$&(P^L))+M[1]+4129170786&4294967295,T=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(T^P))+M[6]+3225465664&4294967295,$=T+(D<<9&4294967295|D>>>23),D=L+(T^P&($^T))+M[11]+643717713&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^T&(L^$))+M[0]+3921069994&4294967295,P=L+(D<<20&4294967295|D>>>12),D=T+(L^$&(P^L))+M[5]+3593408605&4294967295,T=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(T^P))+M[10]+38016083&4294967295,$=T+(D<<9&4294967295|D>>>23),D=L+(T^P&($^T))+M[15]+3634488961&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^T&(L^$))+M[4]+3889429448&4294967295,P=L+(D<<20&4294967295|D>>>12),D=T+(L^$&(P^L))+M[9]+568446438&4294967295,T=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(T^P))+M[14]+3275163606&4294967295,$=T+(D<<9&4294967295|D>>>23),D=L+(T^P&($^T))+M[3]+4107603335&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^T&(L^$))+M[8]+1163531501&4294967295,P=L+(D<<20&4294967295|D>>>12),D=T+(L^$&(P^L))+M[13]+2850285829&4294967295,T=P+(D<<5&4294967295|D>>>27),D=$+(P^L&(T^P))+M[2]+4243563512&4294967295,$=T+(D<<9&4294967295|D>>>23),D=L+(T^P&($^T))+M[7]+1735328473&4294967295,L=$+(D<<14&4294967295|D>>>18),D=P+($^T&(L^$))+M[12]+2368359562&4294967295,P=L+(D<<20&4294967295|D>>>12),D=T+(P^L^$)+M[5]+4294588738&4294967295,T=P+(D<<4&4294967295|D>>>28),D=$+(T^P^L)+M[8]+2272392833&4294967295,$=T+(D<<11&4294967295|D>>>21),D=L+($^T^P)+M[11]+1839030562&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^T)+M[14]+4259657740&4294967295,P=L+(D<<23&4294967295|D>>>9),D=T+(P^L^$)+M[1]+2763975236&4294967295,T=P+(D<<4&4294967295|D>>>28),D=$+(T^P^L)+M[4]+1272893353&4294967295,$=T+(D<<11&4294967295|D>>>21),D=L+($^T^P)+M[7]+4139469664&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^T)+M[10]+3200236656&4294967295,P=L+(D<<23&4294967295|D>>>9),D=T+(P^L^$)+M[13]+681279174&4294967295,T=P+(D<<4&4294967295|D>>>28),D=$+(T^P^L)+M[0]+3936430074&4294967295,$=T+(D<<11&4294967295|D>>>21),D=L+($^T^P)+M[3]+3572445317&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^T)+M[6]+76029189&4294967295,P=L+(D<<23&4294967295|D>>>9),D=T+(P^L^$)+M[9]+3654602809&4294967295,T=P+(D<<4&4294967295|D>>>28),D=$+(T^P^L)+M[12]+3873151461&4294967295,$=T+(D<<11&4294967295|D>>>21),D=L+($^T^P)+M[15]+530742520&4294967295,L=$+(D<<16&4294967295|D>>>16),D=P+(L^$^T)+M[2]+3299628645&4294967295,P=L+(D<<23&4294967295|D>>>9),D=T+(L^(P|~$))+M[0]+4096336452&4294967295,T=P+(D<<6&4294967295|D>>>26),D=$+(P^(T|~L))+M[7]+1126891415&4294967295,$=T+(D<<10&4294967295|D>>>22),D=L+(T^($|~P))+M[14]+2878612391&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~T))+M[5]+4237533241&4294967295,P=L+(D<<21&4294967295|D>>>11),D=T+(L^(P|~$))+M[12]+1700485571&4294967295,T=P+(D<<6&4294967295|D>>>26),D=$+(P^(T|~L))+M[3]+2399980690&4294967295,$=T+(D<<10&4294967295|D>>>22),D=L+(T^($|~P))+M[10]+4293915773&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~T))+M[1]+2240044497&4294967295,P=L+(D<<21&4294967295|D>>>11),D=T+(L^(P|~$))+M[8]+1873313359&4294967295,T=P+(D<<6&4294967295|D>>>26),D=$+(P^(T|~L))+M[15]+4264355552&4294967295,$=T+(D<<10&4294967295|D>>>22),D=L+(T^($|~P))+M[6]+2734768916&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~T))+M[13]+1309151649&4294967295,P=L+(D<<21&4294967295|D>>>11),D=T+(L^(P|~$))+M[4]+4149444226&4294967295,T=P+(D<<6&4294967295|D>>>26),D=$+(P^(T|~L))+M[11]+3174756917&4294967295,$=T+(D<<10&4294967295|D>>>22),D=L+(T^($|~P))+M[2]+718787259&4294967295,L=$+(D<<15&4294967295|D>>>17),D=P+($^(L|~T))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(L+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+L&4294967295,k.g[3]=k.g[3]+$&4294967295}r.prototype.v=function(k,T){T===void 0&&(T=k.length);const P=T-this.blockSize,M=this.C;let L=this.h,$=0;for(;$<T;){if(L==0)for(;$<=P;)s(this,k,$),$+=this.blockSize;if(typeof k=="string"){for(;$<T;)if(M[L++]=k.charCodeAt($++),L==this.blockSize){s(this,M),L=0;break}}else for(;$<T;)if(M[L++]=k[$++],L==this.blockSize){s(this,M),L=0;break}}this.h=L,this.o+=T},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;T=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=T&255,T/=256;for(this.v(k),k=Array(16),T=0,P=0;P<4;++P)for(let M=0;M<32;M+=8)k[T++]=this.g[P]>>>M&255;return k};function a(k,T){var P=d;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=T(k)}function l(k,T){this.h=T;const P=[];let M=!0;for(let L=k.length-1;L>=0;L--){const $=k[L]|0;M&&$==T||(P[L]=$,M=!1)}this.g=P}var d={};function f(k){return-128<=k&&k<128?a(k,function(T){return new l([T|0],T<0?-1:0)}):new l([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return y;if(k<0)return C(m(-k));const T=[];let P=1;for(let M=0;k>=P;M++)T[M]=k/P|0,P*=4294967296;return new l(T,0)}function g(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return C(g(k.substring(1),T));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(T,8));let M=y;for(let $=0;$<k.length;$+=8){var L=Math.min(8,k.length-$);const D=parseInt(k.substring($,$+L),T);L<8?(L=m(Math.pow(T,L)),M=M.j(L).add(m(D))):(M=M.j(P),M=M.add(m(D)))}return M}var y=f(0),b=f(1),S=f(16777216);n=l.prototype,n.m=function(){if(R(this))return-C(this).m();let k=0,T=1;for(let P=0;P<this.g.length;P++){const M=this.i(P);k+=(M>=0?M:4294967296+M)*T,T*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(R(this))return"-"+C(this).toString(k);const T=m(Math.pow(k,6));var P=this;let M="";for(;;){const L=H(P,T).g;P=F(P,L.j(T));let $=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=L,A(P))return $+M;for(;$.length<6;)$="0"+$;M=$+M}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(let T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function R(k){return k.h==-1}n.l=function(k){return k=F(this,k),R(k)?-1:A(k)?0:1};function C(k){const T=k.g.length,P=[];for(let M=0;M<T;M++)P[M]=~k.g[M];return new l(P,~k.h).add(b)}n.abs=function(){return R(this)?C(this):this},n.add=function(k){const T=Math.max(this.g.length,k.g.length),P=[];let M=0;for(let L=0;L<=T;L++){let $=M+(this.i(L)&65535)+(k.i(L)&65535),D=($>>>16)+(this.i(L)>>>16)+(k.i(L)>>>16);M=D>>>16,$&=65535,D&=65535,P[L]=D<<16|$}return new l(P,P[P.length-1]&-2147483648?-1:0)};function F(k,T){return k.add(C(T))}n.j=function(k){if(A(this)||A(k))return y;if(R(this))return R(k)?C(this).j(C(k)):C(C(this).j(k));if(R(k))return C(this.j(C(k)));if(this.l(S)<0&&k.l(S)<0)return m(this.m()*k.m());const T=this.g.length+k.g.length,P=[];for(var M=0;M<2*T;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(let L=0;L<k.g.length;L++){const $=this.i(M)>>>16,D=this.i(M)&65535,be=k.i(L)>>>16,re=k.i(L)&65535;P[2*M+2*L]+=D*re,B(P,2*M+2*L),P[2*M+2*L+1]+=$*re,B(P,2*M+2*L+1),P[2*M+2*L+1]+=D*be,B(P,2*M+2*L+1),P[2*M+2*L+2]+=$*be,B(P,2*M+2*L+2)}for(k=0;k<T;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=T;k<2*T;k++)P[k]=0;return new l(P,0)};function B(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function I(k,T){this.g=k,this.h=T}function H(k,T){if(A(T))throw Error("division by zero");if(A(k))return new I(y,y);if(R(k))return T=H(C(k),T),new I(C(T.g),C(T.h));if(R(T))return T=H(k,C(T)),new I(C(T.g),T.h);if(k.g.length>30){if(R(k)||R(T))throw Error("slowDivide_ only works with positive integers.");for(var P=b,M=T;M.l(k)<=0;)P=X(P),M=X(M);var L=G(P,1),$=G(M,1);for(M=G(M,2),P=G(P,2);!A(M);){var D=$.add(M);D.l(k)<=0&&(L=L.add(P),$=D),M=G(M,1),P=G(P,1)}return T=F(k,L.j(T)),new I(L,T)}for(L=y;k.l(T)>=0;){for(P=Math.max(1,Math.floor(k.m()/T.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),$=m(P),D=$.j(T);R(D)||D.l(k)>0;)P-=M,$=m(P),D=$.j(T);A($)&&($=b),L=L.add($),k=F(k,D)}return new I(L,k)}n.B=function(k){return H(this,k).h},n.and=function(k){const T=Math.max(this.g.length,k.g.length),P=[];for(let M=0;M<T;M++)P[M]=this.i(M)&k.i(M);return new l(P,this.h&k.h)},n.or=function(k){const T=Math.max(this.g.length,k.g.length),P=[];for(let M=0;M<T;M++)P[M]=this.i(M)|k.i(M);return new l(P,this.h|k.h)},n.xor=function(k){const T=Math.max(this.g.length,k.g.length),P=[];for(let M=0;M<T;M++)P[M]=this.i(M)^k.i(M);return new l(P,this.h^k.h)};function X(k){const T=k.g.length+1,P=[];for(let M=0;M<T;M++)P[M]=k.i(M)<<1|k.i(M-1)>>>31;return new l(P,k.h)}function G(k,T){const P=T>>5;T%=32;const M=k.g.length-P,L=[];for(let $=0;$<M;$++)L[$]=T>0?k.i($+P)>>>T|k.i($+P+1)<<32-T:k.i($+P);return new l(L,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,MT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,_i=l}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OT,xc,LT,ph,Ag,VT,FT,UT;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var w=0;w<h.length;++w){var _=h[w];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(h,w){if(w)e:{var _=r;h=h.split(".");for(var j=0;j<h.length-1;j++){var W=h[j];if(!(W in _))break e;_=_[W]}h=h[h.length-1],j=_[h],w=w(j),w!=j&&w!=null&&e(_,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var _=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&_.push([j,w[j]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function d(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function f(h,w,_){return h.call.apply(h.bind,arguments)}function m(h,w,_){return m=f,m.apply(null,arguments)}function g(h,w){var _=Array.prototype.slice.call(arguments,1);return function(){var j=_.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function y(h,w){function _(){}_.prototype=w.prototype,h.Z=w.prototype,h.prototype=new _,h.prototype.constructor=h,h.Ob=function(j,W,J){for(var ue=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ue[Fe-2]=arguments[Fe];return w.prototype[W].apply(j,ue)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function S(h){const w=h.length;if(w>0){const _=Array(w);for(let j=0;j<w;j++)_[j]=h[j];return _}return[]}function A(h,w){for(let j=1;j<arguments.length;j++){const W=arguments[j];var _=typeof W;if(_=_!="object"?_:W?Array.isArray(W)?"array":_:"null",_=="array"||_=="object"&&typeof W.length=="number"){_=h.length||0;const J=W.length||0;h.length=_+J;for(let ue=0;ue<J;ue++)h[_+ue]=W[ue]}else h.push(W)}}class R{constructor(w,_){this.i=w,this.j=_,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(h){l.setTimeout(()=>{throw h},0)}function F(){var h=k;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,_){const j=I.get();j.set(w,_),this.h?this.h.next=j:this.g=j,this.h=j}}var I=new R(()=>new H,h=>h.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,_){this.h=w,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,G=!1,k=new B,T=()=>{const h=Promise.resolve(void 0);X=()=>{h.then(P)}};function P(){for(var h;h=F();){try{h.h.call(h.g)}catch(_){C(_)}var w=I;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}G=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};l.addEventListener("test",_,w),l.removeEventListener("test",_,w)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function be(h,w){L.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}y(be,L),be.prototype.init=function(h,w){const _=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(_=="mouseover"?w=h.fromElement:_=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),ie=0;function Ce(h,w,_,j,W){this.listener=h,this.proxy=null,this.src=w,this.type=_,this.capture=!!j,this.ha=W,this.key=++ie,this.da=this.fa=!1}function ae(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,w,_){for(const j in h)w.call(_,h[j],j,h)}function pe(h,w){for(const _ in h)w.call(void 0,h[_],_,h)}function V(h){const w={};for(const _ in h)w[_]=h[_];return w}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(h,w){let _,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(_ in j)h[_]=j[_];for(let J=0;J<Z.length;J++)_=Z[J],Object.prototype.hasOwnProperty.call(j,_)&&(h[_]=j[_])}}function Se(h){this.src=h,this.g={},this.h=0}Se.prototype.add=function(h,w,_,j,W){const J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);const ue=Ve(h,w,j,W);return ue>-1?(w=h[ue],_||(w.fa=!1)):(w=new Ce(w,this.src,J,!!j,W),w.fa=_,h.push(w)),w};function Le(h,w){const _=w.type;if(_ in h.g){var j=h.g[_],W=Array.prototype.indexOf.call(j,w,void 0),J;(J=W>=0)&&Array.prototype.splice.call(j,W,1),J&&(ae(w),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Ve(h,w,_,j){for(let W=0;W<h.length;++W){const J=h[W];if(!J.da&&J.listener==w&&J.capture==!!_&&J.ha==j)return W}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),ee={};function he(h,w,_,j,W){if(Array.isArray(w)){for(let J=0;J<w.length;J++)he(h,w[J],_,j,W);return null}return _=bl(_),h&&h[re]?h.J(w,_,d(j)?!!j.capture:!1,W):de(h,w,_,!1,j,W)}function de(h,w,_,j,W,J){if(!w)throw Error("Invalid event type");const ue=d(W)?!!W.capture:!!W;let Fe=Xo(h);if(Fe||(h[Ge]=Fe=new Se(h)),_=Fe.add(w,_,j,ue,J),_.proxy)return _;if(j=et(),_.proxy=j,j.src=h,j.listener=_,h.addEventListener)$||(W=ue),W===void 0&&(W=!1),h.addEventListener(w.toString(),j,W);else if(h.attachEvent)h.attachEvent(Yo(w.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return _}function et(){function h(_){return w.call(h.src,h.listener,_)}const w=Eu;return h}function Vn(h,w,_,j,W){if(Array.isArray(w))for(var J=0;J<w.length;J++)Vn(h,w[J],_,j,W);else j=d(j)?!!j.capture:!!j,_=bl(_),h&&h[re]?(h=h.i,J=String(w).toString(),J in h.g&&(w=h.g[J],_=Ve(w,_,j,W),_>-1&&(ae(w[_]),Array.prototype.splice.call(w,_,1),w.length==0&&(delete h.g[J],h.h--)))):h&&(h=Xo(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Ve(w,_,j,W)),(_=h>-1?w[h]:null)&&Ps(_))}function Ps(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[re])Le(w.i,h);else{var _=h.type,j=h.proxy;w.removeEventListener?w.removeEventListener(_,j,h.capture):w.detachEvent?w.detachEvent(Yo(_),j):w.addListener&&w.removeListener&&w.removeListener(j),(_=Xo(w))?(Le(_,h),_.h==0&&(_.src=null,w[Ge]=null)):ae(h)}}}function Yo(h){return h in ee?ee[h]:ee[h]="on"+h}function Eu(h,w){if(h.da)h=!0;else{w=new be(w,this);const _=h.listener,j=h.ha||h.src;h.fa&&Ps(h),h=_.call(j,w)}return h}function Xo(h){return h=h[Ge],h instanceof Se?h:null}var Bi="__closure_events_fn_"+(Math.random()*1e9>>>0);function bl(h){return typeof h=="function"?h:(h[Bi]||(h[Bi]=function(w){return h.handleEvent(w)}),h[Bi])}function At(){M.call(this),this.i=new Se(this),this.M=this,this.G=null}y(At,M),At.prototype[re]=!0,At.prototype.removeEventListener=function(h,w,_,j){Vn(this,h,w,_,j)};function wt(h,w){var _,j=h.G;if(j)for(_=[];j;j=j.G)_.push(j);if(h=h.M,j=w.type||w,typeof w=="string")w=new L(w,h);else if(w instanceof L)w.target=w.target||h;else{var W=w;w=new L(j,h),ke(w,W)}W=!0;let J,ue;if(_)for(ue=_.length-1;ue>=0;ue--)J=w.g=_[ue],W=Xn(J,j,!0,w)&&W;if(J=w.g=h,W=Xn(J,j,!0,w)&&W,W=Xn(J,j,!1,w)&&W,_)for(ue=0;ue<_.length;ue++)J=w.g=_[ue],W=Xn(J,j,!1,w)&&W}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const _=h.g[w];for(let j=0;j<_.length;j++)ae(_[j]);delete h.g[w],h.h--}}this.G=null},At.prototype.J=function(h,w,_,j){return this.i.add(String(h),w,!1,_,j)},At.prototype.K=function(h,w,_,j){return this.i.add(String(h),w,!0,_,j)};function Xn(h,w,_,j){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let W=!0;for(let J=0;J<w.length;++J){const ue=w[J];if(ue&&!ue.da&&ue.capture==_){const Fe=ue.listener,bt=ue.ha||ue.src;ue.fa&&Le(h.i,ue),W=Fe.call(bt,j)!==!1&&W}}return W&&!j.defaultPrevented}function _l(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(h,w||0)}function Tl(h){h.g=_l(()=>{h.g=null,h.i&&(h.i=!1,Tl(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class Su extends M{constructor(w,_){super(),this.m=w,this.l=_,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(h){M.call(this),this.h=h,this.g={}}y(Rs,M);var El=[];function Zo(h){ye(h.g,function(w,_){this.g.hasOwnProperty(_)&&Ps(w)},h),h.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),Zo(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=l.JSON.stringify,Au=l.JSON.parse,$i=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Ms(){}function ku(){}var Os={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ea(){L.call(this,"d")}y(ea,L);function Sl(){L.call(this,"c")}y(Sl,L);var Zn={},ta=null;function Ls(){return ta=ta||new At}Zn.Ia="serverreachability";function na(h){L.call(this,Zn.Ia,h)}y(na,L);function Qr(h){const w=Ls();wt(w,new na(w))}Zn.STAT_EVENT="statevent";function Jr(h,w){L.call(this,Zn.STAT_EVENT,h),this.stat=w}y(Jr,L);function mt(h){const w=Ls();wt(w,new Jr(w,h))}Zn.Ja="timingevent";function Al(h,w){L.call(this,Zn.Ja,h),this.size=w}y(Al,L);function Vs(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},w)}function Fs(){this.g=!0}Fs.prototype.ua=function(){this.g=!1};function Cu(h,w,_,j,W,J){h.info(function(){if(h.g)if(J){var ue="",Fe=J.split("&");for(let tt=0;tt<Fe.length;tt++){var bt=Fe[tt].split("=");if(bt.length>1){const kt=bt[0];bt=bt[1];const Nn=kt.split("_");ue=Nn.length>=2&&Nn[1]=="type"?ue+(kt+"="+bt+"&"):ue+(kt+"=redacted&")}}}else ue=null;else ue=J;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+w+`
`+_+`
`+ue})}function Iu(h,w,_,j,W,J,ue){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+w+`
`+_+`
`+J+" "+ue})}function mr(h,w,_,j){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+zi(h,_)+(j?" "+j:"")})}function Nu(h,w){h.info(function(){return"TIMEOUT: "+w})}Fs.prototype.info=function(){};function zi(h,w){if(!h.g)return w;if(!w)return null;try{const J=JSON.parse(w);if(J){for(h=0;h<J.length;h++)if(Array.isArray(J[h])){var _=J[h];if(!(_.length<2)){var j=_[1];if(Array.isArray(j)&&!(j.length<1)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(let ue=1;ue<j.length;ue++)j[ue]=""}}}}return Ds(J)}catch{return w}}var Us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ju;function Yr(){}y(Yr,Ms),Yr.prototype.g=function(){return new XMLHttpRequest},ju=new Yr;function gr(h){return encodeURIComponent(String(h))}function ra(h){var w=1;h=h.split(":");const _=[];for(;w>0&&h.length;)_.push(h.shift()),w--;return h.length&&_.push(h.join(":")),_}function Fn(h,w,_,j){this.j=h,this.i=w,this.l=_,this.S=j||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Ru={},kl={};function er(h,w,_){h.M=1,h.A=Zr(Un(w)),h.u=_,h.R=!0,Cl(h,null)}function Cl(h,w){h.F=Date.now(),Hi(h),h.B=Un(h.A);var _=h.B,j=h.S;Array.isArray(j)||(j=[String(j)]),Vl(_.i,"t",j),h.C=0,_=h.j.L,h.h=new Pu,h.g=zu(h.j,_?w:null,!h.u),h.P>0&&(h.O=new Su(m(h.Y,h,h.g),h.P)),w=h.V,_=h.g,j=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(El[0]=W.toString()),W=El);for(let J=0;J<W.length;J++){const ue=he(_,W[J],j||w.handleEvent,!1,w.h||w);if(!ue)break;w.g[ue.key]=ue}w=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),Qr(),Cu(h.i,h.v,h.B,h.l,h.S,h.u)}Fn.prototype.ba=function(h){h=h.target;const w=this.O;w&&Tr(h)==3?w.j():this.Y(h)},Fn.prototype.Y=function(h){try{if(h==this.g)e:{const Fe=Tr(this.g),bt=this.g.ya(),tt=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Bu(this.g)))){this.K||Fe!=4||bt==7||(bt==8||tt<=0?Qr(3):Qr(2)),sa(this);var w=this.g.ca();this.X=w;var _=Du(this);if(this.o=w==200,Iu(this.i,this.v,this.B,this.l,this.S,Fe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var j,W=this.g;if((j=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(j)){var J=j;break t}}J=null}if(h=J)mr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,at(this,h);else{this.o=!1,this.m=3,mt(12),Xr(this),qi(this);break e}}if(this.R){h=!0;let kt;for(;!this.K&&this.C<_.length;)if(kt=Ou(this,_),kt==kl){Fe==4&&(this.m=4,mt(14),h=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Ru){this.m=4,mt(15),mr(this.i,this.l,_,"[Invalid Chunk]"),h=!1;break}else mr(this.i,this.l,kt,null),at(this,kt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||_.length!=0||this.h.h||(this.m=1,mt(16),h=!1),this.o=this.o&&h,!h)mr(this.i,this.l,_,"[Invalid Chunked Response]"),Xr(this),qi(this);else if(_.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),eo(ue),ue.P=!0,mt(11))}}else mr(this.i,this.l,_,null),at(this,_);Fe==4&&Xr(this),this.o&&!this.K&&(Fe==4?pa(this.j,this):(this.o=!1,Hi(this)))}else Ul(this.g),w==400&&_.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Xr(this),qi(this)}}}catch{}finally{}};function Du(h){if(!Mu(h))return h.g.la();const w=Bu(h.g);if(w==="")return"";let _="";const j=w.length,W=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Xr(h),qi(h),"";h.h.i=new l.TextDecoder}for(let J=0;J<j;J++)h.h.h=!0,_+=h.h.i.decode(w[J],{stream:!(W&&J==j-1)});return w.length=0,h.h.g+=_,h.C=0,h.h.g}function Mu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ou(h,w){var _=h.C,j=w.indexOf(`
`,_);return j==-1?kl:(_=Number(w.substring(_,j)),isNaN(_)?Ru:(j+=1,j+_>w.length?kl:(w=w.slice(j,j+_),h.C=j+_,w)))}Fn.prototype.cancel=function(){this.K=!0,Xr(this)};function Hi(h){h.T=Date.now()+h.H,Il(h,h.H)}function Il(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Vs(m(h.aa,h),w)}function sa(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Fn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Nu(this.i,this.B),this.M!=2&&(Qr(),mt(17)),Xr(this),this.m=2,qi(this)):Il(this,this.T-h)};function qi(h){h.j.I==0||h.K||pa(h.j,h)}function Xr(h){sa(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,Zo(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function at(h,w){try{var _=h.j;if(_.I!=0&&(_.g==h||jl(_.h,h))){if(!h.L&&jl(_.h,h)&&_.I==3){try{var j=_.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<h.F)fa(_),Cn(_);else break e;Ar(_),mt(18)}}else _.xa=W[1],0<_.xa-_.K&&W[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Vs(m(_.Va,_),6e3));Wi(_.h)<=1&&_.ta&&(_.ta=void 0)}else In(_,11)}else if((h.L||_.g==h)&&fa(_),!D(w))for(W=_.Ba.g.parse(w),w=0;w<W.length;w++){let tt=W[w];const kt=tt[0];if(!(kt<=_.K))if(_.K=kt,tt=tt[1],_.I==2)if(tt[0]=="c"){_.M=tt[1],_.ba=tt[2];const Nn=tt[3];Nn!=null&&(_.ka=Nn,_.j.info("VER="+_.ka));const ss=tt[4];ss!=null&&(_.za=ss,_.j.info("SVER="+_.za));const kr=tt[5];kr!=null&&typeof kr=="number"&&kr>0&&(j=1.5*kr,_.O=j,_.j.info("backChannelRequestTimeoutMs_="+j)),j=_;const Cr=h.g;if(Cr){const ya=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var J=j.h;J.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(oa(J,J.h),J.h=null))}if(j.G){const zl=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(j.wa=zl,Xe(j.J,j.G,zl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-h.F,_.j.info("Handshake RTT: "+_.T+"ms")),j=_;var ue=h;if(j.na=$l(j,j.L?j.ba:null,j.W),ue.L){Gi(j.h,ue);var Fe=ue,bt=j.O;bt&&(Fe.H=bt),Fe.D&&(sa(Fe),Hi(Fe)),j.g=ue}else Xt(j);_.i.length>0&&rs(_)}else tt[0]!="stop"&&tt[0]!="close"||In(_,7);else _.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?In(_,7):da(_):tt[0]!="noop"&&_.l&&_.l.qa(tt),_.A=0)}}Qr(4)}catch{}}var rp=class{constructor(h,w){this.g=h,this.map=w}};function ia(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Wi(h){return h.h?1:h.g?h.g.size:0}function jl(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function oa(h,w){h.g?h.g.add(w):h.h=w}function Gi(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}ia.prototype.cancel=function(){if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sn(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const _ of h.g.values())w=w.concat(_.G);return w}return S(h.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function An(h,w){if(h){h=h.split("&");for(let _=0;_<h.length;_++){const j=h[_].indexOf("=");let W,J=null;j>=0?(W=h[_].substring(0,j),J=h[_].substring(j+1)):W=h[_],w(W,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function yr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof yr?(this.l=h.l,Ki(this,h.j),this.o=h.o,this.g=h.g,vr(this,h.u),this.h=h.h,$s(this,Fl(h.i)),this.m=h.m):h&&(w=String(h).match(Lu))?(this.l=!1,Ki(this,w[1]||"",!0),this.o=Qi(w[2]||""),this.g=Qi(w[3]||"",!0),vr(this,w[4]),this.h=Qi(w[5]||"",!0),$s(this,w[6]||"",!0),this.m=Qi(w[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}yr.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(Ji(w,Rl,!0),":");var _=this.g;return(_||w=="file")&&(h.push("//"),(w=this.o)&&h.push(Ji(w,Rl,!0),"@"),h.push(gr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&h.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ji(_,_.charAt(0)=="/"?Yi:Dl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ji(_,Ml)),h.join("")},yr.prototype.resolve=function(h){const w=Un(this);let _=!!h.j;_?Ki(w,h.j):_=!!h.o,_?w.o=h.o:_=!!h.g,_?w.g=h.g:_=h.u!=null;var j=h.h;if(_)vr(w,h.u);else if(_=!!h.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var W=w.h.lastIndexOf("/");W!=-1&&(j=w.h.slice(0,W+1)+j)}if(W=j,W==".."||W==".")j="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){j=W.lastIndexOf("/",0)==0,W=W.split("/");const J=[];for(let ue=0;ue<W.length;){const Fe=W[ue++];Fe=="."?j&&ue==W.length&&J.push(""):Fe==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),j&&ue==W.length&&J.push("")):(J.push(Fe),j=!0)}j=J.join("/")}else j=W}return _?w.h=j:_=h.i.toString()!=="",_?$s(w,Fl(h.i)):_=!!h.m,_&&(w.m=h.m),w};function Un(h){return new yr(h)}function Ki(h,w,_){h.j=_?Qi(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function vr(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function $s(h,w,_){w instanceof Ke?(h.i=w,la(h.i,h.l)):(_||(w=Ji(w,sp)),h.i=new Ke(w,h.l))}function Xe(h,w,_){h.i.set(w,_)}function Zr(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Qi(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ji(h,w,_){return typeof h=="string"?(h=encodeURI(h).replace(w,Pl),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Rl=/[#\/\?@]/g,Dl=/[#\?:]/g,Yi=/[#\?]/g,sp=/[#\?@]/g,Ml=/#/g;function Ke(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function xr(h){h.g||(h.g=new Map,h.h=0,h.i&&An(h.i,function(w,_){h.add(decodeURIComponent(w.replace(/\+/g," ")),_)}))}n=Ke.prototype,n.add=function(h,w){xr(this),this.i=null,h=wr(this,h);let _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(w),this.h+=1,this};function Ol(h,w){xr(h),w=wr(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function aa(h,w){return xr(h),w=wr(h,w),h.g.has(w)}n.forEach=function(h,w){xr(this),this.g.forEach(function(_,j){_.forEach(function(W){h.call(w,W,j,this)},this)},this)};function Ll(h,w){xr(h);let _=[];if(typeof w=="string")aa(h,w)&&(_=_.concat(h.g.get(wr(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)_=_.concat(h[w]);return _}n.set=function(h,w){return xr(this),this.i=null,h=wr(this,h),aa(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},n.get=function(h,w){return h?(h=Ll(this,h),h.length>0?String(h[0]):w):w};function Vl(h,w,_){Ol(h,w),_.length>0&&(h.i=null,h.g.set(wr(h,w),S(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var _=w[j];const W=gr(_);_=Ll(this,_);for(let J=0;J<_.length;J++){let ue=W;_[J]!==""&&(ue+="="+gr(_[J])),h.push(ue)}}return this.i=h.join("&")};function Fl(h){const w=new Ke;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function wr(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function la(h,w){w&&!h.j&&(xr(h),h.i=null,h.g.forEach(function(_,j){const W=j.toLowerCase();j!=W&&(Ol(this,j),Vl(this,W,_))},h)),h.j=w}function br(h,w){const _=new Fs;if(l.Image){const j=new Image;j.onload=g(Gt,_,"TestLoadImage: loaded",!0,w,j),j.onerror=g(Gt,_,"TestLoadImage: error",!1,w,j),j.onabort=g(Gt,_,"TestLoadImage: abort",!1,w,j),j.ontimeout=g(Gt,_,"TestLoadImage: timeout",!1,w,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else w(!1)}function _r(h,w){const _=new Fs,j=new AbortController,W=setTimeout(()=>{j.abort(),Gt(_,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:j.signal}).then(J=>{clearTimeout(W),J.ok?Gt(_,"TestPingServer: ok",!0,w):Gt(_,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(W),Gt(_,"TestPingServer: error",!1,w)})}function Gt(h,w,_,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(_)}catch{}}function Xi(){this.g=new $i}function es(h){this.i=h.Sb||null,this.h=h.ab||!1}y(es,Ms),es.prototype.g=function(){return new kn(this.i,this.h)};function kn(h,w){At.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(kn,At),n=kn.prototype,n.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,tr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?zs(this):tr(this),this.readyState==3&&Vu(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,zs(this))},n.Na=function(h){this.g&&(this.response=h,zs(this))},n.ga=function(){this.g&&zs(this)};function zs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,tr(h)}n.setRequestHeader=function(h,w){this.A.append(h,w)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var _=w.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=w.next();return h.join(`\r
`)};function tr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fu(h){let w="";return ye(h,function(_,j){w+=j,w+=":",w+=_,w+=`\r
`}),w}function ca(h,w,_){e:{for(j in _){var j=!1;break e}j=!0}j||(_=Fu(_),typeof h=="string"?_!=null&&gr(_):Xe(h,w,_))}function nt(h){At.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(nt,At);var Uu=/^https?$/i,ip=["POST","PUT"];n=nt.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,w,_,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ju.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(J){Hs(this,J);return}if(h=_||"",_=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)_.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const J of j.keys())_.set(J,j.get(J));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),W=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(ip,w,void 0)>=0)||j||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of _)this.g.setRequestHeader(J,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(J){Hs(this,J)}};function Hs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,qs(h),ns(h)}function qs(h){h.A||(h.A=!0,wt(h,"complete"),wt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,wt(this,"complete"),wt(this,"abort"),ns(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ns(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ts(this):this.Xa())},n.Xa=function(){ts(this)};function ts(h){if(h.h&&typeof a<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(wt(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const J=h.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var _;if(!(_=w)){var j;if(j=J===0){let ue=String(h.D).match(Lu)[1]||null;!ue&&l.self&&l.self.location&&(ue=l.self.location.protocol.slice(0,-1)),j=!Uu.test(ue?ue.toLowerCase():"")}_=j}if(_)wt(h,"complete"),wt(h,"success");else{h.o=6;try{var W=Tr(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",qs(h)}}finally{ns(h)}}}}function ns(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const _=h.g;h.g=null,w||wt(h,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Au(w)}};function Bu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ul(h){const w={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(D(h[j]))continue;var _=ra(h[j]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=w[W]||[];w[W]=J,J.push(_)}pe(w,function(j){return j.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(h,w,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||w}function ua(h){this.za=0,this.i=[],this.j=new Fs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,h),this.Za=Er("retryDelaySeedMs",1e4,h),this.Ta=Er("forwardChannelMaxRetries",2,h),this.va=Er("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ia(h&&h.concurrentRequestLimit),this.Ba=new Xi,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ua.prototype,n.ka=8,n.I=1,n.connect=function(h,w,_,j){mt(0),this.W=h,this.H=w||{},_&&j!==void 0&&(this.H.OSID=_,this.H.OAID=j),this.F=this.X,this.J=$l(this,null,this.W),rs(this)};function da(h){if(ha(h),h.I==3){var w=h.V++,_=Un(h.J);if(Xe(_,"SID",h.M),Xe(_,"RID",w),Xe(_,"TYPE","terminate"),Sr(h,_),w=new Fn(h,h.j,w),w.M=2,w.A=Zr(Un(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!_&&l.Image&&(new Image().src=w.A,_=!0),_||(w.g=zu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Hi(w)}to(h)}function Cn(h){h.g&&(eo(h),h.g.cancel(),h.g=null)}function ha(h){Cn(h),h.v&&(l.clearTimeout(h.v),h.v=null),fa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function rs(h){if(!Nl(h.h)&&!h.m){h.m=!0;var w=h.Ea;X||T(),G||(X(),G=!0),k.add(w,h),h.D=0}}function $u(h,w){return Wi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Vs(m(h.Ea,h,w),ma(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new Fn(this,this.j,h);let J=this.o;if(this.U&&(J?(J=V(J),ke(J,this.U)):J=this.U),this.u!==null||this.R||(W.J=J,J=null),this.S)e:{for(var w=0,_=0;_<this.i.length;_++){t:{var j=this.i[_];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=_;break e}if(w===4096||_===this.i.length-1){w=_+1;break e}}w=1e3}else w=1e3;w=Bl(this,W,w),_=Un(this.J),Xe(_,"RID",h),Xe(_,"CVER",22),this.G&&Xe(_,"X-HTTP-Session-Id",this.G),Sr(this,_),J&&(this.R?w="headers="+gr(Fu(J))+"&"+w:this.u&&ca(_,this.u,J)),oa(this.h,W),this.Ra&&Xe(_,"TYPE","init"),this.S?(Xe(_,"$req",w),Xe(_,"SID","null"),W.U=!0,er(W,_,null)):er(W,_,w),this.I=2}}else this.I==3&&(h?Zi(this,h):this.i.length==0||Nl(this.h)||Zi(this))};function Zi(h,w){var _;w?_=w.l:_=h.V++;const j=Un(h.J);Xe(j,"SID",h.M),Xe(j,"RID",_),Xe(j,"AID",h.K),Sr(h,j),h.u&&h.o&&ca(j,h.u,h.o),_=new Fn(h,h.j,_,h.D+1),h.u===null&&(_.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Bl(h,_,1e3),_.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),oa(h.h,_),er(_,j,w)}function Sr(h,w){h.H&&ye(h.H,function(_,j){Xe(w,j,_)}),h.l&&ye({},function(_,j){Xe(w,j,_)})}function Bl(h,w,_){_=Math.min(h.i.length,_);const j=h.l?m(h.l.Ka,h.l,h):null;e:{var W=h.i;let Fe=-1;for(;;){const bt=["count="+_];Fe==-1?_>0?(Fe=W[0].g,bt.push("ofs="+Fe)):Fe=0:bt.push("ofs="+Fe);let tt=!0;for(let kt=0;kt<_;kt++){var J=W[kt].g;const Nn=W[kt].map;if(J-=Fe,J<0)Fe=Math.max(0,W[kt].g-100),tt=!1;else try{J="req"+J+"_"||"";try{var ue=Nn instanceof Map?Nn:Object.entries(Nn);for(const[ss,kr]of ue){let Cr=kr;d(kr)&&(Cr=Ds(kr)),bt.push(J+ss+"="+encodeURIComponent(Cr))}}catch(ss){throw bt.push(J+"type="+encodeURIComponent("_badmap")),ss}}catch{j&&j(Nn)}}if(tt){ue=bt.join("&");break e}}ue=void 0}return h=h.i.splice(0,_),w.G=h,ue}function Xt(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;X||T(),G||(X(),G=!0),k.add(w,h),h.A=0}}function Ar(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Vs(m(h.Da,h),ma(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Ws(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Vs(m(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Cn(this),Ws(this))};function eo(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function Ws(h){h.g=new Fn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Un(h.na);Xe(w,"RID","rpc"),Xe(w,"SID",h.M),Xe(w,"AID",h.K),Xe(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(w,"TO",h.ia),Xe(w,"TYPE","xmlhttp"),Sr(h,w),h.u&&h.o&&ca(w,h.u,h.o),h.O&&(h.g.H=h.O);var _=h.g;h=h.ba,_.M=1,_.A=Zr(Un(w)),_.u=null,_.R=!0,Cl(_,h)}n.Va=function(){this.C!=null&&(this.C=null,Cn(this),Ar(this),mt(19))};function fa(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function pa(h,w){var _=null;if(h.g==w){fa(h),eo(h),h.g=null;var j=2}else if(jl(h.h,w))_=w.G,Gi(h.h,w),j=1;else return;if(h.I!=0){if(w.o)if(j==1){_=w.u?w.u.length:0,w=Date.now()-w.F;var W=h.D;j=Ls(),wt(j,new Al(j,_)),rs(h)}else Xt(h);else if(W=w.m,W==3||W==0&&w.X>0||!(j==1&&$u(h,w)||j==2&&Ar(h)))switch(_&&_.length>0&&(w=h.h,w.i=w.i.concat(_)),W){case 1:In(h,5);break;case 4:In(h,10);break;case 3:In(h,6);break;default:In(h,2)}}}function ma(h,w){let _=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(_*=2),_*w}function In(h,w){if(h.j.info("Error code "+w),w==2){var _=m(h.bb,h),j=h.Ua;const W=!j;j=new yr(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ki(j,"https"),Zr(j),W?br(j.toString(),_):_r(j.toString(),_)}else mt(2);h.I=0,h.l&&h.l.pa(w),to(h),ha(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function to(h){if(h.I=0,h.ja=[],h.l){const w=Sn(h.h);(w.length!=0||h.i.length!=0)&&(A(h.ja,w),A(h.ja,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.oa()}}function $l(h,w,_){var j=_ instanceof yr?Un(_):new yr(_);if(j.g!="")w&&(j.g=w+"."+j.g),vr(j,j.u);else{var W=l.location;j=W.protocol,w=w?w+"."+W.hostname:W.hostname,W=+W.port;const J=new yr(null);j&&Ki(J,j),w&&(J.g=w),W&&vr(J,W),_&&(J.h=_),j=J}return _=h.G,w=h.wa,_&&w&&Xe(j,_,w),Xe(j,"VER",h.ka),Sr(h,j),j}function zu(h,w,_){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new nt(new es({ab:_})):new nt(h.ma),w.Fa(h.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}n=Hu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ga(){}ga.prototype.g=function(h,w){return new Kt(h,w)};function Kt(h,w){At.call(this),this.g=new ua(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!D(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new Gs(this)}y(Kt,At),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){da(this.g)},Kt.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.v&&(_={},_.__data__=Ds(h),h=_);w.i.push(new rp(w.Ya++,h)),w.I==3&&rs(w)},Kt.prototype.N=function(){this.g.l=null,delete this.j,da(this.g),delete this.g,Kt.Z.N.call(this)};function qu(h){ea.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const _ in w){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}y(qu,ea);function Wu(){Sl.call(this),this.status=1}y(Wu,Sl);function Gs(h){this.g=h}y(Gs,Hu),Gs.prototype.ra=function(){wt(this.g,"a")},Gs.prototype.qa=function(h){wt(this.g,new qu(h))},Gs.prototype.pa=function(h){wt(this.g,new Wu)},Gs.prototype.oa=function(){wt(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,UT=function(){return new ga},FT=function(){return Ls()},VT=Zn,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Us.NO_ERROR=0,Us.TIMEOUT=8,Us.HTTP_ERROR=6,ph=Us,Bs.COMPLETE="complete",LT=Bs,ku.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",At.prototype.listen=At.prototype.J,xc=ku,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,OT=nt}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const qw="@firebase/firestore",Ww="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new by("@firebase/firestore");function Va(){return Ro.logLevel}function ve(n,...e){if(Ro.logLevel<=He.DEBUG){const t=e.map(Dy);Ro.debug(`Firestore (${fl}): ${n}`,...t)}}function ks(n,...e){if(Ro.logLevel<=He.ERROR){const t=e.map(Dy);Ro.error(`Firestore (${fl}): ${n}`,...t)}}function Do(n,...e){if(Ro.logLevel<=He.WARN){const t=e.map(Dy);Ro.warn(`Firestore (${fl}): ${n}`,...t)}}function Dy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,BT(n,r,t)}function BT(n,e,t){let r=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ks(r),new Error(r)}function Ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||BT(e,s,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Kr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class FR{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ws,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ws)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new $T(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class UR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $R{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=zR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function kg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Fm(s)===Fm(a)?qe(s,a):Fm(s)?1:-1}return qe(n.length,e.length)}const HR=55296,qR=57343;function Fm(n){const e=n.charCodeAt(0);return e>=HR&&e<=qR}function nl(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__name__";class Dr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Dr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return qe(e.length,t.length)}static compareSegments(e,t){const r=Dr.isNumericId(e),s=Dr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):kg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class st extends Dr{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const WR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Dr{construct(e,t,r){return new Ht(e,t,r)}static isValidIdentifier(e){return WR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new Ht([Kw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(l=!l,s++):d!=="."||l?(r+=d,s++):(a(),s++)}if(a(),l)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(st.fromString(e))}static fromName(e){return new Ae(st.fromString(e).popFirst(5))}static empty(){return new Ae(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qT(n,e,t,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qw(n){if(!Ae.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jw(n){if(Ae.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Cs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xf(n);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function GR(n,e){if(e<=0)throw new me(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function lu(n,e){if(!WT(n))throw new me(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new me(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=-62135596800,Xw=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Xw);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Yw)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xw}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Pt("string",it._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new it(0,0))}static max(){return new Oe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=-1;function KR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new Ii(s,Ae.empty(),e)}function QR(n){return new Ii(n.readTime,n.key,Hc)}class Ii{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ii(Oe.min(),Ae.empty(),Hc)}static max(){return new Ii(Oe.max(),Ae.empty(),Hc)}}function JR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==YR)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ne.reject(t)}static resolve(e){return new ne(((t,r)=>{t(e)}))}static reject(e){return new ne(((t,r)=>{r(e)}))}static waitFor(e){return new ne(((t,r)=>{let s=0,a=0,l=!1;e.forEach((d=>{++s,d.next((()=>{++a,l&&a===s&&t()}),(f=>r(f)))})),l=!0,a===s&&t()}))}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next((s=>s?ne.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new ne(((r,s)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((g=>{l[m]=g,++d,d===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new ne(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function ZR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ml(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-1;function bf(n){return n==null}function Oh(n){return n===0&&1/n==-1/0}function e4(n){return typeof n=="number"&&Number.isInteger(n)&&!Oh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="";function t4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Zw(e)),e=n4(n.get(t),e);return Zw(e)}function n4(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case GT:t+="";break;default:t+=a}}return t}function Zw(n){return n+GT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Yt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tb(this.data.getIterator())}getIteratorFrom(e){return new tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new cr([])}unionWith(e){let t=new Vt(Ht.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new QT("Invalid base64 string: "+a):a}})(e);return new Wt(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const r4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=r4.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ji(n){return typeof n=="string"?Wt.fromBase64String(n):Wt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="server_timestamp",YT="__type__",XT="__previous_value__",ZT="__local_write_time__";function Oy(n){return(n?.mapValue?.fields||{})[YT]?.stringValue===JT}function _f(n){const e=n.mapValue.fields[XT];return Oy(e)?_f(e):e}function qc(n){const e=Ni(n.mapValue.fields[ZT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t,r,s,a,l,d,f,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g}}const Lh="(default)";class rl{constructor(e,t){this.projectId=e,this.database=t||Lh}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__type__",i4="__max__",Hd={mapValue:{}},tE="__vector__",Vh="value";function Pi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Oy(n)?4:a4(n)?9007199254740991:o4(n)?10:11:Re(28295,{value:n})}function qr(n,e){if(n===e)return!0;const t=Pi(n);if(t!==Pi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qc(n).isEqual(qc(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ni(s.timestampValue),d=Ni(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return ji(s.bytesValue).isEqual(ji(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Tt(s.geoPointValue.latitude)===Tt(a.geoPointValue.latitude)&&Tt(s.geoPointValue.longitude)===Tt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Tt(s.integerValue)===Tt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Tt(s.doubleValue),d=Tt(a.doubleValue);return l===d?Oh(l)===Oh(d):isNaN(l)&&isNaN(d)}return!1})(n,e);case 9:return nl(n.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},d=a.mapValue.fields||{};if(eb(l)!==eb(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!qr(l[f],d[f])))return!1;return!0})(n,e);default:return Re(52216,{left:n})}}function Wc(n,e){return(n.values||[]).find((t=>qr(t,e)))!==void 0}function sl(n,e){if(n===e)return 0;const t=Pi(n),r=Pi(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=Tt(a.integerValue||a.doubleValue),f=Tt(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return nb(n.timestampValue,e.timestampValue);case 4:return nb(qc(n),qc(e));case 5:return kg(n.stringValue,e.stringValue);case 6:return(function(a,l){const d=ji(a),f=ji(l);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let m=0;m<d.length&&m<f.length;m++){const g=qe(d[m],f[m]);if(g!==0)return g}return qe(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=qe(Tt(a.latitude),Tt(l.latitude));return d!==0?d:qe(Tt(a.longitude),Tt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return rb(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},f=l.fields||{},m=d[Vh]?.arrayValue,g=f[Vh]?.arrayValue,y=qe(m?.values?.length||0,g?.values?.length||0);return y!==0?y:rb(m,g)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Hd.mapValue&&l===Hd.mapValue)return 0;if(a===Hd.mapValue)return 1;if(l===Hd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=l.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let y=0;y<f.length&&y<g.length;++y){const b=kg(f[y],g[y]);if(b!==0)return b;const S=sl(d[f[y]],m[g[y]]);if(S!==0)return S}return qe(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function nb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Ni(n),r=Ni(e),s=qe(t.seconds,r.seconds);return s!==0?s:qe(t.nanos,r.nanos)}function rb(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=sl(t[s],r[s]);if(a)return a}return qe(t.length,r.length)}function il(n){return Cg(n)}function Cg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ni(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ji(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Cg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Cg(t.fields[l])}`;return s+"}"})(n.mapValue):Re(61005,{value:n})}function mh(n){switch(Pi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_f(n);return e?16+mh(e):16;case 5:return 2*n.stringValue.length;case 6:return ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+mh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Ho(r.fields,((a,l)=>{s+=a.length+mh(l)})),s})(n.mapValue);default:throw Re(13486,{value:n})}}function sb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ig(n){return!!n&&"integerValue"in n}function Ly(n){return!!n&&"arrayValue"in n}function ib(n){return!!n&&"nullValue"in n}function ob(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gh(n){return!!n&&"mapValue"in n}function o4(n){return(n?.mapValue?.fields||{})[eE]?.stringValue===tE}function Ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ho(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ac(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(n.arrayValue.values[t]);return e}return{...n}}function a4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===i4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=Ht.emptyPath(),r={},s=[];e.forEach(((l,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}l?r[d.lastSegment()]=Ac(l):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];gh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ho(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Jn(Ac(this.value))}}function nE(n){const e=[];return Ho(n.fields,((t,r)=>{const s=new Ht([t]);if(gh(r)){const a=nE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,r,s,a,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new an(e,0,Oe.min(),Oe.min(),Oe.min(),Jn.empty(),0)}static newFoundDocument(e,t,r,s){return new an(e,1,t,Oe.min(),r,s,0)}static newNoDocument(e,t){return new an(e,2,t,Oe.min(),Oe.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Oe.min(),Oe.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function ab(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Ae.comparator(Ae.fromName(l.referenceValue),t.key):r=sl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function lb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function l4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rE=class{};class jt extends rE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new u4(e,t,r):t==="array-contains"?new f4(e,r):t==="in"?new p4(e,r):t==="not-in"?new m4(e,r):t==="array-contains-any"?new g4(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new d4(e,r):new h4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(sl(t,this.value)):t!==null&&Pi(this.value)===Pi(t)&&this.matchesComparison(sl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends rE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new fr(e,t)}matches(e){return sE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(n){return n.op==="and"}function iE(n){return c4(n)&&sE(n)}function c4(n){for(const e of n.filters)if(e instanceof fr)return!1;return!0}function Ng(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+il(n.value);if(iE(n))return n.filters.map((e=>Ng(e))).join(",");{const e=n.filters.map((t=>Ng(t))).join(",");return`${n.op}(${e})`}}function oE(n,e){return n instanceof jt?(function(r,s){return s instanceof jt&&r.op===s.op&&r.field.isEqual(s.field)&&qr(r.value,s.value)})(n,e):n instanceof fr?(function(r,s){return s instanceof fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,d)=>a&&oE(l,s.filters[d])),!0):!1})(n,e):void Re(19439)}function aE(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${il(t.value)}`})(n):n instanceof fr?(function(t){return t.op.toString()+" {"+t.getFilters().map(aE).join(" ,")+"}"})(n):"Filter"}class u4 extends jt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class d4 extends jt{constructor(e,t){super(e,"in",t),this.keys=lE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class h4 extends jt{constructor(e,t){super(e,"not-in",t),this.keys=lE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lE(n,e){return(e.arrayValue?.values||[]).map((t=>Ae.fromName(t.referenceValue)))}class f4 extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ly(t)&&Wc(t.arrayValue,this.value)}}class p4 extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wc(this.value.arrayValue,t)}}class m4 extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wc(this.value.arrayValue,t)}}class g4 extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Wc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t=null,r=[],s=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function cb(n,e=null,t=[],r=[],s=null,a=null,l=null){return new y4(n,e,t,r,s,a,l)}function Vy(n){const e=Ue(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Ng(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>il(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>il(r))).join(",")),e.Te=t}return e.Te}function Fy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!l4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lb(n.startAt,e.startAt)&&lb(n.endAt,e.endAt)}function jg(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t=null,r=[],s=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v4(n,e,t,r,s,a,l,d){return new gl(n,e,t,r,s,a,l,d)}function Uy(n){return new gl(n)}function ub(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cE(n){return n.collectionGroup!==null}function kc(n){const e=Ue(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Vt(Ht.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Gc(a,r))})),t.has(Ht.keyField().canonicalString())||e.Ie.push(new Gc(Ht.keyField(),r))}return e.Ie}function Ur(n){const e=Ue(n);return e.Ee||(e.Ee=x4(e,kc(n))),e.Ee}function x4(n,e){if(n.limitType==="F")return cb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Gc(s.field,a)}));const t=n.endAt?new Fh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fh(n.startAt.position,n.startAt.inclusive):null;return cb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Pg(n,e){const t=n.filters.concat([e]);return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Uh(n,e,t){return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Tf(n,e){return Fy(Ur(n),Ur(e))&&n.limitType===e.limitType}function uE(n){return`${Vy(Ur(n))}|lt:${n.limitType}`}function Fa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>aE(s))).join(", ")}]`),bf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>il(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>il(s))).join(",")),`Target(${r})`})(Ur(n))}; limitType=${n.limitType})`}function Ef(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ae.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of kc(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,d,f){const m=ab(l,d,f);return l.inclusive?m<=0:m<0})(r.startAt,kc(r),s)||r.endAt&&!(function(l,d,f){const m=ab(l,d,f);return l.inclusive?m>=0:m>0})(r.endAt,kc(r),s))})(n,e)}function w4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dE(n){return(e,t)=>{let r=!1;for(const s of kc(n)){const a=b4(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function b4(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(a,l,d){const f=l.data.field(a),m=d.data.field(a);return f!==null&&m!==null?sl(f,m):Re(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return KT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new pt(Ae.comparator);function Is(){return _4}const hE=new pt(Ae.comparator);function wc(...n){let e=hE;for(const t of n)e=e.insert(t.key,t);return e}function fE(n){let e=hE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function bo(){return Cc()}function pE(){return Cc()}function Cc(){return new qo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const T4=new pt(Ae.comparator),E4=new Vt(Ae.comparator);function We(...n){let e=E4;for(const t of n)e=e.add(t);return e}const S4=new Vt(qe);function A4(){return S4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function mE(n){return{integerValue:""+n}}function k4(n,e){return e4(e)?mE(e):By(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function C4(n,e,t){return n instanceof Bh?(function(s,a){const l={fields:{[YT]:{stringValue:JT},[ZT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Oy(a)&&(a=_f(a)),a&&(l.fields[XT]=a),{mapValue:l}})(t,e):n instanceof Kc?yE(n,e):n instanceof Qc?vE(n,e):(function(s,a){const l=gE(s,a),d=db(l)+db(s.Ae);return Ig(l)&&Ig(s.Ae)?mE(d):By(s.serializer,d)})(n,e)}function I4(n,e,t){return n instanceof Kc?yE(n,e):n instanceof Qc?vE(n,e):t}function gE(n,e){return n instanceof $h?(function(r){return Ig(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Bh extends Sf{}class Kc extends Sf{constructor(e){super(),this.elements=e}}function yE(n,e){const t=xE(e);for(const r of n.elements)t.some((s=>qr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Qc extends Sf{constructor(e){super(),this.elements=e}}function vE(n,e){let t=xE(e);for(const r of n.elements)t=t.filter((s=>!qr(s,r)));return{arrayValue:{values:t}}}class $h extends Sf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function db(n){return Tt(n.integerValue||n.doubleValue)}function xE(n){return Ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function N4(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Kc&&s instanceof Kc||r instanceof Qc&&s instanceof Qc?nl(r.elements,s.elements,qr):r instanceof $h&&s instanceof $h?qr(r.Ae,s.Ae):r instanceof Bh&&s instanceof Bh})(n.transform,e.transform)}class j4{constructor(e,t){this.version=e,this.transformResults=t}}class Br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Af{}function wE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $y(n.key,Br.none()):new cu(n.key,n.data,Br.none());{const t=n.data,r=Jn.empty();let s=new Vt(Ht.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Wo(n.key,r,new cr(s.toArray()),Br.none())}}function P4(n,e,t){n instanceof cu?(function(s,a,l){const d=s.value.clone(),f=fb(s.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Wo?(function(s,a,l){if(!yh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const d=fb(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(bE(s)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Ic(n,e,t,r){return n instanceof cu?(function(a,l,d,f){if(!yh(a.precondition,l))return d;const m=a.value.clone(),g=pb(a.fieldTransforms,f,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Wo?(function(a,l,d,f){if(!yh(a.precondition,l))return d;const m=pb(a.fieldTransforms,f,l),g=l.data;return g.setAll(bE(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,l,d){return yh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(n,e,t)}function R4(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=gE(r.transform,s||null);a!=null&&(t===null&&(t=Jn.empty()),t.set(r.field,a))}return t||null}function hb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nl(r,s,((a,l)=>N4(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class cu extends Af{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wo extends Af{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function bE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function fb(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,d=e.data.field(a.field);r.set(a.field,I4(l,d,t[s]))}return r}function pb(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,C4(a,l,e))}return r}class $y extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D4 extends Af{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&P4(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ic(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pE();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(s.key)?null:d;const f=wE(l,d);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),We())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((t,r)=>hb(t,r)))&&nl(this.baseMutations,e.baseMutations,((t,r)=>hb(t,r)))}}class zy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return T4})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new zy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Qe;function V4(n){switch(n){case te.OK:return Re(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function _E(n){if(n===void 0)return ks("GRPC error has no .code"),te.UNKNOWN;switch(n){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return Re(39323,{code:n})}}(Qe=It||(It={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=new _i([4294967295,4294967295],0);function mb(n){const e=F4().encode(n),t=new MT;return t.update(e),new Uint8Array(t.digest())}function gb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new _i([t,r],0),new _i([s,a],0)]}class Hy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bc(`Invalid padding: ${t}`);if(r<0)throw new bc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_i.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(_i.fromNumber(r)));return s.compare(U4)===1&&(s=new _i([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=mb(e),[r,s]=gb(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Hy(a,s,t);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const t=mb(e),[r,s]=gb(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kf(Oe.min(),s,new pt(qe),Is(),We())}}class uu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uu(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class TE{constructor(e,t){this.targetId=e,this.Ce=t}}class EE{constructor(e,t,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class yb{constructor(){this.ve=0,this.Fe=vb(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=We(),t=We(),r=We();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re(38017,{changeType:a})}})),new uu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=vb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class B4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.Je=qd(),this.He=qd(),this.Ye=new pt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(jg(a))if(r===0){const l=new Ae(a.path);this.et(t,l,an.newNoDocument(l,Oe.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,d;try{l=ji(r).toUint8Array()}catch(f){if(f instanceof QT)return Do("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Hy(l,s,a)}catch(f){return Do(f instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&jg(d.target)){const f=new Ae(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,an.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=We();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new kf(e,t,this.Ye,this.je,r);return this.je=Is(),this.Je=qd(),this.He=qd(),this.Ye=new pt(qe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new yb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qd(){return new pt(Ae.comparator)}function vb(){return new pt(Ae.comparator)}const $4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},H4={and:"AND",or:"OR"};class q4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rg(n,e){return n.useProto3Json||bf(e)?e:{value:e}}function zh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function W4(n,e){return zh(n,e.toTimestamp())}function $r(n){return Ze(!!n,49232),Oe.fromTimestamp((function(t){const r=Ni(t);return new it(r.seconds,r.nanos)})(n))}function qy(n,e){return Dg(n,e).canonicalString()}function Dg(n,e){const t=(function(s){return new st(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function AE(n){const e=st.fromString(n);return Ze(jE(e),10190,{key:e.toString()}),e}function Mg(n,e){return qy(n.databaseId,e.path)}function Um(n,e){const t=AE(e);if(t.get(1)!==n.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(CE(t))}function kE(n,e){return qy(n.databaseId,e)}function G4(n){const e=AE(n);return e.length===4?st.emptyPath():CE(e)}function Og(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CE(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xb(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function K4(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Re(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Ze(g===void 0||typeof g=="string",58123),Wt.fromBase64String(g||"")):(Ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(m){const g=m.code===void 0?te.UNKNOWN:_E(m.code);return new me(g,m.message||"")})(l);t=new EE(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Um(n,r.document.name),a=$r(r.document.updateTime),l=r.document.createTime?$r(r.document.createTime):Oe.min(),d=new Jn({mapValue:{fields:r.document.fields}}),f=an.newFoundDocument(s,a,l,d),m=r.targetIds||[],g=r.removedTargetIds||[];t=new vh(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Um(n,r.document),a=r.readTime?$r(r.readTime):Oe.min(),l=an.newNoDocument(s,a),d=r.removedTargetIds||[];t=new vh([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Um(n,r.document),a=r.removedTargetIds||[];t=new vh([],a,s,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new L4(s,a),d=r.targetId;t=new TE(d,l)}}return t}function Q4(n,e){let t;if(e instanceof cu)t={update:xb(n,e.key,e.value)};else if(e instanceof $y)t={delete:Mg(n,e.key)};else if(e instanceof Wo)t={update:xb(n,e.key,e.data),updateMask:sD(e.fieldMask)};else{if(!(e instanceof D4))return Re(16599,{Vt:e.type});t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Bh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Kc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Qc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $h)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Re(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:W4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)})(n,e.precondition)),t}function J4(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?$r(s.updateTime):$r(a);return l.isEqual(Oe.min())&&(l=$r(a)),new j4(l,s.transformResults||[])})(t,e)))):[]}function Y4(n,e){return{documents:[kE(n,e.path)]}}function X4(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kE(n,s);const a=(function(m){if(m.length!==0)return NE(fr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((g=>(function(b){return{field:Ua(b.field),direction:tD(b.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=Rg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function Z4(n){let e=G4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(y){const b=IE(y);return b instanceof fr&&iE(b)?b.getFilters():[b]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((b=>(function(A){return new Gc(Ba(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(t.orderBy));let d=null;t.limit&&(d=(function(y){let b;return b=typeof y=="object"?y.value:y,bf(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(y){const b=!!y.before,S=y.values||[];return new Fh(S,b)})(t.startAt));let m=null;return t.endAt&&(m=(function(y){const b=!y.before,S=y.values||[];return new Fh(S,b)})(t.endAt)),v4(e,s,l,a,d,"F",f,m)}function eD(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ba(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ba(t.unaryFilter.field);return jt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ba(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ba(t.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(Ba(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return fr.create(t.compositeFilter.filters.map((r=>IE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(t.compositeFilter.op))})(n):Re(30097,{filter:n})}function tD(n){return $4[n]}function nD(n){return z4[n]}function rD(n){return H4[n]}function Ua(n){return{fieldPath:n.canonicalString()}}function Ba(n){return Ht.fromServerFormat(n.fieldPath)}function NE(n){return n instanceof jt?(function(t){if(t.op==="=="){if(ob(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NAN"}};if(ib(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ob(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NOT_NAN"}};if(ib(t.value))return{unaryFilter:{field:Ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(t.field),op:nD(t.op),value:t.value}}})(n):n instanceof fr?(function(t){const r=t.getFilters().map((s=>NE(s)));return r.length===1?r[0]:{compositeFilter:{op:rD(t.op),filters:r}}})(n):Re(54877,{filter:n})}function sD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,r,s,a=Oe.min(),l=Oe.min(),d=Wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.yt=e}}function oD(n){const e=Z4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.Cn=new lD}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Ii.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class lD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Vt(st.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(PE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="LruGarbageCollector",cD=1048576;function _b([n,e],[t,r]){const s=qe(n,t);return s===0?qe(e,r):s}class uD{constructor(e){this.Ir=e,this.buffer=new Vt(_b),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_b(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(bb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ml(t)?ve(bb,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Vr(3e5)}))}}class hD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(wf.ce);const r=new uD(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(wb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,d,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,d=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(m=Date.now(),Va()<=He.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(d-l)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function fD(n,e){return new hD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.changes=new qo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Ic(r.mutation,s,cr.empty(),it.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,We()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=We()){const s=bo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=wc();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=bo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,We())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,d)=>{t.set(l,d)}))}))}computeViews(e,t,r,s){let a=Is();const l=Cc(),d=(function(){return Cc()})();return t.forEach(((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof Wo)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),Ic(g.mutation,m,g.mutation.getFieldMask(),it.now())):l.set(m.key,cr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,g)=>l.set(m,g))),t.forEach(((m,g)=>d.set(m,new mD(g,l.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Cc();let s=new pt(((l,d)=>l-d)),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const d of l)d.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||cr.empty();g=d.applyToLocalView(m,g),r.set(f,g);const y=(s.get(d.batchId)||We()).add(f);s=s.insert(d.batchId,y)}))})).next((()=>{const l=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,g=f.value,y=pE();g.forEach((b=>{if(!a.has(b)){const S=wE(t.get(b),r.get(b));S!==null&&y.set(b,S),a=a.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,y))}return ne.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return Ae.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ne.resolve(bo());let d=Hc,f=a;return l.next((m=>ne.forEach(m,((g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),a.get(g)?ne.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{f=f.insert(g,b)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,We()))).next((g=>({batchId:d,changes:fE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((r=>{let s=wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=wc();return this.indexManager.getCollectionParents(e,a).next((d=>ne.forEach(d,(f=>{const m=(function(y,b){return new gl(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((y,b)=>{l=l.insert(y,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((f,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,an.newInvalidDocument(g)))}));let d=wc();return l.forEach(((f,m)=>{const g=a.get(f);g!==void 0&&Ic(g.mutation,m,cr.empty(),it.now()),Ef(t,m)&&(d=d.insert(f,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:$r(s.createTime)}})(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:oD(s.bundledQuery),readTime:$r(s.readTime)}})(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.overlays=new pt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=bo();return ne.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=bo(),a=t.length+1,l=new Ae(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new pt(((m,g)=>m-g));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=bo(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const d=bo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>d.set(m,g))),!(d.size()>=s)););return ne.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new O4(t,r));let a=this.qr.get(t);a===void 0&&(a=We(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new zt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ae(new st([])),r=new zt(t,e),s=new zt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new st([])),r=new zt(t,e),s=new zt(t,e+1);let a=We();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new zt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new M4(a,t,r,s);this.mutationQueue.push(l);for(const d of s)this.Zr=this.Zr.add(new zt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?My:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),s=new zt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const d=this.Xr(l.Yr);a.push(d)})),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vt(qe);return t.forEach((s=>{const a=new zt(s,0),l=new zt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{r=r.add(d.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Ae.isDocumentKey(a)||(a=a.child(""));const l=new zt(new Ae(a),0);let d=new Vt(qe);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Yr)),!0)}),l),ne.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(t.mutations,(s=>{const a=new zt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new zt(t,0),s=this.Zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.ri=e,this.docs=(function(){return new pt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let r=Is();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():an.newInvalidDocument(s))})),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Is();const l=t.path,d=new Ae(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||JR(QR(g),r)<=0||(s.has(g.key)||Ef(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Re(9500)}ii(e,t){return ne.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new _D(this)}getSize(e){return ne.resolve(this.size)}}class _D extends pD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.si=new qo((t=>Vy(t)),Fy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Wy,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),ne.waitFor(a).next((()=>s))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new xD,this.referenceDelegate=e(this),this.Pi=new TD(this),this.indexManager=new aD,this.remoteDocumentCache=(function(s){return new bD(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new iD(t),this.Ii=new yD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new wD(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const s=new ED(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class ED extends XR{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Ri=new Wy,this.Vi=null}static mi(e){return new Gy(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const s=Ae.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Oe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Hh{constructor(e,t){this.persistence=e,this.pi=new qo((r=>t4(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=fD(this,t)}static mi(e,t){return new Hh(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return ne.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?ne.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((d=>{d||(r++,a.removeEntry(l,Oe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}br(e,t,r){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=We(),s=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ky(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xN()?8:ZR(cn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new SD;return this.Ss(e,t,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,l,d.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Va()<=He.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Fa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Va()<=He.DEBUG&&ve("QueryEngine","Query:",Fa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Va()<=He.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Fa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):ne.resolve())}ys(e,t){if(ub(t))return ne.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Uh(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=We(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,d);return this.Cs(t,m,l,f.readTime)?this.ys(e,Uh(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,s){return ub(t)||s.isEqual(Oe.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?ne.resolve(null):(Va()<=He.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fa(t)),this.vs(e,l,t,KR(s,Hc)).next((d=>d)))}))}Ds(e,t){let r=new Vt(dE(e));return t.forEach(((s,a)=>{Ef(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Va()<=He.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Fa(t)),this.ps.getDocumentsMatchingQuery(e,t,Ii.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",kD=3e8;class CD{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new pt(qe),this.xs=new qo((a=>Vy(a)),Fy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function ID(n,e,t,r){return new CD(n,e,t,r)}async function DE(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let f=We();for(const m of s){l.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){d.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:d})))}))}))}function ND(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,m,g){const y=m.batch,b=y.keys();let S=ne.resolve();return b.forEach((A=>{S=S.next((()=>g.getEntry(f,A))).next((R=>{const C=m.docVersions.get(A);Ze(C!==null,48541),R.version.compareTo(C)<0&&(y.applyToRemoteDocument(R,m),R.isValidDocument()&&(R.setReadTime(m.commitVersion),g.addEntry(R)))}))})),S.next((()=>d.mutationQueue.removeMutationBatch(f,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=We();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function ME(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function jD(n,e){const t=Ue(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((g,y)=>{const b=s.get(y);if(!b)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,y))));let S=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?S=S.withResumeToken(Wt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(y,S),(function(R,C,F){return R.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=kD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,S,g)&&d.push(t.Pi.updateTargetData(a,S))}));let f=Is(),m=We();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(PD(a,l,e.documentUpdates).next((g=>{f=g.ks,m=g.qs}))),!r.isEqual(Oe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return ne.waitFor(d).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=s,a)))}function PD(n,e,t){let r=We(),s=We();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=Is();return t.forEach(((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):ve(Qy,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)})),{ks:l,qs:s}}))}function RD(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=My),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function DD(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,ne.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new vi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Lg(n,e,t){const r=Ue(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!ml(l))throw l;ve(Qy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Tb(n,e,t){const r=Ue(n);let s=Oe.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,g){const y=Ue(f),b=y.xs.get(g);return b!==void 0?ne.resolve(y.Ms.get(b)):y.Pi.getTargetData(m,g)})(r,l,Ur(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:Oe.min(),t?a:We()))).next((d=>(MD(r,w4(e),d),{documents:d,Qs:a})))))}function MD(n,e,t){let r=n.Os.get(e)||Oe.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class Eb{constructor(){this.activeTargetIds=A4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OD{constructor(){this.Mo=new Eb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Eb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="ConnectivityMonitor";class Ab{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(Sb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(Sb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function Vg(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",VD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=Vg(),d=this.zo(e,t.toUriEncodedString());ve(Bm,`Sending RPC '${e}' ${l}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:m}=new URL(d),g=Fi(m);return this.Jo(e,d,f,r,g).then((y=>(ve(Bm,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Do(Bm,`RPC '${e}' ${l} failed with error: `,y,"url: ",d,"request:",r),y}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=VD[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class BD extends FD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=Vg();return new Promise(((d,f)=>{const m=new OT;m.setWithCredentials(!0),m.listenOnce(LT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ph.NO_ERROR:const y=m.getResponseJson();ve(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case ph.TIMEOUT:ve(rn,`RPC '${e}' ${l} timed out`),f(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const b=m.getStatus();if(ve(rn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const R=(function(F){const B=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN})(A.status);f(new me(R,A.message))}else f(new me(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new me(te.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ve(rn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);ve(rn,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Vg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UT(),d=FT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ve(rn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const y=l.createWebChannel(g,f);this.I_(y);let b=!1,S=!1;const A=new UD({Yo:C=>{S?ve(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(b||(ve(rn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),b=!0),ve(rn,`RPC '${e}' stream ${s} sending:`,C),y.send(C))},Zo:()=>y.close()}),R=(C,F,B)=>{C.listen(F,(I=>{try{B(I)}catch(H){setTimeout((()=>{throw H}),0)}}))};return R(y,xc.EventType.OPEN,(()=>{S||(ve(rn,`RPC '${e}' stream ${s} transport opened.`),A.o_())})),R(y,xc.EventType.CLOSE,(()=>{S||(S=!0,ve(rn,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(y))})),R(y,xc.EventType.ERROR,(C=>{S||(S=!0,Do(rn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new me(te.UNAVAILABLE,"The operation could not be completed")))})),R(y,xc.EventType.MESSAGE,(C=>{if(!S){const F=C.data[0];Ze(!!F,16349);const B=F,I=B?.error||B[0]?.error;if(I){ve(rn,`RPC '${e}' stream ${s} received error:`,I);const H=I.status;let X=(function(T){const P=It[T];if(P!==void 0)return _E(P)})(H),G=I.message;X===void 0&&(X=te.INTERNAL,G="Unknown error status: "+H+" with message "+I.message),S=!0,A.a_(new me(X,G)),y.close()}else ve(rn,`RPC '${e}' stream ${s} received:`,F),A.u_(F)}})),R(d,VT.STAT_EVENT,(C=>{C.stat===Ag.PROXY?ve(rn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Ag.NOPROXY&&ve(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(n){return new q4(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="PersistentStream";class LE{constructor(e,t,r,s,a,l,d,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ks(t.toString()),ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ve(kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $D extends LE{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=K4(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Oe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Oe.min():l.readTime?$r(l.readTime):Oe.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Og(this.serializer),t.addTarget=(function(a,l){let d;const f=l.target;if(d=jg(f)?{documents:Y4(a,f)}:{query:X4(a,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=SE(a,l.resumeToken);const m=Rg(a,l.expectedCount);m!==null&&(d.expectedCount=m)}else if(l.snapshotVersion.compareTo(Oe.min())>0){d.readTime=zh(a,l.snapshotVersion.toTimestamp());const m=Rg(a,l.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=eD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Og(this.serializer),t.removeTarget=e,this.q_(t)}}class zD extends LE{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=J4(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Og(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Q4(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{}class qD extends HD{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Dg(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,Dg(t,r),s,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ks(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="RemoteStore";class GD{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Go(this)&&(ve(Mo,"Restarting streams for network reachability change."),await(async function(f){const m=Ue(f);m.Ea.add(4),await du(m),m.Ra.set("Unknown"),m.Ea.delete(4),await If(m)})(this))}))})),this.Ra=new WD(r,s)}}async function If(n){if(Go(n))for(const e of n.da)await e(!0)}async function du(n){for(const e of n.da)await e(!1)}function VE(n,e){const t=Ue(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Zy(t)?Xy(t):yl(t).O_()&&Yy(t,e))}function Jy(n,e){const t=Ue(n),r=yl(t);t.Ia.delete(e),r.O_()&&FE(t,e),t.Ia.size===0&&(r.O_()?r.L_():Go(t)&&t.Ra.set("Unknown"))}function Yy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yl(n).Y_(e)}function FE(n,e){n.Va.Ue(e),yl(n).Z_(e)}function Xy(n){n.Va=new B4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),yl(n).start(),n.Ra.ua()}function Zy(n){return Go(n)&&!yl(n).x_()&&n.Ia.size>0}function Go(n){return Ue(n).Ea.size===0}function UE(n){n.Va=void 0}async function KD(n){n.Ra.set("Online")}async function QD(n){n.Ia.forEach(((e,t)=>{Yy(n,e)}))}async function JD(n,e){UE(n),Zy(n)?(n.Ra.ha(e),Xy(n)):n.Ra.set("Unknown")}async function YD(n,e,t){if(n.Ra.set("Online"),e instanceof EE&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,l),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){ve(Mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qh(n,r)}else if(e instanceof vh?n.Va.Ze(e):e instanceof TE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Oe.min()))try{const r=await ME(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,m)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),FE(a,f);const y=new vi(g.target,f,m,g.sequenceNumber);Yy(a,y)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ve(Mo,"Failed to raise snapshot:",r),await qh(n,r)}}async function qh(n,e,t){if(!ml(e))throw e;n.Ea.add(1),await du(n),n.Ra.set("Offline"),t||(t=()=>ME(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Mo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await If(n)}))}function BE(n,e){return e().catch((t=>qh(n,t,e)))}async function Nf(n){const e=Ue(n),t=Ri(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:My;for(;XD(e);)try{const s=await RD(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,ZD(e,s)}catch(s){await qh(e,s)}$E(e)&&zE(e)}function XD(n){return Go(n)&&n.Ta.length<10}function ZD(n,e){n.Ta.push(e);const t=Ri(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $E(n){return Go(n)&&!Ri(n).x_()&&n.Ta.length>0}function zE(n){Ri(n).start()}async function eM(n){Ri(n).ra()}async function tM(n){const e=Ri(n);for(const t of n.Ta)e.ea(t.mutations)}async function nM(n,e,t){const r=n.Ta.shift(),s=zy.from(r,e,t);await BE(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Nf(n)}async function rM(n,e){e&&Ri(n).X_&&await(async function(r,s){if((function(l){return V4(l)&&l!==te.ABORTED})(s.code)){const a=r.Ta.shift();Ri(r).B_(),await BE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await Nf(r)}})(n,e),$E(n)&&zE(n)}async function Cb(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ve(Mo,"RemoteStore received new credentials");const r=Go(t);t.Ea.add(3),await du(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await If(t)}async function sM(n,e){const t=Ue(n);e?(t.Ea.delete(2),await If(t)):e||(t.Ea.add(2),await du(t),t.Ra.set("Unknown"))}function yl(n){return n.ma||(n.ma=(function(t,r,s){const a=Ue(t);return a.sa(),new $D(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:KD.bind(null,n),t_:QD.bind(null,n),r_:JD.bind(null,n),H_:YD.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Zy(n)?Xy(n):n.Ra.set("Unknown")):(await n.ma.stop(),UE(n))}))),n.ma}function Ri(n){return n.fa||(n.fa=(function(t,r,s){const a=Ue(t);return a.sa(),new zD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:eM.bind(null,n),r_:rM.bind(null,n),ta:tM.bind(null,n),na:nM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Nf(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Mo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,d=new ev(e,t,l,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(n,e){if(ks("AsyncQueue",`${e}: ${n}`),ml(n))return new me(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{static emptySet(e){return new el(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=wc(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.ga=new pt(Ae.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class al{constructor(e,t,r,s,a,l,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((d=>{l.push({type:0,doc:d})})),new al(e,t,el.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oM{constructor(){this.queries=Nb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ue(t),a=s.queries;s.queries=Nb(),a.forEach(((l,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new me(te.ABORTED,"Firestore shutting down"))}}function Nb(){return new qo((n=>uE(n)),Tf)}async function HE(n,e){const t=Ue(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new iM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const d=tv(l,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&nv(t)}async function qE(n,e){const t=Ue(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aM(n,e){const t=Ue(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const d of l.Sa)d.Fa(s)&&(r=!0);l.wa=s}}r&&nv(t)}function lM(n,e,t){const r=Ue(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function nv(n){n.Ca.forEach((e=>{e.next()}))}var Fg,jb;(jb=Fg||(Fg={})).Ma="default",jb.Cache="cache";class WE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.key=e}}class KE{constructor(e){this.key=e}}class cM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=We(),this.mutatedKeys=We(),this.eu=dE(e),this.tu=new el(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Ib,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const b=s.get(g),S=Ef(this.query,y)?y:null,A=!!b&&this.mutatedKeys.has(b.key),R=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;b&&S?b.data.isEqual(S.data)?A!==R&&(r.track({type:3,doc:S}),C=!0):this.su(b,S)||(r.track({type:2,doc:S}),C=!0,(f&&this.eu(S,f)>0||m&&this.eu(S,m)<0)&&(d=!0)):!b&&S?(r.track({type:0,doc:S}),C=!0):b&&!S&&(r.track({type:1,doc:b}),C=!0,(f||m)&&(d=!0)),C&&(S?(l=l.add(S),a=R?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(S,A){const R=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:C})}};return R(S)-R(A)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,m=f!==this.Za;return this.Za=f,l.length!==0||m?{snapshot:new al(this.query,e.tu,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=We(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new KE(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new GE(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=We();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rv="SyncEngine";class uM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dM{constructor(e){this.key=e,this.hu=!1}}class hM{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new qo((d=>uE(d)),Tf),this.Iu=new Map,this.Eu=new Set,this.du=new pt(Ae.comparator),this.Au=new Map,this.Ru=new Wy,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fM(n,e,t=!0){const r=eS(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await QE(r,e,t,!0),s}async function pM(n,e){const t=eS(n);await QE(t,e,!0,!1)}async function QE(n,e,t,r){const s=await DD(n.localStore,Ur(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await mM(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&VE(n.remoteStore,s),d}async function mM(n,e,t,r,s){n.pu=(y,b,S)=>(async function(R,C,F,B){let I=C.view.ru(F);I.Cs&&(I=await Tb(R.localStore,C.query,!1).then((({documents:k})=>C.view.ru(k,I))));const H=B&&B.targetChanges.get(C.targetId),X=B&&B.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(I,R.isPrimaryClient,H,X);return Rb(R,C.targetId,G.au),G.snapshot})(n,y,b,S);const a=await Tb(n.localStore,e,!0),l=new cM(e,a.Qs),d=l.ru(a.documents),f=uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=l.applyChanges(d,n.isPrimaryClient,f);Rb(n,t,m.au);const g=new uM(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function gM(n,e,t){const r=Ue(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Tf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Lg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Jy(r.remoteStore,s.targetId),Ug(r,s.targetId)})).catch(pl)):(Ug(r,s.targetId),await Lg(r.localStore,s.targetId,!0))}async function yM(n,e){const t=Ue(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Jy(t.remoteStore,r.targetId))}async function vM(n,e,t){const r=SM(n);try{const s=await(function(l,d){const f=Ue(l),m=it.now(),g=d.reduce(((S,A)=>S.add(A.key)),We());let y,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let A=Is(),R=We();return f.Ns.getEntries(S,g).next((C=>{A=C,A.forEach(((F,B)=>{B.isValidDocument()||(R=R.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(S,A))).next((C=>{y=C;const F=[];for(const B of d){const I=R4(B,y.get(B.key).overlayedDocument);I!=null&&F.push(new Wo(B.key,I,nE(I.value.mapValue),Br.exists(!0)))}return f.mutationQueue.addMutationBatch(S,m,F,d)})).next((C=>{b=C;const F=C.applyToLocalDocumentSet(y,R);return f.documentOverlayCache.saveOverlays(S,C.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:fE(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,d,f){let m=l.Vu[l.currentUser.toKey()];m||(m=new pt(qe)),m=m.insert(d,f),l.Vu[l.currentUser.toKey()]=m})(r,s.batchId,t),await hu(r,s.changes),await Nf(r.remoteStore)}catch(s){const a=tv(s,"Failed to persist write");t.reject(a)}}async function JE(n,e){const t=Ue(n);try{const r=await jD(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ze(l.hu,14607):s.removedDocuments.size>0&&(Ze(l.hu,42227),l.hu=!1))})),await hu(t,r,e)}catch(r){await pl(r)}}function Pb(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(l,d){const f=Ue(l);f.onlineState=d;let m=!1;f.queries.forEach(((g,y)=>{for(const b of y.Sa)b.va(d)&&(m=!0)})),m&&nv(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xM(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new pt(Ae.comparator);l=l.insert(a,an.newNoDocument(a,Oe.min()));const d=We().add(a),f=new kf(Oe.min(),new Map,new pt(qe),l,d);await JE(r,f),r.du=r.du.remove(a),r.Au.delete(e),sv(r)}else await Lg(r.localStore,e,!1).then((()=>Ug(r,e,t))).catch(pl)}async function wM(n,e){const t=Ue(n),r=e.batch.batchId;try{const s=await ND(t.localStore,e);XE(t,r,null),YE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hu(t,s)}catch(s){await pl(s)}}async function bM(n,e,t){const r=Ue(n);try{const s=await(function(l,d){const f=Ue(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,d).next((y=>(Ze(y!==null,37113),g=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);XE(r,e,t),YE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hu(r,s)}catch(s){await pl(s)}}function YE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function XE(n,e,t){const r=Ue(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ug(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||ZE(n,r)}))}function ZE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Jy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),sv(n))}function Rb(n,e,t){for(const r of t)r instanceof GE?(n.Ru.addReference(r.key,e),_M(n,r)):r instanceof KE?(ve(rv,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||ZE(n,r.key)):Re(19791,{wu:r})}function _M(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ve(rv,"New document in limbo: "+t),n.Eu.add(r),sv(n))}function sv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(st.fromString(e)),r=n.fu.next();n.Au.set(r,new dM(t)),n.du=n.du.insert(t,r),VE(n.remoteStore,new vi(Ur(Uy(t.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function hu(n,e,t){const r=Ue(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{l.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){s.push(m);const g=Ky.As(f.targetId,m);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(f,m){const g=Ue(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ne.forEach(m,(b=>ne.forEach(b.Es,(S=>g.persistence.referenceDelegate.addReference(y,b.targetId,S))).next((()=>ne.forEach(b.ds,(S=>g.persistence.referenceDelegate.removeReference(y,b.targetId,S)))))))))}catch(y){if(!ml(y))throw y;ve(Qy,"Failed to update sequence numbers: "+y)}for(const y of m){const b=y.targetId;if(!y.fromCache){const S=g.Ms.get(b),A=S.snapshotVersion,R=S.withLastLimboFreeSnapshotVersion(A);g.Ms=g.Ms.insert(b,R)}}})(r.localStore,a))}async function TM(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ve(rv,"User change. New user:",e.toKey());const r=await DE(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new me(te.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(t,r.Ls)}}function EM(n,e){const t=Ue(n),r=t.Au.get(e);if(r&&r.hu)return We().add(r.key);{let s=We();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const d=t.Tu.get(l);s=s.unionWith(d.view.nu)}return s}}function eS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xM.bind(null,e),e.Pu.H_=aM.bind(null,e.eventManager),e.Pu.yu=lM.bind(null,e.eventManager),e}function SM(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bM.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ID(this.persistence,new AD,e.initialUser,this.serializer)}Cu(e){return new RE(Gy.mi,this.serializer)}Du(e){return new OD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wh.provider={build:()=>new Wh};class AM extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new RE((r=>Hh.mi(r,t)),this.serializer)}}class Bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,this.syncEngine),await sM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oM})()}createDatastore(e){const t=Cf(e.databaseInfo.databaseId),r=(function(a){return new BD(a)})(e.databaseInfo);return(function(a,l,d,f){return new qD(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,d){return new GD(r,s,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Pb(this.syncEngine,t,0)),(function(){return Ab.v()?new Ab:new LD})())}createSyncEngine(e,t){return(function(s,a,l,d,f,m,g){const y=new hM(s,a,l,d,f,m);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ue(t);ve(Mo,"RemoteStore shutting down."),r.Ea.add(5),await du(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class kM{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{ve(Di,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ve(Di,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zm(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Di,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await DE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Db(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CM(n);ve(Di,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Cb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>Cb(e.remoteStore,s))),n._onlineComponents=e}async function CM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Di,"Using user provided OfflineComponentProvider");try{await zm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),await zm(n,new Wh)}}else ve(Di,"Using default OfflineComponentProvider"),await zm(n,new AM(void 0));return n._offlineComponents}async function nS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Di,"Using user provided OnlineComponentProvider"),await Db(n,n._uninitializedComponentsProvider._online)):(ve(Di,"Using default OnlineComponentProvider"),await Db(n,new Bg))),n._onlineComponents}function IM(n){return nS(n).then((e=>e.syncEngine))}async function rS(n){const e=await nS(n),t=e.eventManager;return t.onListen=fM.bind(null,e.syncEngine),t.onUnlisten=gM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yM.bind(null,e.syncEngine),t}function NM(n,e,t={}){const r=new ws;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,m){const g=new tS({next:b=>{g.Nu(),l.enqueueAndForget((()=>qE(a,y)));const S=b.docs.has(d);!S&&b.fromCache?m.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&f&&f.source==="server"?m.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),y=new WE(Uy(d.path),g,{includeMetadataChanges:!0,qa:!0});return HE(a,y)})(await rS(n),n.asyncQueue,e,t,r))),r.promise}function jM(n,e,t={}){const r=new ws;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,m){const g=new tS({next:b=>{g.Nu(),l.enqueueAndForget((()=>qE(a,y))),b.fromCache&&f.source==="server"?m.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),y=new WE(d,g,{includeMetadataChanges:!0,qa:!0});return HE(a,y)})(await rS(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firestore.googleapis.com",Ob=!0;class Lb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=Ob}else this.host=e.host,this.ssl=e.ssl??Ob;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cD)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new zT;switch(r.type){case"firstParty":return new BR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Mb.get(t);r&&(ve("ComponentProvider","Removing Datastore"),Mb.delete(t),r.terminate())})(this),Promise.resolve()}}function oS(n,e,t,r={}){n=Cs(n,jf);const s=Fi(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(xy(`https://${d}`),wy("Firestore",!0)),a.host!==iS&&a.host!==d&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!No(f,l)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=on.MOCK_USER;else{m=Z_(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new on(y)}n._authCredentials=new VR(new $T(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class St{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(lu(t,St._jsonSchema))return new St(e,r||null,new Ae(st.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:Pt("string",St._jsonSchemaVersion),referencePath:Pt("string")};class bs extends js{constructor(e,t,r){super(e,t,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new Ae(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function PM(n,e,...t){if(n=qt(n),HT("collection","path",e),n instanceof jf){const r=st.fromString(e,...t);return Jw(r),new bs(n,null,r)}{if(!(n instanceof St||n instanceof bs))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Jw(r),new bs(n.firestore,null,r)}}function _o(n,e,...t){if(n=qt(n),arguments.length===1&&(e=vf.newId()),HT("doc","path",e),n instanceof jf){const r=st.fromString(e,...t);return Qw(r),new St(n,null,new Ae(r))}{if(!(n instanceof St||n instanceof bs))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Qw(r),new St(n.firestore,n instanceof bs?n.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="AsyncQueue";class Fb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OE(this,"async_queue_retry"),this._c=()=>{const r=$m();r&&ve(Vb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=$m();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=$m();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;ve(Vb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ks("INTERNAL UNHANDLED ERROR: ",Ub(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ev.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Re(47125,{Pc:Ub(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ub(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class vl extends jf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Fb,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fb(e),this._firestoreClient=void 0,await e}}}function aS(n,e){const t=typeof n=="object"?n:Ty(),r=typeof n=="string"?n:Lh,s=pf(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=J_("firestore");a&&oS(s,...a)}return s}function Pf(n){if(n._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RM(n),n._firestoreClient}function RM(n){const e=n._freezeSettings(),t=(function(s,a,l,d){return new s4(s,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new kM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Wt.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lu(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Pt("string",Mn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(lu(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:Pt("string",dr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lu(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hr(e.vectorValues);throw new me(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Pt("string",hr._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=/^__.*__$/;class MM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wo(e,this.data,this.fieldMask,t,this.fieldTransforms):new cu(e,this.data,t,this.fieldTransforms)}}function lS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:n})}}class ov{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ov({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(lS(this.Ac)&&DM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cf(e)}Cc(e,t,r,s=!1){return new ov({Ac:e,methodName:t,Dc:r,path:Ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cS(n){const e=n._freezeSettings(),t=Cf(n._databaseId);return new OM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LM(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);hS("Data must be an object, but it was:",l,r);const d=uS(r,l);let f,m;if(a.merge)f=new cr(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const y of a.mergeFields){const b=FM(e,y,t);if(!l.contains(b))throw new me(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);BM(g,b)||g.push(b)}f=new cr(g),m=l.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=l.fieldTransforms;return new MM(new Jn(d),f,m)}function VM(n,e,t,r=!1){return av(t,n.Cc(r?4:3,e))}function av(n,e){if(dS(n=qt(n)))return hS("Unsupported field value:",e,n),uS(n,e);if(n instanceof iv)return(function(r,s){if(!lS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const d of r){let f=av(d,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=it.fromDate(r);return{timestampValue:zh(s.serializer,a)}}if(r instanceof it){const a=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(s.serializer,a)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:SE(s.serializer,r._byteString)};if(r instanceof St){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hr)return(function(l,d){return{mapValue:{fields:{[eE]:{stringValue:tE},[Vh]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return By(d.serializer,m)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${xf(r)}`)})(n,e)}function uS(n,e){const t={};return KT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(n,((r,s)=>{const a=av(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function dS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof dr||n instanceof Mn||n instanceof St||n instanceof iv||n instanceof hr)}function hS(n,e,t){if(!dS(t)||!WT(t)){const r=xf(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function FM(n,e,t){if((e=qt(e))instanceof Rf)return e._internalPath;if(typeof e=="string")return fS(n,e);throw Gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const UM=new RegExp("[~\\*/\\[\\]]");function fS(n,e,t){if(e.search(UM)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rf(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Gh(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new me(te.INVALID_ARGUMENT,d+n+f)}function BM(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $M extends pS{data(){return super.data()}}function Df(n,e){return typeof e=="string"?fS(n,e):e instanceof Rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class Mf extends lv{}function HM(n,e,...t){let r=[];e instanceof lv&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof Of)).length,d=a.filter((f=>f instanceof fu)).length;if(l>1||l>0&&d>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class fu extends Mf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new fu(e,t,r)}_apply(e){const t=this._parse(e);return mS(e._query,t),new js(e.firestore,e.converter,Pg(e._query,t))}_parse(e){const t=cS(e.firestore);return(function(a,l,d,f,m,g,y){let b;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){$b(y,g);const A=[];for(const R of y)A.push(Bb(f,a,R));b={arrayValue:{values:A}}}else b=Bb(f,a,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$b(y,g),b=VM(d,l,y,g==="in"||g==="not-in");return jt.create(m,g,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qM(n,e,t){const r=e,s=Df("where",n);return fu._create(s,r,t)}class Of extends lv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Of(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const d=a.getFlattenedFilters();for(const f of d)mS(l,f),l=Pg(l,f)})(e._query,t),new js(e.firestore,e.converter,Pg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lf extends Mf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Lf(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(a,l)})(e._query,this._field,this._direction);return new js(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new gl(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function WM(n,e="asc"){const t=e,r=Df("orderBy",n);return Lf._create(r,t)}class Vf extends Mf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Vf(e,t,r)}_apply(e){return new js(e.firestore,e.converter,Uh(e._query,this._limit,this._limitType))}}function GM(n){return GR("limit",n),Vf._create("limit",n,"F")}function Bb(n,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&t.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!Ae.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sb(n,new Ae(r))}if(t instanceof St)return sb(n,t._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(t)}.`)}function $b(n,e){if(!Array.isArray(n)||n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(n,e){const t=(function(s,a){for(const l of s)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class gS{convertValue(e,t="none"){switch(Pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ho(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Vh].arrayValue?.values?.map((r=>Tt(r.doubleValue)));return new hr(t)}convertGeoPoint(e){return new dr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_f(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Ze(jE(r),9688,{name:e});const s=new rl(r.get(1),r.get(3)),a=new Ae(r.popFirst(5));return s.isEqual(t)||ks(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends pS{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ti._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Pt("string",Ti._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Nc extends Ti{data(e={}){return super.data(e)}}class Ao{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $a(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Nc(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((d=>{const f=new Nc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new $a(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Nc(s._firestore,s._userDataWriter,d.doc.key,d.doc,new $a(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return d.type!==0&&(m=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),g=l.indexOf(d.doc.key)),{type:QM(d.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n){n=Cs(n,St);const e=Cs(n.firestore,vl);return NM(Pf(e),n._key).then((t=>XM(e,n,t)))}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Pt("string",Ao._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class vS extends gS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function JM(n){n=Cs(n,js);const e=Cs(n.firestore,vl),t=Pf(e),r=new vS(e);return zM(n._query),jM(t,n._query).then((s=>new Ao(e,r,n,s)))}function jc(n,e,t){n=Cs(n,St);const r=Cs(n.firestore,vl),s=KM(n.converter,e,t);return cv(r,[LM(cS(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Br.none())])}function YM(n){return cv(Cs(n.firestore,vl),[new $y(n._key,Br.none())])}function cv(n,e){return(function(r,s){const a=new ws;return r.asyncQueue.enqueueAndForget((async()=>vM(await IM(r),s,a))),a.promise})(Pf(n),e)}function XM(n,e,t){const r=t.docs.get(e._key),s=new vS(n);return new Ti(n,s,e._key,r,new $a(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){fl=s})(zo),jo(new Ci("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new vl(new FR(r.getProvider("auth-internal")),new $R(l,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(m.options.projectId,g)})(l,s),l);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Vr(qw,Ww,e),Vr(qw,Ww,"esm2020")})();const za=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:gS,Bytes:Mn,CollectionReference:bs,DocumentReference:St,DocumentSnapshot:Ti,FieldPath:Rf,FieldValue:iv,Firestore:vl,FirestoreError:me,GeoPoint:dr,Query:js,QueryCompositeFilterConstraint:Of,QueryConstraint:Mf,QueryDocumentSnapshot:Nc,QueryFieldFilterConstraint:fu,QueryLimitConstraint:Vf,QueryOrderByConstraint:Lf,QuerySnapshot:Ao,SnapshotMetadata:$a,Timestamp:it,VectorValue:hr,_AutoId:vf,_ByteString:Wt,_DatabaseId:rl,_DocumentKey:Ae,_EmptyAuthCredentialsProvider:zT,_FieldPath:Ht,_cast:Cs,_logWarn:Do,_validateIsNotUsedTogether:qT,collection:PM,connectFirestoreEmulator:oS,deleteDoc:YM,doc:_o,ensureFirestoreConfigured:Pf,executeWrite:cv,getDoc:yS,getDocs:JM,getFirestore:aS,limit:GM,orderBy:WM,query:HM,setDoc:jc,where:qM},Symbol.toStringTag,{value:"Module"}));var ZM="firebase",eO="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(ZM,eO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebasestorage.googleapis.com",wS="storageBucket",tO=120*1e3,nO=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt extends Kr{constructor(e,t,r=0){super(Hm(e),`Firebase Storage: ${t} (${Hm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Hm(n){return"storage/"+n}function uv(){const n="An unknown error occurred, please check the error payload for server response.";return new xt(yt.UNKNOWN,n)}function rO(n){return new xt(yt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function sO(n){return new xt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iO(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xt(yt.UNAUTHENTICATED,n)}function oO(){return new xt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aO(n){return new xt(yt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function lO(){return new xt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cO(){return new xt(yt.CANCELED,"User canceled the upload/download.")}function uO(n){return new xt(yt.INVALID_URL,"Invalid URL '"+n+"'.")}function dO(n){return new xt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function hO(){return new xt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wS+"' property when initializing the app?")}function fO(){return new xt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pO(){return new xt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mO(n){return new xt(yt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $g(n){return new xt(yt.INVALID_ARGUMENT,n)}function bS(){return new xt(yt.APP_DELETED,"The Firebase app was deleted.")}function gO(n){return new xt(yt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(n,e){return new xt(yt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function mc(n){throw new xt(yt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=On.makeFromUrl(e,t)}catch{return new On(e,"")}if(r.path==="")return r;throw dO(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",S=new RegExp(`^https?://${y}/${g}/b/${s}/o${b}`,"i"),A={bucket:1,path:3},R=t===xS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",F=new RegExp(`^https?://${R}/${s}/${C}`,"i"),I=[{regex:d,indices:f,postModify:a},{regex:S,indices:A,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<I.length;H++){const X=I[H],G=X.regex.exec(e);if(G){const k=G[X.indices.bucket];let T=G[X.indices.path];T||(T=""),r=new On(k,T),X.postModify(r);break}}if(r==null)throw uO(e);return r}}class yO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(n,e,t){let r=1,s=null,a=null,l=!1,d=0;function f(){return d===2}let m=!1;function g(...C){m||(m=!0,e.apply(null,C))}function y(C){s=setTimeout(()=>{s=null,n(S,f())},C)}function b(){a&&clearTimeout(a)}function S(C,...F){if(m){b();return}if(C){b(),g.call(null,C,...F);return}if(f()||l){b(),g.call(null,C,...F);return}r<64&&(r*=2);let I;d===1?(d=2,I=0):I=(r+Math.random())*1e3,y(I)}let A=!1;function R(C){A||(A=!0,b(),!m&&(s!==null?(C||(d=2),clearTimeout(s),y(0)):C||(d=1)))}return y(0),a=setTimeout(()=>{l=!0,R(!0)},t),R}function xO(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(n){return n!==void 0}function bO(n){return typeof n=="object"&&!Array.isArray(n)}function dv(n){return typeof n=="string"||n instanceof String}function zb(n){return hv()&&n instanceof Blob}function hv(){return typeof Blob<"u"}function Hb(n,e,t,r){if(r<e)throw $g(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw $g(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function _S(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var ko;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ko||(ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t,r,s,a,l,d,f,m,g,y,b=!0,S=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,R)=>{this.resolve_=A,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Gd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===ko.NO_ERROR,f=a.getStatus();if(!d||_O(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ko.ABORT;r(!1,new Gd(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Gd(m,a))})},t=(r,s)=>{const a=this.resolve_,l=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());wO(f)?a(f):a()}catch(f){l(f)}else if(d!==null){const f=uv();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(s.canceled){const f=this.appDelete_?bS():cO();l(f)}else{const f=lO();l(f)}};this.canceled_?t(!1,new Gd(!1,null,!0)):this.backoffId_=vO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&xO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function EO(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function SO(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AO(n,e){e&&(n["X-Firebase-GMPID"]=e)}function kO(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function CO(n,e,t,r,s,a,l=!0,d=!1){const f=_S(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return AO(g,e),EO(g,t),SO(g,a),kO(g,r),new TO(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function NO(...n){const e=IO();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(hv())return new Blob(n);throw new xt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jO(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n){if(typeof atob>"u")throw mO("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qm{constructor(e,t){this.data=e,this.contentType=t||null}}function RO(n,e){switch(n){case Or.RAW:return new qm(TS(e));case Or.BASE64:case Or.BASE64URL:return new qm(ES(n,e));case Or.DATA_URL:return new qm(MO(e),OO(e))}throw uv()}function TS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function DO(n){let e;try{e=decodeURIComponent(n)}catch{throw Pc(Or.DATA_URL,"Malformed data URL.")}return TS(e)}function ES(n,e){switch(n){case Or.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Pc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Pc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=PO(e)}catch(s){throw s.message.includes("polyfill")?s:Pc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class SS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Pc(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=LO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function MO(n){const e=new SS(n);return e.base64?ES(Or.BASE64,e.rest):DO(e.rest)}function OO(n){return new SS(n).contentType}function LO(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){let r=0,s="";zb(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(zb(this.data_)){const r=this.data_,s=jO(r,e,t);return s===null?null:new mi(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new mi(r,!0)}}static getBlob(...e){if(hv()){const t=e.map(r=>r instanceof mi?r.data_:r);return new mi(NO.apply(null,t))}else{const t=e.map(l=>dv(l)?RO(Or.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let d=0;d<l.length;d++)s[a++]=l[d]}),new mi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(n){let e;try{e=JSON.parse(n)}catch{return null}return bO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function FO(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function kS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n,e){return e}class hn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||UO}}let Kd=null;function BO(n){return!dv(n)||n.length<2?n:kS(n)}function CS(){if(Kd)return Kd;const n=[];n.push(new hn("bucket")),n.push(new hn("generation")),n.push(new hn("metageneration")),n.push(new hn("name","fullPath",!0));function e(a,l){return BO(l)}const t=new hn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const s=new hn("size");return s.xform=r,n.push(s),n.push(new hn("timeCreated")),n.push(new hn("updated")),n.push(new hn("md5Hash",null,!0)),n.push(new hn("cacheControl",null,!0)),n.push(new hn("contentDisposition",null,!0)),n.push(new hn("contentEncoding",null,!0)),n.push(new hn("contentLanguage",null,!0)),n.push(new hn("contentType",null,!0)),n.push(new hn("metadata","customMetadata",!0)),Kd=n,Kd}function $O(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new On(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function zO(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return $O(r,n),r}function IS(n,e,t){const r=AS(e);return r===null?null:zO(n,r,t)}function HO(n,e,t,r){const s=AS(e);if(s===null||!dv(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const g=n.bucket,y=n.fullPath,b="/b/"+l(g)+"/o/"+l(y),S=fv(b,t,r),A=_S({alt:"media",token:m});return S+A})[0]}function qO(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class NS{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){if(!n)throw uv()}function WO(n,e){function t(r,s){const a=IS(n,s,e);return jS(a!==null),a}return t}function GO(n,e){function t(r,s){const a=IS(n,s,e);return jS(a!==null),HO(a,s,n.host,n._protocol)}return t}function PS(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=oO():s=iO():t.getStatus()===402?s=sO(n.bucket):t.getStatus()===403?s=aO(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function KO(n){const e=PS(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=rO(n.path)),a.serverResponse=s.serverResponse,a}return t}function QO(n,e,t){const r=e.fullServerUrl(),s=fv(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,d=new NS(s,a,GO(n,t),l);return d.errorHandler=KO(e),d}function JO(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function YO(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=JO(null,e)),r}function XO(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let I="";for(let H=0;H<2;H++)I=I+Math.random().toString().slice(2);return I}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const m=YO(e,r,s),g=qO(m,t),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,b=`\r
--`+f+"--",S=mi.getBlob(y,r,b);if(S===null)throw fO();const A={name:m.fullPath},R=fv(a,n.host,n._protocol),C="POST",F=n.maxUploadRetryTime,B=new NS(R,C,WO(n,t),F);return B.urlParams=A,B.headers=l,B.body=S.uploadData(),B.errorHandler=PS(e),B}class ZO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw mc("cannot .send() more than once");if(Fi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eL extends ZO{initXhr(){this.xhr_.responseType="text"}}function RS(){return new eL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){this._service=e,t instanceof On?this._location=t:this._location=On.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Oo(e,t)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kS(this._location.path)}get storage(){return this._service}get parent(){const e=VO(this._location.path);if(e===null)return null;const t=new On(this._location.bucket,e);return new Oo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw gO(e)}}function tL(n,e,t){n._throwIfRoot("uploadBytes");const r=XO(n.storage,n._location,CS(),new mi(e,!0),t);return n.storage.makeRequestWithTokens(r,RS).then(s=>({metadata:s,ref:n}))}function nL(n){n._throwIfRoot("getDownloadURL");const e=QO(n.storage,n._location,CS());return n.storage.makeRequestWithTokens(e,RS).then(t=>{if(t===null)throw pO();return t})}function rL(n,e){const t=FO(n._location.path,e),r=new On(n._location.bucket,t);return new Oo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){return/^[A-Za-z]+:\/\//.test(n)}function iL(n,e){return new Oo(n,e)}function DS(n,e){if(n instanceof pv){const t=n;if(t._bucket==null)throw hO();const r=new Oo(t,t._bucket);return e!=null?DS(r,e):r}else return e!==void 0?rL(n,e):n}function oL(n,e){if(e&&sL(e)){if(n instanceof pv)return iL(n,e);throw $g("To use ref(service, url), the first argument must be a Storage instance.")}else return DS(n,e)}function qb(n,e){const t=e?.[wS];return t==null?null:On.makeFromBucketSpec(t,n)}function aL(n,e,t,r={}){n.host=`${e}:${t}`;const s=Fi(e);s&&(xy(`https://${n.host}/b`),wy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Z_(a,n.app.options.projectId))}class pv{constructor(e,t,r,s,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=xS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tO,this._maxUploadRetryTime=nO,this._requests=new Set,s!=null?this._bucket=On.makeFromBucketSpec(s,this._host):this._bucket=qb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=qb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Oo(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new yO(bS());{const l=CO(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const Wb="@firebase/storage",Gb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="storage";function Qd(n,e,t){return n=qt(n),tL(n,e,t)}function Jd(n){return n=qt(n),nL(n)}function Yd(n,e){return n=qt(n),oL(n,e)}function lL(n=Ty(),e){n=qt(n);const r=pf(n,MS).getImmediate({identifier:e}),s=J_("storage");return s&&cL(r,...s),r}function cL(n,e,t,r={}){aL(n,e,t,r)}function uL(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new pv(t,r,s,e,zo)}function dL(){jo(new Ci(MS,uL,"PUBLIC").setMultipleInstances(!0)),Vr(Wb,Gb,""),Vr(Wb,Gb,"esm2020")}dL();const xh={apiKey:"AIzaSyCWjBfZHPHDI4rXRStWPP48lRZVJquWH38",authDomain:"dreambuild-2024-app.firebaseapp.com",projectId:"dreambuild-2024-app",storageBucket:"dreambuild-2024-app.firebasestorage.app",messagingSenderId:"780467658601",appId:"1:780467658601:web:833a9373c15fa3be0be7f8"};console.log("Firebase config loaded:",{hasApiKey:!!xh.apiKey,hasAuthDomain:!!xh.authDomain,projectId:xh.projectId,usingEnvVars:!0});const mv=nT(xh),Xd=OR(mv),gi=aS(mv),Zd=lL(mv),OS=N.createContext();function Ff(){return N.useContext(OS)}function hL({children:n}){const[e,t]=N.useState(null),[r,s]=N.useState(!0);N.useEffect(()=>{let f,m;try{f=EP(Xd,async g=>{try{if(g)try{const y=await yS(_o(gi,"users",g.uid)),b=y.exists()?y.data():null;t({uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL,...b})}catch(y){console.warn("Failed to fetch user data from Firestore:",y),t({uid:g.uid,email:g.email,displayName:g.displayName,photoURL:g.photoURL})}else t(null)}catch(y){console.error("Error in auth state change:",y),t(null)}finally{s(!1)}}),m=setTimeout(()=>{console.log("Firebase auth timeout - setting loading to false"),s(!1)},3e3)}catch(g){console.error("Error setting up auth listener:",g),s(!1)}return()=>{f&&f(),m&&clearTimeout(m)}},[]);const d={user:e,loading:r,signInWithGoogle:async()=>{try{const f=new ms;f.addScope("email"),f.addScope("profile");const m=await qP(Xd,f);try{await jc(_o(gi,"users",m.user.uid),{uid:m.user.uid,email:m.user.email,displayName:m.user.displayName,photoURL:m.user.photoURL,createdAt:new Date,lastLogin:new Date},{merge:!0})}catch(g){console.warn("Failed to save user data to Firestore:",g)}console.log("Successfully signed in!")}catch(f){throw console.error("Failed to sign in:",f.message),f}},logout:async()=>{try{await SP(Xd),console.log("Successfully signed out!")}catch(f){console.error("Failed to sign out:",f.message)}},auth:Xd,db:gi};return c.jsx(OS.Provider,{value:d,children:r?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading DreamBuild..."})]})}):n})}const fL="modulepreload",pL=function(n){return"/"+n},Kb={},Ha=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var l=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");s=m(t.map(g=>{if(g=pL(g),g in Kb)return;Kb[g]=!0;const y=g.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":fL,y||(S.as="script"),S.crossOrigin="",S.href=g,f&&S.setAttribute("nonce",f),document.head.appendChild(S),y)return new Promise((A,R)=>{S.addEventListener("load",A),S.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return s.then(d=>{for(const f of d||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},LS=N.createContext();function Ko(){return N.useContext(LS)}function mL({children:n}){const{user:e,db:t}=Ff(),[r,s]=N.useState({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),[a,l]=N.useState([]),[d,f]=N.useState(!1),m=N.useCallback(B=>{s(I=>({...I,activeFile:B,lastModified:new Date}))},[]),g=N.useCallback((B,I)=>{s(H=>({...H,files:{...H.files,[B]:I},lastModified:new Date}))},[]),y=N.useCallback(B=>{s(I=>({...I,config:{...I.config,...B},lastModified:new Date}))},[]),b=N.useCallback(async(B=null)=>{if(!e){je.error("Please sign in to save projects");return}f(!0);try{const I={...r,name:B||r.name,userId:e.uid,lastModified:new Date},{doc:H,setDoc:X,collection:G}=await Ha(async()=>{const{doc:T,setDoc:P,collection:M}=await Promise.resolve().then(()=>za);return{doc:T,setDoc:P,collection:M}},void 0),k=H(G(t,"projects"));await X(k,{...I,id:k.id,createdAt:r.id?void 0:new Date}),s(T=>({...T,id:k.id})),je.success("Project saved successfully!"),S()}catch(I){je.error("Failed to save project: "+I.message)}finally{f(!1)}},[r,e,t]),S=N.useCallback(async()=>{if(e){f(!0);try{const{collection:B,query:I,where:H,getDocs:X,orderBy:G}=await Ha(async()=>{const{collection:L,query:$,where:D,getDocs:be,orderBy:re}=await Promise.resolve().then(()=>za);return{collection:L,query:$,where:D,getDocs:be,orderBy:re}},void 0),k=B(t,"projects"),T=I(k,H("userId","==",e.uid),G("lastModified","desc")),M=(await X(T)).docs.map(L=>({id:L.id,...L.data()}));l(M)}catch(B){je.error("Failed to load projects: "+B.message)}finally{f(!1)}}},[e,t]),A=N.useCallback(async B=>{if(e){f(!0);try{const{doc:I,getDoc:H}=await Ha(async()=>{const{doc:k,getDoc:T}=await Promise.resolve().then(()=>za);return{doc:k,getDoc:T}},void 0),X=I(t,"projects",B),G=await H(X);if(G.exists()){const k={id:G.id,...G.data()};s(k),je.success("Project loaded successfully!")}else je.error("Project not found")}catch(I){je.error("Failed to load project: "+I.message)}finally{f(!1)}}},[e,t]),R=N.useCallback(async B=>{if(e){f(!0);try{const{doc:I,deleteDoc:H}=await Ha(async()=>{const{doc:X,deleteDoc:G}=await Promise.resolve().then(()=>za);return{doc:X,deleteDoc:G}},void 0);await H(I(t,"projects",B)),l(X=>X.filter(G=>G.id!==B)),je.success("Project deleted successfully!")}catch(I){je.error("Failed to delete project: "+I.message)}finally{f(!1)}}},[e,t]),C=N.useCallback(()=>{s({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),je.success("New project created!")},[]),F={currentProject:r,projects:a,isLoading:d,switchFile:m,updateFile:g,updateConfig:y,saveProject:b,loadProjects:S,loadProject:A,deleteProject:R,createNewProject:C};return c.jsx(LS.Provider,{value:F,children:n})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),xe=(n,e)=>{const t=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:d="",children:f,...m},g)=>N.createElement("svg",{ref:g,...gL,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${yL(n)}`,d].join(" "),...m},[...e.map(([y,b])=>N.createElement(y,b)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=xe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=xe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=xe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=xe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=xe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=xe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=xe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=xe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=xe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=xe("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=xe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=xe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=xe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=xe("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=xe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=xe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=xe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=xe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=xe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=xe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=xe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=xe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=xe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=xe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=xe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=xe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=xe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=xe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=xe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=xe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=xe("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=xe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=xe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=xe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=xe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=xe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=xe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=xe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=xe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=xe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=xe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=xe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=xe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=xe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=xe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=xe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=xe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=xe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=xe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=xe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=xe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=xe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=xe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),VL=()=>{const{theme:n,toggleTheme:e}=vy(),{user:t,logout:r}=Ff(),[s,a]=N.useState(!1),[l,d]=N.useState(!1),[f,m]=N.useState(!1);return $o(),Yn.useEffect(()=>{const g=()=>{d(window.innerWidth>=768)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),Yn.useEffect(()=>{const g=y=>{f&&!y.target.closest(".user-menu")&&m(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[f]),c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-b border-border/50 shadow-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"flex items-center justify-center h-16",children:c.jsxs(lh,{to:"/",className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(AL,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:"Home"})]})})})})},FL=()=>c.jsx("footer",{className:"bg-muted/30 border-t border-border",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-black font-bold",children:"D"})}),c.jsx("span",{className:"text-xl font-bold",children:"DreamBuild"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Universal AI Development Platform supporting 100+ programming languages. Build, code, and deploy with the power of AI."}),c.jsx("div",{className:"flex gap-2",children:c.jsx("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-muted rounded-md transition-colors",children:c.jsx(Wr,{className:"h-4 w-4"})})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Product"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:c.jsx("a",{href:"/ai-builder",className:"hover:text-foreground transition-colors",children:"AI Builder"})}),c.jsx("li",{children:c.jsx("a",{href:"/projects",className:"hover:text-foreground transition-colors",children:"Projects"})}),c.jsx("li",{children:c.jsx("a",{href:"/dashboard",className:"hover:text-foreground transition-colors",children:"Dashboard"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Resources"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:c.jsx("a",{href:"/documentation",className:"hover:text-foreground transition-colors",children:"Documentation"})}),c.jsx("li",{children:c.jsx("a",{href:"/examples",className:"hover:text-foreground transition-colors",children:"Examples"})}),c.jsx("li",{children:c.jsx("a",{href:"/community",className:"hover:text-foreground transition-colors",children:"Community"})})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-semibold",children:"Company"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:c.jsx("a",{href:"/about",className:"hover:text-foreground transition-colors",children:"About"})}),c.jsx("li",{children:c.jsx("a",{href:"/blog",className:"hover:text-foreground transition-colors",children:"Blog"})}),c.jsx("li",{children:c.jsx("a",{href:"/contact",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]})]}),c.jsx("hr",{className:"my-8 border-border"}),c.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx("span",{children:"© 2024 Bradley Virtual Solutions, LLC"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"Made with"}),c.jsx(Qh,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{children:"for developers"})]})})]})}),QS=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),zf=N.createContext({}),Hf=N.createContext(null),qf=typeof document<"u",xv=qf?N.useLayoutEffect:N.useEffect,JS=N.createContext({strict:!1}),wv=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),UL="framerAppearId",YS="data-"+wv(UL);function BL(n,e,t,r){const{visualElement:s}=N.useContext(zf),a=N.useContext(JS),l=N.useContext(Hf),d=N.useContext(QS).reducedMotion,f=N.useRef();r=r||a.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=f.current;N.useInsertionEffect(()=>{m&&m.update(t,l)});const g=N.useRef(!!(t[YS]&&!window.HandoffComplete));return xv(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),N.useEffect(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),m}function Wa(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function $L(n,e,t){return N.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Wa(t)&&(t.current=r))},[e])}function Yc(n){return typeof n=="string"||Array.isArray(n)}function Wf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const bv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_v=["initial",...bv];function Gf(n){return Wf(n.animate)||_v.some(e=>Yc(n[e]))}function XS(n){return!!(Gf(n)||n.variants)}function zL(n,e){if(Gf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Yc(t)?t:void 0,animate:Yc(r)?r:void 0}}return n.inherit!==!1?e:{}}function HL(n){const{initial:e,animate:t}=zL(n,N.useContext(zf));return N.useMemo(()=>({initial:e,animate:t}),[Zb(e),Zb(t)])}function Zb(n){return Array.isArray(n)?n.join(" "):n}const e1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xc={};for(const n in e1)Xc[n]={isEnabled:e=>e1[n].some(t=>!!e[t])};function qL(n){for(const e in n)Xc[e]={...Xc[e],...n[e]}}const Tv=N.createContext({}),ZS=N.createContext({}),WL=Symbol.for("motionComponentSymbol");function GL({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&qL(n);function a(d,f){let m;const g={...N.useContext(QS),...d,layoutId:KL(d)},{isStatic:y}=g,b=HL(d),S=r(d,y);if(!y&&qf){b.visualElement=BL(s,S,g,e);const A=N.useContext(ZS),R=N.useContext(JS).strict;b.visualElement&&(m=b.visualElement.loadFeatures(g,R,n,A))}return N.createElement(zf.Provider,{value:b},m&&b.visualElement?N.createElement(m,{visualElement:b.visualElement,...g}):null,t(s,d,$L(S,b.visualElement,f),S,y,b.visualElement))}const l=N.forwardRef(a);return l[WL]=s,l}function KL({layoutId:n}){const e=N.useContext(Tv).id;return e&&n!==void 0?e+"-"+n:n}function QL(n){function e(r,s={}){return GL(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const JL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ev(n){return typeof n!="string"||n.includes("-")?!1:!!(JL.indexOf(n)>-1||/[A-Z]/.test(n))}const Zh={};function YL(n){Object.assign(Zh,n)}const mu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qo=new Set(mu);function e2(n,{layout:e,layoutId:t}){return Qo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Zh[n]||n==="opacity")}const En=n=>!!(n&&n.getVelocity),XL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZL=mu.length;function e3(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let a="";for(let l=0;l<ZL;l++){const d=mu[l];if(n[d]!==void 0){const f=XL[d]||d;a+=`${f}(${n[d]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(n,r?"":a):t&&r&&(a="none"),a}const t2=n=>e=>typeof e=="string"&&e.startsWith(n),n2=t2("--"),Qg=t2("var(--"),t3=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,n3=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Oi=(n,e,t)=>Math.min(Math.max(t,n),e),Jo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Mc={...Jo,transform:n=>Oi(0,1,n)},eh={...Jo,default:1},Oc=n=>Math.round(n*1e5)/1e5,Kf=/(-)?([\d]*\.?[\d])+/g,r2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,r3=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function gu(n){return typeof n=="string"}const yu=n=>({test:e=>gu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ci=yu("deg"),zr=yu("%"),Pe=yu("px"),s3=yu("vh"),i3=yu("vw"),t1={...zr,parse:n=>zr.parse(n)/100,transform:n=>zr.transform(n*100)},n1={...Jo,transform:Math.round},s2={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,size:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:eh,scaleX:eh,scaleY:eh,scaleZ:eh,skew:ci,skewX:ci,skewY:ci,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Mc,originX:t1,originY:t1,originZ:Pe,zIndex:n1,fillOpacity:Mc,strokeOpacity:Mc,numOctaves:n1};function Sv(n,e,t,r){const{style:s,vars:a,transform:l,transformOrigin:d}=n;let f=!1,m=!1,g=!0;for(const y in e){const b=e[y];if(n2(y)){a[y]=b;continue}const S=s2[y],A=n3(b,S);if(Qo.has(y)){if(f=!0,l[y]=A,!g)continue;b!==(S.default||0)&&(g=!1)}else y.startsWith("origin")?(m=!0,d[y]=A):s[y]=A}if(e.transform||(f||r?s.transform=e3(n.transform,t,g,r):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:b="50%",originZ:S=0}=d;s.transformOrigin=`${y} ${b} ${S}`}}const Av=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i2(n,e,t){for(const r in e)!En(e[r])&&!e2(r,t)&&(n[r]=e[r])}function o3({transformTemplate:n},e,t){return N.useMemo(()=>{const r=Av();return Sv(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function a3(n,e,t){const r=n.style||{},s={};return i2(s,r,n),Object.assign(s,o3(n,e,t)),n.transformValues?n.transformValues(s):s}function l3(n,e,t){const r={},s=a3(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const c3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ef(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||c3.has(n)}let o2=n=>!ef(n);function u3(n){n&&(o2=e=>e.startsWith("on")?!ef(e):n(e))}try{u3(require("@emotion/is-prop-valid").default)}catch{}function d3(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(o2(s)||t===!0&&ef(s)||!e&&!ef(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function r1(n,e,t){return typeof n=="string"?n:Pe.transform(e+t*n)}function h3(n,e,t){const r=r1(e,n.x,n.width),s=r1(t,n.y,n.height);return`${r} ${s}`}const f3={offset:"stroke-dashoffset",array:"stroke-dasharray"},p3={offset:"strokeDashoffset",array:"strokeDasharray"};function m3(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?f3:p3;n[a.offset]=Pe.transform(-r);const l=Pe.transform(e),d=Pe.transform(t);n[a.array]=`${l} ${d}`}function kv(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:d=1,pathOffset:f=0,...m},g,y,b){if(Sv(n,m,g,b),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:A,dimensions:R}=n;S.transform&&(R&&(A.transform=S.transform),delete S.transform),R&&(s!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=h3(R,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(S.x=e),t!==void 0&&(S.y=t),r!==void 0&&(S.scale=r),l!==void 0&&m3(S,l,d,f,!1)}const a2=()=>({...Av(),attrs:{}}),Cv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function g3(n,e,t,r){const s=N.useMemo(()=>{const a=a2();return kv(a,e,{enableHardwareAcceleration:!1},Cv(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};i2(a,n.style,n),s.style={...a,...s.style}}return s}function y3(n=!1){return(t,r,s,{latestValues:a},l)=>{const f=(Ev(t)?g3:l3)(r,a,l,t),g={...d3(r,typeof t=="string",n),...f,ref:s},{children:y}=r,b=N.useMemo(()=>En(y)?y.get():y,[y]);return N.createElement(t,{...g,children:b})}}function l2(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const c2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function u2(n,e,t,r){l2(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(c2.has(s)?s:wv(s),e.attrs[s])}function Iv(n,e){const{style:t}=n,r={};for(const s in t)(En(t[s])||e.style&&En(e.style[s])||e2(s,n))&&(r[s]=t[s]);return r}function d2(n,e){const t=Iv(n,e);for(const r in n)if(En(n[r])||En(e[r])){const s=mu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function Nv(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function h2(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const tf=n=>Array.isArray(n),v3=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),x3=n=>tf(n)?n[n.length-1]||0:n;function bh(n){const e=En(n)?n.get():n;return v3(e)?e.toValue():e}function w3({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,a){const l={latestValues:b3(r,s,a,n),renderState:e()};return t&&(l.mount=d=>t(r,d,l)),l}const f2=n=>(e,t)=>{const r=N.useContext(zf),s=N.useContext(Hf),a=()=>w3(n,e,r,s);return t?a():h2(a)};function b3(n,e,t,r){const s={},a=r(n,{});for(const b in a)s[b]=bh(a[b]);let{initial:l,animate:d}=n;const f=Gf(n),m=XS(n);e&&m&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const y=g?d:l;return y&&typeof y!="boolean"&&!Wf(y)&&(Array.isArray(y)?y:[y]).forEach(S=>{const A=Nv(n,S);if(!A)return;const{transitionEnd:R,transition:C,...F}=A;for(const B in F){let I=F[B];if(Array.isArray(I)){const H=g?I.length-1:0;I=I[H]}I!==null&&(s[B]=I)}for(const B in R)s[B]=R[B]}),s}const Et=n=>n;class s1{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function _3(n){let e=new s1,t=new s1,r=0,s=!1,a=!1;const l=new WeakSet,d={schedule:(f,m=!1,g=!1)=>{const y=g&&s,b=y?e:t;return m&&l.add(f),b.add(f)&&y&&s&&(r=e.order.length),f},cancel:f=>{t.remove(f),l.delete(f)},process:f=>{if(s){a=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const g=e.order[m];g(f),l.has(g)&&(d.schedule(g),n())}s=!1,a&&(a=!1,d.process(f))}};return d}const th=["prepare","read","update","preRender","render","postRender"],T3=40;function E3(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=th.reduce((y,b)=>(y[b]=_3(()=>t=!0),y),{}),l=y=>a[y].process(s),d=()=>{const y=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(y-s.timestamp,T3),1),s.timestamp=y,s.isProcessing=!0,th.forEach(l),s.isProcessing=!1,t&&e&&(r=!1,n(d))},f=()=>{t=!0,r=!0,s.isProcessing||n(d)};return{schedule:th.reduce((y,b)=>{const S=a[b];return y[b]=(A,R=!1,C=!1)=>(t||f(),S.schedule(A,R,C)),y},{}),cancel:y=>th.forEach(b=>a[b].cancel(y)),state:s,steps:a}}const{schedule:ot,cancel:Ns,state:sn,steps:Gm}=E3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0),S3={useVisualState:f2({scrapeMotionValuesFromProps:d2,createRenderState:a2,onMount:(n,e,{renderState:t,latestValues:r})=>{ot.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),ot.render(()=>{kv(t,r,{enableHardwareAcceleration:!1},Cv(e.tagName),n.transformTemplate),u2(e,t)})}})},A3={useVisualState:f2({scrapeMotionValuesFromProps:Iv,createRenderState:Av})};function k3(n,{forwardMotionProps:e=!1},t,r){return{...Ev(n)?S3:A3,preloadedFeatures:t,useRender:y3(e),createVisualElement:r,Component:n}}function vs(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const p2=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Qf(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const C3=n=>e=>p2(e)&&n(e,Qf(e));function _s(n,e,t,r){return vs(n,e,C3(t),r)}const I3=(n,e)=>t=>e(n(t)),Ai=(...n)=>n.reduce(I3);function m2(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const i1=m2("dragHorizontal"),o1=m2("dragVertical");function g2(n){let e=!1;if(n==="y")e=o1();else if(n==="x")e=i1();else{const t=i1(),r=o1();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function y2(){const n=g2(!0);return n?(n(),!1):!0}class Ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}function a1(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||y2())return;const d=n.getProps();n.animationState&&d.whileHover&&n.animationState.setActive("whileHover",e),d[r]&&ot.update(()=>d[r](a,l))};return _s(n.current,t,s,{passive:!n.getProps()[r]})}class N3 extends Ui{mount(){this.unmount=Ai(a1(this.node,!0),a1(this.node,!1))}unmount(){}}class j3 extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ai(vs(this.node.current,"focus",()=>this.onFocus()),vs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const v2=(n,e)=>e?n===e?!0:v2(n,e.parentElement):!1;function Km(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Qf(t))}class P3 extends Ui{constructor(){super(...arguments),this.removeStartListeners=Et,this.removeEndListeners=Et,this.removeAccessibleListeners=Et,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=_s(window,"pointerup",(d,f)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:g,globalTapTarget:y}=this.node.getProps();ot.update(()=>{!y&&!v2(this.node.current,d.target)?g&&g(d,f):m&&m(d,f)})},{passive:!(r.onTap||r.onPointerUp)}),l=_s(window,"pointercancel",(d,f)=>this.cancelPress(d,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ai(a,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=d=>{d.key!=="Enter"||!this.checkPressEnd()||Km("up",(f,m)=>{const{onTap:g}=this.node.getProps();g&&ot.update(()=>g(f,m))})};this.removeEndListeners(),this.removeEndListeners=vs(this.node.current,"keyup",l),Km("down",(d,f)=>{this.startPress(d,f)})},t=vs(this.node.current,"keydown",e),r=()=>{this.isPressing&&Km("cancel",(a,l)=>this.cancelPress(a,l))},s=vs(this.node.current,"blur",r);this.removeAccessibleListeners=Ai(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ot.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!y2()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ot.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=_s(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=vs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ai(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Jg=new WeakMap,Qm=new WeakMap,R3=n=>{const e=Jg.get(n.target);e&&e(n)},D3=n=>{n.forEach(R3)};function M3({root:n,...e}){const t=n||document;Qm.has(t)||Qm.set(t,{});const r=Qm.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(D3,{root:n,...e})),r[s]}function O3(n,e,t){const r=M3(e);return Jg.set(n,t),r.observe(n),()=>{Jg.delete(n),r.unobserve(n)}}const L3={some:0,all:1};class V3 extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:L3[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),b=m?g:y;b&&b(f)};return O3(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(F3(e,t))&&this.startObserver()}unmount(){}}function F3({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const U3={inView:{Feature:V3},tap:{Feature:P3},focus:{Feature:j3},hover:{Feature:N3}};function x2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function B3(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function $3(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Jf(n,e,t){const r=n.getProps();return Nv(r,e,t!==void 0?t:r.custom,B3(n),$3(n))}let jv=Et;const Co=n=>n*1e3,Ts=n=>n/1e3,z3={current:!1},w2=n=>Array.isArray(n)&&typeof n[0]=="number";function b2(n){return!!(!n||typeof n=="string"&&_2[n]||w2(n)||Array.isArray(n)&&n.every(b2))}const _c=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,_2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_c([0,.65,.55,1]),circOut:_c([.55,0,1,.45]),backIn:_c([.31,.01,.66,-.59]),backOut:_c([.33,1.53,.69,.99])};function T2(n){if(n)return w2(n)?_c(n):Array.isArray(n)?n.map(T2):_2[n]}function H3(n,e,t,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:d,times:f}={}){const m={[e]:t};f&&(m.offset=f);const g=T2(d);return Array.isArray(g)&&(m.easing=g),n.animate(m,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function q3(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const E2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,W3=1e-7,G3=12;function K3(n,e,t,r,s){let a,l,d=0;do l=e+(t-e)/2,a=E2(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>W3&&++d<G3);return l}function vu(n,e,t,r){if(n===e&&t===r)return Et;const s=a=>K3(a,0,1,n,t);return a=>a===0||a===1?a:E2(s(a),e,r)}const Q3=vu(.42,0,1,1),J3=vu(0,0,.58,1),S2=vu(.42,0,.58,1),Y3=n=>Array.isArray(n)&&typeof n[0]!="number",A2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,k2=n=>e=>1-n(1-e),Pv=n=>1-Math.sin(Math.acos(n)),C2=k2(Pv),X3=A2(Pv),I2=vu(.33,1.53,.69,.99),Rv=k2(I2),Z3=A2(Rv),eV=n=>(n*=2)<1?.5*Rv(n):.5*(2-Math.pow(2,-10*(n-1))),tV={linear:Et,easeIn:Q3,easeInOut:S2,easeOut:J3,circIn:Pv,circInOut:X3,circOut:C2,backIn:Rv,backInOut:Z3,backOut:I2,anticipate:eV},l1=n=>{if(Array.isArray(n)){jv(n.length===4);const[e,t,r,s]=n;return vu(e,t,r,s)}else if(typeof n=="string")return tV[n];return n},Dv=(n,e)=>t=>!!(gu(t)&&r3.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),N2=(n,e,t)=>r=>{if(!gu(r))return r;const[s,a,l,d]=r.match(Kf);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},nV=n=>Oi(0,255,n),Jm={...Jo,transform:n=>Math.round(nV(n))},To={test:Dv("rgb","red"),parse:N2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Jm.transform(n)+", "+Jm.transform(e)+", "+Jm.transform(t)+", "+Oc(Mc.transform(r))+")"};function rV(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Yg={test:Dv("#"),parse:rV,transform:To.transform},Ga={test:Dv("hsl","hue"),parse:N2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+zr.transform(Oc(e))+", "+zr.transform(Oc(t))+", "+Oc(Mc.transform(r))+")"},fn={test:n=>To.test(n)||Yg.test(n)||Ga.test(n),parse:n=>To.test(n)?To.parse(n):Ga.test(n)?Ga.parse(n):Yg.parse(n),transform:n=>gu(n)?n:n.hasOwnProperty("red")?To.transform(n):Ga.transform(n)},ft=(n,e,t)=>-t*n+t*e+n;function Ym(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function sV({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;s=Ym(f,d,n+1/3),a=Ym(f,d,n),l=Ym(f,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Xm=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},iV=[Yg,To,Ga],oV=n=>iV.find(e=>e.test(n));function c1(n){const e=oV(n);let t=e.parse(n);return e===Ga&&(t=sV(t)),t}const j2=(n,e)=>{const t=c1(n),r=c1(e),s={...t};return a=>(s.red=Xm(t.red,r.red,a),s.green=Xm(t.green,r.green,a),s.blue=Xm(t.blue,r.blue,a),s.alpha=ft(t.alpha,r.alpha,a),To.transform(s))};function aV(n){var e,t;return isNaN(n)&&gu(n)&&(((e=n.match(Kf))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(r2))===null||t===void 0?void 0:t.length)||0)>0}const P2={regex:t3,countKey:"Vars",token:"${v}",parse:Et},R2={regex:r2,countKey:"Colors",token:"${c}",parse:fn.parse},D2={regex:Kf,countKey:"Numbers",token:"${n}",parse:Jo.parse};function Zm(n,{regex:e,countKey:t,token:r,parse:s}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(s)))}function nf(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Zm(t,P2),Zm(t,R2),Zm(t,D2),t}function M2(n){return nf(n).values}function O2(n){const{values:e,numColors:t,numVars:r,tokenised:s}=nf(n),a=e.length;return l=>{let d=s;for(let f=0;f<a;f++)f<r?d=d.replace(P2.token,l[f]):f<r+t?d=d.replace(R2.token,fn.transform(l[f])):d=d.replace(D2.token,Oc(l[f]));return d}}const lV=n=>typeof n=="number"?0:n;function cV(n){const e=M2(n);return O2(n)(e.map(lV))}const Li={test:aV,parse:M2,createTransformer:O2,getAnimatableNone:cV},L2=(n,e)=>t=>`${t>0?e:n}`;function V2(n,e){return typeof n=="number"?t=>ft(n,e,t):fn.test(n)?j2(n,e):n.startsWith("var(")?L2(n,e):U2(n,e)}const F2=(n,e)=>{const t=[...n],r=t.length,s=n.map((a,l)=>V2(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}},uV=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=V2(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}},U2=(n,e)=>{const t=Li.createTransformer(e),r=nf(n),s=nf(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ai(F2(r.values,s.values),t):L2(n,e)},Zc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},u1=(n,e)=>t=>ft(n,e,t);function dV(n){return typeof n=="number"?u1:typeof n=="string"?fn.test(n)?j2:U2:Array.isArray(n)?F2:typeof n=="object"?uV:u1}function hV(n,e,t){const r=[],s=t||dV(n[0]),a=n.length-1;for(let l=0;l<a;l++){let d=s(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||Et:e;d=Ai(f,d)}r.push(d)}return r}function B2(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(jv(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=hV(e,r,s),d=l.length,f=m=>{let g=0;if(d>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const y=Zc(n[g],n[g+1],m);return l[g](y)};return t?m=>f(Oi(n[0],n[a-1],m)):f}function fV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Zc(0,e,r);n.push(ft(t,1,s))}}function pV(n){const e=[0];return fV(e,n.length-1),e}function mV(n,e){return n.map(t=>t*e)}function gV(n,e){return n.map(()=>e||S2).splice(0,n.length-1)}function rf({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=Y3(r)?r.map(l1):l1(r),a={done:!1,value:e[0]},l=mV(t&&t.length===e.length?t:pV(e),n),d=B2(l,e,{ease:Array.isArray(s)?s:gV(e,s)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}function $2(n,e){return e?n*(1e3/e):0}const yV=5;function z2(n,e,t){const r=Math.max(e-yV,0);return $2(t-n(r),e-r)}const eg=.001,vV=.01,xV=10,wV=.05,bV=1;function _V({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,a,l=1-e;l=Oi(wV,bV,l),n=Oi(vV,xV,Ts(n)),l<1?(s=m=>{const g=m*l,y=g*n,b=g-t,S=Xg(m,l),A=Math.exp(-y);return eg-b/S*A},a=m=>{const y=m*l*n,b=y*t+t,S=Math.pow(l,2)*Math.pow(m,2)*n,A=Math.exp(-y),R=Xg(Math.pow(m,2),l);return(-s(m)+eg>0?-1:1)*((b-S)*A)/R}):(s=m=>{const g=Math.exp(-m*n),y=(m-t)*n+1;return-eg+g*y},a=m=>{const g=Math.exp(-m*n),y=(t-m)*(n*n);return g*y});const d=5/n,f=EV(s,a,d);if(n=Co(n),isNaN(f))return{stiffness:100,damping:10,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:n}}}const TV=12;function EV(n,e,t){let r=t;for(let s=1;s<TV;s++)r=r-n(r)/e(r);return r}function Xg(n,e){return n*Math.sqrt(1-e*e)}const SV=["duration","bounce"],AV=["stiffness","damping","mass"];function d1(n,e){return e.some(t=>n[t]!==void 0)}function kV(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!d1(n,AV)&&d1(n,SV)){const t=_V(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function H2({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],a=n[n.length-1],l={done:!1,value:s},{stiffness:d,damping:f,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=kV({...r,velocity:-Ts(r.velocity||0)}),S=y||0,A=f/(2*Math.sqrt(d*m)),R=a-s,C=Ts(Math.sqrt(d/m)),F=Math.abs(R)<5;t||(t=F?.01:2),e||(e=F?.005:.5);let B;if(A<1){const I=Xg(C,A);B=H=>{const X=Math.exp(-A*C*H);return a-X*((S+A*C*R)/I*Math.sin(I*H)+R*Math.cos(I*H))}}else if(A===1)B=I=>a-Math.exp(-C*I)*(R+(S+C*R)*I);else{const I=C*Math.sqrt(A*A-1);B=H=>{const X=Math.exp(-A*C*H),G=Math.min(I*H,300);return a-X*((S+A*C*R)*Math.sinh(G)+I*R*Math.cosh(G))/I}}return{calculatedDuration:b&&g||null,next:I=>{const H=B(I);if(b)l.done=I>=g;else{let X=S;I!==0&&(A<1?X=z2(B,I,H):X=0);const G=Math.abs(X)<=t,k=Math.abs(a-H)<=e;l.done=G&&k}return l.value=l.done?a:H,l}}}function h1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:f,restDelta:m=.5,restSpeed:g}){const y=n[0],b={done:!1,value:y},S=T=>d!==void 0&&T<d||f!==void 0&&T>f,A=T=>d===void 0?f:f===void 0||Math.abs(d-T)<Math.abs(f-T)?d:f;let R=t*e;const C=y+R,F=l===void 0?C:l(C);F!==C&&(R=F-y);const B=T=>-R*Math.exp(-T/r),I=T=>F+B(T),H=T=>{const P=B(T),M=I(T);b.done=Math.abs(P)<=m,b.value=b.done?F:M};let X,G;const k=T=>{S(b.value)&&(X=T,G=H2({keyframes:[b.value,A(b.value)],velocity:z2(I,T,b.value),damping:s,stiffness:a,restDelta:m,restSpeed:g}))};return k(0),{calculatedDuration:null,next:T=>{let P=!1;return!G&&X===void 0&&(P=!0,H(T),k(T)),X!==void 0&&T>X?G.next(T-X):(!P&&H(T),b)}}}const CV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>ot.update(e,!0),stop:()=>Ns(e),now:()=>sn.isProcessing?sn.timestamp:performance.now()}},f1=2e4;function p1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<f1;)e+=t,r=n.next(e);return e>=f1?1/0:e}const IV={decay:h1,inertia:h1,tween:rf,keyframes:rf,spring:H2};function sf({autoplay:n=!0,delay:e=0,driver:t=CV,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:d="loop",onPlay:f,onStop:m,onComplete:g,onUpdate:y,...b}){let S=1,A=!1,R,C;const F=()=>{C=new Promise(V=>{R=V})};F();let B;const I=IV[s]||rf;let H;I!==rf&&typeof r[0]!="number"&&(H=B2([0,100],r,{clamp:!1}),r=[0,100]);const X=I({...b,keyframes:r});let G;d==="mirror"&&(G=I({...b,keyframes:[...r].reverse(),velocity:-(b.velocity||0)}));let k="idle",T=null,P=null,M=null;X.calculatedDuration===null&&a&&(X.calculatedDuration=p1(X));const{calculatedDuration:L}=X;let $=1/0,D=1/0;L!==null&&($=L+l,D=$*(a+1)-l);let be=0;const re=V=>{if(P===null)return;S>0&&(P=Math.min(P,V)),S<0&&(P=Math.min(V-D/S,P)),T!==null?be=T:be=Math.round(V-P)*S;const Z=be-e*(S>=0?1:-1),ke=S>=0?Z<0:Z>D;be=Math.max(Z,0),k==="finished"&&T===null&&(be=D);let Se=be,Le=X;if(a){const he=Math.min(be,D)/$;let de=Math.floor(he),et=he%1;!et&&he>=1&&(et=1),et===1&&de--,de=Math.min(de,a+1),!!(de%2)&&(d==="reverse"?(et=1-et,l&&(et-=l/$)):d==="mirror"&&(Le=G)),Se=Oi(0,1,et)*$}const Ve=ke?{done:!1,value:r[0]}:Le.next(Se);H&&(Ve.value=H(Ve.value));let{done:Ge}=Ve;!ke&&L!==null&&(Ge=S>=0?be>=D:be<=0);const ee=T===null&&(k==="finished"||k==="running"&&Ge);return y&&y(Ve.value),ee&&ae(),Ve},ie=()=>{B&&B.stop(),B=void 0},Ce=()=>{k="idle",ie(),R(),F(),P=M=null},ae=()=>{k="finished",g&&g(),ie(),R()},ye=()=>{if(A)return;B||(B=t(re));const V=B.now();f&&f(),T!==null?P=V-T:(!P||k==="finished")&&(P=V),k==="finished"&&F(),M=P,T=null,k="running",B.start()};n&&ye();const pe={then(V,Z){return C.then(V,Z)},get time(){return Ts(be)},set time(V){V=Co(V),be=V,T!==null||!B||S===0?T=V:P=B.now()-V/S},get duration(){const V=X.calculatedDuration===null?p1(X):X.calculatedDuration;return Ts(V)},get speed(){return S},set speed(V){V===S||!B||(S=V,pe.time=Ts(be))},get state(){return k},play:ye,pause:()=>{k="paused",T=be},stop:()=>{A=!0,k!=="idle"&&(k="idle",m&&m(),Ce())},cancel:()=>{M!==null&&re(M),Ce()},complete:()=>{k="finished"},sample:V=>(P=0,re(V))};return pe}function NV(n){let e;return()=>(e===void 0&&(e=n()),e)}const jV=NV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),PV=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),nh=10,RV=2e4,DV=(n,e)=>e.type==="spring"||n==="backgroundColor"||!b2(e.ease);function MV(n,e,{onUpdate:t,onComplete:r,...s}){if(!(jV()&&PV.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,d,f,m=!1;const g=()=>{f=new Promise(I=>{d=I})};g();let{keyframes:y,duration:b=300,ease:S,times:A}=s;if(DV(e,s)){const I=sf({...s,repeat:0,delay:0});let H={done:!1,value:y[0]};const X=[];let G=0;for(;!H.done&&G<RV;)H=I.sample(G),X.push(H.value),G+=nh;A=void 0,y=X,b=G-nh,S="linear"}const R=H3(n.owner.current,e,y,{...s,duration:b,ease:S,times:A}),C=()=>{m=!1,R.cancel()},F=()=>{m=!0,ot.update(C),d(),g()};return R.onfinish=()=>{m||(n.set(q3(y,s)),r&&r(),F())},{then(I,H){return f.then(I,H)},attachTimeline(I){return R.timeline=I,R.onfinish=null,Et},get time(){return Ts(R.currentTime||0)},set time(I){R.currentTime=Co(I)},get speed(){return R.playbackRate},set speed(I){R.playbackRate=I},get duration(){return Ts(b)},play:()=>{l||(R.play(),Ns(C))},pause:()=>R.pause(),stop:()=>{if(l=!0,R.playState==="idle")return;const{currentTime:I}=R;if(I){const H=sf({...s,autoplay:!1});n.setWithVelocity(H.sample(I-nh).value,H.sample(I).value,nh)}F()},complete:()=>{m||R.finish()},cancel:F}}function OV({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Et,pause:Et,stop:Et,then:a=>(a(),Promise.resolve()),cancel:Et,complete:Et});return e?sf({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const LV={type:"spring",stiffness:500,damping:25,restSpeed:10},VV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),FV={type:"keyframes",duration:.8},UV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BV=(n,{keyframes:e})=>e.length>2?FV:Qo.has(n)?n.startsWith("scale")?VV(e[1]):LV:UV,Zg=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Li.test(e)||e==="0")&&!e.startsWith("url(")),$V=new Set(["brightness","contrast","saturate","opacity"]);function zV(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Kf)||[];if(!r)return n;const s=t.replace(r,"");let a=$V.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const HV=/([a-z-]*)\(.*?\)/g,ey={...Li,getAnimatableNone:n=>{const e=n.match(HV);return e?e.map(zV).join(" "):n}},qV={...s2,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:ey,WebkitFilter:ey},Mv=n=>qV[n];function q2(n,e){let t=Mv(n);return t!==ey&&(t=Li),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const W2=n=>/^0[^.\s]+$/.test(n);function WV(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||W2(n)}function GV(n,e,t,r){const s=Zg(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const l=r.from!==void 0?r.from:n.get();let d;const f=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?l:a[m-1]),WV(a[m])&&f.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(d=a[m]);if(s&&f.length&&d)for(let m=0;m<f.length;m++){const g=f[m];a[g]=q2(e,d)}return a}function KV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:d,from:f,elapsed:m,...g}){return!!Object.keys(g).length}function Ov(n,e){return n[e]||n.default||n}const QV={skipAnimations:!1},Lv=(n,e,t,r={})=>s=>{const a=Ov(r,n)||{},l=a.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Co(l);const f=GV(e,n,t,a),m=f[0],g=f[f.length-1],y=Zg(n,m),b=Zg(n,g);let S={keyframes:f,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-d,onUpdate:A=>{e.set(A),a.onUpdate&&a.onUpdate(A)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(KV(a)||(S={...S,...BV(n,S)}),S.duration&&(S.duration=Co(S.duration)),S.repeatDelay&&(S.repeatDelay=Co(S.repeatDelay)),!y||!b||z3.current||a.type===!1||QV.skipAnimations)return OV(S);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const A=MV(e,n,S);if(A)return A}return sf(S)};function of(n){return!!(En(n)&&n.add)}const G2=n=>/^\-?\d*\.?\d+$/.test(n);function Vv(n,e){n.indexOf(e)===-1&&n.push(e)}function Fv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Uv{constructor(){this.subscriptions=[]}add(e){return Vv(this.subscriptions,e),()=>Fv(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const JV=n=>!isNaN(parseFloat(n));class YV{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=sn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=JV(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Uv);const r=this.events[e].add(t);return e==="change"?()=>{r(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ll(n,e){return new YV(n,e)}const K2=n=>e=>e.test(n),XV={test:n=>n==="auto",parse:n=>n},Q2=[Jo,Pe,zr,ci,i3,s3,XV],gc=n=>Q2.find(K2(n)),ZV=[...Q2,fn,Li],e5=n=>ZV.find(K2(n));function t5(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ll(t))}function n5(n,e){const t=Jf(n,e);let{transitionEnd:r={},transition:s={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const d=x3(a[l]);t5(n,l,d)}}function r5(n,e,t){var r,s;const a=Object.keys(e).filter(d=>!n.hasValue(d)),l=a.length;if(l)for(let d=0;d<l;d++){const f=a[d],m=e[f];let g=null;Array.isArray(m)&&(g=m[0]),g===null&&(g=(s=(r=t[f])!==null&&r!==void 0?r:n.readValue(f))!==null&&s!==void 0?s:e[f]),g!=null&&(typeof g=="string"&&(G2(g)||W2(g))?g=parseFloat(g):!e5(g)&&Li.test(m)&&(g=q2(f,m)),n.addValue(f,ll(g,{owner:n})),t[f]===void 0&&(t[f]=g),g!==null&&n.setBaseTarget(f,g))}}function s5(n,e){return e?(e[n]||e.default||e).from:void 0}function i5(n,e,t){const r={};for(const s in n){const a=s5(s,e);if(a!==void 0)r[s]=a;else{const l=t.getValue(s);l&&(r[s]=l.get())}}return r}function o5({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function a5(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function J2(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...d}=n.makeTargetAnimatable(e);const f=n.getValue("willChange");r&&(a=r);const m=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const y in d){const b=n.getValue(y),S=d[y];if(!b||S===void 0||g&&o5(g,y))continue;const A={delay:t,elapsed:0,...Ov(a||{},y)};if(window.HandoffAppearAnimations){const F=n.getProps()[YS];if(F){const B=window.HandoffAppearAnimations(F,y,b,ot);B!==null&&(A.elapsed=B,A.isHandoff=!0)}}let R=!A.isHandoff&&!a5(b,S);if(A.type==="spring"&&(b.getVelocity()||A.velocity)&&(R=!1),b.animation&&(R=!1),R)continue;b.start(Lv(y,b,S,n.shouldReduceMotion&&Qo.has(y)?{type:!1}:A));const C=b.animation;of(f)&&(f.add(y),C.then(()=>f.remove(y))),m.push(C)}return l&&Promise.all(m).then(()=>{l&&n5(n,l)}),m}function ty(n,e,t={}){const r=Jf(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(J2(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=s;return l5(n,e,m+f,g,y,t)}:()=>Promise.resolve(),{when:d}=s;if(d){const[f,m]=d==="beforeChildren"?[a,l]:[l,a];return f().then(()=>m())}else return Promise.all([a(),l(t.delay)])}function l5(n,e,t=0,r=0,s=1,a){const l=[],d=(n.variantChildren.size-1)*r,f=s===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(c5).forEach((m,g)=>{m.notify("AnimationStart",e),l.push(ty(m,e,{...a,delay:t+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function c5(n,e){return n.sortNodePosition(e)}function u5(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>ty(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=ty(n,e,t);else{const s=typeof e=="function"?Jf(n,e,t.custom):e;r=Promise.all(J2(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const d5=[...bv].reverse(),h5=bv.length;function f5(n){return e=>Promise.all(e.map(({animation:t,options:r})=>u5(n,t,r)))}function p5(n){let e=f5(n);const t=g5();let r=!0;const s=(f,m)=>{const g=Jf(n,m);if(g){const{transition:y,transitionEnd:b,...S}=g;f={...f,...S,...b}}return f};function a(f){e=f(n)}function l(f,m){const g=n.getProps(),y=n.getVariantContext(!0)||{},b=[],S=new Set;let A={},R=1/0;for(let F=0;F<h5;F++){const B=d5[F],I=t[B],H=g[B]!==void 0?g[B]:y[B],X=Yc(H),G=B===m?I.isActive:null;G===!1&&(R=F);let k=H===y[B]&&H!==g[B]&&X;if(k&&r&&n.manuallyAnimateOnMount&&(k=!1),I.protectedKeys={...A},!I.isActive&&G===null||!H&&!I.prevProp||Wf(H)||typeof H=="boolean")continue;let P=m5(I.prevProp,H)||B===m&&I.isActive&&!k&&X||F>R&&X,M=!1;const L=Array.isArray(H)?H:[H];let $=L.reduce(s,{});G===!1&&($={});const{prevResolvedValues:D={}}=I,be={...D,...$},re=ie=>{P=!0,S.has(ie)&&(M=!0,S.delete(ie)),I.needsAnimating[ie]=!0};for(const ie in be){const Ce=$[ie],ae=D[ie];if(A.hasOwnProperty(ie))continue;let ye=!1;tf(Ce)&&tf(ae)?ye=!x2(Ce,ae):ye=Ce!==ae,ye?Ce!==void 0?re(ie):S.add(ie):Ce!==void 0&&S.has(ie)?re(ie):I.protectedKeys[ie]=!0}I.prevProp=H,I.prevResolvedValues=$,I.isActive&&(A={...A,...$}),r&&n.blockInitialAnimation&&(P=!1),P&&(!k||M)&&b.push(...L.map(ie=>({animation:ie,options:{type:B,...f}})))}if(S.size){const F={};S.forEach(B=>{const I=n.getBaseTarget(B);I!==void 0&&(F[B]=I)}),b.push({animation:F})}let C=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(b):Promise.resolve()}function d(f,m,g){var y;if(t[f].isActive===m)return Promise.resolve();(y=n.variantChildren)===null||y===void 0||y.forEach(S=>{var A;return(A=S.animationState)===null||A===void 0?void 0:A.setActive(f,m)}),t[f].isActive=m;const b=l(g,f);for(const S in t)t[S].protectedKeys={};return b}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>t}}function m5(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!x2(e,n):!1}function mo(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g5(){return{animate:mo(!0),whileInView:mo(),whileHover:mo(),whileTap:mo(),whileDrag:mo(),whileFocus:mo(),exit:mo()}}class y5 extends Ui{constructor(e){super(e),e.animationState||(e.animationState=p5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Wf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let v5=0;class x5 extends Ui{constructor(){super(...arguments),this.id=v5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const w5={animation:{Feature:y5},exit:{Feature:x5}},m1=(n,e)=>Math.abs(n-e);function b5(n,e){const t=m1(n.x,e.x),r=m1(n.y,e.y);return Math.sqrt(t**2+r**2)}class Y2{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ng(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=b5(y.offset,{x:0,y:0})>=3;if(!b&&!S)return;const{point:A}=y,{timestamp:R}=sn;this.history.push({...A,timestamp:R});const{onStart:C,onMove:F}=this.handlers;b||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=tg(b,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:A,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=ng(y.type==="pointercancel"?this.lastMoveEventInfo:tg(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,C),A&&A(y,C)},!p2(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=Qf(e),d=tg(l,this.transformPagePoint),{point:f}=d,{timestamp:m}=sn;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,ng(d,this.history)),this.removeListeners=Ai(_s(this.contextWindow,"pointermove",this.handlePointerMove),_s(this.contextWindow,"pointerup",this.handlePointerUp),_s(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ns(this.updatePoint)}}function tg(n,e){return e?{point:e(n.point)}:n}function g1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function ng({point:n},e){return{point:n,delta:g1(n,X2(e)),offset:g1(n,_5(e)),velocity:T5(e,.1)}}function _5(n){return n[0]}function X2(n){return n[n.length-1]}function T5(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=X2(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Co(e)));)t--;if(!r)return{x:0,y:0};const a=Ts(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Ln(n){return n.max-n.min}function ny(n,e=0,t=.01){return Math.abs(n-e)<=t}function y1(n,e,t,r=.5){n.origin=r,n.originPoint=ft(e.min,e.max,n.origin),n.scale=Ln(t)/Ln(e),(ny(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ft(t.min,t.max,n.origin)-n.originPoint,(ny(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Lc(n,e,t,r){y1(n.x,e.x,t.x,r?r.originX:void 0),y1(n.y,e.y,t.y,r?r.originY:void 0)}function v1(n,e,t){n.min=t.min+e.min,n.max=n.min+Ln(e)}function E5(n,e,t){v1(n.x,e.x,t.x),v1(n.y,e.y,t.y)}function x1(n,e,t){n.min=e.min-t.min,n.max=n.min+Ln(e)}function Vc(n,e,t){x1(n.x,e.x,t.x),x1(n.y,e.y,t.y)}function S5(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ft(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ft(t,n,r.max):Math.min(n,t)),n}function w1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function A5(n,{top:e,left:t,bottom:r,right:s}){return{x:w1(n.x,t,s),y:w1(n.y,e,r)}}function b1(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function k5(n,e){return{x:b1(n.x,e.x),y:b1(n.y,e.y)}}function C5(n,e){let t=.5;const r=Ln(n),s=Ln(e);return s>r?t=Zc(e.min,e.max-r,n.min):r>s&&(t=Zc(n.min,n.max-s,e.min)),Oi(0,1,t)}function I5(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ry=.35;function N5(n=ry){return n===!1?n=0:n===!0&&(n=ry),{x:_1(n,"left","right"),y:_1(n,"top","bottom")}}function _1(n,e,t){return{min:T1(n,e),max:T1(n,t)}}function T1(n,e){return typeof n=="number"?n:n[e]||0}const E1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ka=()=>({x:E1(),y:E1()}),S1=()=>({min:0,max:0}),Nt=()=>({x:S1(),y:S1()});function Kn(n){return[n("x"),n("y")]}function Z2({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function j5({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function P5(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function rg(n){return n===void 0||n===1}function sy({scale:n,scaleX:e,scaleY:t}){return!rg(n)||!rg(e)||!rg(t)}function yo(n){return sy(n)||eA(n)||n.z||n.rotate||n.rotateX||n.rotateY}function eA(n){return A1(n.x)||A1(n.y)}function A1(n){return n&&n!=="0%"}function af(n,e,t){const r=n-t,s=e*r;return t+s}function k1(n,e,t,r,s){return s!==void 0&&(n=af(n,s,r)),af(n,t,r)+e}function iy(n,e=0,t=1,r,s){n.min=k1(n.min,e,t,r,s),n.max=k1(n.max,e,t,r,s)}function tA(n,{x:e,y:t}){iy(n.x,e.translate,e.scale,e.originPoint),iy(n.y,t.translate,t.scale,t.originPoint)}function R5(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let d=0;d<s;d++){a=t[d],l=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,tA(n,l)),r&&yo(a.latestValues)&&Qa(n,a.latestValues))}e.x=C1(e.x),e.y=C1(e.y)}function C1(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ui(n,e){n.min=n.min+e,n.max=n.max+e}function I1(n,e,[t,r,s]){const a=e[s]!==void 0?e[s]:.5,l=ft(n.min,n.max,a);iy(n,e[t],e[r],l,e.scale)}const D5=["x","scaleX","originX"],M5=["y","scaleY","originY"];function Qa(n,e){I1(n.x,e,D5),I1(n.y,e,M5)}function nA(n,e){return Z2(P5(n.getBoundingClientRect(),e))}function O5(n,e,t){const r=nA(n,t),{scroll:s}=e;return s&&(ui(r.x,s.offset.x),ui(r.y,s.offset.y)),r}const rA=({current:n})=>n?n.ownerDocument.defaultView:null,L5=new WeakMap;class V5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Qf(g,"page").point)},a=(g,y)=>{const{drag:b,dragPropagation:S,onDragStart:A}=this.getProps();if(b&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=g2(b),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(C=>{let F=this.getAxisMotionValue(C).get()||0;if(zr.test(F)){const{projection:B}=this.visualElement;if(B&&B.layout){const I=B.layout.layoutBox[C];I&&(F=Ln(I)*(parseFloat(F)/100))}}this.originPoint[C]=F}),A&&ot.update(()=>A(g,y),!1,!0);const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},l=(g,y)=>{const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:A,onDrag:R}=this.getProps();if(!b&&!this.openGlobalLock)return;const{offset:C}=y;if(S&&this.currentDirection===null){this.currentDirection=F5(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),R&&R(g,y)},d=(g,y)=>this.stop(g,y),f=()=>Kn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Y2(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:rA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&ot.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!rh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=S5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Wa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=A5(s.layoutBox,t):this.constraints=!1,this.elastic=N5(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=I5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=O5(r,s.root,this.visualElement.getTransformPagePoint());let l=k5(s.layout.layoutBox,a);if(t){const d=t(j5(l));this.hasMutatedConstraints=!!d,d&&(l=Z2(d))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Kn(g=>{if(!rh(g,t,this.currentDirection))return;let y=f&&f[g]||{};l&&(y={min:0,max:0});const b=s?200:1e6,S=s?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(Lv(e,r,0,t))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kn(t=>{const{drag:r}=this.getProps();if(!rh(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:d}=s.layout.layoutBox[t];a.set(e[t]-ft(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Wa(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Kn(l=>{const d=this.getAxisMotionValue(l);if(d){const f=d.get();s[l]=C5({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(l=>{if(!rh(l,e,null))return;const d=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];d.set(ft(f,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;L5.set(this.visualElement,this);const e=this.visualElement.current,t=_s(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Wa(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=vs(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Kn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=ry,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function rh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function F5(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class U5 extends Ui{constructor(e){super(e),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new V5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const N1=n=>(e,t)=>{n&&ot.update(()=>n(e,t))};class B5 extends Ui{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(e){this.session=new Y2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:N1(e),onStart:N1(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&ot.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=_s(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $5(){const n=N.useContext(Hf);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=N.useId();return N.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const _h={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function j1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const yc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Pe.test(n))n=parseFloat(n);else return n;const t=j1(n,e.target.x),r=j1(n,e.target.y);return`${t}% ${r}%`}},z5={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Li.parse(n);if(s.length>5)return r;const a=Li.createTransformer(n),l=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;s[0+l]/=d,s[1+l]/=f;const m=ft(d,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};class H5 extends Yn.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;YL(q5),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_h.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||ot.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sA(n){const[e,t]=$5(),r=N.useContext(Tv);return Yn.createElement(H5,{...n,layoutGroup:r,switchLayoutGroup:N.useContext(ZS),isPresent:e,safeToRemove:t})}const q5={borderRadius:{...yc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yc,borderTopRightRadius:yc,borderBottomLeftRadius:yc,borderBottomRightRadius:yc,boxShadow:z5},iA=["TopLeft","TopRight","BottomLeft","BottomRight"],W5=iA.length,P1=n=>typeof n=="string"?parseFloat(n):n,R1=n=>typeof n=="number"||Pe.test(n);function G5(n,e,t,r,s,a){s?(n.opacity=ft(0,t.opacity!==void 0?t.opacity:1,K5(r)),n.opacityExit=ft(e.opacity!==void 0?e.opacity:1,0,Q5(r))):a&&(n.opacity=ft(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<W5;l++){const d=`border${iA[l]}Radius`;let f=D1(e,d),m=D1(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||R1(f)===R1(m)?(n[d]=Math.max(ft(P1(f),P1(m),r),0),(zr.test(m)||zr.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=ft(e.rotate||0,t.rotate||0,r))}function D1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const K5=oA(0,.5,C2),Q5=oA(.5,.95,Et);function oA(n,e,t){return r=>r<n?0:r>e?1:t(Zc(n,e,r))}function M1(n,e){n.min=e.min,n.max=e.max}function Gn(n,e){M1(n.x,e.x),M1(n.y,e.y)}function O1(n,e,t,r,s){return n-=e,n=af(n,1/t,r),s!==void 0&&(n=af(n,1/s,r)),n}function J5(n,e=0,t=1,r=.5,s,a=n,l=n){if(zr.test(e)&&(e=parseFloat(e),e=ft(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=ft(a.min,a.max,r);n===a&&(d-=e),n.min=O1(n.min,e,t,d,s),n.max=O1(n.max,e,t,d,s)}function L1(n,e,[t,r,s],a,l){J5(n,e[t],e[r],e[s],e.scale,a,l)}const Y5=["x","scaleX","originX"],X5=["y","scaleY","originY"];function V1(n,e,t,r){L1(n.x,e,Y5,t?t.x:void 0,r?r.x:void 0),L1(n.y,e,X5,t?t.y:void 0,r?r.y:void 0)}function F1(n){return n.translate===0&&n.scale===1}function aA(n){return F1(n.x)&&F1(n.y)}function Z5(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function lA(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function U1(n){return Ln(n.x)/Ln(n.y)}class e6{constructor(){this.members=[]}add(e){Vv(this.members,e),e.scheduleRender()}remove(e){if(Fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B1(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:f,rotateX:m,rotateY:g}=t;f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=n.x.scale*e.x,d=n.y.scale*e.y;return(l!==1||d!==1)&&(r+=`scale(${l}, ${d})`),r||"none"}const t6=(n,e)=>n.depth-e.depth;class n6{constructor(){this.children=[],this.isDirty=!1}add(e){Vv(this.children,e),this.isDirty=!0}remove(e){Fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t6),this.isDirty=!1,this.children.forEach(e)}}function r6(n,e){const t=performance.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Ns(r),n(a-e))};return ot.read(r,!0),()=>Ns(r)}function s6(n){window.MotionDebug&&window.MotionDebug.record(n)}function i6(n){return n instanceof SVGElement&&n.tagName!=="svg"}function o6(n,e,t){const r=En(n)?n:ll(n);return r.start(Lv("",r,e,t)),r.animation}const $1=["","X","Y","Z"],a6={visibility:"hidden"},z1=1e3;let l6=0;const vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},d=e?.()){this.id=l6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vo.totalNodes=vo.resolvedTargetDeltas=vo.recalculatedProjection=0,this.nodes.forEach(d6),this.nodes.forEach(g6),this.nodes.forEach(y6),this.nodes.forEach(h6),s6(vo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new n6)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Uv),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const f=this.eventHandlers.get(l);f&&f.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=i6(l),this.instance=l;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let y;const b=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=r6(b,250),_h.hasAnimatedSinceResize&&(_h.hasAnimatedSinceResize=!1,this.nodes.forEach(q1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:b,hasRelativeTargetChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||g.getDefaultTransition()||_6,{onLayoutAnimationStart:C,onLayoutAnimationComplete:F}=g.getProps(),B=!this.targetLayout||!lA(this.targetLayout,A)||S,I=!b&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||b&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,I);const H={...Ov(R,"layout"),onPlay:C,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else b||q1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H1);return}this.isUpdating||this.nodes.forEach(p6),this.isUpdating=!1,this.nodes.forEach(m6),this.nodes.forEach(c6),this.nodes.forEach(u6),this.clearAllSnapshots();const d=performance.now();sn.delta=Oi(0,1e3/60,d-sn.timestamp),sn.timestamp=d,sn.isProcessing=!0,Gm.update.process(sn),Gm.preRender.process(sn),Gm.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(f6),this.sharedNodes.forEach(x6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!aA(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&(d||yo(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return l&&(f=this.removeTransform(f)),T6(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Nt();const d=l.measureViewportBox(),{scroll:f}=this.root;return f&&(ui(d.x,f.offset.x),ui(d.y,f.offset.y)),d}removeElementScroll(l){const d=Nt();Gn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:y}=m;if(m!==this.root&&g&&y.layoutScroll){if(g.isRoot){Gn(d,l);const{scroll:b}=this.root;b&&(ui(d.x,-b.offset.x),ui(d.y,-b.offset.y))}ui(d.x,g.offset.x),ui(d.y,g.offset.y)}}return d}applyTransform(l,d=!1){const f=Nt();Gn(f,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),yo(g.latestValues)&&Qa(f,g.latestValues)}return yo(this.latestValues)&&Qa(f,this.latestValues),f}removeTransform(l){const d=Nt();Gn(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!yo(m.latestValues))continue;sy(m.latestValues)&&m.updateSnapshot();const g=Nt(),y=m.measurePageBox();Gn(g,y),V1(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return yo(this.latestValues)&&V1(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:b}=this.options;if(!(!this.layout||!(y||b))){if(this.resolvedRelativeTargetAt=sn.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Gn(this.target,this.layout.layoutBox),tA(this.target,this.targetDelta)):Gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Vc(this.relativeTargetOrigin,this.target,S.target),Gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sy(this.parent.latestValues)||eA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Gn(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,S=this.treeScale.y;R5(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:A}=d;if(!A){this.projectionTransform&&(this.projectionDelta=Ka(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ka(),this.projectionDeltaWithTransform=Ka());const R=this.projectionTransform;Lc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),this.projectionTransform=B1(this.projectionDelta,this.treeScale),(this.projectionTransform!==R||this.treeScale.x!==b||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,d=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},y=Ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Nt(),S=f?f.source:void 0,A=this.layout?this.layout.source:void 0,R=S!==A,C=this.getStack(),F=!C||C.members.length<=1,B=!!(R&&!F&&this.options.crossfade===!0&&!this.path.some(b6));this.animationProgress=0;let I;this.mixTargetDelta=H=>{const X=H/1e3;W1(y.x,l.x,X),W1(y.y,l.y,X),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w6(this.relativeTarget,this.relativeTargetOrigin,b,X),I&&Z5(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Nt()),Gn(I,this.relativeTarget)),R&&(this.animationValues=g,G5(g,m,this.latestValues,X,B,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{_h.hasAnimatedSinceResize=!0,this.currentAnimation=o6(0,z1,{...l,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:g}=l;if(!(!d||!f||!m)){if(this!==l&&this.layout&&m&&uA(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Nt();const y=Ln(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+y;const b=Ln(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+b}Gn(d,f),Qa(d,g),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new e6),this.sharedNodes.get(l).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:d}=this.options;return d?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:d}=this.options;return d?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:f}=l;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(d=!0),!d)return;const m={};for(let g=0;g<$1.length;g++){const y="rotate"+$1[g];f[y]&&(m[y]=f[y],l.setStaticValue(y,0))}l.render();for(const g in m)l.setStaticValue(g,m[g]);l.scheduleRender()}getProjectionStyles(l){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a6;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=bh(l?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const R={};return this.options.layoutId&&(R.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,R.pointerEvents=bh(l?.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(R.transform=g?g({},""):"none",this.hasProjected=!1),R}const b=y.animationValues||y.latestValues;this.applyTransformsToTarget(),m.transform=B1(this.projectionDeltaWithTransform,this.treeScale,b),g&&(m.transform=g(b,m.transform));const{x:S,y:A}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,y.animationValues?m.opacity=y===this?(f=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:m.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const R in Zh){if(b[R]===void 0)continue;const{correct:C,applyTo:F}=Zh[R],B=m.transform==="none"?b[R]:C(b[R],y);if(F){const I=F.length;for(let H=0;H<I;H++)m[F[H]]=B}else m[R]=B}return this.options.layoutId&&(m.pointerEvents=y===this?bh(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(H1),this.root.sharedNodes.clear()}}}function c6(n){n.updateLayout()}function u6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Kn(y=>{const b=l?t.measuredBox[y]:t.layoutBox[y],S=Ln(b);b.min=r[y].min,b.max=b.min+S}):uA(a,t.layoutBox,r)&&Kn(y=>{const b=l?t.measuredBox[y]:t.layoutBox[y],S=Ln(r[y]);b.max=b.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+S)});const d=Ka();Lc(d,r,t.layoutBox);const f=Ka();l?Lc(f,n.applyTransform(s,!0),t.measuredBox):Lc(f,r,t.layoutBox);const m=!aA(d);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:b,layout:S}=y;if(b&&S){const A=Nt();Vc(A,t.layoutBox,b.layoutBox);const R=Nt();Vc(R,r,S.layoutBox),lA(A,R)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function d6(n){vo.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function h6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function f6(n){n.clearSnapshot()}function H1(n){n.clearMeasurements()}function p6(n){n.isLayoutDirty=!1}function m6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function q1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function g6(n){n.resolveTargetDelta()}function y6(n){n.calcProjection()}function v6(n){n.resetRotation()}function x6(n){n.removeLeadSnapshot()}function W1(n,e,t){n.translate=ft(e.translate,0,t),n.scale=ft(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function G1(n,e,t,r){n.min=ft(e.min,t.min,r),n.max=ft(e.max,t.max,r)}function w6(n,e,t,r){G1(n.x,e.x,t.x,r),G1(n.y,e.y,t.y,r)}function b6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _6={duration:.45,ease:[.4,0,.1,1]},K1=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),Q1=K1("applewebkit/")&&!K1("chrome/")?Math.round:Et;function J1(n){n.min=Q1(n.min),n.max=Q1(n.max)}function T6(n){J1(n.x),J1(n.y)}function uA(n,e,t){return n==="position"||n==="preserve-aspect"&&!ny(U1(e),U1(t),.2)}const E6=cA({attachResizeListener:(n,e)=>vs(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sg={current:void 0},dA=cA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!sg.current){const n=new E6({});n.mount(window),n.setOptions({layoutScroll:!0}),sg.current=n}return sg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),S6={pan:{Feature:B5},drag:{Feature:U5,ProjectionNode:dA,MeasureLayout:sA}},A6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function k6(n){const e=A6.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function oy(n,e,t=1){const[r,s]=k6(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return G2(l)?parseFloat(l):l}else return Qg(s)?oy(s,e,t+1):s}function C6(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const a=s.get();if(!Qg(a))return;const l=oy(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!Qg(a))continue;const l=oy(a,r);l&&(e[s]=l,t||(t={}),t[s]===void 0&&(t[s]=a))}return{target:e,transitionEnd:t}}const I6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hA=n=>I6.has(n),N6=n=>Object.keys(n).some(hA),Y1=n=>n===Jo||n===Pe,X1=(n,e)=>parseFloat(n.split(", ")[e]),Z1=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return X1(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?X1(a[1],n):0}},j6=new Set(["x","y","z"]),P6=mu.filter(n=>!j6.has(n));function R6(n){const e=[];return P6.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const cl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Z1(4,13),y:Z1(5,14)};cl.translateX=cl.x;cl.translateY=cl.y;const D6=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,d={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(m=>{d[m]=cl[m](r,a)}),e.render();const f=e.measureViewportBox();return t.forEach(m=>{const g=e.getValue(m);g&&g.jump(d[m]),n[m]=cl[m](f,a)}),n},M6=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(hA);let a=[],l=!1;const d=[];if(s.forEach(f=>{const m=n.getValue(f);if(!n.hasValue(f))return;let g=t[f],y=gc(g);const b=e[f];let S;if(tf(b)){const A=b.length,R=b[0]===null?1:0;g=b[R],y=gc(g);for(let C=R;C<A&&b[C]!==null;C++)S?jv(gc(b[C])===S):S=gc(b[C])}else S=gc(b);if(y!==S)if(Y1(y)&&Y1(S)){const A=m.get();typeof A=="string"&&m.set(parseFloat(A)),typeof b=="string"?e[f]=parseFloat(b):Array.isArray(b)&&S===Pe&&(e[f]=b.map(parseFloat))}else y?.transform&&S?.transform&&(g===0||b===0)?g===0?m.set(S.transform(g)):e[f]=y.transform(b):(l||(a=R6(n),l=!0),d.push(f),r[f]=r[f]!==void 0?r[f]:e[f],m.jump(b))}),d.length){const f=d.indexOf("height")>=0?window.pageYOffset:null,m=D6(e,n,d);return a.length&&a.forEach(([g,y])=>{n.getValue(g).set(y)}),n.render(),qf&&f!==null&&window.scrollTo({top:f}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function O6(n,e,t,r){return N6(e)?M6(n,e,t,r):{target:e,transitionEnd:r}}const L6=(n,e,t,r)=>{const s=C6(n,e,r);return e=s.target,r=s.transitionEnd,O6(n,e,t,r)},ay={current:null},fA={current:!1};function V6(){if(fA.current=!0,!!qf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ay.current=n.matches;n.addListener(e),e()}else ay.current=!1}function F6(n,e,t){const{willChange:r}=e;for(const s in e){const a=e[s],l=t[s];if(En(a))n.addValue(s,a),of(r)&&r.add(s);else if(En(l))n.addValue(s,ll(a,{owner:n})),of(r)&&r.remove(s);else if(l!==a)if(n.hasValue(s)){const d=n.getValue(s);!d.hasAnimated&&d.set(a)}else{const d=n.getStaticValue(s);n.addValue(s,ll(d!==void 0?d:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const e_=new WeakMap,pA=Object.keys(Xc),U6=pA.length,t_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],B6=_v.length;class $6{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ot.render(this.render,!1,!0);const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=Gf(t),this.isVariantNode=XS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{});for(const y in g){const b=g[y];d[y]!==void 0&&En(b)&&(b.set(d[y],!1),of(m)&&m.add(y))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,e_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),fA.current||V6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ay.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){e_.delete(this.current),this.projection&&this.projection.unmount(),Ns(this.notifyUpdate),Ns(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=Qo.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,a){let l,d;for(let f=0;f<U6;f++){const m=pA[f],{isEnabled:g,Feature:y,ProjectionNode:b,MeasureLayout:S}=Xc[m];b&&(l=b),g(t)&&(!this.features[m]&&y&&(this.features[m]=new y(this)),S&&(d=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:m,drag:g,dragConstraints:y,layoutScroll:b,layoutRoot:S}=t;this.projection.setOptions({layoutId:f,layout:m,alwaysMeasureLayout:!!g||y&&Wa(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:b,layoutRoot:S})}return d}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<t_.length;r++){const s=t_[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=F6(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<B6;r++){const s=_v[r],a=this.props[s];(Yc(a)||a===!1)&&(t[s]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ll(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=Nv(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!En(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Uv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class mA extends $6{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},a){let l=i5(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),l&&(l=s(l))),a){r5(this,r,l);const d=L6(this,r,l,t);t=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:t,...r}}}function z6(n){return window.getComputedStyle(n)}class H6 extends mA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Qo.has(t)){const r=Mv(t);return r&&r.default||0}else{const r=z6(e),s=(n2(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return nA(e,t)}build(e,t,r,s){Sv(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Iv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){l2(e,t,r,s)}}class q6 extends mA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Qo.has(t)){const r=Mv(t);return r&&r.default||0}return t=c2.has(t)?t:wv(t),e.getAttribute(t)}measureInstanceViewportBox(){return Nt()}scrapeMotionValuesFromProps(e,t){return d2(e,t)}build(e,t,r,s){kv(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){u2(e,t,r,s)}mount(e){this.isSVGTag=Cv(e.tagName),super.mount(e)}}const W6=(n,e)=>Ev(n)?new q6(e,{enableHardwareAcceleration:!1}):new H6(e,{enableHardwareAcceleration:!0}),G6={layout:{ProjectionNode:dA,MeasureLayout:sA}},K6={...w5,...U3,...S6,...G6},fe=QL((n,e)=>k3(n,e,K6,W6));function gA(){const n=N.useRef(!1);return xv(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Q6(){const n=gA(),[e,t]=N.useState(0),r=N.useCallback(()=>{n.current&&t(e+1)},[e]);return[N.useCallback(()=>ot.postRender(r),[r]),e]}class J6 extends N.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y6({children:n,isPresent:e}){const t=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0});return N.useInsertionEffect(()=>{const{width:a,height:l,top:d,left:f}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),N.createElement(J6,{isPresent:e,childRef:r,sizeRef:s},N.cloneElement(n,{ref:r}))}const ig=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const d=h2(X6),f=N.useId(),m=N.useMemo(()=>({id:f,initial:e,isPresent:t,custom:s,onExitComplete:g=>{d.set(g,!0);for(const y of d.values())if(!y)return;r&&r()},register:g=>(d.set(g,!1),()=>d.delete(g))}),a?void 0:[t]);return N.useMemo(()=>{d.forEach((g,y)=>d.set(y,!1))},[t]),N.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),l==="popLayout"&&(n=N.createElement(Y6,{isPresent:t},n)),N.createElement(Hf.Provider,{value:m},n)};function X6(){return new Map}function Z6(n){return N.useEffect(()=>()=>n(),[])}const xo=n=>n.key||"";function eF(n,e){n.forEach(t=>{const r=xo(t);e.set(r,t)})}function tF(n){const e=[];return N.Children.forEach(n,t=>{N.isValidElement(t)&&e.push(t)}),e}const xs=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const d=N.useContext(Tv).forceRender||Q6()[0],f=gA(),m=tF(n);let g=m;const y=N.useRef(new Map).current,b=N.useRef(g),S=N.useRef(new Map).current,A=N.useRef(!0);if(xv(()=>{A.current=!1,eF(m,S),b.current=g}),Z6(()=>{A.current=!0,S.clear(),y.clear()}),A.current)return N.createElement(N.Fragment,null,g.map(B=>N.createElement(ig,{key:xo(B),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},B)));g=[...g];const R=b.current.map(xo),C=m.map(xo),F=R.length;for(let B=0;B<F;B++){const I=R[B];C.indexOf(I)===-1&&!y.has(I)&&y.set(I,void 0)}return l==="wait"&&y.size&&(g=[]),y.forEach((B,I)=>{if(C.indexOf(I)!==-1)return;const H=S.get(I);if(!H)return;const X=R.indexOf(I);let G=B;if(!G){const k=()=>{y.delete(I);const T=Array.from(S.keys()).filter(P=>!C.includes(P));if(T.forEach(P=>S.delete(P)),b.current=m.filter(P=>{const M=xo(P);return M===I||T.includes(M)}),!y.size){if(f.current===!1)return;d(),r&&r()}};G=N.createElement(ig,{key:xo(H),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:a,mode:l},H),y.set(I,G)}g.splice(X,0,G)}),g=g.map(B=>{const I=B.key;return y.has(I)?B:N.createElement(ig,{key:xo(B),isPresent:!0,presenceAffectsLayout:a,mode:l},B)}),N.createElement(N.Fragment,null,y.size?g:g.map(B=>N.cloneElement(B)))},nF=()=>{const n=[{icon:Ei,title:"AI-Powered Code Generation",description:"Generate code using advanced AI with multiple free services including Groq, Hugging Face, and Ollama."},{icon:Lt,title:"170+ Programming Languages",description:"Support for JavaScript, Python, Java, C++, Rust, Go, and many more programming languages."},{icon:Gr,title:"Real-time Preview",description:"See your code come to life instantly with our live preview system powered by Monaco Editor."},{icon:Yh,title:"Secure & Private",description:"Your code stays private. Use local AI models or trusted cloud services with encryption."}],e=[{label:"Languages",value:"170+",icon:Lt},{label:"AI Services",value:"4",icon:Ei},{label:"Free Forever",value:"100%",icon:Yh},{label:"Open Source",value:"Yes",icon:Kg}];return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("section",{className:"relative overflow-hidden pt-32 pb-20",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-8",children:[c.jsx(vv,{className:"h-4 w-4"}),"AI Development Platform"]}),c.jsxs(fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Build with"," ",c.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-light bg-clip-text text-transparent",children:"AI Power"})]}),c.jsx(fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-foreground mb-12 max-w-2xl mx-auto",children:"The universal AI development platform supporting 170+ programming languages. Generate, edit, and deploy code with artificial intelligence."}),c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[c.jsxs(lh,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors text-lg font-semibold",children:[c.jsx(Dc,{className:"h-5 w-5"}),"Start Building"]}),c.jsxs("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:[c.jsx(Wr,{className:"h-5 w-5"}),"View on GitHub",c.jsx(Jc,{className:"h-4 w-4"})]})]}),c.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((t,r)=>c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[c.jsx(t.icon,{className:"h-5 w-5 text-primary"}),c.jsx("div",{className:"text-2xl font-bold text-primary",children:t.value})]}),c.jsx("div",{className:"text-sm text-foreground",children:t.label})]},r))})]})}),c.jsx("section",{className:"py-20 bg-muted/30",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Everything you need to build with AI"}),c.jsx("p",{className:"text-lg text-foreground max-w-2xl mx-auto",children:"From simple websites to complex applications, DreamBuild provides all the tools you need to bring your ideas to life."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((t,r)=>c.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-lg hover:bg-card/70 transition-all duration-200",children:[c.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:c.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),c.jsx("p",{className:"text-foreground",children:t.description})]},r))})]})}),c.jsx("section",{className:"py-20",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to start building?"}),c.jsx("p",{className:"text-lg text-foreground mb-8",children:"Join thousands of developers who are already using DreamBuild to create amazing applications."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(lh,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors text-lg font-semibold",children:["Get Started Free",c.jsx(pu,{className:"h-5 w-5"})]}),c.jsx(lh,{to:"/dashboard",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:"View Dashboard"})]})]})})]})};class rF{constructor(){this.deployments=new Map,this.isDeploying=!1}async deployToFirebase(e,t){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{if(console.log("🚀 Starting Firebase deployment..."),this.isMobileApp(e.files))return console.log("📱 Mobile app detected - generating build instructions"),await this.deployMobileApp(e,t,"firebase");const s=`deploy_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a={id:s,projectName:t||"dream-app",files:e.files,config:e.config,deployedAt:new Date,status:"uploading",platform:"firebase"},l={};for(const[y,b]of Object.entries(e.files))if(b&&b.trim()){const S=Yd(Zd,`projects/${s}/${y}`),A=new Blob([b],{type:this.getMimeType(y)});await Qd(S,A);const R=await Jd(S);l[y]=R}const d=this.createHostedHTML(e.files),f=Yd(Zd,`projects/${s}/index.html`),m=new Blob([d],{type:"text/html"});await Qd(f,m);const g=await Jd(f);return await jc(_o(gi,"deployments",s),{...a,status:"completed",hostedURL:g,files:l,completedAt:new Date}),this.deployments.set(s,a),console.log("✅ Firebase deployment completed:",g),{success:!0,deploymentId:s,url:g,platform:"firebase"}}catch(r){throw console.error("❌ Firebase deployment failed:",r),new Error(`Firebase deployment failed: ${r.message}`)}finally{this.isDeploying=!1}}async deployToGitHub(e,t,r=null){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log("🚀 Starting GitHub deployment...");const s=`github_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(!r){const a=t.toLowerCase().replace(/[^a-z0-9-]/g,"-"),l=this.createHostedHTML(e.files),d=Yd(Zd,`github-pages/${s}/index.html`),f=new Blob([l],{type:"text/html"});await Qd(d,f);const m=await Jd(d);return await jc(_o(gi,"deployments",s),{id:s,projectName:t,files:e.files,config:e.config,deployedAt:new Date,status:"completed",platform:"github-pages",hostedURL:m,repoName:a,instructions:this.generateGitHubInstructions(t,e.files)}),{success:!0,deploymentId:s,url:m,platform:"github-pages",repoName:a,instructions:this.generateGitHubInstructions(t,e.files)}}throw new Error("GitHub API integration not yet implemented. Please use the demo deployment.")}catch(s){throw console.error("❌ GitHub deployment failed:",s),new Error(`GitHub deployment failed: ${s.message}`)}finally{this.isDeploying=!1}}createHostedHTML(e){const t=e["index.html"]||this.generateDefaultHTML(),r=e["style.css"]||"",s=e["script.js"]||"";let a=t;return r.trim()&&(a.includes("</head>")?a=a.replace("</head>",`<style>${r}</style>
</head>`):a.includes("<head>")?a=a.replace("<head>",`<head>
<style>${r}</style>`):a=`<style>${r}</style>
${a}`),s.trim()&&(a.includes("</body>")?a=a.replace("</body>",`<script>${s}<\/script>
</body>`):a+=`
<script>${s}<\/script>`),a.includes("<!DOCTYPE html>")||(a=`<!DOCTYPE html>
${a}`),a.includes('<meta name="viewport"')||(a=a.replace("<head>",`<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">`)),a}generateDefaultHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamBuild App</title>
</head>
<body>
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px);">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;">🚀 DreamBuild App</h1>
            <p style="font-size: 1.2rem; opacity: 0.9;">Your app is ready! Add some content to get started.</p>
        </div>
    </div>
</body>
</html>`}getMimeType(e){const t=e.split(".").pop().toLowerCase();return{html:"text/html",css:"text/css",js:"application/javascript",json:"application/json",md:"text/markdown",txt:"text/plain"}[t]||"text/plain"}generateGitHubInstructions(e,t){const r=e.toLowerCase().replace(/[^a-z0-9-]/g,"-");return{steps:["1. Create a new repository on GitHub",`2. Name it "${r}" (or your preferred name)`,"3. Initialize with README","4. Upload your generated files to the repository","5. Go to Settings > Pages",'6. Select "Deploy from a branch"','7. Choose "main" branch and "/ (root)" folder',"8. Click Save - your site will be available at:",`   https://yourusername.github.io/${r}`],files:Object.keys(t),repoName:r}}getDeploymentStatus(e){return this.deployments.get(e)}async getAllDeployments(){try{const{collection:e,query:t,orderBy:r,limit:s,getDocs:a}=await Ha(async()=>{const{collection:m,query:g,orderBy:y,limit:b,getDocs:S}=await Promise.resolve().then(()=>za);return{collection:m,query:g,orderBy:y,limit:b,getDocs:S}},void 0),l=e(gi,"deployments"),d=t(l,r("deployedAt","desc"),s(20));return(await a(d)).docs.map(m=>({id:m.id,...m.data()}))}catch(e){return console.error("Error fetching deployments:",e),[]}}async deleteDeployment(e){try{const{deleteDoc:t}=await Ha(async()=>{const{deleteDoc:r}=await Promise.resolve().then(()=>za);return{deleteDoc:r}},void 0);return await t(_o(gi,"deployments",e)),this.deployments.delete(e),!0}catch(t){return console.error("Error deleting deployment:",t),!1}}isCurrentlyDeploying(){return this.isDeploying}isMobileApp(e){const t=["App.js","main.dart","pubspec.yaml","package.json","capacitor.config.json","ionic.config.json","app.json"],r=Object.keys(e);return t.some(s=>r.some(a=>a.includes(s)))}async deployMobileApp(e,t,r){const s=`mobile_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,a=this.detectMobileFramework(e.files);console.log(`📱 Deploying ${a} mobile app...`);const l={id:s,projectName:t||"mobile-app",files:e.files,config:e.config,deployedAt:new Date,status:"completed",platform:"mobile",framework:a,buildInstructions:this.generateMobileBuildInstructions(a,t,r)},d=this.createMobileAppInstructionsHTML(t,a,l.buildInstructions),f=Yd(Zd,`mobile-apps/${s}/index.html`),m=new Blob([d],{type:"text/html"});await Qd(f,m);const g=await Jd(f);return await jc(_o(gi,"deployments",s),{...l,hostedURL:g}),this.deployments.set(s,l),{success:!0,deploymentId:s,url:g,platform:"mobile",framework:a,buildInstructions:l.buildInstructions}}detectMobileFramework(e){const t=Object.keys(e);return t.some(r=>r.includes("pubspec.yaml")||r.includes("main.dart"))?"Flutter":t.some(r=>r.includes("App.js")&&r.includes("package.json"))?"React Native":t.some(r=>r.includes("ionic.config.json"))?"Ionic":t.some(r=>r.includes("capacitor.config.json"))?"Capacitor":t.some(r=>r.includes("manifest.json")&&r.includes("sw.js"))?"PWA":"React Native"}generateMobileBuildInstructions(e,t,r){switch(t.toLowerCase().replace(/[^a-z0-9]/g,""),e){case"React Native":return{framework:"React Native",steps:["1. Install Node.js and npm","2. Install Expo CLI: npm install -g @expo/cli","3. Install dependencies: npm install","4. Start development server: npm start","5. Build for Android: npm run build:android","6. Build for iOS: npm run build:ios","7. Deploy to app stores using EAS Build"],commands:{install:"npm install",start:"npm start","build-android":"npm run build:android","build-ios":"npm run build:ios"},platforms:["iOS","Android"],storeDeployment:"Use Expo Application Services (EAS) for app store deployment"};case"Flutter":return{framework:"Flutter",steps:["1. Install Flutter SDK","2. Install dependencies: flutter pub get","3. Run app: flutter run","4. Build APK: flutter build apk","5. Build iOS: flutter build ios","6. Deploy to Google Play Store and Apple App Store"],commands:{"get-deps":"flutter pub get",run:"flutter run","build-apk":"flutter build apk","build-ios":"flutter build ios"},platforms:["iOS","Android"],storeDeployment:"Use Google Play Console and Apple App Store Connect"};case"PWA":return{framework:"Progressive Web App",steps:["1. Serve the app locally: npx serve .","2. Test PWA features in Chrome DevTools","3. Deploy to any static hosting service","4. Configure service worker for offline functionality","5. Submit to app stores using PWA Builder"],commands:{serve:"npx serve .","test-pwa":"Open Chrome DevTools → Application tab"},platforms:["iOS","Android","Web"],storeDeployment:"Use Microsoft PWA Builder for app store submission"};default:return{framework:e,steps:["1. Install required dependencies","2. Follow framework-specific build instructions","3. Build for target platforms","4. Deploy to app stores"],commands:{},platforms:["iOS","Android"],storeDeployment:"Follow platform-specific deployment guides"}}}createMobileAppInstructionsHTML(e,t,r){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e} - Build Instructions</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #1e293b;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .framework-badge {
            display: inline-block;
            background: #3b82f6;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            color: #1e293b;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 10px;
        }
        .steps {
            background: #f8fafc;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .steps ol {
            margin: 0;
            padding-left: 20px;
        }
        .steps li {
            margin-bottom: 8px;
            color: #475569;
        }
        .commands {
            background: #1e293b;
            color: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Monaco', 'Menlo', monospace;
            margin: 20px 0;
        }
        .command {
            margin-bottom: 10px;
        }
        .command strong {
            color: #60a5fa;
        }
        .platforms {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .platform {
            background: #10b981;
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        .store-info {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 16px;
            margin: 20px 0;
        }
        .store-info h3 {
            color: #92400e;
            margin-top: 0;
        }
        .store-info p {
            color: #92400e;
            margin-bottom: 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            color: #64748b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🚀 ${e}</h1>
            <div class="framework-badge">${t}</div>
        </div>

        <div class="section">
            <h2>📱 Mobile App Build Instructions</h2>
            <p>Your ${t} mobile app has been generated successfully! Follow these steps to build and deploy your app.</p>
        </div>

        <div class="section">
            <h2>🛠️ Build Steps</h2>
            <div class="steps">
                <ol>
                    ${r.steps.map(s=>`<li>${s}</li>`).join("")}
                </ol>
            </div>
        </div>

        <div class="section">
            <h2>💻 Commands</h2>
            <div class="commands">
                ${Object.entries(r.commands).map(([s,a])=>`<div class="command"><strong>${s}:</strong> ${a}</div>`).join("")}
            </div>
        </div>

        <div class="section">
            <h2>📱 Supported Platforms</h2>
            <div class="platforms">
                ${r.platforms.map(s=>`<span class="platform">${s}</span>`).join("")}
            </div>
        </div>

        <div class="section">
            <div class="store-info">
                <h3>🏪 App Store Deployment</h3>
                <p>${r.storeDeployment}</p>
            </div>
        </div>

        <div class="footer">
            <p>Built with <strong>DreamBuild</strong> - Universal AI Development Platform</p>
            <p>Generated on ${new Date().toLocaleDateString()}</p>
        </div>
    </div>
</body>
</html>`}}const sh=new rF,sF=()=>{const{currentProject:n,switchFile:e,updateFile:t,saveProject:r,createNewProject:s,updateConfig:a}=Ko(),[l,d]=N.useState(!1),[f,m]=N.useState(""),[g,y]=N.useState(!1),[b,S]=N.useState(!1),[A,R]=N.useState(!1),[C,F]=N.useState("firebase"),[B,I]=N.useState(!1),[H,X]=N.useState(""),[G,k]=N.useState({show:!1,x:0,y:0,filename:""}),T=N.useRef(null),P={"index.html":"🌐","style.css":"🎨","script.js":"⚡","components.jsx":"🧩","package.json":"📦","README.md":"📖","server.js":"🖥️","database.js":"🗄️","auth.js":"🔐","api.js":"🔌"},M=ee=>P[ee]||"📄",L=ee=>{e(ee)},$=(ee,he)=>{ee.preventDefault(),k({show:!0,x:ee.clientX,y:ee.clientY,filename:he})},D=ee=>{const{filename:he}=G;switch(k({show:!1,x:0,y:0,filename:""}),ee){case"download":Ce(he);break;case"delete":ie(he);break;case"rename":je.info("Rename functionality coming soon!");break;case"copy":je.info("Copy functionality coming soon!");break}},be=()=>{k({show:!1,x:0,y:0,filename:""})};N.useEffect(()=>{const ee=he=>{T.current&&!T.current.contains(he.target)&&be()};return G.show&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[G.show]);const re=()=>{if(f.trim()){const ee=f.includes(".")?f:`${f}.js`;t(ee,""),e(ee),m(""),d(!1),je.success(`Created ${ee}`)}},ie=ee=>{if(Object.keys(n.files).length<=1){je.error("Cannot delete the last file");return}if(confirm(`Delete ${ee}?`)){const he={...n.files};if(delete he[ee],Object.keys(he).forEach(de=>{n.files[de]=he[de]}),n.activeFile===ee){const de=Object.keys(he);e(de[0])}je.success(`Deleted ${ee}`)}},Ce=ee=>{const he=n.files[ee]||"",de=new Blob([he],{type:"text/plain"}),et=URL.createObjectURL(de),Vn=document.createElement("a");Vn.href=et,Vn.download=ee,document.body.appendChild(Vn),Vn.click(),document.body.removeChild(Vn),URL.revokeObjectURL(et),je.success(`Downloaded ${ee}`)},ae=()=>{const ee={name:n.name,files:n.files,config:n.config,timestamp:new Date().toISOString()},he=new Blob([JSON.stringify(ee,null,2)],{type:"application/json"}),de=URL.createObjectURL(he),et=document.createElement("a");et.href=de,et.download=`${n.name}.json`,document.body.appendChild(et),et.click(),document.body.removeChild(et),URL.revokeObjectURL(de),je.success("Project downloaded!")},ye=ee=>{const he=ee.target.files[0];if(he){const de=new FileReader;de.onload=et=>{t(he.name,et.target.result),e(he.name),je.success(`Uploaded ${he.name}`)},de.readAsText(he)}},pe=async()=>{if(!H.trim()){je.error("Please enter a project name");return}if(Object.keys(n.files).length===0){je.error("Please generate some code first");return}R(!0);try{const ee=await V(n,H),he=[];if(B){je.info("Deploying to both Firebase and GitHub...");const[de,et]=await Promise.allSettled([sh.deployToFirebase(ee,H),sh.deployToGitHub(ee,H)]);if(de.status==="fulfilled"&&de.value.success&&he.push({platform:"Firebase",...de.value}),et.status==="fulfilled"&&et.value.success&&he.push({platform:"GitHub",...et.value}),he.length===2)je.success("Successfully deployed to both Firebase and GitHub!");else if(he.length===1)je.success(`Deployed to ${he[0].platform} (${he.length===1?"one":"both"} platform${he.length===1?"":"s"} failed)`);else throw new Error("Both deployments failed")}else{let de;C==="firebase"?de=await sh.deployToFirebase(ee,H):de=await sh.deployToGitHub(ee,H),de.success&&(he.push({platform:C,...de}),je.success(`Successfully deployed to ${de.platform}!`))}he.forEach(de=>{de.url&&window.open(de.url,"_blank"),de.instructions&&(console.log(`${de.platform} deployment instructions:`,de.instructions),je.success(`Check console for ${de.platform} Pages setup instructions`))}),S(!1),X(""),I(!1)}catch(ee){je.error(`Deployment failed: ${ee.message}`)}finally{R(!1)}},V=async(ee,he)=>{const de={...ee};return de.files["index.html"]||(de.files["index.html"]=Z(he)),de.files["package.json"]||(de.files["package.json"]=ke(he,de.config)),de.files["README.md"]||(de.files["README.md"]=Se(he,de.config)),de.files["index.html"]=Ve(de.files["index.html"],he),de.files["manifest.json"]||(de.files["manifest.json"]=Le(he)),de},Z=ee=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${ee}</title>
    <meta name="description" content="Built with DreamBuild - Universal AI Development Platform">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
</head>
<body>
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;">🚀 ${ee}</h1>
            <p style="font-size: 1.2rem; opacity: 0.9; margin-bottom: 10px;">Your app is ready!</p>
            <p style="font-size: 0.9rem; opacity: 0.7;">Built with <strong>DreamBuild</strong> - Universal AI Development Platform</p>
            <p style="font-size: 0.8rem; opacity: 0.6; margin-top: 20px;">Generated: ${new Date().toLocaleDateString()}</p>
        </div>
    </div>
</body>
</html>`,ke=(ee,he)=>JSON.stringify({name:ee.toLowerCase().replace(/[^a-z0-9-]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${ee}`,main:"index.html",scripts:{start:"npx serve .",build:"echo 'Static site - no build required'",deploy:"echo 'Deploy using DreamBuild deployment system'"},keywords:["dreambuild","ai-generated","web-app",he.appType||"frontend"],author:"DreamBuild AI",license:"MIT",engines:{node:">=14.0.0"},dependencies:{},devDependencies:{serve:"^14.0.0"}},null,2),Se=(ee,he)=>`# ${ee}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

## 🚀 Features

- **App Type**: ${he.appType||"Frontend"}
- **Language**: ${he.language||"JavaScript"}
- **Styling**: ${he.styling||"Custom CSS"}
- **Features**: ${he.features?.join(", ")||"Basic functionality"}

## 📁 Project Structure

\`\`\`
${Object.keys(n.files).join(`
`)}
\`\`\`

## 🌐 Deployment

This project was deployed using DreamBuild's deployment system:

- **Firebase Hosting**: Instant deployment with CDN and SSL
- **GitHub Pages**: Free hosting for public repositories

## 🛠️ Local Development

1. Clone this repository
2. Open \`index.html\` in your browser
3. Or use a local server: \`npx serve .\`

## 📱 PWA Features

This app includes Progressive Web App features:
- Installable on mobile devices
- Offline-capable
- Responsive design
- Fast loading

## 🤖 Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`,Le=ee=>JSON.stringify({name:ee,short_name:ee.split(" ")[0],description:`Built with DreamBuild - ${ee}`,start_url:"/",display:"standalone",background_color:"#ffffff",theme_color:"#2563eb",icons:[{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9InVybCgjZ3JhZGllbnQwX2xpbmVhcl8xXzEpIi8+CjxwYXRoIGQ9Ik05NiA0OEw0OCA3MlYxMjBMOTYgMTQ0TDE0NCAxMjBWNzJMOTYgNDhaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJncmFkaWVudDBfbGluZWFyXzFfMSIgeDE9IjAiIHkxPSIwIiB4Mj0iMTkyIiB5Mj0iMTkyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiM2NjdlZWEiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNzY0YmEyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPHN2Zz4K",sizes:"192x192",type:"image/svg+xml"}]},null,2),Ve=(ee,he)=>{let de=ee;return de.includes("<!DOCTYPE html>")||(de=`<!DOCTYPE html>
${de}`),de.includes('<meta name="viewport"')||(de=de.replace("<head>",`<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">`)),de.includes('<meta name="description"')||(de=de.replace("<head>",`<head>
    <meta name="description" content="Built with DreamBuild - ${he}">`)),de.includes('<meta name="theme-color"')||(de=de.replace("<head>",`<head>
    <meta name="theme-color" content="#2563eb">`)),de.includes("manifest.json")||(de=de.replace("<head>",`<head>
    <link rel="manifest" href="manifest.json">`)),de},Ge=[{name:"HTML File",extension:".html",icon:"🌐"},{name:"CSS File",extension:".css",icon:"🎨"},{name:"JavaScript File",extension:".js",icon:"⚡"},{name:"React Component",extension:".jsx",icon:"🧩"},{name:"TypeScript File",extension:".ts",icon:"🔷"},{name:"JSON File",extension:".json",icon:"📦"},{name:"Markdown File",extension:".md",icon:"📖"}];return c.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-gray-800 overflow-hidden",children:[c.jsxs("div",{className:"p-3 border-b border-gray-700 bg-gray-800",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-blue-900/30 rounded flex items-center justify-center",children:c.jsx(Si,{className:"h-4 w-4 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-100",children:"Explorer"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Files"})]})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{onClick:()=>d(!0),className:"p-1.5 hover:bg-gray-700 rounded transition-colors",title:"New File",children:c.jsx(Jh,{className:"h-4 w-4 text-gray-400"})}),c.jsx("button",{onClick:()=>y(!0),className:"p-1.5 hover:bg-gray-700 rounded transition-colors",title:"Project Settings",children:c.jsx(Lr,{className:"h-4 w-4 text-gray-400"})})]})]}),c.jsxs("div",{className:"flex gap-1 flex-wrap",children:[c.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-1.5 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",title:"Save",children:[c.jsx(HS,{className:"h-3 w-3"}),"Save"]}),c.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-1.5 px-2 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Deploy",disabled:Object.keys(n.files).length===0,children:[c.jsx(Dc,{className:"h-3 w-3"}),"Deploy"]}),c.jsxs("button",{onClick:ae,className:"flex items-center gap-1.5 px-2 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",title:"Export",children:[c.jsx(Lo,{className:"h-3 w-3"}),"Export"]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:Object.keys(n.files).length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center px-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center mb-3",children:c.jsx(FileText,{className:"h-6 w-6 text-gray-400 dark:text-gray-500"})}),c.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-1",children:"No files"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3 text-center",children:"Generate code with AI to get started"}),c.jsx("button",{onClick:()=>d(!0),className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"New File"})]}):c.jsxs("div",{className:"py-1",children:[c.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 border-b border-gray-200 dark:border-gray-700 mb-1",children:[c.jsx(Si,{className:"h-3 w-3"}),c.jsx("span",{children:n.name||"Project"})]}),Object.keys(n.files).map(ee=>c.jsxs(fe.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`group relative flex items-center gap-1 px-2 py-1 cursor-pointer transition-colors ${n.activeFile===ee?"bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-100":"hover:bg-gray-100 dark:hover:bg-gray-800/50 text-gray-700 dark:text-gray-300"}`,onClick:()=>L(ee),onContextMenu:he=>$(he,ee),children:[c.jsx("div",{className:"w-4 flex items-center justify-center",children:c.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-600"})}),c.jsx("div",{className:"flex items-center justify-center w-4 h-4 mr-1",children:c.jsx("span",{className:"text-sm",children:M(ee)})}),c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx("span",{className:"text-sm font-normal truncate",children:ee})})]},ee))]})}),c.jsx("div",{className:"p-2 border-t border-gray-700 bg-gray-800",children:c.jsxs("label",{className:"flex items-center justify-center gap-2 p-2 border border-dashed border-gray-600 rounded hover:border-blue-500 hover:bg-blue-900/20 transition-colors cursor-pointer",children:[c.jsx(KS,{className:"h-3 w-3 text-gray-400"}),c.jsx("span",{className:"text-xs text-gray-400",children:"Upload"}),c.jsx("input",{type:"file",className:"hidden",accept:".html,.css,.js,.jsx,.ts,.tsx,.json,.md,.txt",onChange:ye})]})}),c.jsx(xs,{children:l&&c.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>d(!1),children:c.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ee=>ee.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New File"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"File Name"}),c.jsx("input",{type:"text",value:f,onChange:ee=>m(ee.target.value),placeholder:"my-file.js",className:"w-full p-2 border border-border rounded-md bg-black",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Templates"}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ge.map(ee=>c.jsxs("button",{onClick:()=>m(`new-file${ee.extension}`),className:"flex items-center gap-2 p-2 text-xs border border-border rounded hover:bg-muted transition-colors",children:[c.jsx("span",{children:ee.icon}),c.jsx("span",{className:"truncate",children:ee.name})]},ee.extension))})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Cancel"}),c.jsx("button",{onClick:re,className:"px-4 py-2 text-sm bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-md hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md shadow-blue-500/20 border border-blue-500/20",children:"Create"})]})]})]})})}),c.jsx(xs,{children:g&&c.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>y(!1),children:c.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ee=>ee.stopPropagation(),children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:n.name,onChange:ee=>a({name:ee.target.value}),className:"w-full p-2 border border-border rounded-md bg-black"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"App Type"}),c.jsxs("select",{value:n.config.appType,onChange:ee=>a({appType:ee.target.value}),className:"w-full p-2 border border-border rounded-md bg-black",children:[c.jsx("option",{value:"frontend",children:"Frontend"}),c.jsx("option",{value:"backend",children:"Backend"}),c.jsx("option",{value:"fullstack",children:"Full Stack"}),c.jsx("option",{value:"mobile",children:"Mobile"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Language"}),c.jsxs("select",{value:n.config.language,onChange:ee=>a({language:ee.target.value}),className:"w-full p-2 border border-border rounded-md bg-black",children:[c.jsx("option",{value:"javascript",children:"JavaScript"}),c.jsx("option",{value:"typescript",children:"TypeScript"}),c.jsx("option",{value:"python",children:"Python"}),c.jsx("option",{value:"java",children:"Java"}),c.jsx("option",{value:"csharp",children:"C#"})]})]}),c.jsx("div",{className:"flex gap-2 justify-end",children:c.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})}),c.jsx(xs,{children:b&&c.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>S(!1),children:c.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:ee=>ee.stopPropagation(),children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Dc,{className:"h-5 w-5"}),"Deploy Your App"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:H,onChange:ee=>X(ee.target.value),placeholder:"my-awesome-app",className:"w-full p-2 border border-border rounded-md bg-black",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deployment Platform"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[c.jsx("input",{type:"radio",value:"firebase",checked:C==="firebase",onChange:ee=>F(ee.target.value),className:"text-white"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs",children:"F"})}),c.jsx("span",{children:"Firebase Hosting"})]})]}),c.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[c.jsx("input",{type:"radio",value:"github",checked:C==="github",onChange:ee=>F(ee.target.value),className:"text-white"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Wr,{className:"h-4 w-4"}),c.jsx("span",{children:"GitHub Pages"})]})]})]})]}),c.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Platform Info"}),c.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:C==="firebase"?c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Firebase Hosting:"})," Instant deployment with custom domain support"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Features:"})," CDN, SSL, automatic HTTPS"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cost:"})," Free tier available"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:[c.jsx("strong",{children:"GitHub Pages:"})," Host static sites directly from GitHub repositories"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Features:"})," Custom domains, Jekyll support"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cost:"})," Free for public repositories"]})]})})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",disabled:A,children:"Cancel"}),c.jsx("button",{onClick:pe,disabled:A||!H.trim(),className:"px-4 py-2 text-sm bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-md hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-md shadow-blue-500/20 border border-blue-500/20 flex items-center gap-2",children:A?c.jsxs(c.Fragment,{children:[c.jsx(Bf,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Dc,{className:"h-4 w-4"}),"Deploy Now"]})})]})]})]})})}),c.jsx(xs,{children:G.show&&c.jsxs(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},ref:T,className:"fixed z-50 bg-card border border-border rounded-lg shadow-lg py-1 min-w-[160px]",style:{left:G.x,top:G.y},onClick:be,children:[c.jsxs("button",{onClick:()=>D("download"),className:"w-full px-3 py-2 text-left text-sm hover:bg-muted flex items-center gap-2 transition-colors",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Download"]}),c.jsxs("button",{onClick:()=>D("copy"),className:"w-full px-3 py-2 text-left text-sm hover:bg-muted flex items-center gap-2 transition-colors",children:[c.jsx(gv,{className:"h-4 w-4"}),"Copy"]}),c.jsxs("button",{onClick:()=>D("rename"),className:"w-full px-3 py-2 text-left text-sm hover:bg-muted flex items-center gap-2 transition-colors",children:[c.jsx(Wg,{className:"h-4 w-4"}),"Rename"]}),Object.keys(n.files).length>1&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border-t border-border my-1"}),c.jsxs("button",{onClick:()=>D("delete"),className:"w-full px-3 py-2 text-left text-sm hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 flex items-center gap-2 transition-colors",children:[c.jsx(WS,{className:"h-4 w-4"}),"Delete"]})]})]})})]})};function iF(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function r_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n_(Object(t),!0).forEach(function(r){iF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function oF(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function aF(n,e){if(n==null)return{};var t=oF(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lF(n,e){return cF(n)||uF(n,e)||dF(n,e)||hF()}function cF(n){if(Array.isArray(n))return n}function uF(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,s=!1,a=void 0;try{for(var l=n[Symbol.iterator](),d;!(r=(d=l.next()).done)&&(t.push(d.value),!(e&&t.length===e));r=!0);}catch(f){s=!0,a=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw a}}return t}}function dF(n,e){if(n){if(typeof n=="string")return s_(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s_(n,e)}}function s_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function hF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fF(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function o_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(t),!0).forEach(function(r){fF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i_(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pF(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,a){return a(s)},r)}}function Tc(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];return e.apply(t,[].concat(s,d))}}}function lf(n){return{}.toString.call(n).includes("Object")}function mF(n){return!Object.keys(n).length}function eu(n){return typeof n=="function"}function gF(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function yF(n,e){return lf(e)||ki("changeType"),Object.keys(e).some(function(t){return!gF(n,t)})&&ki("changeField"),e}function vF(n){eu(n)||ki("selectorType")}function xF(n){eu(n)||lf(n)||ki("handlerType"),lf(n)&&Object.values(n).some(function(e){return!eu(e)})&&ki("handlersType")}function wF(n){n||ki("initialIsRequired"),lf(n)||ki("initialType"),mF(n)&&ki("initialContent")}function bF(n,e){throw new Error(n[e]||n.default)}var _F={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ki=Tc(bF)(_F),ih={changes:yF,selector:vF,handler:xF,initial:wF};function TF(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ih.initial(n),ih.handler(e);var t={current:n},r=Tc(AF)(t,e),s=Tc(SF)(t),a=Tc(ih.changes)(n),l=Tc(EF)(t);function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return ih.selector(m),m(t.current)}function f(m){pF(r,s,a,l)(m)}return[d,f]}function EF(n,e){return eu(e)?e(n.current):e}function SF(n,e){return n.current=o_(o_({},n.current),e),e}function AF(n,e,t){return eu(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var kF={create:TF},CF={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function IF(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];return e.apply(t,[].concat(s,d))}}}function NF(n){return{}.toString.call(n).includes("Object")}function jF(n){return n||a_("configIsRequired"),NF(n)||a_("configType"),n.urls?(PF(),{paths:{vs:n.urls.monacoBase}}):n}function PF(){console.warn(yA.deprecation)}function RF(n,e){throw new Error(n[e]||n.default)}var yA={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},a_=IF(RF)(yA),DF={config:jF},MF=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(a,l){return l(a)},s)}};function vA(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],vA(n[t],e[t]))}),r_(r_({},n),e)}var OF={type:"cancelation",msg:"operation is manually canceled"};function og(n){var e=!1,t=new Promise(function(r,s){n.then(function(a){return e?s(OF):r(a)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var LF=kF.create({config:CF,isInitialized:!1,resolve:null,reject:null,monaco:null}),xA=lF(LF,2),xu=xA[0],Yf=xA[1];function VF(n){var e=DF.config(n),t=e.monaco,r=aF(e,["monaco"]);Yf(function(s){return{config:vA(s.config,r),monaco:t}})}function FF(){var n=xu(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(Yf({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),og(ag);if(window.monaco&&window.monaco.editor)return wA(window.monaco),n.resolve(window.monaco),og(ag);MF(UF,$F)(zF)}return og(ag)}function UF(n){return document.body.appendChild(n)}function BF(n){var e=document.createElement("script");return n&&(e.src=n),e}function $F(n){var e=xu(function(r){var s=r.config,a=r.reject;return{config:s,reject:a}}),t=BF("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function zF(){var n=xu(function(t){var r=t.config,s=t.resolve,a=t.reject;return{config:r,resolve:s,reject:a}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){wA(t),n.resolve(t)},function(t){n.reject(t)})}function wA(n){xu().monaco||Yf({monaco:n})}function HF(){return xu(function(n){var e=n.monaco;return e})}var ag=new Promise(function(n,e){return Yf({resolve:n,reject:e})}),bA={config:VF,init:FF,__getMonacoInstance:HF},qF={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},lg=qF,WF={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},GF=WF;function KF({children:n}){return Yn.createElement("div",{style:GF.container},n)}var QF=KF,JF=QF;function YF({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:a,wrapperProps:l}){return Yn.createElement("section",{style:{...lg.wrapper,width:n,height:e},...l},!t&&Yn.createElement(JF,null,r),Yn.createElement("div",{ref:s,style:{...lg.fullWidth,...!t&&lg.hide},className:a}))}var XF=YF,_A=N.memo(XF);function ZF(n){N.useEffect(n,[])}var TA=ZF;function eU(n,e,t=!0){let r=N.useRef(!0);N.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var Dn=eU;function Fc(){}function Ja(n,e,t,r){return tU(n,r)||nU(n,e,t,r)}function tU(n,e){return n.editor.getModel(EA(n,e))}function nU(n,e,t,r){return n.editor.createModel(e,t,r?EA(n,r):void 0)}function EA(n,e){return n.Uri.parse(e)}function rU({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:f=!1,theme:m="light",loading:g="Loading...",options:y={},height:b="100%",width:S="100%",className:A,wrapperProps:R={},beforeMount:C=Fc,onMount:F=Fc}){let[B,I]=N.useState(!1),[H,X]=N.useState(!0),G=N.useRef(null),k=N.useRef(null),T=N.useRef(null),P=N.useRef(F),M=N.useRef(C),L=N.useRef(!1);TA(()=>{let re=bA.init();return re.then(ie=>(k.current=ie)&&X(!1)).catch(ie=>ie?.type!=="cancelation"&&console.error("Monaco initialization: error:",ie)),()=>G.current?be():re.cancel()}),Dn(()=>{if(G.current&&k.current){let re=G.current.getOriginalEditor(),ie=Ja(k.current,n||"",r||t||"text",a||"");ie!==re.getModel()&&re.setModel(ie)}},[a],B),Dn(()=>{if(G.current&&k.current){let re=G.current.getModifiedEditor(),ie=Ja(k.current,e||"",s||t||"text",l||"");ie!==re.getModel()&&re.setModel(ie)}},[l],B),Dn(()=>{let re=G.current.getModifiedEditor();re.getOption(k.current.editor.EditorOption.readOnly)?re.setValue(e||""):e!==re.getValue()&&(re.executeEdits("",[{range:re.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),re.pushUndoStop())},[e],B),Dn(()=>{G.current?.getModel()?.original.setValue(n||"")},[n],B),Dn(()=>{let{original:re,modified:ie}=G.current.getModel();k.current.editor.setModelLanguage(re,r||t||"text"),k.current.editor.setModelLanguage(ie,s||t||"text")},[t,r,s],B),Dn(()=>{k.current?.editor.setTheme(m)},[m],B),Dn(()=>{G.current?.updateOptions(y)},[y],B);let $=N.useCallback(()=>{if(!k.current)return;M.current(k.current);let re=Ja(k.current,n||"",r||t||"text",a||""),ie=Ja(k.current,e||"",s||t||"text",l||"");G.current?.setModel({original:re,modified:ie})},[t,e,s,n,r,a,l]),D=N.useCallback(()=>{!L.current&&T.current&&(G.current=k.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...y}),$(),k.current?.editor.setTheme(m),I(!0),L.current=!0)},[y,m,$]);N.useEffect(()=>{B&&P.current(G.current,k.current)},[B]),N.useEffect(()=>{!H&&!B&&D()},[H,B,D]);function be(){let re=G.current?.getModel();d||re?.original?.dispose(),f||re?.modified?.dispose(),G.current?.dispose()}return Yn.createElement(_A,{width:S,height:b,isEditorReady:B,loading:g,_ref:T,className:A,wrapperProps:R})}var sU=rU;N.memo(sU);function iU(n){let e=N.useRef();return N.useEffect(()=>{e.current=n},[n]),e.current}var oU=iU,oh=new Map;function aU({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:a,theme:l="light",line:d,loading:f="Loading...",options:m={},overrideServices:g={},saveViewState:y=!0,keepCurrentModel:b=!1,width:S="100%",height:A="100%",className:R,wrapperProps:C={},beforeMount:F=Fc,onMount:B=Fc,onChange:I,onValidate:H=Fc}){let[X,G]=N.useState(!1),[k,T]=N.useState(!0),P=N.useRef(null),M=N.useRef(null),L=N.useRef(null),$=N.useRef(B),D=N.useRef(F),be=N.useRef(),re=N.useRef(r),ie=oU(a),Ce=N.useRef(!1),ae=N.useRef(!1);TA(()=>{let V=bA.init();return V.then(Z=>(P.current=Z)&&T(!1)).catch(Z=>Z?.type!=="cancelation"&&console.error("Monaco initialization: error:",Z)),()=>M.current?pe():V.cancel()}),Dn(()=>{let V=Ja(P.current,n||r||"",e||s||"",a||t||"");V!==M.current?.getModel()&&(y&&oh.set(ie,M.current?.saveViewState()),M.current?.setModel(V),y&&M.current?.restoreViewState(oh.get(a)))},[a],X),Dn(()=>{M.current?.updateOptions(m)},[m],X),Dn(()=>{!M.current||r===void 0||(M.current.getOption(P.current.editor.EditorOption.readOnly)?M.current.setValue(r):r!==M.current.getValue()&&(ae.current=!0,M.current.executeEdits("",[{range:M.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),M.current.pushUndoStop(),ae.current=!1))},[r],X),Dn(()=>{let V=M.current?.getModel();V&&s&&P.current?.editor.setModelLanguage(V,s)},[s],X),Dn(()=>{d!==void 0&&M.current?.revealLine(d)},[d],X),Dn(()=>{P.current?.editor.setTheme(l)},[l],X);let ye=N.useCallback(()=>{if(!(!L.current||!P.current)&&!Ce.current){D.current(P.current);let V=a||t,Z=Ja(P.current,r||n||"",e||s||"",V||"");M.current=P.current?.editor.create(L.current,{model:Z,automaticLayout:!0,...m},g),y&&M.current.restoreViewState(oh.get(V)),P.current.editor.setTheme(l),d!==void 0&&M.current.revealLine(d),G(!0),Ce.current=!0}},[n,e,t,r,s,a,m,g,y,l,d]);N.useEffect(()=>{X&&$.current(M.current,P.current)},[X]),N.useEffect(()=>{!k&&!X&&ye()},[k,X,ye]),re.current=r,N.useEffect(()=>{X&&I&&(be.current?.dispose(),be.current=M.current?.onDidChangeModelContent(V=>{ae.current||I(M.current.getValue(),V)}))},[X,I]),N.useEffect(()=>{if(X){let V=P.current.editor.onDidChangeMarkers(Z=>{let ke=M.current.getModel()?.uri;if(ke&&Z.find(Se=>Se.path===ke.path)){let Se=P.current.editor.getModelMarkers({resource:ke});H?.(Se)}});return()=>{V?.dispose()}}return()=>{}},[X,H]);function pe(){be.current?.dispose(),b?y&&oh.set(a,M.current.saveViewState()):M.current.getModel()?.dispose(),M.current.dispose()}return Yn.createElement(_A,{width:S,height:A,isEditorReady:X,loading:f,_ref:L,className:R,wrapperProps:C})}var lU=aU,cU=N.memo(lU);const uU=()=>{const{theme:n}=vy(),{currentProject:e,updateFile:t}=Ko(),[r,s]=N.useState(!1),a=N.useRef(null),l=(C,F)=>{a.current=C,F.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"569CD6"},{token:"string",foreground:"CE9178"},{token:"number",foreground:"B5CEA8"},{token:"tag",foreground:"569CD6"},{token:"attribute.name",foreground:"92C5F8"},{token:"attribute.value",foreground:"CE9178"}],colors:{"editor.background":"#1e1e1e","editor.foreground":"#d4d4d4","editor.lineHighlightBackground":"#2a2d2e","editor.selectionBackground":"#264f78","editor.inactiveSelectionBackground":"#3a3d41"}}),F.editor.defineTheme("custom-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"number",foreground:"098658"},{token:"tag",foreground:"800000"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"}],colors:{"editor.background":"#ffffff","editor.foreground":"#000000","editor.lineHighlightBackground":"#f5f5f5","editor.selectionBackground":"#add6ff","editor.inactiveSelectionBackground":"#e5ebf1"}}),F.editor.setTheme(n==="dark"?"custom-dark":"custom-light"),C.updateOptions({fontSize:14,fontFamily:"JetBrains Mono, Monaco, Consolas, monospace",lineHeight:22,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",formatOnPaste:!0,formatOnType:!0,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",tabCompletion:"on"}),C.addCommand(F.KeyMod.CtrlCmd|F.KeyCode.KeyS,()=>{b()}),C.addCommand(F.KeyMod.CtrlCmd|F.KeyCode.KeyC,()=>{C.getSelection().isEmpty()&&g()})},d=C=>{C!==void 0&&t(e.activeFile,C)},f=()=>{const C=e.activeFile.split(".").pop();return{html:"html",css:"css",js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",php:"php",rb:"ruby",go:"go",rs:"rust",swift:"swift",kt:"kotlin",scala:"scala",clj:"clojure",hs:"haskell",ml:"fsharp",fs:"fsharp",vb:"vb",sql:"sql",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",sh:"shell",bash:"shell",ps1:"powershell",dockerfile:"dockerfile"}[C]||"plaintext"},m=()=>{const C=e.files[e.activeFile]||"";navigator.clipboard.writeText(C),je.success("Code copied to clipboard!")},g=()=>{const C=e.files[e.activeFile]||"";navigator.clipboard.writeText(C),je.success("All code copied to clipboard!")},y=()=>{const C=e.files[e.activeFile]||"",F=new Blob([C],{type:"text/plain"}),B=URL.createObjectURL(F),I=document.createElement("a");I.href=B,I.download=e.activeFile,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(B),je.success(`Downloaded ${e.activeFile}`)},b=()=>{je.success("Code saved!")},S=()=>{a.current&&(a.current.getAction("editor.action.formatDocument").run(),je.success("Code formatted!"))},A={"index.html":"🌐","style.css":"🎨","script.js":"⚡","components.jsx":"🧩","package.json":"📦","README.md":"📖"},R=C=>A[C]||"📄";return c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-lg",children:R(e.activeFile)}),c.jsx("span",{className:"font-medium text-sm",children:e.activeFile}),c.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:f()})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:S,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Format Code (Ctrl+Shift+F)",children:c.jsx($f,{className:"h-4 w-4"})}),c.jsx("button",{onClick:m,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Copy Code",children:c.jsx(gv,{className:"h-4 w-4"})}),c.jsx("button",{onClick:y,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Download File",children:c.jsx(Lo,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex-1 relative",children:c.jsx(cU,{height:"100%",language:f(),value:e.files[e.activeFile]||"",onChange:d,onMount:l,theme:n==="dark"?"custom-dark":"custom-light",loading:c.jsxs("div",{className:"flex items-center justify-center h-full",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{className:"ml-2",children:"Loading editor..."})]}),options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,mouseWheelZoom:!0,smoothScrolling:!0,cursorBlinking:"blink",cursorSmoothCaretAnimation:!0,renderLineHighlight:"line",renderWhitespace:"selection",renderIndentGuides:!0,highlightActiveIndentGuide:!0,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0}}})}),c.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("span",{children:["Line ",a.current?.getPosition()?.lineNumber||1]}),c.jsxs("span",{children:["Column ",a.current?.getPosition()?.column||1]}),c.jsxs("span",{children:[e.files[e.activeFile]?.length||0," characters"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:"Ctrl+S to save"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"Ctrl+C to copy all"})]})]})]})},dU=()=>{const{currentProject:n}=Ko(),e=N.useRef(null),[t,r]=N.useState(!1),[s,a]=N.useState(!1),[l,d]=N.useState(null);N.useEffect(()=>{f()},[n.files,n.activeFile]);const f=()=>{if(e.current){r(!0),d(null);try{const A=n.files["index.html"]||"",R=n.files["style.css"]||"",C=n.files["script.js"]||"";if(!A.trim()){m();return}let F=A;R.trim()&&(F=F.replace(/<link[^>]*rel=["']stylesheet["'][^>]*href=["']style\.css["'][^>]*>/gi,`<style>${R}</style>`),F===A&&F.includes("<head>")?F=F.replace("<head>",`<head>
<style>${R}</style>`):F===A&&!F.includes("<head>")&&(F.includes("<title>")?F=F.replace("</title>",`</title>
<style>${R}</style>`):F=`<style>${R}</style>
${F}`)),C.trim()&&(F=F.replace(/<script[^>]*src=["']script\.js["'][^>]*><\/script>/gi,`<script>${C}<\/script>`),F.includes("</body>")?F=F.replace("</body>",`<script>${C}<\/script>
</body>`):F+=`
<script>${C}<\/script>`),F.includes("<!DOCTYPE html>")||(F=`<!DOCTYPE html>
${F}`);const B=e.current;B.srcdoc=F,B.onload=()=>{r(!1),d(null)},B.onerror=()=>{r(!1),d("Failed to load preview")}}catch(A){console.error("Preview update error:",A),r(!1),d("Preview update failed")}}},m=()=>{if(!e.current)return;const A=`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Preview</title>
        <style>
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
          }
          .placeholder {
            text-align: center;
            padding: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            max-width: 400px;
          }
          .placeholder h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            opacity: 0.9;
          }
          .placeholder p {
            font-size: 1.1rem;
            opacity: 0.8;
            line-height: 1.6;
          }
          .icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
          }
        </style>
      </head>
      <body>
        <div class="placeholder">
          <span class="icon">🚀</span>
          <h2>Ready to Build</h2>
          <p>Generate some code to see your application preview here!</p>
        </div>
      </body>
      </html>
    `,R=e.current;R.srcdoc=A,r(!1)},g=()=>{f(),je.success("Preview refreshed!")},y=()=>{if(!e.current)return;const A=e.current;if(A.srcdoc){const R=window.open("","_blank");R.document.write(A.srcdoc),R.document.close(),je.success("Opened in new tab!")}else je.error("No content to open")},b=()=>{document.fullscreenElement||a(!1)};N.useEffect(()=>(document.addEventListener("fullscreenchange",b),()=>{document.removeEventListener("fullscreenchange",b)}),[]);const S=async()=>{s?document.exitFullscreen&&await document.exitFullscreen():e.current.requestFullscreen&&await e.current.requestFullscreen()};return c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden ${s?"fixed inset-0 z-50 rounded-none":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Live Preview"}),t&&c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx("div",{className:"spinner"}),c.jsx("span",{children:"Updating..."})]}),l&&c.jsx("span",{className:"text-xs text-destructive",children:"Error"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:g,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Refresh Preview",children:c.jsx($f,{className:"h-4 w-4"})}),c.jsx("button",{onClick:y,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Open in New Tab",children:c.jsx(Jc,{className:"h-4 w-4"})}),c.jsx("button",{onClick:S,className:"p-2 hover:bg-muted rounded-md transition-colors",title:s?"Exit Fullscreen":"Enter Fullscreen",children:s?c.jsx(jL,{className:"h-4 w-4"}):c.jsx(NL,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex-1 relative bg-black",children:l?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center p-6",children:[c.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Error"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:l}),c.jsx("button",{onClick:g,className:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Try Again"})]})}):c.jsx("iframe",{ref:e,className:"w-full h-full border-0",title:"Preview",sandbox:"allow-scripts allow-forms allow-popups",onLoad:()=>r(!1),onError:()=>{r(!1),d("Failed to load preview")}})}),c.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{children:"Responsive"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"Auto-refresh"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:"Ctrl+R to refresh"}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"F11 for fullscreen"})]})]})]})};function SA(n,e){return function(){return n.apply(e,arguments)}}const{toString:hU}=Object.prototype,{getPrototypeOf:Bv}=Object,{iterator:Xf,toStringTag:AA}=Symbol,Zf=(n=>e=>{const t=hU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pr=n=>(n=n.toLowerCase(),e=>Zf(e)===n),ep=n=>e=>typeof e===n,{isArray:xl}=Array,ul=ep("undefined");function wu(n){return n!==null&&!ul(n)&&n.constructor!==null&&!ul(n.constructor)&&_n(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const kA=pr("ArrayBuffer");function fU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&kA(n.buffer),e}const pU=ep("string"),_n=ep("function"),CA=ep("number"),bu=n=>n!==null&&typeof n=="object",mU=n=>n===!0||n===!1,Th=n=>{if(Zf(n)!=="object")return!1;const e=Bv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(AA in n)&&!(Xf in n)},gU=n=>{if(!bu(n)||wu(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},yU=pr("Date"),vU=pr("File"),xU=pr("Blob"),wU=pr("FileList"),bU=n=>bu(n)&&_n(n.pipe),_U=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_n(n.append)&&((e=Zf(n))==="formdata"||e==="object"&&_n(n.toString)&&n.toString()==="[object FormData]"))},TU=pr("URLSearchParams"),[EU,SU,AU,kU]=["ReadableStream","Request","Response","Headers"].map(pr),CU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _u(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),xl(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(wu(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let d;for(r=0;r<l;r++)d=a[r],e.call(null,n[d],d,n)}}function IA(n,e){if(wu(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NA=n=>!ul(n)&&n!==Eo;function ly(){const{caseless:n,skipUndefined:e}=NA(this)&&this||{},t={},r=(s,a)=>{const l=n&&IA(t,a)||a;Th(t[l])&&Th(s)?t[l]=ly(t[l],s):Th(s)?t[l]=ly({},s):xl(s)?t[l]=s.slice():(!e||!ul(s))&&(t[l]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&_u(arguments[s],r);return t}const IU=(n,e,t,{allOwnKeys:r}={})=>(_u(e,(s,a)=>{t&&_n(s)?n[a]=SA(s,t):n[a]=s},{allOwnKeys:r}),n),NU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),jU=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},PU=(n,e,t,r)=>{let s,a,l;const d={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)l=s[a],(!r||r(l,n,e))&&!d[l]&&(e[l]=n[l],d[l]=!0);n=t!==!1&&Bv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},RU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},DU=n=>{if(!n)return null;if(xl(n))return n;let e=n.length;if(!CA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},MU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Bv(Uint8Array)),OU=(n,e)=>{const r=(n&&n[Xf]).call(n);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},LU=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},VU=pr("HTMLFormElement"),FU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),l_=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),UU=pr("RegExp"),jA=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};_u(t,(s,a)=>{let l;(l=e(s,a,n))!==!1&&(r[a]=l||s)}),Object.defineProperties(n,r)},BU=n=>{jA(n,(e,t)=>{if(_n(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},$U=(n,e)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return xl(n)?r(n):r(String(n).split(e)),t},zU=()=>{},HU=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function qU(n){return!!(n&&_n(n.append)&&n[AA]==="FormData"&&n[Xf])}const WU=n=>{const e=new Array(10),t=(r,s)=>{if(bu(r)){if(e.indexOf(r)>=0)return;if(wu(r))return r;if(!("toJSON"in r)){e[s]=r;const a=xl(r)?[]:{};return _u(r,(l,d)=>{const f=t(l,s+1);!ul(f)&&(a[d]=f)}),e[s]=void 0,a}}return r};return t(n,0)},GU=pr("AsyncFunction"),KU=n=>n&&(bu(n)||_n(n))&&_n(n.then)&&_n(n.catch),PA=((n,e)=>n?setImmediate:e?((t,r)=>(Eo.addEventListener("message",({source:s,data:a})=>{s===Eo&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Eo.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_n(Eo.postMessage)),QU=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||PA,JU=n=>n!=null&&_n(n[Xf]),Y={isArray:xl,isArrayBuffer:kA,isBuffer:wu,isFormData:_U,isArrayBufferView:fU,isString:pU,isNumber:CA,isBoolean:mU,isObject:bu,isPlainObject:Th,isEmptyObject:gU,isReadableStream:EU,isRequest:SU,isResponse:AU,isHeaders:kU,isUndefined:ul,isDate:yU,isFile:vU,isBlob:xU,isRegExp:UU,isFunction:_n,isStream:bU,isURLSearchParams:TU,isTypedArray:MU,isFileList:wU,forEach:_u,merge:ly,extend:IU,trim:CU,stripBOM:NU,inherits:jU,toFlatObject:PU,kindOf:Zf,kindOfTest:pr,endsWith:RU,toArray:DU,forEachEntry:OU,matchAll:LU,isHTMLForm:VU,hasOwnProperty:l_,hasOwnProp:l_,reduceDescriptors:jA,freezeMethods:BU,toObjectSet:$U,toCamelCase:FU,noop:zU,toFiniteNumber:HU,findKey:IA,global:Eo,isContextDefined:NA,isSpecCompliantForm:qU,toJSONObject:WU,isAsyncFn:GU,isThenable:KU,setImmediate:PA,asap:QU,isIterable:JU};function Be(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const RA=Be.prototype,DA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{DA[n]={value:n}});Object.defineProperties(Be,DA);Object.defineProperty(RA,"isAxiosError",{value:!0});Be.from=(n,e,t,r,s,a)=>{const l=Object.create(RA);Y.toFlatObject(n,l,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const d=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return Be.call(l,d,f,t,r,s),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",a&&Object.assign(l,a),l};const YU=null;function cy(n){return Y.isPlainObject(n)||Y.isArray(n)}function MA(n){return Y.endsWith(n,"[]")?n.slice(0,-2):n}function c_(n,e,t){return n?n.concat(e).map(function(s,a){return s=MA(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function XU(n){return Y.isArray(n)&&!n.some(cy)}const ZU=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function tp(n,e,t){if(!Y.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,C){return!Y.isUndefined(C[R])});const r=t.metaTokens,s=t.visitor||g,a=t.dots,l=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function m(A){if(A===null)return"";if(Y.isDate(A))return A.toISOString();if(Y.isBoolean(A))return A.toString();if(!f&&Y.isBlob(A))throw new Be("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(A)||Y.isTypedArray(A)?f&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function g(A,R,C){let F=A;if(A&&!C&&typeof A=="object"){if(Y.endsWith(R,"{}"))R=r?R:R.slice(0,-2),A=JSON.stringify(A);else if(Y.isArray(A)&&XU(A)||(Y.isFileList(A)||Y.endsWith(R,"[]"))&&(F=Y.toArray(A)))return R=MA(R),F.forEach(function(I,H){!(Y.isUndefined(I)||I===null)&&e.append(l===!0?c_([R],H,a):l===null?R:R+"[]",m(I))}),!1}return cy(A)?!0:(e.append(c_(C,R,a),m(A)),!1)}const y=[],b=Object.assign(ZU,{defaultVisitor:g,convertValue:m,isVisitable:cy});function S(A,R){if(!Y.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+R.join("."));y.push(A),Y.forEach(A,function(F,B){(!(Y.isUndefined(F)||F===null)&&s.call(e,F,Y.isString(B)?B.trim():B,R,b))===!0&&S(F,R?R.concat(B):[B])}),y.pop()}}if(!Y.isObject(n))throw new TypeError("data must be an object");return S(n),e}function u_(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $v(n,e){this._pairs=[],n&&tp(n,this,e)}const OA=$v.prototype;OA.append=function(e,t){this._pairs.push([e,t])};OA.toString=function(e){const t=e?function(r){return e.call(this,r,u_)}:u_;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function eB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function LA(n,e,t){if(!e)return n;const r=t&&t.encode||eB;Y.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=Y.isURLSearchParams(e)?e.toString():new $v(e,t).toString(r),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class d_{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(r){r!==null&&e(r)})}}const VA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tB=typeof URLSearchParams<"u"?URLSearchParams:$v,nB=typeof FormData<"u"?FormData:null,rB=typeof Blob<"u"?Blob:null,sB={isBrowser:!0,classes:{URLSearchParams:tB,FormData:nB,Blob:rB},protocols:["http","https","file","blob","url","data"]},zv=typeof window<"u"&&typeof document<"u",uy=typeof navigator=="object"&&navigator||void 0,iB=zv&&(!uy||["ReactNative","NativeScript","NS"].indexOf(uy.product)<0),oB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",aB=zv&&window.location.href||"http://localhost",lB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zv,hasStandardBrowserEnv:iB,hasStandardBrowserWebWorkerEnv:oB,navigator:uy,origin:aB},Symbol.toStringTag,{value:"Module"})),ln={...lB,...sB};function cB(n,e){return tp(n,new ln.classes.URLSearchParams,{visitor:function(t,r,s,a){return ln.isNode&&Y.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function uB(n){return Y.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dB(n){const e={},t=Object.keys(n);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],e[a]=n[a];return e}function FA(n){function e(t,r,s,a){let l=t[a++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),f=a>=t.length;return l=!l&&Y.isArray(s)?s.length:l,f?(Y.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!d):((!s[l]||!Y.isObject(s[l]))&&(s[l]=[]),e(t,r,s[l],a)&&Y.isArray(s[l])&&(s[l]=dB(s[l])),!d)}if(Y.isFormData(n)&&Y.isFunction(n.entries)){const t={};return Y.forEachEntry(n,(r,s)=>{e(uB(r),s,t,0)}),t}return null}function hB(n,e,t){if(Y.isString(n))try{return(e||JSON.parse)(n),Y.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Tu={transitional:VA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=Y.isObject(e);if(a&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(FA(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cB(e,this.formSerializer).toString();if((d=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return tp(d?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),hB(e)):e}],transformResponse:[function(e){const t=this.transitional||Tu.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Be.from(d,Be.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],n=>{Tu.headers[n]={}});const fB=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pB=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!t||e[t]&&fB[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},h_=Symbol("internals");function vc(n){return n&&String(n).trim().toLowerCase()}function Eh(n){return n===!1||n==null?n:Y.isArray(n)?n.map(Eh):String(n)}function mB(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const gB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cg(n,e,t,r,s){if(Y.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}function yB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function vB(n,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}let Tn=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(d,f,m){const g=vc(f);if(!g)throw new Error("header name must be a non-empty string");const y=Y.findKey(s,g);(!y||s[y]===void 0||m===!0||m===void 0&&s[y]!==!1)&&(s[y||f]=Eh(d))}const l=(d,f)=>Y.forEach(d,(m,g)=>a(m,g,f));if(Y.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Y.isString(e)&&(e=e.trim())&&!gB(e))l(pB(e),t);else if(Y.isObject(e)&&Y.isIterable(e)){let d={},f,m;for(const g of e){if(!Y.isArray(g))throw TypeError("Object iterator must return a key-value pair");d[m=g[0]]=(f=d[m])?Y.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}l(d,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=vc(e),e){const r=Y.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return mB(s);if(Y.isFunction(t))return t.call(this,s,r);if(Y.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vc(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||cg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function a(l){if(l=vc(l),l){const d=Y.findKey(r,l);d&&(!t||cg(r,r[d],d,t))&&(delete r[d],s=!0)}}return Y.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!e||cg(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return Y.forEach(this,(s,a)=>{const l=Y.findKey(r,a);if(l){t[l]=Eh(s),delete t[a];return}const d=e?yB(a):String(a).trim();d!==a&&delete t[a],t[d]=Eh(s),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&Y.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[h_]=this[h_]={accessors:{}}).accessors,s=this.prototype;function a(l){const d=vc(l);r[d]||(vB(s,l),r[d]=!0)}return Y.isArray(e)?e.forEach(a):a(e),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Tn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Y.freezeMethods(Tn);function ug(n,e){const t=this||Tu,r=e||t,s=Tn.from(r.headers);let a=r.data;return Y.forEach(n,function(d){a=d.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function UA(n){return!!(n&&n.__CANCEL__)}function wl(n,e,t){Be.call(this,n??"canceled",Be.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(wl,Be,{__CANCEL__:!0});function BA(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Be("Request failed with status code "+t.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function xB(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function wB(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),g=r[a];l||(l=m),t[s]=f,r[s]=m;let y=a,b=0;for(;y!==s;)b+=t[y++],y=y%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),m-l<e)return;const S=g&&m-g;return S?Math.round(b*1e3/S):void 0}}function bB(n,e){let t=0,r=1e3/e,s,a;const l=(m,g=Date.now())=>{t=g,s=null,a&&(clearTimeout(a),a=null),n(...m)};return[(...m)=>{const g=Date.now(),y=g-t;y>=r?l(m,g):(s=m,a||(a=setTimeout(()=>{a=null,l(s)},r-y)))},()=>s&&l(s)]}const cf=(n,e,t=3)=>{let r=0;const s=wB(50,250);return bB(a=>{const l=a.loaded,d=a.lengthComputable?a.total:void 0,f=l-r,m=s(f),g=l<=d;r=l;const y={loaded:l,total:d,progress:d?l/d:void 0,bytes:f,rate:m||void 0,estimated:m&&d&&g?(d-l)/m:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(y)},t)},f_=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},p_=n=>(...e)=>Y.asap(()=>n(...e)),_B=ln.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ln.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,TB=ln.hasStandardBrowserEnv?{write(n,e,t,r,s,a){const l=[n+"="+encodeURIComponent(e)];Y.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Y.isString(r)&&l.push("path="+r),Y.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function EB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function SB(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function $A(n,e,t){let r=!EB(e);return n&&(r||t==!1)?SB(n,e):e}const m_=n=>n instanceof Tn?{...n}:n;function Fo(n,e){e=e||{};const t={};function r(m,g,y,b){return Y.isPlainObject(m)&&Y.isPlainObject(g)?Y.merge.call({caseless:b},m,g):Y.isPlainObject(g)?Y.merge({},g):Y.isArray(g)?g.slice():g}function s(m,g,y,b){if(Y.isUndefined(g)){if(!Y.isUndefined(m))return r(void 0,m,y,b)}else return r(m,g,y,b)}function a(m,g){if(!Y.isUndefined(g))return r(void 0,g)}function l(m,g){if(Y.isUndefined(g)){if(!Y.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function d(m,g,y){if(y in e)return r(m,g);if(y in n)return r(void 0,m)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(m,g,y)=>s(m_(m),m_(g),y,!0)};return Y.forEach(Object.keys({...n,...e}),function(g){const y=f[g]||s,b=y(n[g],e[g],g);Y.isUndefined(b)&&y!==d||(t[g]=b)}),t}const zA=n=>{const e=Fo({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:d}=e;if(e.headers=l=Tn.from(l),e.url=LA($A(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Y.isFormData(t)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Y.isFunction(t.getHeaders)){const f=t.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([g,y])=>{m.includes(g.toLowerCase())&&l.set(g,y)})}}if(ln.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&_B(e.url))){const f=s&&a&&TB.read(a);f&&l.set(s,f)}return e},AB=typeof XMLHttpRequest<"u",kB=AB&&function(n){return new Promise(function(t,r){const s=zA(n);let a=s.data;const l=Tn.from(s.headers).normalize();let{responseType:d,onUploadProgress:f,onDownloadProgress:m}=s,g,y,b,S,A;function R(){S&&S(),A&&A(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function F(){if(!C)return;const I=Tn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),X={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:I,config:n,request:C};BA(function(k){t(k),R()},function(k){r(k),R()},X),C=null}"onloadend"in C?C.onloadend=F:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(F)},C.onabort=function(){C&&(r(new Be("Request aborted",Be.ECONNABORTED,n,C)),C=null)},C.onerror=function(H){const X=H&&H.message?H.message:"Network Error",G=new Be(X,Be.ERR_NETWORK,n,C);G.event=H||null,r(G),C=null},C.ontimeout=function(){let H=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const X=s.transitional||VA;s.timeoutErrorMessage&&(H=s.timeoutErrorMessage),r(new Be(H,X.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,n,C)),C=null},a===void 0&&l.setContentType(null),"setRequestHeader"in C&&Y.forEach(l.toJSON(),function(H,X){C.setRequestHeader(X,H)}),Y.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),d&&d!=="json"&&(C.responseType=s.responseType),m&&([b,A]=cf(m,!0),C.addEventListener("progress",b)),f&&C.upload&&([y,S]=cf(f),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(g=I=>{C&&(r(!I||I.type?new wl(null,n,C):I),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const B=xB(s.url);if(B&&ln.protocols.indexOf(B)===-1){r(new Be("Unsupported protocol "+B+":",Be.ERR_BAD_REQUEST,n));return}C.send(a||null)})},CB=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const a=function(m){if(!s){s=!0,d();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Be?g:new wl(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Be(`timeout ${e} of ms exceeded`,Be.ETIMEDOUT))},e);const d=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>Y.asap(d),f}},IB=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},NB=async function*(n,e){for await(const t of jB(n))yield*IB(t,e)},jB=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},g_=(n,e,t,r)=>{const s=NB(n,e);let a=0,l,d=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:g}=await s.next();if(m){d(),f.close();return}let y=g.byteLength;if(t){let b=a+=y;t(b)}f.enqueue(new Uint8Array(g))}catch(m){throw d(m),m}},cancel(f){return d(f),s.return()}},{highWaterMark:2})},y_=64*1024,{isFunction:ah}=Y,PB=(({Request:n,Response:e})=>({Request:n,Response:e}))(Y.global),{ReadableStream:v_,TextEncoder:x_}=Y.global,w_=(n,...e)=>{try{return!!n(...e)}catch{return!1}},RB=n=>{n=Y.merge.call({skipUndefined:!0},PB,n);const{fetch:e,Request:t,Response:r}=n,s=e?ah(e):typeof fetch=="function",a=ah(t),l=ah(r);if(!s)return!1;const d=s&&ah(v_),f=s&&(typeof x_=="function"?(A=>R=>A.encode(R))(new x_):async A=>new Uint8Array(await new t(A).arrayBuffer())),m=a&&d&&w_(()=>{let A=!1;const R=new t(ln.origin,{body:new v_,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!R}),g=l&&d&&w_(()=>Y.isReadableStream(new r("").body)),y={stream:g&&(A=>A.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!y[A]&&(y[A]=(R,C)=>{let F=R&&R[A];if(F)return F.call(R);throw new Be(`Response type '${A}' is not supported`,Be.ERR_NOT_SUPPORT,C)})});const b=async A=>{if(A==null)return 0;if(Y.isBlob(A))return A.size;if(Y.isSpecCompliantForm(A))return(await new t(ln.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(A)||Y.isArrayBuffer(A))return A.byteLength;if(Y.isURLSearchParams(A)&&(A=A+""),Y.isString(A))return(await f(A)).byteLength},S=async(A,R)=>{const C=Y.toFiniteNumber(A.getContentLength());return C??b(R)};return async A=>{let{url:R,method:C,data:F,signal:B,cancelToken:I,timeout:H,onDownloadProgress:X,onUploadProgress:G,responseType:k,headers:T,withCredentials:P="same-origin",fetchOptions:M}=zA(A),L=e||fetch;k=k?(k+"").toLowerCase():"text";let $=CB([B,I&&I.toAbortSignal()],H),D=null;const be=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let re;try{if(G&&m&&C!=="get"&&C!=="head"&&(re=await S(T,F))!==0){let V=new t(R,{method:"POST",body:F,duplex:"half"}),Z;if(Y.isFormData(F)&&(Z=V.headers.get("content-type"))&&T.setContentType(Z),V.body){const[ke,Se]=f_(re,cf(p_(G)));F=g_(V.body,y_,ke,Se)}}Y.isString(P)||(P=P?"include":"omit");const ie=a&&"credentials"in t.prototype,Ce={...M,signal:$,method:C.toUpperCase(),headers:T.normalize().toJSON(),body:F,duplex:"half",credentials:ie?P:void 0};D=a&&new t(R,Ce);let ae=await(a?L(D,M):L(R,Ce));const ye=g&&(k==="stream"||k==="response");if(g&&(X||ye&&be)){const V={};["status","statusText","headers"].forEach(Le=>{V[Le]=ae[Le]});const Z=Y.toFiniteNumber(ae.headers.get("content-length")),[ke,Se]=X&&f_(Z,cf(p_(X),!0))||[];ae=new r(g_(ae.body,y_,ke,()=>{Se&&Se(),be&&be()}),V)}k=k||"text";let pe=await y[Y.findKey(y,k)||"text"](ae,A);return!ye&&be&&be(),await new Promise((V,Z)=>{BA(V,Z,{data:pe,headers:Tn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:A,request:D})})}catch(ie){throw be&&be(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,A,D),{cause:ie.cause||ie}):Be.from(ie,ie&&ie.code,A,D)}}},DB=new Map,HA=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:s}=e,a=[r,s,t];let l=a.length,d=l,f,m,g=DB;for(;d--;)f=a[d],m=g.get(f),m===void 0&&g.set(f,m=d?new Map:RB(e)),g=m;return m};HA();const dy={http:YU,xhr:kB,fetch:{get:HA}};Y.forEach(dy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const b_=n=>`- ${n}`,MB=n=>Y.isFunction(n)||n===null||n===!1,qA={getAdapter:(n,e)=>{n=Y.isArray(n)?n:[n];const{length:t}=n;let r,s;const a={};for(let l=0;l<t;l++){r=n[l];let d;if(s=r,!MB(r)&&(s=dy[(d=String(r)).toLowerCase()],s===void 0))throw new Be(`Unknown adapter '${d}'`);if(s&&(Y.isFunction(s)||(s=s.get(e))))break;a[d||"#"+l]=s}if(!s){const l=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=t?l.length>1?`since :
`+l.map(b_).join(`
`):" "+b_(l[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s},adapters:dy};function dg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new wl(null,n)}function __(n){return dg(n),n.headers=Tn.from(n.headers),n.data=ug.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),qA.getAdapter(n.adapter||Tu.adapter,n)(n).then(function(r){return dg(n),r.data=ug.call(n,n.transformResponse,r),r.headers=Tn.from(r.headers),r},function(r){return UA(r)||(dg(n),r&&r.response&&(r.response.data=ug.call(n,n.transformResponse,r.response),r.response.headers=Tn.from(r.response.headers))),Promise.reject(r)})}const WA="1.12.2",np={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{np[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const T_={};np.transitional=function(e,t,r){function s(a,l){return"[Axios v"+WA+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,d)=>{if(e===!1)throw new Be(s(l," has been removed"+(t?" in "+t:"")),Be.ERR_DEPRECATED);return t&&!T_[l]&&(T_[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,d):!0}};np.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function OB(n,e,t){if(typeof n!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const d=n[a],f=d===void 0||l(d,a,n);if(f!==!0)throw new Be("option "+a+" must be "+f,Be.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Be("Unknown option "+a,Be.ERR_BAD_OPTION)}}const Sh={assertOptions:OB,validators:np},Rr=Sh.validators;let Io=class{constructor(e){this.defaults=e||{},this.interceptors={request:new d_,response:new d_}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Fo(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&Sh.assertOptions(r,{silentJSONParsing:Rr.transitional(Rr.boolean),forcedJSONParsing:Rr.transitional(Rr.boolean),clarifyTimeoutError:Rr.transitional(Rr.boolean)},!1),s!=null&&(Y.isFunction(s)?t.paramsSerializer={serialize:s}:Sh.assertOptions(s,{encode:Rr.function,serialize:Rr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Sh.assertOptions(t,{baseUrl:Rr.spelling("baseURL"),withXsrfToken:Rr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&Y.merge(a.common,a[t.method]);a&&Y.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),t.headers=Tn.concat(l,a);const d=[];let f=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(f=f&&R.synchronous,d.unshift(R.fulfilled,R.rejected))});const m=[];this.interceptors.response.forEach(function(R){m.push(R.fulfilled,R.rejected)});let g,y=0,b;if(!f){const A=[__.bind(this),void 0];for(A.unshift(...d),A.push(...m),b=A.length,g=Promise.resolve(t);y<b;)g=g.then(A[y++],A[y++]);return g}b=d.length;let S=t;for(;y<b;){const A=d[y++],R=d[y++];try{S=A(S)}catch(C){R.call(this,C);break}}try{g=__.call(this,S)}catch(A){return Promise.reject(A)}for(y=0,b=m.length;y<b;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=Fo(this.defaults,e);const t=$A(e.baseURL,e.url,e.allowAbsoluteUrls);return LA(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(t,r){return this.request(Fo(r||{},{method:e,url:t,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(r){return function(a,l,d){return this.request(Fo(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Io.prototype[e]=t(),Io.prototype[e+"Form"]=t(!0)});let LB=class GA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(d=>{r.subscribe(d),a=d}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,d){r.reason||(r.reason=new wl(a,l,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new GA(function(s){e=s}),cancel:e}}};function VB(n){return function(t){return n.apply(null,t)}}function FB(n){return Y.isObject(n)&&n.isAxiosError===!0}const hy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hy).forEach(([n,e])=>{hy[e]=n});function KA(n){const e=new Io(n),t=SA(Io.prototype.request,e);return Y.extend(t,Io.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return KA(Fo(n,s))},t}const vt=KA(Tu);vt.Axios=Io;vt.CanceledError=wl;vt.CancelToken=LB;vt.isCancel=UA;vt.VERSION=WA;vt.toFormData=tp;vt.AxiosError=Be;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=VB;vt.isAxiosError=FB;vt.mergeConfig=Fo;vt.AxiosHeaders=Tn;vt.formToJSON=n=>FA(Y.isHTMLForm(n)?new FormData(n):n);vt.getAdapter=qA.getAdapter;vt.HttpStatusCode=hy;vt.default=vt;const{Axios:m9,AxiosError:g9,CanceledError:y9,isCancel:v9,CancelToken:x9,VERSION:w9,all:b9,Cancel:_9,isAxiosError:T9,spread:E9,toFormData:S9,AxiosHeaders:A9,HttpStatusCode:k9,formToJSON:C9,getAdapter:I9,mergeConfig:N9}=vt;class UB{constructor(){this.supportedFrameworks={"react-native":{name:"React Native",description:"Cross-platform mobile apps with JavaScript",platforms:["ios","android"],languages:["javascript","typescript"],features:["native-performance","hot-reload","large-community"]},flutter:{name:"Flutter",description:"Cross-platform apps with Dart",platforms:["ios","android","web"],languages:["dart"],features:["fast-development","beautiful-ui","google-backed"]},ionic:{name:"Ionic",description:"Cross-platform apps with web technologies",platforms:["ios","android","web"],languages:["javascript","typescript"],features:["web-based","easy-deployment","pwa-ready"]},pwa:{name:"Progressive Web App",description:"Web apps that work like native apps",platforms:["ios","android","web"],languages:["javascript","html","css"],features:["no-app-store","instant-updates","cross-platform"]},capacitor:{name:"Capacitor",description:"Native apps from web technologies",platforms:["ios","android","web"],languages:["javascript","typescript"],features:["web-to-native","plugin-system","ionic-integration"]}}}async generateMobileApp(e,t={}){const r=this.detectFramework(e,t),s=this.detectPlatform(e,t);switch(console.log(`📱 Generating ${r.name} app for ${s}...`),r.id){case"react-native":return this.generateReactNativeApp(e,t,s);case"flutter":return this.generateFlutterApp(e,t,s);case"ionic":return this.generateIonicApp(e,t,s);case"pwa":return this.generatePWAApp(e,t,s);case"capacitor":return this.generateCapacitorApp(e,t,s);default:return this.generatePWAApp(e,t,s)}}detectFramework(e,t){const r=e.toLowerCase(),s=t.framework||t.mobileFramework;return r.includes("react native")||r.includes("react-native")?this.supportedFrameworks["react-native"]:r.includes("flutter")?this.supportedFrameworks.flutter:r.includes("ionic")?this.supportedFrameworks.ionic:r.includes("capacitor")?this.supportedFrameworks.capacitor:r.includes("pwa")||r.includes("progressive web app")?this.supportedFrameworks.pwa:s&&this.supportedFrameworks[s]?this.supportedFrameworks[s]:r.includes("game")||r.includes("performance")?this.supportedFrameworks["react-native"]:r.includes("ui")||r.includes("design")||r.includes("beautiful")?this.supportedFrameworks.flutter:r.includes("web")||r.includes("website")||r.includes("simple")?this.supportedFrameworks.pwa:this.supportedFrameworks.pwa}detectPlatform(e,t){const r=e.toLowerCase(),s=t.platform||t.mobilePlatform;return s||(r.includes("ios")||r.includes("iphone")||r.includes("apple")?"ios":r.includes("android")||r.includes("google play")?"android":"cross-platform")}generateReactNativeApp(e,t,r){const s=t.projectName||"DreamBuildApp",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"package.json":this.generateReactNativePackageJSON(s,t),"App.js":this.generateReactNativeAppJS(s,e,t),"App.json":this.generateReactNativeAppJSON(s,t),"metro.config.js":this.generateMetroConfig(),"babel.config.js":this.generateBabelConfig(),"android/app/build.gradle":this.generateAndroidBuildGradle(s,a),"android/app/src/main/AndroidManifest.xml":this.generateAndroidManifest(s,a),"ios/Info.plist":this.generateIOSInfoPlist(s,a),"README.md":this.generateReactNativeREADME(s,e,t),"app.json":this.generateExpoConfig(s,t)}}generateFlutterApp(e,t,r){const s=t.projectName||"dreambuild_app",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"pubspec.yaml":this.generateFlutterPubspec(s,t),"lib/main.dart":this.generateFlutterMain(s,e,t),"android/app/build.gradle":this.generateFlutterAndroidBuildGradle(s,a),"android/app/src/main/AndroidManifest.xml":this.generateFlutterAndroidManifest(s,a),"ios/Runner/Info.plist":this.generateFlutterIOSInfoPlist(s,a),"README.md":this.generateFlutterREADME(s,e,t)}}generateIonicApp(e,t,r){const s=t.projectName||"DreamBuildApp",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"package.json":this.generateIonicPackageJSON(s,t),"ionic.config.json":this.generateIonicConfig(s,t),"src/app/app.component.ts":this.generateIonicAppComponent(s,e,t),"src/app/app.module.ts":this.generateIonicAppModule(s,t),"src/index.html":this.generateIonicIndexHTML(s,t),"capacitor.config.json":this.generateCapacitorConfig(s,t),"android/app/build.gradle":this.generateCapacitorAndroidBuildGradle(s,a),"ios/App/App/Info.plist":this.generateCapacitorIOSInfoPlist(s,a),"README.md":this.generateIonicREADME(s,e,t)}}generatePWAApp(e,t,r){const s=t.projectName||"DreamBuild App";return{"index.html":this.generatePWAHTML(s,e,t),"manifest.json":this.generatePWAManifest(s,t),"sw.js":this.generatePWAServiceWorker(s,t),"style.css":this.generatePWACSS(s,t),"script.js":this.generatePWAJavaScript(s,e,t),"package.json":this.generatePWAPackageJSON(s,t),"README.md":this.generatePWAREADME(s,e,t)}}generateCapacitorApp(e,t,r){const s=t.projectName||"DreamBuildApp",a=s.toLowerCase().replace(/[^a-z0-9]/g,"");return{"package.json":this.generateCapacitorPackageJSON(s,t),"capacitor.config.json":this.generateCapacitorConfig(s,t),"src/index.html":this.generateCapacitorIndexHTML(s,t),"src/main.ts":this.generateCapacitorMain(s,e,t),"src/app/app.component.ts":this.generateCapacitorAppComponent(s,e,t),"android/app/build.gradle":this.generateCapacitorAndroidBuildGradle(s,a),"ios/App/App/Info.plist":this.generateCapacitorIOSInfoPlist(s,a),"README.md":this.generateCapacitorREADME(s,e,t)}}generateReactNativePackageJSON(e,t){return JSON.stringify({name:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${e}`,main:"node_modules/expo/AppEntry.js",scripts:{start:"expo start",android:"expo start --android",ios:"expo start --ios",web:"expo start --web","build:android":"eas build --platform android","build:ios":"eas build --platform ios"},dependencies:{expo:"~50.0.0",react:"18.2.0","react-native":"0.73.0","@expo/vector-icons":"^14.0.0","react-native-safe-area-context":"4.8.2","react-native-screens":"~3.29.0","@react-navigation/native":"^6.1.9","@react-navigation/stack":"^6.3.20"},devDependencies:{"@babel/core":"^7.20.0"},keywords:["react-native","expo","mobile","dreambuild"],author:"DreamBuild AI",license:"MIT"},null,2)}generateReactNativeAppJS(e,t,r){return`import React from 'react';
import { StyleSheet, Text, View, SafeAreaView, ScrollView } from 'react-native';
import { StatusBar } from 'expo-status-bar';

export default function App() {
  return (
    <SafeAreaView style={styles.container}>
      <StatusBar style="auto" />
      <ScrollView contentContainerStyle={styles.content}>
        <View style={styles.header}>
          <Text style={styles.title}>🚀 ${e}</Text>
          <Text style={styles.subtitle}>Built with DreamBuild</Text>
        </View>
        
        <View style={styles.features}>
          <Text style={styles.featureTitle}>Features:</Text>
          <Text style={styles.feature}>✅ Cross-platform (iOS & Android)</Text>
          <Text style={styles.feature}>✅ React Native + Expo</Text>
          <Text style={styles.feature}>✅ Native performance</Text>
          <Text style={styles.feature}>✅ Hot reload development</Text>
        </View>
        
        <View style={styles.info}>
          <Text style={styles.infoText}>
            This is a React Native app generated by DreamBuild AI.
            Edit App.js to customize your app.
          </Text>
        </View>
      </ScrollView>
    </SafeAreaView>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#f8fafc',
  },
  content: {
    padding: 20,
    paddingTop: 40,
  },
  header: {
    alignItems: 'center',
    marginBottom: 40,
  },
  title: {
    fontSize: 28,
    fontWeight: 'bold',
    color: '#1e293b',
    marginBottom: 8,
  },
  subtitle: {
    fontSize: 16,
    color: '#64748b',
  },
  features: {
    backgroundColor: 'white',
    padding: 20,
    borderRadius: 12,
    marginBottom: 20,
    shadowColor: '#000',
    shadowOffset: { width: 0, height: 2 },
    shadowOpacity: 0.1,
    shadowRadius: 4,
    elevation: 3,
  },
  featureTitle: {
    fontSize: 18,
    fontWeight: '600',
    color: '#1e293b',
    marginBottom: 12,
  },
  feature: {
    fontSize: 16,
    color: '#475569',
    marginBottom: 8,
  },
  info: {
    backgroundColor: '#eff6ff',
    padding: 16,
    borderRadius: 8,
    borderLeftWidth: 4,
    borderLeftColor: '#3b82f6',
  },
  infoText: {
    fontSize: 14,
    color: '#1e40af',
    lineHeight: 20,
  },
});
`}generateReactNativeAppJSON(e,t){return JSON.stringify({expo:{name:e,slug:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",orientation:"portrait",icon:"./assets/icon.png",userInterfaceStyle:"light",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"},assetBundlePatterns:["**/*"],ios:{supportsTablet:!0,bundleIdentifier:`com.dreambuild.${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`},android:{adaptiveIcon:{foregroundImage:"./assets/adaptive-icon.png",backgroundColor:"#ffffff"},package:`com.dreambuild.${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`},web:{favicon:"./assets/favicon.png"}}},null,2)}generateFlutterPubspec(e,t){return`name: ${e.toLowerCase().replace(/[^a-z0-9]/g,"_")}
description: Built with DreamBuild - ${e}
publish_to: 'none'
version: 1.0.0+1

environment:
  sdk: '>=3.0.0 <4.0.0'
  flutter: ">=3.10.0"

dependencies:
  flutter:
    sdk: flutter
  cupertino_icons: ^1.0.2
  http: ^1.1.0
  shared_preferences: ^2.2.2

dev_dependencies:
  flutter_test:
    sdk: flutter
  flutter_lints: ^3.0.0

flutter:
  uses-material-design: true
  assets:
    - assets/images/
`}generateFlutterMain(e,t,r){return`import 'package:flutter/material.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: '${e}',
      theme: ThemeData(
        colorScheme: ColorScheme.fromSeed(seedColor: Colors.blue),
        useMaterial3: true,
      ),
      home: const MyHomePage(title: '${e}'),
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, required this.title});

  final String title;

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Theme.of(context).colorScheme.inversePrimary,
        title: Text(widget.title),
      ),
      body: Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: <Widget>[
            const Icon(
              Icons.rocket_launch,
              size: 80,
              color: Colors.blue,
            ),
            const SizedBox(height: 20),
            Text(
              '🚀 ${e}',
              style: Theme.of(context).textTheme.headlineMedium?.copyWith(
                fontWeight: FontWeight.bold,
              ),
            ),
            const SizedBox(height: 10),
            Text(
              'Built with DreamBuild',
              style: Theme.of(context).textTheme.bodyLarge?.copyWith(
                color: Colors.grey[600],
              ),
            ),
            const SizedBox(height: 40),
            Card(
              margin: const EdgeInsets.all(20),
              child: Padding(
                padding: const EdgeInsets.all(20),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      'Features:',
                      style: Theme.of(context).textTheme.titleLarge?.copyWith(
                        fontWeight: FontWeight.bold,
                      ),
                    ),
                    const SizedBox(height: 10),
                    const FeatureItem(icon: Icons.check_circle, text: 'Cross-platform (iOS & Android)'),
                    const FeatureItem(icon: Icons.check_circle, text: 'Flutter framework'),
                    const FeatureItem(icon: Icons.check_circle, text: 'Material Design 3'),
                    const FeatureItem(icon: Icons.check_circle, text: 'Hot reload development'),
                  ],
                ),
              ),
            ),
          ],
        ),
      ),
    );
  }
}

class FeatureItem extends StatelessWidget {
  final IconData icon;
  final String text;

  const FeatureItem({
    super.key,
    required this.icon,
    required this.text,
  });

  @override
  Widget build(BuildContext context) {
    return Padding(
      padding: const EdgeInsets.symmetric(vertical: 4),
      child: Row(
        children: [
          Icon(icon, color: Colors.green, size: 20),
          const SizedBox(width: 8),
          Text(text),
        ],
      ),
    );
  }
}
`}generatePWAHTML(e,t,r){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e}</title>
    <meta name="description" content="Built with DreamBuild - ${e}">
    <meta name="theme-color" content="#2563eb">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="${e}">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <header class="app-header">
            <h1>🚀 ${e}</h1>
            <p>Built with DreamBuild</p>
        </header>
        
        <main class="app-main">
            <div class="feature-card">
                <h2>Mobile App Features</h2>
                <ul class="feature-list">
                    <li>✅ Progressive Web App (PWA)</li>
                    <li>✅ Installable on iOS & Android</li>
                    <li>✅ Offline functionality</li>
                    <li>✅ Push notifications</li>
                    <li>✅ App-like experience</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h3>Install Instructions</h3>
                <div class="install-steps">
                    <div class="step">
                        <strong>iOS:</strong> Tap Share → Add to Home Screen
                    </div>
                    <div class="step">
                        <strong>Android:</strong> Tap menu → Add to Home Screen
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="app-footer">
            <p>Powered by <strong>DreamBuild AI</strong></p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePWAManifest(e,t){return JSON.stringify({name:e,short_name:e.split(" ")[0],description:`Built with DreamBuild - ${e}`,start_url:"/",display:"standalone",background_color:"#ffffff",theme_color:"#2563eb",orientation:"portrait-primary",icons:[{src:"icon-192.png",sizes:"192x192",type:"image/png",purpose:"any maskable"},{src:"icon-512.png",sizes:"512x512",type:"image/png",purpose:"any maskable"}],categories:["productivity","utilities"],screenshots:[{src:"screenshot-mobile.png",sizes:"390x844",type:"image/png",form_factor:"narrow"}]},null,2)}generatePWAServiceWorker(e,t){return`// DreamBuild PWA Service Worker
const CACHE_NAME = 'dreambuild-${e.toLowerCase().replace(/[^a-z0-9]/g,"-")}-v1';
const urlsToCache = [
  '/',
  '/index.html',
  '/style.css',
  '/script.js',
  '/manifest.json'
];

// Install event
self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then((cache) => {
        console.log('Opened cache');
        return cache.addAll(urlsToCache);
      })
  );
});

// Fetch event
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then((response) => {
        // Return cached version or fetch from network
        return response || fetch(event.request);
      }
    )
  );
});

// Activate event
self.addEventListener('activate', (event) => {
  event.waitUntil(
    caches.keys().then((cacheNames) => {
      return Promise.all(
        cacheNames.map((cacheName) => {
          if (cacheName !== CACHE_NAME) {
            console.log('Deleting old cache:', cacheName);
            return caches.delete(cacheName);
          }
        })
      );
    })
  );
});`}generatePWACSS(e,t){return`/* DreamBuild PWA Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
  line-height: 1.6;
  color: #333;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
}

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.app-header {
  text-align: center;
  padding: 40px 20px;
  color: white;
}

.app-header h1 {
  font-size: 2.5rem;
  margin-bottom: 10px;
  font-weight: bold;
}

.app-header p {
  font-size: 1.2rem;
  opacity: 0.9;
}

.app-main {
  flex: 1;
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  width: 100%;
}

.feature-card, .info-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 16px;
  padding: 24px;
  margin-bottom: 20px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
}

.feature-card h2, .info-card h3 {
  color: #1e293b;
  margin-bottom: 16px;
  font-size: 1.5rem;
}

.feature-list {
  list-style: none;
}

.feature-list li {
  padding: 8px 0;
  font-size: 1.1rem;
  color: #475569;
}

.install-steps {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.step {
  padding: 12px;
  background: #f1f5f9;
  border-radius: 8px;
  font-size: 0.95rem;
  color: #334155;
}

.app-footer {
  text-align: center;
  padding: 20px;
  color: white;
  opacity: 0.8;
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .app-header h1 {
    font-size: 2rem;
  }
  
  .feature-card, .info-card {
    margin: 10px;
    padding: 20px;
  }
}

/* PWA specific styles */
@media (display-mode: standalone) {
  body {
    user-select: none;
    -webkit-user-select: none;
  }
}`}generatePWAJavaScript(e,t,r){return`// DreamBuild PWA JavaScript
console.log('🚀 ${e} PWA loaded!');

// Register service worker
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then((registration) => {
        console.log('SW registered: ', registration);
      })
      .catch((registrationError) => {
        console.log('SW registration failed: ', registrationError);
      });
  });
}

// PWA install prompt
let deferredPrompt;
const installButton = document.createElement('button');
installButton.textContent = 'Install App';
installButton.className = 'install-button';
installButton.style.cssText = \`
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: #3b82f6;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 25px;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  z-index: 1000;
\`;

window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  document.body.appendChild(installButton);
});

installButton.addEventListener('click', async () => {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    console.log('User choice:', outcome);
    deferredPrompt = null;
    installButton.remove();
  }
});

// App functionality
document.addEventListener('DOMContentLoaded', () => {
  console.log('📱 ${e} PWA ready!');
  
  // Add some interactive features
  const featureItems = document.querySelectorAll('.feature-list li');
  featureItems.forEach((item, index) => {
    item.addEventListener('click', () => {
      item.style.transform = 'scale(1.05)';
      setTimeout(() => {
        item.style.transform = 'scale(1)';
      }, 200);
    });
  });
});

// Handle app updates
window.addEventListener('appinstalled', () => {
  console.log('🎉 ${e} installed successfully!');
});

// Network status
window.addEventListener('online', () => {
  console.log('📶 App is online');
});

window.addEventListener('offline', () => {
  console.log('📵 App is offline');
});`}generateMetroConfig(){return`module.exports = {
  transformer: {
    getTransformOptions: async () => ({
      transform: {
        experimentalImportSupport: false,
        inlineRequires: true,
      },
    }),
  },
};`}generateBabelConfig(){return`module.exports = function(api) {
  api.cache(true);
  return {
    presets: ['babel-preset-expo'],
  };
};`}generateAndroidBuildGradle(e,t){return`android {
    compileSdkVersion rootProject.ext.compileSdkVersion

    defaultConfig {
        applicationId "${t}"
        minSdkVersion rootProject.ext.minSdkVersion
        targetSdkVersion rootProject.ext.targetSdkVersion
        versionCode 1
        versionName "1.0"
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
        }
    }
}`}generateAndroidManifest(e,t){return`<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="${t}">

    <application
        android:name=".MainApplication"
        android:label="${e}"
        android:icon="@mipmap/ic_launcher"
        android:allowBackup="false"
        android:theme="@style/AppTheme">
        <activity
            android:name=".MainActivity"
            android:label="${e}"
            android:configChanges="keyboard|keyboardHidden|orientation|screenSize|uiMode"
            android:launchMode="singleTask"
            android:windowSoftInputMode="adjustResize"
            android:exported="true">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>
</manifest>`}generateIOSInfoPlist(e,t){return`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>CFBundleDisplayName</key>
    <string>${e}</string>
    <key>CFBundleIdentifier</key>
    <string>${t}</string>
    <key>CFBundleName</key>
    <string>${e}</string>
    <key>CFBundleVersion</key>
    <string>1.0.0</string>
    <key>CFBundleShortVersionString</key>
    <string>1.0.0</string>
</dict>
</plist>`}generateReactNativeREADME(e,t,r){return`# ${e}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

## 📱 React Native App

This is a React Native mobile application built with Expo.

### 🚀 Features

- **Cross-platform**: iOS and Android
- **Framework**: React Native with Expo
- **Performance**: Native performance
- **Development**: Hot reload and fast refresh

### 🛠️ Getting Started

1. **Install dependencies:**
   \`\`\`bash
   npm install
   \`\`\`

2. **Start the development server:**
   \`\`\`bash
   npm start
   \`\`\`

3. **Run on device/simulator:**
   \`\`\`bash
   # iOS
   npm run ios
   
   # Android
   npm run android
   \`\`\`

### 📦 Building for Production

1. **Build for Android:**
   \`\`\`bash
   npm run build:android
   \`\`\`

2. **Build for iOS:**
   \`\`\`bash
   npm run build:ios
   \`\`\`

### 📱 App Features

- Modern React Native architecture
- Expo SDK integration
- Cross-platform compatibility
- Native performance
- Easy deployment

### 🤖 Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`}generateFlutterREADME(e,t,r){return`# ${e}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

## 📱 Flutter App

This is a Flutter mobile application built with Dart.

### 🚀 Features

- **Cross-platform**: iOS and Android
- **Framework**: Flutter with Dart
- **UI**: Material Design 3
- **Performance**: Native performance

### 🛠️ Getting Started

1. **Install Flutter:** Follow the [official guide](https://flutter.dev/docs/get-started/install)

2. **Install dependencies:**
   \`\`\`bash
   flutter pub get
   \`\`\`

3. **Run the app:**
   \`\`\`bash
   flutter run
   \`\`\`

### 📦 Building for Production

1. **Build APK for Android:**
   \`\`\`bash
   flutter build apk
   \`\`\`

2. **Build iOS app:**
   \`\`\`bash
   flutter build ios
   \`\`\`

### 📱 App Features

- Flutter framework
- Material Design 3
- Cross-platform compatibility
- Hot reload development
- Native performance

### 🤖 Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`}generatePWAREADME(e,t,r){return`# ${e}

Built with [DreamBuild](https://dreambuild-2024-app.web.app) - Universal AI Development Platform

## 📱 Progressive Web App (PWA)

This is a Progressive Web App that works on iOS, Android, and desktop browsers.

### 🚀 Features

- **Cross-platform**: iOS, Android, Desktop
- **Installable**: Add to home screen
- **Offline**: Works without internet
- **Native-like**: App-like experience

### 📱 Installation

#### iOS (iPhone/iPad)
1. Open in Safari
2. Tap the Share button
3. Select "Add to Home Screen"
4. Tap "Add"

#### Android
1. Open in Chrome
2. Tap the menu (three dots)
3. Select "Add to Home Screen"
4. Tap "Add"

### 🛠️ Development

1. **Local development:**
   \`\`\`bash
   # Serve locally
   npx serve .
   
   # Or use any static server
   python -m http.server 8000
   \`\`\`

2. **Test PWA features:**
   - Use Chrome DevTools → Application tab
   - Test offline functionality
   - Check manifest and service worker

### 📱 PWA Features

- Service Worker for offline functionality
- Web App Manifest for installation
- Responsive design for all devices
- Push notification support
- App-like navigation

### 🌐 Deployment

Deploy to any static hosting service:
- Firebase Hosting
- GitHub Pages
- Netlify
- Vercel

### 🤖 Built with DreamBuild

Created using DreamBuild's AI-powered development platform. Visit [dreambuild-2024-app.web.app](https://dreambuild-2024-app.web.app) to build your own apps!

---

*Generated on ${new Date().toLocaleDateString()} by DreamBuild AI*
`}generateIonicPackageJSON(e,t){return JSON.stringify({name:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${e}`,main:"index.js",scripts:{build:"ionic build",serve:"ionic serve",ios:"ionic capacitor run ios",android:"ionic capacitor run android"},dependencies:{"@ionic/core":"^7.0.0","@ionic/react":"^7.0.0","@capacitor/core":"^5.0.0","@capacitor/ios":"^5.0.0","@capacitor/android":"^5.0.0"},devDependencies:{"@ionic/cli":"^7.0.0"},keywords:["ionic","capacitor","mobile","dreambuild"],author:"DreamBuild AI",license:"MIT"},null,2)}generateCapacitorConfig(e,t){return JSON.stringify({appId:`com.dreambuild.${e.toLowerCase().replace(/[^a-z0-9]/g,"")}`,appName:e,webDir:"dist",server:{androidScheme:"https"}},null,2)}generateExpoConfig(e,t){return JSON.stringify({expo:{name:e,slug:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",platforms:["ios","android","web"],orientation:"portrait",icon:"./assets/icon.png",splash:{image:"./assets/splash.png",resizeMode:"contain",backgroundColor:"#ffffff"}}},null,2)}generatePWAPackageJSON(e,t){return JSON.stringify({name:e.toLowerCase().replace(/[^a-z0-9]/g,"-"),version:"1.0.0",description:`Built with DreamBuild - ${e}`,main:"index.html",scripts:{start:"npx serve .",build:"echo 'PWA - no build required'",deploy:"echo 'Deploy using DreamBuild deployment system'"},keywords:["pwa","progressive-web-app","mobile","dreambuild"],author:"DreamBuild AI",license:"MIT",dependencies:{},devDependencies:{serve:"^14.0.0"}},null,2)}}const BB=new UB,ps={"codellama-7b":{name:"CodeLlama 7B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:7b",description:"Fast and efficient code generation (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["speed","efficiency","general-purpose"],ram_required:"8GB"},"codellama-13b":{name:"CodeLlama 13B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:13b",description:"Higher quality code generation (13B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["quality","accuracy","complex-problems"],ram_required:"16GB"},"codellama-34b":{name:"CodeLlama 34B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:34b",description:"Best quality code generation (34B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["best-quality","complex-systems","enterprise-code"],ram_required:"32GB"},"starcoder-15b":{name:"StarCoder 15B",type:"Code Completion",baseURL:"http://localhost:11434/api",model:"starcoder:15b",description:"Excellent code completion and understanding (15B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","typescript","csharp"],strengths:["code-completion","understanding","context-awareness"],ram_required:"24GB"},"deepseek-coder":{name:"DeepSeek Coder",type:"High Performance",baseURL:"http://localhost:11434/api",model:"deepseek-coder:6.7b",description:"High-performance code generation (6.7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["performance","speed","efficiency"],ram_required:"12GB"},"wizardcoder-7b":{name:"WizardCoder 7B",type:"Instruction Following",baseURL:"http://localhost:11434/api",model:"wizardcoder:7b",description:"Great at following complex instructions (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["instruction-following","complex-tasks","reasoning"],ram_required:"10GB"},"phi3-mini":{name:"Phi-3 Mini",type:"Lightweight General",baseURL:"http://localhost:11434/api",model:"phi3:mini",description:"Lightweight but powerful general-purpose model (3.8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["lightweight","fast","general-purpose"],ram_required:"6GB"},"llama3-8b":{name:"Llama 3 8B",type:"General Purpose",baseURL:"http://localhost:11434/api",model:"llama3:8b",description:"General purpose model good for documentation and planning (8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["general-purpose","documentation","planning"],ram_required:"10GB"}},$B=(n,e=16)=>{const r=Object.values(ps).filter(s=>parseInt(s.ram_required.replace("GB",""))<=e);if(r.length===0)return"phi3-mini";switch(n){case"code-generation":return r.find(s=>s.strengths.includes("quality"))?.model||"codellama-7b";case"code-completion":return r.find(s=>s.strengths.includes("code-completion"))?.model||"starcoder-15b";case"instruction-following":return r.find(s=>s.strengths.includes("instruction-following"))?.model||"wizardcoder-7b";case"documentation":return r.find(s=>s.strengths.includes("general-purpose"))?.model||"llama3-8b";default:return"codellama-7b"}};class zB{constructor(){this.currentModel="codellama-7b",this.baseURL="http://localhost:11434/api",this.modelHealth={},this.initializeHealthMonitoring()}async initializeHealthMonitoring(){if(console.log("🔍 Initializing local AI health monitoring..."),typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")){console.log("🏠 Running on localhost - checking local AI models...");for(const[t,r]of Object.entries(ps))try{await this.checkModelHealth(t)}catch(s){console.log(`⚠️ Model ${t} not available:`,s.message)}setInterval(()=>{this.performHealthChecks()},6e4)}else console.log("🌐 Running on web domain - local AI models not accessible due to CORS"),console.log("💡 To use local AI:"),console.log("   1. Install Ollama: curl -fsSL https://ollama.ai/install.sh | sh"),console.log("   2. Download models: ollama pull codellama:7b"),console.log("   3. Start Ollama: ollama serve"),console.log("   4. Run DreamBuild locally: npm run dev"),console.log("   5. Access at: http://localhost:5173")}async checkModelHealth(e){try{const t=ps[e];if(!t)return!1;if(typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log("🌐 Running on web domain - simulating healthy AI for demo purposes"),this.modelHealth[e]={isHealthy:!0,lastCheck:Date.now(),responseTime:100,note:"Demo mode - local AI simulation"},!0;const s=await vt.post(`${t.baseURL}/generate`,{model:t.model,prompt:"Hello",stream:!1,options:{temperature:.1,max_tokens:10}},{timeout:1e4});return this.modelHealth[e]={isHealthy:!0,lastCheck:Date.now(),responseTime:s.data.total_duration||0},console.log(`✅ ${t.name} is healthy`),!0}catch(t){return this.modelHealth[e]={isHealthy:!1,lastCheck:Date.now(),error:t.message},console.log(`⚠️ ${e} health check failed:`,t.message),!1}}async performHealthChecks(){const e=Object.keys(ps).map(r=>this.checkModelHealth(r));await Promise.all(e);const t=Object.values(this.modelHealth).filter(r=>r.isHealthy);this.isHealthy=t.length>0,console.log(`📊 Local AI Health: ${t.length}/${Object.keys(ps).length} models healthy`)}getAvailableModels(){return Object.entries(ps).map(([e,t])=>({id:e,...t,isHealthy:this.modelHealth[e]?.isHealthy||!1}))}getHealthyModels(){return this.getAvailableModels().filter(e=>e.isHealthy)}getBestModel(e="code-generation"){const t=this.getHealthyModels();if(t.length===0)throw new Error("No healthy AI models available. Please check your local AI setup.");const r=$B(e);return ps[r]&&this.modelHealth[r]?.isHealthy?r:t[0].id}async generateCode(e,t={}){try{if(this.isMobileAppRequest(e))return console.log("📱 Mobile app request detected - using mobile app service"),await BB.generateMobileApp(e,t);if(typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log("🌐 Running on web domain - using template fallback (demo mode)"),this.createFallbackResponse(e,t);const s=this.detectTaskType(e),a=this.getBestModel(s),l=ps[a];console.log(`🤖 Using ${l.name} for ${s} task`);const f=`${this.buildSystemPrompt(t,l)}

User Request: ${e}`,m=await vt.post(`${l.baseURL}/generate`,{model:l.model,prompt:f,stream:!1,options:{temperature:.7,max_tokens:4e3,top_p:.9,top_k:40}},{timeout:12e4});return this.parseResponse(m.data.response,e,t)}catch(r){return console.error("❌ Local AI generation failed:",r),this.createFallbackResponse(e,t)}}detectTaskType(e){const t=e.toLowerCase();return t.includes("complete")||t.includes("finish")?"code-completion":t.includes("document")||t.includes("explain")?"documentation":t.includes("complex")||t.includes("advanced")?"instruction-following":this.isMobileAppRequest(e)?"mobile-app-generation":"code-generation"}isMobileAppRequest(e){const t=e.toLowerCase();return["mobile app","ios app","android app","iphone app","android app","react native","flutter","ionic","pwa","progressive web app","capacitor","phone app","tablet app","app store","google play"].some(s=>t.includes(s))}buildSystemPrompt(e,t){return`You are an expert software developer and AI assistant. Generate high-quality, production-ready code based on user requests.

Context:
- App Type: ${e.appType||"frontend"}
- Language: ${e.language||"javascript"}
- Styling: ${e.styling||"tailwind"}
- Features: ${e.features?.join(", ")||"basic functionality"}

Instructions:
1. Generate complete, working code
2. Include proper error handling
3. Add comments for complex logic
4. Use modern best practices
5. Make code responsive and accessible
6. Include all necessary files (HTML, CSS, JS)

You are using ${t.name} - ${t.description}.
Supported languages: ${t.languages.join(", ")}.`}parseResponse(e,t,r){try{const s=e.match(/```[\s\S]*?```/g);if(s&&s.length>0){const a={};return s.forEach((l,d)=>{const m=l.split(`
`)[0].replace(/```/g,"").trim();let g;if(m&&m.includes("."))g=m;else{const b=l.replace(/```[\w]*\n?/,"").replace(/```$/,"");g=this.detectFilename(b,d)}const y=l.replace(/```[\w]*\n?/,"").replace(/```$/,"").trim();a[g]=y}),a}return this.createFallbackResponse(t,r)}catch(s){return console.error("Error parsing AI response:",s),this.createFallbackResponse(t,r)}}detectFilename(e,t){const r=e.toLowerCase();return r.includes("<!doctype")||r.includes("<html")?"index.html":r.includes("function")||r.includes("const")||r.includes("var")?"script.js":r.includes("{")&&r.includes("}")&&r.includes(":")?"style.css":`file${t+1}.txt`}createFallbackResponse(e,t){const r=e.toLowerCase();return r.includes("health")&&r.includes("food")?{"index.html":this.generateHealthHTML(),"style.css":this.generateHealthCSS(),"script.js":this.generateHealthJS()}:r.includes("todo")||r.includes("task")?{"index.html":this.generateTodoHTML(),"style.css":this.generateTodoCSS(),"script.js":this.generateTodoJS()}:r.includes("portfolio")||r.includes("resume")?{"index.html":this.generatePortfolioHTML(),"style.css":this.generatePortfolioCSS(),"script.js":this.generatePortfolioJS()}:{"index.html":this.generateGenericHTML(e),"style.css":this.generateGenericCSS(),"script.js":this.generateGenericJS()}}generateHealthHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🥗 Health Food Tips</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🥗 Health Food Tips</h1>
            <p>Your guide to healthy eating and nutrition</p>
        </header>
        
        <main>
            <section class="hero">
                <h2>Welcome to Your Health Journey</h2>
                <p>Discover amazing tips for healthy eating and better nutrition.</p>
            </section>
            
            <section class="content">
                <h3>Healthy Eating Tips</h3>
                <div class="tip-card">
                    <h4>🥕 Eat More Vegetables</h4>
                    <p>Include a variety of colorful vegetables in your meals for essential vitamins and minerals.</p>
                </div>
                <div class="tip-card">
                    <h4>💧 Stay Hydrated</h4>
                    <p>Drink plenty of water throughout the day to maintain optimal health.</p>
                </div>
                <div class="tip-card">
                    <h4>🌾 Choose Whole Grains</h4>
                    <p>Opt for whole grain options like brown rice, quinoa, and whole wheat bread.</p>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Health Food Tips. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateHealthCSS(){return`/* Health Food Tips Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.hero {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    margin: 40px 0;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.hero h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: #667eea;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.tip-card {
    background: white;
    padding: 30px;
    margin: 20px 0;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-left: 5px solid #667eea;
}

.tip-card h4 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .hero h2 {
        font-size: 2rem;
    }
    
    .container {
        padding: 10px;
    }
}`}generateHealthJS(){return`// Health Food Tips JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🥗 Health Food Tips loaded with Local AI!');
    
    // Add interactive features
    const tipCards = document.querySelectorAll('.tip-card');
    
    tipCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    tipCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});`}generateTodoHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✅ Todo App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>✅ My Todo List</h1>
            <p>Stay organized and productive</p>
        </header>
        
        <main>
            <div class="todo-input">
                <input type="text" id="todoInput" placeholder="Add a new task...">
                <button id="addBtn">Add Task</button>
            </div>
            
            <div class="todo-list" id="todoList">
                <!-- Tasks will be added here -->
            </div>
        </main>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateTodoCSS(){return`/* Todo App Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
    min-height: 100vh;
    color: #333;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.todo-input {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
}

#todoInput {
    flex: 1;
    padding: 15px;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

#addBtn {
    padding: 15px 30px;
    background: #00b894;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: background 0.3s ease;
}

#addBtn:hover {
    background: #00a085;
}

.todo-item {
    background: white;
    padding: 20px;
    margin: 10px 0;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.todo-item.completed {
    opacity: 0.6;
    text-decoration: line-through;
}

.delete-btn {
    background: #e17055;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.delete-btn:hover {
    background: #d63031;
}`}generateTodoJS(){return`// Todo App JavaScript
document.addEventListener('DOMContentLoaded', function() {
    const todoInput = document.getElementById('todoInput');
    const addBtn = document.getElementById('addBtn');
    const todoList = document.getElementById('todoList');
    
    // Load todos from localStorage
    loadTodos();
    
    // Add event listeners
    addBtn.addEventListener('click', addTodo);
    todoInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addTodo();
        }
    });
    
    function addTodo() {
        const text = todoInput.value.trim();
        if (text === '') return;
        
        const todo = {
            id: Date.now(),
            text: text,
            completed: false
        };
        
        saveTodo(todo);
        displayTodo(todo);
        todoInput.value = '';
    }
    
    function displayTodo(todo) {
        const todoItem = document.createElement('div');
        todoItem.className = 'todo-item';
        todoItem.dataset.id = todo.id;
        
        if (todo.completed) {
            todoItem.classList.add('completed');
        }
        
        todoItem.innerHTML = \`
            <span>\${todo.text}</span>
            <div>
                <button class="delete-btn" onclick="deleteTodo(\${todo.id})">Delete</button>
            </div>
        \`;
        
        todoItem.addEventListener('click', function(e) {
            if (e.target.classList.contains('delete-btn')) return;
            toggleTodo(todo.id);
        });
        
        todoList.appendChild(todoItem);
    }
    
    function toggleTodo(id) {
        const todos = getTodos();
        const todo = todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            saveTodos(todos);
            loadTodos();
        }
    }
    
    function deleteTodo(id) {
        const todos = getTodos();
        const filteredTodos = todos.filter(t => t.id !== id);
        saveTodos(filteredTodos);
        loadTodos();
    }
    
    function loadTodos() {
        todoList.innerHTML = '';
        const todos = getTodos();
        todos.forEach(todo => displayTodo(todo));
    }
    
    function getTodos() {
        return JSON.parse(localStorage.getItem('todos') || '[]');
    }
    
    function saveTodo(todo) {
        const todos = getTodos();
        todos.push(todo);
        saveTodos(todos);
    }
    
    function saveTodos(todos) {
        localStorage.setItem('todos', JSON.stringify(todos));
    }
    
    // Make functions global for onclick handlers
    window.deleteTodo = deleteTodo;
    
    console.log('✅ Todo App loaded with Local AI!');
});`}generatePortfolioHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💼 Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>💼 John Developer</h1>
            <p>Full Stack Developer & AI Enthusiast</p>
        </header>
        
        <main>
            <section class="about">
                <h2>About Me</h2>
                <p>Passionate developer with expertise in modern web technologies and AI integration.</p>
            </section>
            
            <section class="projects">
                <h2>Projects</h2>
                <div class="project-grid">
                    <div class="project-card">
                        <h3>DreamBuild AI</h3>
                        <p>AI-powered development platform built with React and local AI models.</p>
                    </div>
                    <div class="project-card">
                        <h3>Smart Todo App</h3>
                        <p>Intelligent task management with AI-powered suggestions.</p>
                    </div>
                    <div class="project-card">
                        <h3>Health Tracker</h3>
                        <p>Comprehensive health monitoring with data visualization.</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 John Developer. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePortfolioCSS(){return`/* Portfolio Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3.5rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.3rem;
    opacity: 0.9;
}

section {
    background: rgba(255,255,255,0.95);
    margin: 40px 0;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

section h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.about p {
    font-size: 1.2rem;
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
}

.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.project-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.project-card:hover {
    transform: translateY(-5px);
}

.project-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2.5rem;
    }
    
    section {
        padding: 20px;
    }
    
    .project-grid {
        grid-template-columns: 1fr;
    }
}`}generatePortfolioJS(){return`// Portfolio JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('💼 Portfolio loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe project cards
    document.querySelectorAll('.project-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}generateGenericHTML(e){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</h1>
            <p>Generated with DreamBuild Local AI</p>
        </header>
        
        <main>
            <section class="content">
                <h2>Welcome</h2>
                <p>This application was generated based on your prompt using DreamBuild Local AI.</p>
                <div class="features">
                    <div class="feature-card">
                        <h3>✨ Feature 1</h3>
                        <p>Modern and responsive design</p>
                    </div>
                    <div class="feature-card">
                        <h3>🚀 Feature 2</h3>
                        <p>Built with local AI models</p>
                    </div>
                    <div class="feature-card">
                        <h3>💡 Feature 3</h3>
                        <p>No API keys required</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Generated with DreamBuild Local AI</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateGenericCSS(){return`/* Generic Template Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    margin: 40px 0;
}

.content h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.content p {
    font-size: 1.2rem;
    text-align: center;
    margin-bottom: 40px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.feature-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .content {
        padding: 20px;
    }
    
    .features {
        grid-template-columns: 1fr;
    }
}`}generateGenericJS(){return`// Generic Template JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🚀 Generic template loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe feature cards
    document.querySelectorAll('.feature-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}getTemplateCategories(){return{web:{name:"Web Applications",icon:"🌐",templates:this.generateWebTemplates(),count:1e3},mobile:{name:"Mobile Applications",icon:"📱",templates:this.generateMobileTemplates(),count:1e3},dashboard:{name:"Dashboards & Analytics",icon:"📊",templates:this.generateDashboardTemplates(),count:800},ecommerce:{name:"E-commerce & Shopping",icon:"🛒",templates:this.generateEcommerceTemplates(),count:800},api:{name:"APIs & Backend",icon:"🔌",templates:this.generateAPITemplates(),count:700},games:{name:"Games & Entertainment",icon:"🎮",templates:this.generateGameTemplates(),count:800},education:{name:"Education & Learning",icon:"🎓",templates:this.generateEducationTemplates(),count:700},healthcare:{name:"Healthcare & Medical",icon:"🏥",templates:this.generateHealthcareTemplates(),count:600},finance:{name:"Finance & Banking",icon:"💰",templates:this.generateFinanceTemplates(),count:600},iot:{name:"IoT & Smart Devices",icon:"🏠",templates:this.generateIoTTemplates(),count:500},realestate:{name:"Real Estate & Property",icon:"🏘️",templates:this.generateRealEstateTemplates(),count:500},social:{name:"Social Media & Communication",icon:"💬",templates:this.generateSocialTemplates(),count:600},productivity:{name:"Productivity & Business",icon:"💼",templates:this.generateProductivityTemplates(),count:700},creative:{name:"Creative & Design",icon:"🎨",templates:this.generateCreativeTemplates(),count:500},travel:{name:"Travel & Hospitality",icon:"✈️",templates:this.generateTravelTemplates(),count:400},food:{name:"Food & Restaurant",icon:"🍕",templates:this.generateFoodTemplates(),count:400},fitness:{name:"Fitness & Wellness",icon:"💪",templates:this.generateFitnessTemplates(),count:400},music:{name:"Music & Audio",icon:"🎵",templates:this.generateMusicTemplates(),count:300},photography:{name:"Photography & Media",icon:"📸",templates:this.generatePhotographyTemplates(),count:300},automotive:{name:"Automotive & Transportation",icon:"🚗",templates:this.generateAutomotiveTemplates(),count:300}}}getTemplatesByCategory(e){return this.getTemplateCategories()[e]?.templates||[]}getAllTemplates(){const e=[],t=this.getTemplateCategories();return Object.values(t).forEach(r=>{r.templates&&Array.isArray(r.templates)&&r.templates.forEach(s=>{typeof s=="string"?e.push({id:s,name:s.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase()),category:r.name,icon:r.icon}):typeof s=="object"&&s.id&&e.push({...s,category:r.name,icon:r.icon})})}),e}generateTemplateById(e,t={}){return this.createFallbackResponse(e,t)}searchTemplates(e){return this.getAllTemplates().filter(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.id.toLowerCase().includes(e.toLowerCase()))}getPopularTemplates(){return["business-landing","portfolio-website","blog-website","todo-app","fitness-tracker","online-store","analytics-dashboard","rest-api"].map(t=>this.getAllTemplates().find(r=>r.id===t)).filter(Boolean)}getAvailableModels(){return Object.keys(ps)}getHealthyModels(){return Object.keys(this.modelHealth).filter(e=>this.modelHealth[e].isHealthy)}get isHealthy(){return Object.values(this.modelHealth).some(e=>e.isHealthy)}createTemplateVariations(e,t,r){const s=[];let a=1;for(e.forEach(l=>{s.push({id:`template-${a++}`,name:l.replace(/-/g," ").replace(/\b\w/g,d=>d.toUpperCase()),category:"Web Applications",icon:"🌐",description:`Professional ${l.replace(/-/g," ")} template`,tags:["web","responsive","modern"]})});s.length<r;){const l=e[Math.floor(Math.random()*e.length)],d=t[Math.floor(Math.random()*t.length)];s.push({id:`template-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())} (${d})`,category:"Web Applications",icon:"🌐",description:`${d} version of ${l.replace(/-/g," ")} template`,tags:["web","responsive",d]})}return s.slice(0,r)}generateWebTemplates(){const e=["business-landing","portfolio-website","blog-website","agency-website","corporate-website","startup-landing","saas-landing","ecommerce-store","online-marketplace","subscription-site","news-website","magazine-site","forum-website","community-platform","social-network","dating-website","job-board","freelance-platform","education-platform","course-website","restaurant-website","hotel-booking","travel-blog","fitness-website","health-blog","fashion-blog","beauty-website","tech-blog","gaming-website","sports-website","music-website","art-gallery","photography-portfolio","real-estate-site","property-listing","automotive-site","car-dealer","insurance-website","law-firm-site","consulting-website","nonprofit-website","charity-platform","event-website","conference-site","wedding-website","personal-blog","lifestyle-blog","food-blog","parenting-blog","travel-guide"],t=["responsive","mobile-first","dark-theme","light-theme","minimalist","modern","classic","vintage","artistic","professional","creative","elegant","bold","colorful","monochrome","gradient","animated","interactive","with-cms","with-blog","with-shop","with-portfolio","with-gallery","with-contact-form","with-booking","with-payment","with-analytics","with-seo","with-multilingual","with-admin","with-api","with-chat"];return this.createTemplateVariations(e,t,1e3)}generateMobileTemplates(){const e=["todo-app","task-manager","note-taking","calendar-app","reminder-app","fitness-tracker","workout-app","diet-tracker","meditation-app","sleep-tracker","expense-tracker","budget-manager","investment-tracker","banking-app","payment-app","social-media","messaging-app","video-call","photo-sharing","dating-app","food-delivery","restaurant-app","recipe-app","grocery-list","meal-planner","travel-app","booking-app","maps-app","weather-app","news-app","music-player","podcast-app","radio-app","streaming-app","gaming-app","education-app","language-learning","quiz-app","flashcard-app","tutoring-app","health-app","medical-tracker","symptom-checker","telemedicine","pharmacy-app","shopping-app","marketplace","auction-app","coupon-app","loyalty-app"],t=["ios","android","cross-platform","pwa","hybrid"],r=["offline","real-time","ai-powered","ar-enabled","voice-controlled"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<1e3&&s.push({id:`mobile-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())} (${d})`,category:"Mobile Applications",icon:"📱",description:`${d} ${l.replace(/-/g," ")} application`,tags:["mobile",d,"native"]})})})}),s.slice(0,1e3)}generateDashboardTemplates(){const e=["analytics-dashboard","business-intelligence","sales-dashboard","marketing-dashboard","financial-dashboard","hr-dashboard","project-dashboard","inventory-dashboard","customer-dashboard","admin-dashboard","executive-dashboard","operations-dashboard","real-time-dashboard","performance-dashboard","kpi-dashboard","reporting-dashboard"],t=["healthcare","finance","retail","manufacturing","education","government"],r=["interactive","real-time","predictive","automated","customizable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<800&&s.push({id:`dashboard-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())} (${d})`,category:"Dashboards & Analytics",icon:"📊",description:`${f} ${d} ${l.replace(/-/g," ")}`,tags:["dashboard",d,f]})})})}),s.slice(0,800)}generateEcommerceTemplates(){const e=["online-store","marketplace","subscription-store","digital-products","physical-goods","dropshipping","wholesale","b2b-commerce","b2c-commerce","multi-vendor","auction-site","classified-ads","rental-platform","booking-platform","service-marketplace"],t=["fashion","electronics","home-garden","sports","beauty","books","food"],r=["mobile-optimized","multi-currency","multi-language","inventory-management","analytics"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<800&&s.push({id:`ecommerce-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"E-commerce & Shopping",icon:"🛒",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["ecommerce",d,f]})})})}),s.slice(0,800)}generateAPITemplates(){const e=["rest-api","graphql-api","microservice","webhook-service","websocket-service","authentication-api","payment-api","notification-api","file-storage-api","database-api","analytics-api","search-api","recommendation-api","ai-api","blockchain-api"],t=["nodejs","python","java","php","ruby","go","rust","csharp"],r=["rate-limited","cached","secure","scalable","documented"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<700&&s.push({id:`api-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())} (${d})`,category:"APIs & Backend",icon:"🔌",description:`${f} ${d} ${l.replace(/-/g," ")}`,tags:["api",d,f]})})})}),s.slice(0,700)}generateGameTemplates(){const e=["puzzle-game","arcade-game","strategy-game","rpg-game","action-game","adventure-game","simulation-game","racing-game","fighting-game","sports-game","educational-game","trivia-game","word-game","card-game","board-game"],t=["web","mobile","desktop","console","vr"],r=["multiplayer","single-player","online","offline","ai-opponents"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<800&&s.push({id:`game-${a++}`,name:`${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())} (${d})`,category:"Games & Entertainment",icon:"🎮",description:`${f} ${d} ${l.replace(/-/g," ")}`,tags:["game",d,f]})})})}),s.slice(0,800)}generateEducationTemplates(){const e=["lms-platform","course-platform","quiz-app","learning-app","tutoring-platform","language-learning","skill-training","certification-system","student-portal","teacher-dashboard","online-classroom","virtual-lab","assessment-tool","progress-tracker","collaboration-tool"],t=["math","science","language","history","art","music","programming"],r=["adaptive","gamified","collaborative","mobile-friendly","offline-capable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<700&&s.push({id:`education-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Education & Learning",icon:"🎓",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["education",d,f]})})})}),s.slice(0,700)}generateHealthcareTemplates(){const e=["patient-portal","telemedicine","health-tracker","medical-records","appointment-booking","pharmacy-app","symptom-checker","health-monitor","wellness-app","mental-health-app","fitness-tracker","diet-tracker","medication-reminder","health-education","emergency-app"],t=["general","cardiology","dermatology","pediatrics","mental-health","orthopedics"],r=["hipaa-compliant","telehealth","wearable-integration","ai-diagnosis","real-time-monitoring"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<600&&s.push({id:`healthcare-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Healthcare & Medical",icon:"🏥",description:`${f} ${d} ${l.replace(/-/g," ")} solution`,tags:["healthcare",d,f]})})})}),s.slice(0,600)}generateFinanceTemplates(){const e=["banking-app","investment-platform","budget-tracker","expense-manager","payment-gateway","crypto-exchange","loan-calculator","tax-calculator","insurance-app","financial-planning","trading-platform","portfolio-manager","credit-monitor","bill-reminder","savings-tracker"],t=["secure","real-time","multi-currency","ai-powered","regulatory-compliant"],r=["personal","business","enterprise","retail","institutional"],s=[];let a=1;return e.forEach(l=>{r.forEach(d=>{t.forEach(f=>{s.length<600&&s.push({id:`finance-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Finance & Banking",icon:"💰",description:`${f} ${d} ${l.replace(/-/g," ")} solution`,tags:["finance",d,f]})})})}),s.slice(0,600)}generateIoTTemplates(){const e=["smart-home","iot-dashboard","device-manager","sensor-monitor","automation-system","energy-monitor","security-system","environmental-monitor","asset-tracker","predictive-maintenance"],t=["residential","commercial","industrial","agricultural","healthcare"],r=["real-time","predictive","automated","secure","scalable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<500&&s.push({id:`iot-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"IoT & Smart Devices",icon:"🏠",description:`${f} ${d} ${l.replace(/-/g," ")} solution`,tags:["iot",d,f]})})})}),s.slice(0,500)}generateRealEstateTemplates(){const e=["property-listing","real-estate-portal","property-manager","marketplace","investment-platform","rental-platform","commercial-real-estate","vacation-rentals","property-valuation","mortgage-calculator"],t=["residential","commercial","industrial","land","luxury"],r=["virtual-tours","ar-viewing","market-analysis","investment-tracking","tenant-management"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<500&&s.push({id:`realestate-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Real Estate & Property",icon:"🏘️",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["realestate",d,f]})})})}),s.slice(0,500)}generateSocialTemplates(){const e=["social-network","messaging-app","video-call","live-streaming","content-sharing","community-platform","forum-website","chat-application","video-conference","team-collaboration"],t=["real-time","end-to-end-encrypted","group-chat","file-sharing","voice-messages"],r=["general","professional","educational","gaming","dating"],s=[];let a=1;return e.forEach(l=>{r.forEach(d=>{t.forEach(f=>{s.length<600&&s.push({id:`social-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Social Media & Communication",icon:"💬",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["social",d,f]})})})}),s.slice(0,600)}generateProductivityTemplates(){const e=["project-management","task-manager","time-tracker","crm-system","hr-management","inventory-management","supply-chain","workflow-automation","document-management","collaboration-tool"],t=["technology","healthcare","finance","retail","manufacturing"],r=["cloud-based","mobile-app","api-integration","analytics","automation"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<700&&s.push({id:`productivity-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Productivity & Business",icon:"💼",description:`${f} ${d} ${l.replace(/-/g," ")} solution`,tags:["productivity",d,f]})})})}),s.slice(0,700)}generateCreativeTemplates(){const e=["portfolio-website","art-gallery","design-showcase","creative-agency","photography-portfolio","video-portfolio","music-showcase","writing-portfolio","fashion-showcase","interior-design"],t=["minimalist","bold","vintage","modern","artistic"],r=["interactive","animated","responsive","seo-optimized","social-integration"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<500&&s.push({id:`creative-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Creative & Design",icon:"🎨",description:`${f} ${d} ${l.replace(/-/g," ")} template`,tags:["creative",d,f]})})})}),s.slice(0,500)}generateTravelTemplates(){const e=["travel-booking","hotel-reservation","flight-booking","car-rental","tour-booking","travel-blog","destination-guide","travel-planner","vacation-rental","travel-agency"],t=["multi-language","currency-converter","real-time-pricing","mobile-optimized","social-sharing"],r=["international","domestic","luxury","budget","adventure"],s=[];let a=1;return e.forEach(l=>{r.forEach(d=>{t.forEach(f=>{s.length<400&&s.push({id:`travel-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Travel & Hospitality",icon:"✈️",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["travel",d,f]})})})}),s.slice(0,400)}generateFoodTemplates(){const e=["restaurant-website","food-delivery","recipe-app","restaurant-booking","menu-management","food-blog","cooking-app","meal-planning","nutrition-tracker","restaurant-reviews"],t=["italian","chinese","mexican","indian","mediterranean","fusion"],r=["online-ordering","table-booking","delivery-tracking","nutrition-info","social-sharing"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<400&&s.push({id:`food-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Food & Restaurant",icon:"🍕",description:`${f} ${d} ${l.replace(/-/g," ")} solution`,tags:["food",d,f]})})})}),s.slice(0,400)}generateFitnessTemplates(){const e=["fitness-tracker","workout-app","gym-management","personal-trainer","nutrition-tracker","wellness-app","meditation-app","yoga-app","running-tracker","health-monitor"],t=["strength-training","cardio","yoga","pilates","running","swimming"],r=["wearable-integration","progress-tracking","social-features","ai-coaching","offline-capable"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<400&&s.push({id:`fitness-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Fitness & Wellness",icon:"💪",description:`${f} ${d} ${l.replace(/-/g," ")} app`,tags:["fitness",d,f]})})})}),s.slice(0,400)}generateMusicTemplates(){const e=["music-player","streaming-app","podcast-app","radio-app","music-production","dj-software","audio-editor","music-education","concert-booking","music-social"],t=["pop","rock","classical","jazz","electronic","hip-hop"],r=["offline-playback","social-sharing","ai-recommendations","live-streaming","collaborative-playlists"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<300&&s.push({id:`music-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Music & Audio",icon:"🎵",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["music",d,f]})})})}),s.slice(0,300)}generatePhotographyTemplates(){const e=["photography-portfolio","photo-editor","image-gallery","photo-sharing","stock-photos","wedding-photography","event-photography","commercial-photography","photo-booking","photo-education"],t=["wedding","portrait","landscape","commercial","street","wildlife"],r=["image-editing","cloud-storage","client-portal","booking-system","social-sharing"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<300&&s.push({id:`photography-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Photography & Media",icon:"📸",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["photography",d,f]})})})}),s.slice(0,300)}generateAutomotiveTemplates(){const e=["car-dealer","auto-repair","car-rental","ride-sharing","fleet-management","auto-insurance","car-financing","vehicle-tracking","auto-parts","car-reviews"],t=["passenger-cars","commercial-vehicles","motorcycles","boats","aircraft"],r=["inventory-management","booking-system","payment-integration","gps-tracking","maintenance-scheduling"],s=[];let a=1;return e.forEach(l=>{t.forEach(d=>{r.forEach(f=>{s.length<300&&s.push({id:`automotive-${a++}`,name:`${d} ${l.replace(/-/g," ").replace(/\b\w/g,m=>m.toUpperCase())}`,category:"Automotive & Transportation",icon:"🚗",description:`${f} ${d} ${l.replace(/-/g," ")} platform`,tags:["automotive",d,f]})})})}),s.slice(0,300)}}const $t=new zB;class HB{constructor(){this.currentService="local-ai",this.usageStats={totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0},console.log("🤖 Simple AI Service initialized - Local AI only!")}getServices(){return{"local-ai":{name:"Local AI Models",type:"Local",description:"Self-hosted AI models - no API keys required",models:$t.getAvailableModels()}}}getTemplateCategories(){return $t.getTemplateCategories()}getTemplatesByCategory(e){return $t.getTemplatesByCategory(e)}getAllTemplates(){return $t.getAllTemplates()}generateTemplateById(e,t={}){return $t.generateTemplateById(e,t)}searchTemplates(e){return $t.searchTemplates(e)}getPopularTemplates(){return $t.getPopularTemplates()}async generateCode(e,t={}){const r=Date.now();this.usageStats.totalRequests++;try{if(console.log("🚀 Generating code with Local AI..."),!$t.isHealthy)return console.log("⚠️ Local AI not available, using template fallback"),$t.createFallbackResponse(e,t);const s=await $t.generateCode(e,t),a=Date.now()-r;return this.usageStats.successfulRequests++,this.usageStats.averageResponseTime=(this.usageStats.averageResponseTime+a)/2,console.log("✅ Code generated successfully with Local AI!"),s}catch(s){return console.error("❌ Local AI generation failed:",s),this.usageStats.failedRequests++,console.log("🔄 Falling back to template generation..."),$t.createFallbackResponse(e,t)}}getServiceHealth(){return $t.modelHealth}getUsageStats(){return this.usageStats}getUserPreferences(){return{preferredService:"local-ai",fallbackEnabled:!0,autoHealthCheck:!0}}updateUserPreferences(e){localStorage.setItem("dreambuild-preferences",JSON.stringify(e))}loadUserPreferences(){const e=localStorage.getItem("dreambuild-preferences");return e?JSON.parse(e):this.getUserPreferences()}getServiceStatus(){return{"local-ai":{isHealthy:$t.isHealthy,models:$t.getHealthyModels().length,totalModels:$t.getAvailableModels().length}}}resetServiceHealth(){$t.modelHealth={}}getFallbackOrder(){return["local-ai"]}isFallbackEnabled(){return!0}setFallbackEnabled(e){return!0}getSetupInstructions(){return{"local-ai":{title:"Local AI Setup",description:"Set up local AI models for code generation",steps:["1. Install Ollama from https://ollama.ai","2. Run: ollama pull codellama:7b","3. Run: ollama serve","4. Refresh DreamBuild to start using local AI"],isSetup:$t.isHealthy}}}getServicesNeedingSetup(){return $t.isHealthy?[]:["local-ai"]}hasValidApiKey(e){return e==="local-ai"}setService(e){e==="local-ai"&&(this.currentService=e)}getCurrentService(){return this.currentService}}const ze=new HB,qB=({isOpen:n,onClose:e})=>{const[t,r]=N.useState({}),[s,a]=N.useState({}),[l,d]=N.useState({}),[f,m]=N.useState(!1),[g,y]=N.useState([]);N.useEffect(()=>{n&&b()},[n]);const b=()=>{r(ze.getServiceStatus()),a(ze.getUserPreferences()),d(ze.getUsageStats()),y(ze.getServicesNeedingSetup())},S=G=>{ze.setService(G),a(ze.getUserPreferences()),b()},A=(G,k)=>{const T={...s,[G]:k};ze.updateUserPreferences(T),a(T)},R=async()=>{m(!0);try{await ze.performHealthChecks(),b()}catch(G){console.error("Error refreshing health:",G)}finally{m(!1)}},C=(G=null)=>{ze.resetServiceHealth(G),b()},F=G=>G.isHealthy?c.jsx(VS,{className:"h-4 w-4 text-green-500"}):c.jsx(Xb,{className:"h-4 w-4 text-red-500"}),B=G=>G.isCurrent?"bg-gray-700 text-white":G.isPreferred?"bg-secondary text-secondary-foreground":G.isHealthy?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",I=G=>G<1e3?`${G}ms`:`${(G/1e3).toFixed(1)}s`,H=G=>`${(G*100).toFixed(1)}%`,X=G=>{switch(G){case"groq":return c.jsx(Gr,{className:"h-4 w-4"});case"together":return c.jsx(Yh,{className:"h-4 w-4"});case"huggingface":return c.jsx(Rc,{className:"h-4 w-4"});case"ollama":return c.jsx(Lr,{className:"h-4 w-4"});default:return c.jsx(kL,{className:"h-4 w-4"})}};return n?c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-black border border-border rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"AI Service Status"}),c.jsx("p",{className:"text-muted-foreground",children:"Monitor and configure AI services"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:R,disabled:f,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:c.jsx($f,{className:`h-5 w-5 ${f?"animate-spin":""}`})}),c.jsx("button",{onClick:e,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:c.jsx(Xb,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Rc,{className:"h-5 w-5"}),"Service Status"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:Object.entries(t).map(([G,k])=>c.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md ${B(k)}`,onClick:()=>S(G),children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[X(G),c.jsx("span",{className:"font-semibold",children:k.name}),F(k)]}),c.jsxs("div",{className:"flex items-center gap-2",children:[k.isCurrent&&c.jsx("span",{className:"text-xs bg-gray-700 text-white px-2 py-1 rounded",children:"Current"}),k.isPreferred&&!k.isCurrent&&c.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:"Preferred"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Uf,{className:"h-3 w-3"}),c.jsx("span",{children:I(k.responseTime)})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(wL,{className:"h-3 w-3"}),c.jsx("span",{children:H(k.errorRate)})]}),c.jsx("div",{className:"col-span-2",children:c.jsxs("span",{className:"text-xs",children:["Requests: ",k.usage.totalRequests," | Success: ",k.usage.successfulRequests," | Failed: ",k.usage.failedRequests]})})]}),k.consecutiveFailures>0&&c.jsxs("div",{className:"mt-2 text-xs text-orange-600",children:[k.consecutiveFailures," consecutive failures"]})]},G))}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Lr,{className:"h-5 w-5"}),"Preferences"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Enable Fallback"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically switch to backup services when primary fails"})]}),c.jsx("button",{onClick:()=>A("fallbackEnabled",!s.fallbackEnabled),className:"flex items-center gap-2",children:s.fallbackEnabled?c.jsx(Yb,{className:"h-6 w-6 text-white"}):c.jsx(Jb,{className:"h-6 w-6 text-muted-foreground"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Show Notifications"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Display fallback notifications in console"})]}),c.jsx("button",{onClick:()=>A("showNotifications",!s.showNotifications),className:"flex items-center gap-2",children:s.showNotifications?c.jsx(Yb,{className:"h-6 w-6 text-white"}):c.jsx(Jb,{className:"h-6 w-6 text-muted-foreground"})})]})]})]}),g.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Lr,{className:"h-5 w-5"}),"Setup Required"]}),c.jsx("div",{className:"space-y-3",children:g.map(G=>c.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-medium text-orange-800",children:G.name}),c.jsx("span",{className:"text-sm text-orange-600 bg-orange-100 px-2 py-1 rounded",children:"Setup Required"})]}),c.jsx("p",{className:"text-sm text-orange-700 mb-2",children:G.instructions.setup}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-orange-600",children:[c.jsxs("span",{children:["💰 ",G.instructions.freeTier]}),c.jsxs("span",{children:["⚡ ",G.instructions.features]})]})]},G.key))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Rc,{className:"h-5 w-5"}),"Usage Statistics"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:l.totalRequests||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Requests"})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.successfulRequests||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Successful"})]}),c.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failedRequests||0}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString()]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>C(),className:"px-4 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors",children:"Reset All Health"}),c.jsx("button",{onClick:e,className:"px-4 py-2 text-sm bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Close"})]})]})]})})]})}):null},WB=({isOpen:n,onClose:e,onTemplateSelect:t})=>{const{updateFile:r}=Ko(),[s,a]=N.useState(""),[l,d]=N.useState("all"),[f,m]=N.useState("grid"),[g,y]=N.useState("popular"),[b,S]=N.useState([]),[A,R]=N.useState({}),[C,F]=N.useState({});N.useEffect(()=>{n&&B()},[n]);const B=()=>{try{const k=ze.getTemplateCategories();R(k);const T=ze.getAllTemplates();S(T)}catch(k){console.error("Error loading template data:",k),je.error("Failed to load templates")}};N.useEffect(()=>{I()},[s,l,g]);const I=()=>{let k=ze.getAllTemplates();if(s&&(k=ze.searchTemplates(s)),l!=="all"){const T=ze.getTemplatesByCategory(l);k=k.filter(P=>T.includes(P.id))}switch(g){case"popular":const T=ze.getPopularTemplates().map(P=>P.id);k=k.sort((P,M)=>{const L=T.includes(P.id),$=T.includes(M.id);return L&&!$?-1:!L&&$?1:0});break;case"alphabetical":k=k.sort((P,M)=>P.name.localeCompare(M.name));break;case"newest":k=k.reverse();break}S(k)},H=async k=>{try{const T=ze.createFallbackResponse(k,{title:k.replace(/-/g," ").replace(/\b\w/g,M=>M.toUpperCase())});Object.entries(T).forEach(([M,L])=>{r(M,L)});const P=k.replace(/-/g," ").replace(/\b\w/g,M=>M.toUpperCase());je.success(`Generated ${P} template!`),t&&t({id:k,name:P,files:T}),e()}catch(T){console.error("Error generating template:",T),je.error("Failed to generate template")}},X=k=>{F(T=>({...T,[k]:!T[k]}))},G=k=>k.includes("store")||k.includes("ecommerce")?"🛒 E-commerce platform with shopping cart and payments":k.includes("blog")||k.includes("content")?"📝 Content management with articles and comments":k.includes("dashboard")||k.includes("admin")?"📊 Analytics dashboard with charts and metrics":k.includes("social")||k.includes("network")?"👥 Social platform with profiles and connections":k.includes("game")||k.includes("entertainment")?"🎮 Interactive game with scoring and levels":k.includes("health")||k.includes("fitness")?"💪 Health tracking with goals and progress":k.includes("finance")||k.includes("money")?"💰 Financial management with budgets and investments":k.includes("education")||k.includes("learning")?"🎓 Educational platform with courses and quizzes":"✨ Custom application with modern design";return n?c.jsx(xs,{children:c.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:c.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg w-full max-w-7xl h-[90vh] flex flex-col",onClick:k=>k.stopPropagation(),children:[c.jsxs("div",{className:"p-6 border-b border-border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center",children:c.jsx(vv,{className:"h-5 w-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Template Library"}),c.jsx("p",{className:"text-muted-foreground",children:"Choose from 1000+ professional templates"})]})]}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:"✕"})]}),c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search templates...",value:s,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-black focus:outline-none focus:ring-2 focus:ring-primary"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:l,onChange:k=>d(k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-black",children:[c.jsx("option",{value:"all",children:"All Categories"}),Object.entries(A).map(([k,T])=>c.jsxs("option",{value:k,children:[T.icon," ",T.name]},k))]}),c.jsxs("select",{value:g,onChange:k=>y(k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-black",children:[c.jsx("option",{value:"popular",children:"Popular"}),c.jsx("option",{value:"alphabetical",children:"A-Z"}),c.jsx("option",{value:"newest",children:"Newest"})]}),c.jsxs("div",{className:"flex border border-border rounded-lg",children:[c.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${f==="grid"?"bg-gray-700 text-white":"hover:bg-muted"}`,children:c.jsx(BS,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>m("list"),className:`p-2 ${f==="list"?"bg-gray-700 text-white":"hover:bg-muted"}`,children:c.jsx($S,{className:"h-4 w-4"})})]})]})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsxs("div",{className:"h-full flex",children:[c.jsx("div",{className:"w-64 border-r border-border bg-muted/30 overflow-y-auto",children:c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:"Categories"}),c.jsx("div",{className:"space-y-1",children:Object.entries(A).map(([k,T])=>c.jsxs("div",{children:[c.jsxs("button",{onClick:()=>{d(k),X(k)},className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-muted transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{children:T.icon}),c.jsx("span",{className:"text-sm",children:T.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",T.templates.length,")"]})]}),C[k]?c.jsx(EL,{className:"h-4 w-4"}):c.jsx(FS,{className:"h-4 w-4"})]}),C[k]&&c.jsxs("div",{className:"ml-4 space-y-1 mt-1",children:[T.templates.slice(0,5).map(P=>c.jsx("button",{onClick:()=>{a(P),d(k)},className:"w-full text-left p-1 text-xs text-muted-foreground hover:text-foreground truncate",children:P.replace(/-/g," ")},P)),T.templates.length>5&&c.jsxs("div",{className:"text-xs text-muted-foreground p-1",children:["+",T.templates.length-5," more..."]})]})]},k))})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold",children:[b.length," Templates",l!=="all"&&` in ${A[l]?.name}`]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b.length," of ",ze.getAllTemplates().length," templates"]})]}),f==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map((k,T)=>c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},onClick:()=>H(k.id),className:"bg-card border border-border rounded-lg p-4 hover:shadow-lg hover:border-primary/30 transition-all cursor-pointer group",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-lg",children:k.icon})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium truncate",children:k.name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:k.category})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:G(k.id)}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[c.jsx(Lt,{className:"h-3 w-3"}),c.jsx("span",{children:"HTML/CSS/JS"})]}),c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Gr,{className:"h-4 w-4 text-white"})})]})]},k.id))}):c.jsx("div",{className:"space-y-2",children:b.map((k,T)=>c.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.02},onClick:()=>H(k.id),className:"flex items-center gap-4 p-4 bg-card border border-border rounded-lg hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group",children:[c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-xl",children:k.icon})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium",children:k.name}),c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:G(k.id)}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsx("span",{children:k.category}),c.jsx("span",{children:"•"}),c.jsx("span",{children:"HTML/CSS/JS"})]})]}),c.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Gr,{className:"h-5 w-5 text-white"})})]},k.id))}),b.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Vo,{className:"h-8 w-8 text-muted-foreground"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No templates found"}),c.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})]})})]})})]})})}):null},GB=()=>{const{currentProject:n,updateFile:e,updateConfig:t}=Ko(),[r,s]=N.useState(""),[a,l]=N.useState(!1),[d,f]=N.useState(!1),[m,g]=N.useState(!1),[y,b]=N.useState(!1),[S,A]=N.useState("local-ai"),[R,C]=N.useState("llama3-8b-8192"),[F,B]=N.useState([]),[I,H]=N.useState([]),[X,G]=N.useState({}),k=N.useRef(null);N.useEffect(()=>{k.current&&(k.current.style.height="auto",k.current.style.height=k.current.scrollHeight+"px")},[r]),N.useEffect(()=>{G(ze?.getServiceStatus?ze.getServiceStatus():{});const re=setInterval(()=>{G(ze?.getServiceStatus?ze.getServiceStatus():{})},3e4);return()=>clearInterval(re)},[]),N.useEffect(()=>{r.length>10?T():B([])},[r]);const T=()=>{const re=r.toLowerCase(),ie=[];(re.includes("health")||re.includes("food"))&&(ie.push({text:"Add nutrition calculator",type:"feature",icon:"🧮"}),ie.push({text:"Include meal planning calendar",type:"feature",icon:"📅"})),(re.includes("todo")||re.includes("task"))&&(ie.push({text:"Add due dates and reminders",type:"feature",icon:"⏰"}),ie.push({text:"Include priority levels",type:"feature",icon:"⭐"})),(re.includes("portfolio")||re.includes("resume"))&&(ie.push({text:"Add contact form",type:"feature",icon:"📧"}),ie.push({text:"Include project gallery",type:"feature",icon:"🖼️"})),ie.push({text:"Make it responsive",type:"improvement",icon:"📱"}),ie.push({text:"Add dark mode",type:"improvement",icon:"🌙"}),B(ie.slice(0,4))},P=async()=>{if(!r.trim()){je.error("Please enter a description of what you want to build");return}l(!0);try{if(H(ie=>[r,...ie.slice(0,4)]),console.log("AI Service object:",ze),console.log("AI Service generateCode method:",typeof ze?.generateCode),!ze||typeof ze.generateCode!="function")throw new Error("AI Service not properly initialized. generateCode method not found.");const re=await ze.generateCode(r,n.config);Object.entries(re).forEach(([ie,Ce])=>{e(ie,Ce)}),M(r),je.success("Code generated successfully!"),s("")}catch(re){console.error("AI generation error:",re),je.error("Failed to generate code: "+re.message)}finally{l(!1)}},M=re=>{const ie=re.toLowerCase(),Ce={...n.config};ie.includes("mobile")||ie.includes("app")?Ce.appType="mobile":ie.includes("api")||ie.includes("backend")?Ce.appType="backend":(ie.includes("frontend")||ie.includes("website"))&&(Ce.appType="frontend"),ie.includes("typescript")||ie.includes("ts")?Ce.language="typescript":ie.includes("python")?Ce.language="python":ie.includes("java")&&(Ce.language="java"),ie.includes("bootstrap")?Ce.styling="bootstrap":ie.includes("material")?Ce.styling="material":Ce.styling="tailwind",t(Ce)},L=re=>{s(ie=>ie+" "+re.text),je.success(`Added suggestion: ${re.text}`)},$=re=>{s(re)},D=re=>{re.key==="Enter"&&(re.ctrlKey||re.metaKey)&&(re.preventDefault(),P())},be=ze?.getServices?ze.getServices():{};return c.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"p-3 border-b border-border bg-muted/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[c.jsx(vv,{className:"h-4 w-4"}),"AI Assistant"]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:ze?.currentService||"local-ai"}),c.jsx("button",{onClick:()=>b(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"Browse Templates (1000+)",children:c.jsx(Lt,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>g(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"AI Service Status",children:c.jsx(Rc,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>f(!0),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-900/20 rounded transition-colors",title:"AI Settings",children:c.jsx(Lr,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-muted-foreground",children:X[ze?.currentService||"local-ai"]?.isHealthy?"AI Ready":"Demo Mode"})]}),c.jsx("span",{children:"•"}),c.jsx("span",{className:"text-muted-foreground",children:ze?.isFallbackEnabled?ze.isFallbackEnabled()?"Fallback Enabled":"Single Service":"Local AI Only"})]})]}),c.jsxs("div",{className:"flex-1 p-3 space-y-3",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Describe what you want to build"}),c.jsxs("div",{className:"relative",children:[c.jsx("textarea",{ref:k,value:r,onChange:re=>s(re.target.value),onKeyPress:D,placeholder:"Create a healthy food tips website with nutrition advice and meal planning features...",className:"w-full p-3 border border-border rounded-md bg-black resize-none min-h-[120px] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:a}),c.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:[r.length,"/2000"]})]})]}),c.jsx(xs,{children:F.length>0&&c.jsxs(fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Suggestions"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:F.map((re,ie)=>c.jsxs(fe.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>L(re),className:`flex items-center gap-1 px-2 py-1 text-xs rounded-md border transition-colors ${re.type==="feature"?"border-white/20 bg-white/10 text-white hover:bg-white/20":"border-green-200 bg-green-50 text-green-700 hover:bg-green-100"}`,children:[c.jsx("span",{children:re.icon}),c.jsx("span",{children:re.text})]},ie))})]})}),I.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Recent Prompts"}),c.jsx("div",{className:"space-y-1",children:I.slice(0,3).map((re,ie)=>c.jsx("button",{onClick:()=>$(re),className:"w-full text-left p-2 text-xs bg-muted hover:bg-muted/80 rounded-md transition-colors truncate",title:re,children:re},ie))})]})]}),c.jsxs("div",{className:"p-3 border-t border-border",children:[c.jsx("button",{onClick:P,disabled:!r.trim()||a,className:"w-full flex items-center justify-center gap-2 p-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-md hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg shadow-blue-500/30 border border-blue-500/20",children:a?c.jsxs(c.Fragment,{children:[c.jsx(Bf,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{children:"Generating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Gr,{className:"h-4 w-4"}),c.jsx("span",{children:"Generate Code"})]})}),c.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Press Ctrl+Enter to generate"})]}),c.jsx(WB,{isOpen:y,onClose:()=>b(!1),onTemplateSelect:re=>{console.log("Template selected:",re)}}),c.jsx(qB,{isOpen:m,onClose:()=>g(!1)}),c.jsx(xs,{children:d&&c.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>f(!1),children:c.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:re=>re.stopPropagation(),children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx(Ei,{className:"h-5 w-5"}),"AI Settings"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"AI Service"}),c.jsx("select",{value:S,onChange:re=>{A(re.target.value),ze?.setService&&ze.setService(re.target.value)},className:"w-full p-2 border border-border rounded-md bg-black",children:Object.entries(be).map(([re,ie])=>c.jsxs("option",{value:re,children:[ie.name," - ",ie.type]},re))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),c.jsx("select",{value:R,onChange:re=>{C(re.target.value),ze?.setService&&ze.setService(re.target.value)},className:"w-full p-2 border border-border rounded-md bg-black",children:Object.entries(be[S]?.models||{}).map(([re,ie])=>c.jsx("option",{value:re,children:ie},re))})]}),c.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Service Info"}),c.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Type:"})," ",be[S]?.type]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Cost:"})," Free tier available"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Features:"})," Fast inference, modern models"]})]})]}),c.jsx("div",{className:"flex gap-2 justify-end",children:c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})})]})},KB=({children:n,direction:e="horizontal",className:t=""})=>c.jsx("div",{className:`resizable-panel-group ${e} ${t}`,children:n}),hg=({children:n,defaultSize:e=50,minSize:t=10,maxSize:r=90,className:s=""})=>c.jsx("div",{className:`resizable-panel ${s}`,style:{flexBasis:`${e}%`,minWidth:`${t}%`,maxWidth:`${r}%`},children:n}),E_=({className:n=""})=>{const[e,t]=N.useState(!1),r=N.useRef(null),s=d=>{t(!0),d.preventDefault()},a=d=>{if(!e)return;const f=r.current?.parentElement;if(f){const m=f.getBoundingClientRect(),g=(d.clientX-m.left)/m.width*100,y=f.querySelectorAll(".resizable-panel");if(y.length>=2){const b=y[0],S=y[1];b.style.flexBasis=`${Math.max(10,Math.min(90,g))}%`,S.style.flexBasis=`${Math.max(10,Math.min(90,100-g))}%`}}},l=()=>{t(!1)};return N.useEffect(()=>{if(e)return document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l)}},[e]),c.jsx("div",{ref:r,className:`resizable-handle ${n} ${e?"resizing":""}`,onMouseDown:s})},QB=()=>{const[n,e]=N.useState("editor"),t=[{id:"editor",label:"Code Editor",icon:Lt,description:"Edit your code with live preview"},{id:"preview",label:"Live Preview",icon:Kh,description:"View your application in real-time"},{id:"terminal",label:"Terminal",icon:Gg,description:"Command line interface"}];return c.jsxs("div",{className:"h-screen bg-background flex flex-col pt-16",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 py-4 bg-card/80 backdrop-blur-sm border-b border-border/50 shadow-sm",children:[c.jsx("div",{className:"flex items-center gap-4",children:c.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"AI Builder"})}),c.jsx("div",{className:"flex items-center gap-1 bg-background/50 p-1 rounded-lg border border-border/50",children:t.map(r=>{const s=r.icon;return c.jsxs(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(r.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${n===r.id?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,title:r.description,children:[c.jsx(s,{className:"h-4 w-4"}),c.jsx("span",{children:r.label})]},r.id)})})]}),c.jsx("div",{className:"flex-1 p-6",children:c.jsxs(KB,{direction:"horizontal",className:"h-full gap-2",children:[c.jsx(hg,{defaultSize:20,minSize:10,maxSize:50,children:c.jsxs("div",{className:"h-full bg-card border border-border rounded-xl shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Si,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Files"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Active"})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(sF,{})})]})}),c.jsx(E_,{className:"w-2 bg-border/30 hover:bg-primary/50 transition-all duration-200 cursor-col-resize hover:w-3 group",children:c.jsx("div",{className:"w-1 h-8 bg-border/50 rounded-full mx-auto group-hover:bg-primary/70 transition-colors"})}),c.jsx(hg,{defaultSize:50,minSize:25,maxSize:70,children:c.jsxs("div",{className:"h-full bg-card border border-border rounded-xl shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[n==="editor"&&c.jsx(Lt,{className:"h-4 w-4 text-primary"}),n==="preview"&&c.jsx(Kh,{className:"h-4 w-4 text-primary"}),n==="terminal"&&c.jsx(Gg,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground capitalize",children:n})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Ready"})]})]}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[n==="editor"&&c.jsx(uU,{}),n==="preview"&&c.jsx(dU,{}),n==="terminal"&&c.jsx("div",{className:"h-full flex flex-col bg-gray-900",children:c.jsx("div",{className:"flex-grow p-4 text-green-400 font-mono text-sm overflow-y-auto",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-400",children:"user@dreambuild"}),c.jsx("span",{className:"text-gray-500",children:"$"}),c.jsx("span",{className:"text-gray-300",children:"npm run dev"})]}),c.jsx("div",{className:"text-gray-400",children:"Starting development server..."}),c.jsx("div",{className:"text-green-400",children:"✓ Server running on http://localhost:3000"}),c.jsx("div",{className:"text-blue-400",children:"✓ Ready in 2.3s"}),c.jsx("div",{className:"mt-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-400",children:"user@dreambuild"}),c.jsx("span",{className:"text-gray-500",children:"$"}),c.jsx("span",{className:"text-gray-300 animate-pulse",children:"_"})]})})]})})})]})]})}),c.jsx(E_,{className:"w-2 bg-border/30 hover:bg-primary/50 transition-all duration-200 cursor-col-resize hover:w-3 group",children:c.jsx("div",{className:"w-1 h-8 bg-border/50 rounded-full mx-auto group-hover:bg-primary/70 transition-colors"})}),c.jsx(hg,{defaultSize:30,minSize:15,maxSize:60,children:c.jsxs("div",{className:"h-full bg-card border border-border rounded-xl shadow-sm overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-muted/30 border-b border-border/50",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ei,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"AI Assistant"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Online"})]})]}),c.jsx("div",{className:"flex-1 overflow-hidden",children:c.jsx(GB,{})})]})})]})})]})},JB=()=>{const{currentProject:n,projects:e}=Ko(),[t,r]=N.useState("7d"),[s,a]=N.useState(!0);N.useEffect(()=>{const y=setTimeout(()=>a(!1),1e3);return()=>clearTimeout(y)},[]);const l={totalProjects:12,aiGenerations:89,linesOfCode:12450,hoursSpent:42.5},d=[{id:1,type:"ai_generation",project:"E-commerce Store",action:"Generated React component",time:"2 minutes ago",icon:Ei,color:"text-white"},{id:2,type:"file_created",project:"Portfolio Website",action:"Created new CSS file",time:"15 minutes ago",icon:yv,color:"text-green-600"},{id:3,type:"project_completed",project:"Task Manager App",action:"Project marked as completed",time:"1 hour ago",icon:Xh,color:"text-yellow-600"},{id:4,type:"deployment",project:"Analytics Dashboard",action:"Deployed to Firebase",time:"3 hours ago",icon:Dc,color:"text-purple-600"}],f=[{name:"E-commerce Store",files:24,lastModified:"2 min ago",type:"web",progress:85},{name:"Portfolio Website",files:12,lastModified:"15 min ago",type:"web",progress:100},{name:"Task Manager App",files:18,lastModified:"1 hour ago",type:"mobile",progress:100},{name:"Analytics Dashboard",files:31,lastModified:"3 hours ago",type:"dashboard",progress:75}],m=[{language:"JavaScript",percentage:45,files:70,color:"bg-yellow-500"},{language:"HTML",percentage:25,files:39,color:"bg-orange-500"},{language:"CSS",percentage:20,files:31,color:"bg-white"},{language:"Python",percentage:10,files:16,color:"bg-green-500"}],g=({title:y,value:b,icon:S,change:A,changeType:R,description:C})=>c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center",children:c.jsx(S,{className:"h-6 w-6 text-white"})}),A&&c.jsxs("div",{className:`flex items-center gap-1 text-sm ${R==="increase"?"text-green-600":"text-red-600"}`,children:[R==="increase"?c.jsx(_L,{className:"h-4 w-4"}):c.jsx(bL,{className:"h-4 w-4"}),A]})]}),c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:b}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y}),C&&c.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:C})]});return s?c.jsx("div",{className:"min-h-screen bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((y,b)=>c.jsxs("div",{className:"bg-card/50 rounded-xl p-6",children:[c.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg mb-4"}),c.jsx("div",{className:"h-6 bg-muted rounded w-1/2 mb-2"}),c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]},b))})]})})}):c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your projects."})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("select",{value:t,onChange:y=>r(y.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"7d",children:"Last 7 days"}),c.jsx("option",{value:"30d",children:"Last 30 days"}),c.jsx("option",{value:"90d",children:"Last 90 days"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(g,{title:"Total Projects",value:l.totalProjects,icon:Si,change:"+2",changeType:"increase",description:"This week"}),c.jsx(g,{title:"AI Generations",value:l.aiGenerations,icon:Ei,change:"+12",changeType:"increase",description:"This week"}),c.jsx(g,{title:"Lines of Code",value:l.linesOfCode.toLocaleString(),icon:Lt,change:"+1.2k",changeType:"increase",description:"This week"}),c.jsx(g,{title:"Hours Spent",value:l.hoursSpent,icon:Uf,change:"+5.2h",changeType:"increase",description:"This week"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[c.jsx(vL,{className:"h-5 w-5 text-white"}),"Recent Activity"]}),c.jsx("button",{className:"text-sm text-white hover:text-gray-300 transition-colors",children:"View all"})]}),c.jsx("div",{className:"space-y-4",children:d.map((y,b)=>{const S=y.icon;return c.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${y.color.replace("text-","bg-").replace("-600","-100")}`,children:c.jsx(S,{className:`h-4 w-4 ${y.color}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:y.action}),c.jsx("p",{className:"text-xs text-muted-foreground",children:y.project})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:y.time})]},y.id)})})]}),c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[c.jsx(Rc,{className:"h-5 w-5 text-white"}),"Top Projects"]}),c.jsx("div",{className:"space-y-4",children:f.map((y,b)=>c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:"p-3 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-medium text-foreground text-sm",children:y.name}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.files," files"]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 mr-3",children:c.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${y.progress}%`}})}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.progress,"%"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:y.lastModified})]},y.name))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[c.jsx(Lt,{className:"h-5 w-5 text-white"}),"Language Usage"]}),c.jsx("div",{className:"space-y-4",children:m.map((y,b)=>c.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.1},className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center",children:c.jsx("div",{className:`w-2 h-2 rounded-full ${y.color}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-sm font-medium text-foreground",children:y.language}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.percentage,"%"]})]}),c.jsx("div",{className:"bg-muted rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${y.color}`,style:{width:`${y.percentage}%`}})}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y.files," files"]})]})]},y.language))})]}),c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[c.jsx(Gr,{className:"h-5 w-5 text-white"}),"Quick Actions"]}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"New Project",icon:Si,color:"bg-white",href:"/ai-builder"},{name:"AI Builder",icon:Ei,color:"bg-purple-500",href:"/ai-builder"},{name:"View Projects",icon:Mi,color:"bg-green-500",href:"/projects"},{name:"Settings",icon:Lr,color:"bg-orange-500",href:"/settings"}].map((y,b)=>c.jsxs(fe.a,{href:y.href,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:b*.1},className:"flex flex-col items-center p-4 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[c.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-3 ${y.color} group-hover:scale-105 transition-transform`,children:c.jsx(y.icon,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-sm font-medium text-foreground text-center",children:y.name})]},y.name))})]})]})]})})},YB=()=>{const{user:n,signInWithGoogle:e,loading:t}=Ff(),r=gy(),[s,a]=N.useState(!1);N.useEffect(()=>{n&&!t&&r("/dashboard")},[n,t,r]);const l=async()=>{try{a(!0),await e()}catch(f){console.error("Sign in error:",f)}finally{a(!1)}},d=()=>{console.log("GitHub authentication coming soon!")};return t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-slate-700/50",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-lg",children:"D"})}),c.jsx("span",{className:"font-bold text-xl text-slate-800 dark:text-white",children:"DreamBuild"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/login",className:"px-5 py-2.5 text-sm font-semibold text-slate-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Sign in"}),c.jsx(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.href="/signup",className:"px-5 py-2.5 text-sm font-semibold bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl",children:"Sign up"})]})]}),c.jsx("div",{className:"flex items-center justify-center p-6 -mt-20",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-2xl",children:"D"})}),c.jsx("h1",{className:"text-2xl font-bold mb-2 text-slate-800 dark:text-white",children:"Welcome back"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Sign in to continue building amazing applications"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,disabled:s,className:"w-full flex items-center justify-center gap-3 p-4 border border-slate-200 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all text-sm font-semibold bg-white dark:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",children:[s?c.jsx(Bf,{className:"h-5 w-5 animate-spin text-blue-600"}):c.jsx("div",{className:"w-5 h-5 bg-gradient-to-r from-blue-500 to-red-500 rounded flex items-center justify-center",children:c.jsx("span",{className:"text-white text-xs font-bold",children:"G"})}),s?"Signing in...":"Continue with Google"]}),c.jsxs(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"w-full flex items-center justify-center gap-3 p-4 border border-slate-200 dark:border-slate-600 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all text-sm font-semibold bg-white dark:bg-slate-700 shadow-sm hover:shadow-md",children:[c.jsx(Wr,{className:"h-5 w-5"}),"Continue with GitHub"]})]}),c.jsxs("div",{className:"relative my-8",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-600"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"bg-white dark:bg-slate-800 px-4 text-slate-500 dark:text-slate-400 font-medium",children:"or"})})]}),c.jsx("div",{className:"text-center",children:c.jsxs(fe.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"/ai-builder",className:"inline-flex items-center gap-2 px-6 py-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors font-semibold text-sm bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-700 hover:border-blue-300 dark:hover:border-blue-600",children:["Continue as Guest",c.jsx(pu,{className:"h-4 w-4"})]})})]})})})]})},XB=()=>{const{user:n,signInWithGoogle:e,loading:t}=Ff(),r=gy(),[s,a]=N.useState(!1);N.useEffect(()=>{n&&!t&&r("/dashboard")},[n,t,r]);const l=async()=>{try{a(!0),await e(),je.success("Welcome to DreamBuild!")}catch(f){console.error("Sign in error:",f),je.error("Failed to sign in. Please try again.")}finally{a(!1)}},d=()=>{je.info("GitHub authentication coming soon!")};return t?c.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-8 h-8 border-2 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"flex justify-between items-center p-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-primary to-primary-light rounded-lg flex items-center justify-center",children:c.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"D"})}),c.jsx("span",{className:"font-semibold text-foreground",children:"DreamBuild"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.href="/login",className:"px-4 py-2 text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Sign in"}),c.jsx(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>window.location.href="/signup",className:"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary-dark transition-colors",children:"Sign up"})]})]}),c.jsx("div",{className:"flex items-center justify-center p-4 -mt-16",children:c.jsx("div",{className:"w-full max-w-xs",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-1 text-foreground",children:"Join DreamBuild"}),c.jsx("p",{className:"text-muted-foreground text-xs",children:"Create your account"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(fe.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:l,disabled:s,className:"w-full flex items-center justify-center gap-2 p-2.5 border border-border rounded-md hover:bg-muted/30 transition-colors text-sm font-medium bg-background disabled:opacity-50 disabled:cursor-not-allowed",children:[s?c.jsx(Bf,{className:"h-4 w-4 animate-spin text-primary"}):c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s?"Creating account...":"Continue with Google"]}),c.jsxs(fe.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:d,className:"w-full flex items-center justify-center gap-2 p-2.5 border border-border rounded-md hover:bg-muted/30 transition-colors text-sm font-medium bg-background",children:[c.jsx(Wr,{className:"h-4 w-4"}),"Continue with GitHub"]})]}),c.jsxs("div",{className:"relative my-4",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-border"})}),c.jsx("div",{className:"relative flex justify-center text-xs",children:c.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or"})})]}),c.jsx("div",{className:"text-center",children:c.jsxs(fe.a,{whileHover:{scale:1.02},whileTap:{scale:.98},href:"/ai-builder",className:"inline-flex items-center gap-1 px-3 py-1.5 text-primary hover:text-primary-dark transition-colors font-medium text-xs",children:["Continue as Guest",c.jsx(pu,{className:"h-3 w-3"})]})})]})})})]})},ZB=()=>{const{currentProject:n,createNewProject:e,projects:t,switchProject:r}=Ko(),[s,a]=N.useState(""),[l,d]=N.useState("all"),[f,m]=N.useState(!1),[g,y]=N.useState(""),[b,S]=N.useState("web"),[A,R]=N.useState(null),[C,F]=N.useState([{id:"1",name:"E-commerce Store",type:"ecommerce",description:"Modern e-commerce platform with React and Node.js",status:"active",lastModified:"2024-01-15",files:12,size:"2.4 MB",tags:["React","Node.js","E-commerce"],preview:"https://via.placeholder.com/300x200/007acc/ffffff?text=E-commerce+Store"},{id:"2",name:"Portfolio Website",type:"web",description:"Personal portfolio website with modern design",status:"completed",lastModified:"2024-01-10",files:8,size:"1.2 MB",tags:["HTML","CSS","JavaScript"],preview:"https://via.placeholder.com/300x200/28a745/ffffff?text=Portfolio+Website"},{id:"3",name:"Task Manager App",type:"mobile",description:"Mobile task management application",status:"development",lastModified:"2024-01-12",files:15,size:"3.1 MB",tags:["React Native","Firebase"],preview:"https://via.placeholder.com/300x200/ffc107/000000?text=Task+Manager"},{id:"4",name:"Analytics Dashboard",type:"dashboard",description:"Business analytics dashboard with charts",status:"active",lastModified:"2024-01-14",files:20,size:"4.2 MB",tags:["Vue.js","D3.js","Charts"],preview:"https://via.placeholder.com/300x200/6f42c1/ffffff?text=Analytics+Dashboard"},{id:"5",name:"REST API Service",type:"api",description:"Node.js REST API with authentication and database",status:"active",lastModified:"2024-01-16",files:25,size:"1.8 MB",tags:["Node.js","Express","MongoDB"],preview:"https://via.placeholder.com/300x200/17a2b8/ffffff?text=REST+API"},{id:"6",name:"Space Adventure Game",type:"game",description:"2D space shooter game built with JavaScript",status:"development",lastModified:"2024-01-13",files:18,size:"2.9 MB",tags:["JavaScript","Canvas","Game"],preview:"https://via.placeholder.com/300x200/e83e8c/ffffff?text=Space+Game"},{id:"7",name:"Social Media App",type:"mobile",description:"Social networking app with real-time chat",status:"active",lastModified:"2024-01-17",files:22,size:"4.1 MB",tags:["Flutter","Firebase","Chat"],preview:"https://via.placeholder.com/300x200/20c997/ffffff?text=Social+App"},{id:"8",name:"Admin Dashboard",type:"dashboard",description:"Administrative interface for managing users and content",status:"completed",lastModified:"2024-01-11",files:16,size:"3.3 MB",tags:["React","Material-UI","Admin"],preview:"https://via.placeholder.com/300x200/6c757d/ffffff?text=Admin+Dashboard"}]),B=[{id:"all",name:"All",icon:Si,count:C.length},{id:"web",name:"Web Apps",icon:Mi,count:C.filter(T=>T.type==="web").length},{id:"mobile",name:"Mobile",icon:Lt,count:C.filter(T=>T.type==="mobile").length},{id:"dashboard",name:"Dashboards",icon:Lr,count:C.filter(T=>T.type==="dashboard").length},{id:"api",name:"APIs",icon:Lr,count:C.filter(T=>T.type==="api").length},{id:"game",name:"Games",icon:Xh,count:C.filter(T=>T.type==="game").length},{id:"ecommerce",name:"E-commerce",icon:Lr,count:C.filter(T=>T.type==="ecommerce").length},{id:"completed",name:"Completed",icon:Xh,count:C.filter(T=>T.status==="completed").length}],I=C.filter(T=>{const P=T.name.toLowerCase().includes(s.toLowerCase())||T.description.toLowerCase().includes(s.toLowerCase())||T.tags.some(L=>L.toLowerCase().includes(s.toLowerCase())),M=l==="all"||T.type===l||T.status===l;return P&&M}),H=()=>{if(!g.trim()){je.error("Please enter a project name");return}const T={id:Date.now().toString(),name:g,type:b,description:`New ${b} project`,status:"active",lastModified:new Date().toISOString().split("T")[0],files:0,size:"0 MB",tags:[b],preview:"https://via.placeholder.com/300x200/6c757d/ffffff?text=New+Project"};F([T,...C]),y(""),S("web"),m(!1),je.success("Project created successfully!")},X=T=>{F(C.filter(P=>P.id!==T)),R(null),je.success("Project deleted successfully!")},G=T=>{switch(T){case"active":return"bg-green-100 text-green-800 border-green-200";case"development":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-white/10 text-white border-white/20";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=T=>{switch(T){case"web":return Mi;case"mobile":return Lt;case"dashboard":return Lr;default:return Si}};return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Projects"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your AI-generated projects"})]}),c.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(Jh,{className:"h-4 w-4"}),"New Project"]})]}),c.jsx("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg mb-6",children:B.map(T=>{const P=T.icon,M=l===T.id;return c.jsxs(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(T.id),className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ${M?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[c.jsx(P,{className:"h-4 w-4"}),T.name,c.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${M?"bg-primary-foreground/20":"bg-muted"}`,children:T.count})]},T.id)})}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search projects...",value:s,onChange:T=>a(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsx("div",{className:"space-y-2",children:I.map((T,P)=>{const M=k(T.type);return c.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:P*.05},className:"bg-card border border-border rounded-lg p-4 hover:shadow-sm transition-all duration-200 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(M,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("h3",{className:"font-semibold text-foreground truncate",children:T.name}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${G(T.status)}`,children:T.status})]}),c.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:T.description}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(yv,{className:"h-3 w-3"}),T.files," files"]}),c.jsx("span",{children:T.size}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(qa,{className:"h-3 w-3"}),T.lastModified]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("div",{className:"flex gap-1",children:[T.tags.slice(0,2).map(L=>c.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:L},L)),T.tags.length>2&&c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["+",T.tags.length-2]})]})})]}),c.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[c.jsx(fe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",onClick:()=>r(T.id),children:c.jsx(Kh,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(fe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",children:c.jsx(Wg,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx("button",{onClick:()=>R(A===T.id?null:T.id),className:"p-2 hover:bg-muted rounded-md transition-colors",children:c.jsx(PL,{className:"h-4 w-4 text-muted-foreground"})})]})]}),c.jsx(xs,{children:A===T.id&&c.jsx(fe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-4 mt-1 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[150px]",children:c.jsxs("div",{className:"p-1",children:[c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(Kh,{className:"h-4 w-4"}),"View"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(Wg,{className:"h-4 w-4"}),"Edit"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Download"]}),c.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[c.jsx(qS,{className:"h-4 w-4"}),"Share"]}),c.jsx("hr",{className:"my-1"}),c.jsxs("button",{onClick:()=>X(T.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[c.jsx(WS,{className:"h-4 w-4"}),"Delete"]})]})})})]},T.id)})}),I.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-lg flex items-center justify-center mx-auto mb-4",children:c.jsx(Si,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:s||l!=="all"?"No projects found":"No projects yet"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:s||l!=="all"?"Try adjusting your search or filter criteria.":"Create your first project to get started!"}),c.jsxs(fe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(Jh,{className:"h-4 w-4"}),"Create Project"]})]})]}),c.jsx(xs,{children:f&&c.jsx(fe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>m(!1),children:c.jsxs(fe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-full max-w-md mx-4",onClick:T=>T.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Create New Project"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:g,onChange:T=>y(T.target.value),placeholder:"Enter project name...",className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Type"}),c.jsxs("select",{value:b,onChange:T=>S(T.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"web",children:"Web Application"}),c.jsx("option",{value:"mobile",children:"Mobile Application"}),c.jsx("option",{value:"dashboard",children:"Dashboard"})]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-foreground hover:bg-muted transition-colors",children:"Cancel"}),c.jsx(fe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:H,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Create"})]})]})})}),A&&c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>R(null)})]})},e9=()=>{const{theme:n,setTheme:e}=vy(),[t,r]=N.useState("appearance"),[s,a]=N.useState({appearance:{theme:n,fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),[l,d]=N.useState(!0),[f,m]=N.useState(!1);N.useEffect(()=>{const I=localStorage.getItem("dreambuild-settings");I&&a(JSON.parse(I)),d(!1)},[]),N.useEffect(()=>{m(!0)},[s]);const g=()=>{localStorage.setItem("dreambuild-settings",JSON.stringify(s)),m(!1),je.success("Settings saved successfully!")},y=()=>{a({appearance:{theme:"system",fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),je.success("Settings reset to defaults!")},b=()=>{const I=JSON.stringify(s,null,2),H=new Blob([I],{type:"application/json"}),X=URL.createObjectURL(H),G=document.createElement("a");G.href=X,G.download="dreambuild-settings.json",G.click(),URL.revokeObjectURL(X),je.success("Settings exported!")},S=I=>{const H=I.target.files[0];if(H){const X=new FileReader;X.onload=G=>{try{const k=JSON.parse(G.target.result);a(k),je.success("Settings imported successfully!")}catch{je.error("Invalid settings file!")}},X.readAsText(H)}},A=(I,H,X)=>{a(G=>({...G,[I]:{...G[I],[H]:X}})),I==="appearance"&&H==="theme"&&e(X)},R=[{id:"appearance",name:"Appearance",icon:RL},{id:"editor",name:"Editor",icon:Lt},{id:"ai",name:"AI Settings",icon:Ei},{id:"notifications",name:"Notifications",icon:TL},{id:"privacy",name:"Privacy",icon:Yh}],C=({title:I,description:H,children:X,warning:G})=>c.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"font-medium text-foreground",children:I}),G&&c.jsx(xL,{className:"h-4 w-4 text-yellow-500",title:G})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:H})]}),c.jsx("div",{className:"ml-4",children:X})]}),F=({checked:I,onChange:H,disabled:X=!1})=>c.jsx("button",{onClick:()=>H(!I),disabled:X,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${I?"bg-gray-700":"bg-muted"} ${X?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${I?"translate-x-6":"translate-x-1"}`})}),B=()=>{switch(t){case"appearance":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Theme",description:"Choose your preferred color scheme",children:c.jsxs("select",{value:s.appearance.theme,onChange:I=>A("appearance","theme",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"dark",children:"Dark"}),c.jsx("option",{value:"system",children:"System"})]})}),c.jsx(C,{title:"Font Size",description:"Adjust the text size throughout the interface",children:c.jsxs("select",{value:s.appearance.fontSize,onChange:I=>A("appearance","fontSize",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"small",children:"Small"}),c.jsx("option",{value:"medium",children:"Medium"}),c.jsx("option",{value:"large",children:"Large"})]})}),c.jsx(C,{title:"Font Family",description:"Choose the font family for the editor",children:c.jsxs("select",{value:s.appearance.fontFamily,onChange:I=>A("appearance","fontFamily",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"system",children:"System Default"}),c.jsx("option",{value:"mono",children:"Monospace"}),c.jsx("option",{value:"sans",children:"Sans Serif"}),c.jsx("option",{value:"serif",children:"Serif"})]})}),c.jsx(C,{title:"Animations",description:"Enable smooth animations and transitions",children:c.jsx(F,{checked:s.appearance.animations,onChange:I=>A("appearance","animations",I)})}),c.jsx(C,{title:"Compact Mode",description:"Reduce spacing for a more compact interface",children:c.jsx(F,{checked:s.appearance.compactMode,onChange:I=>A("appearance","compactMode",I)})})]});case"editor":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Tab Size",description:"Number of spaces for indentation",children:c.jsxs("select",{value:s.editor.tabSize,onChange:I=>A("editor","tabSize",parseInt(I.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:2,children:"2 spaces"}),c.jsx("option",{value:4,children:"4 spaces"}),c.jsx("option",{value:8,children:"8 spaces"})]})}),c.jsx(C,{title:"Word Wrap",description:"Wrap long lines in the editor",children:c.jsx(F,{checked:s.editor.wordWrap,onChange:I=>A("editor","wordWrap",I)})}),c.jsx(C,{title:"Minimap",description:"Show a minimap of your code",children:c.jsx(F,{checked:s.editor.minimap,onChange:I=>A("editor","minimap",I)})}),c.jsx(C,{title:"Line Numbers",description:"Show line numbers in the editor",children:c.jsx(F,{checked:s.editor.lineNumbers,onChange:I=>A("editor","lineNumbers",I)})}),c.jsx(C,{title:"Auto Save",description:"Automatically save files as you type",children:c.jsx(F,{checked:s.editor.autoSave,onChange:I=>A("editor","autoSave",I)})}),c.jsx(C,{title:"Format on Save",description:"Automatically format code when saving",children:c.jsx(F,{checked:s.editor.formatOnSave,onChange:I=>A("editor","formatOnSave",I)})}),c.jsx(C,{title:"Auto Complete",description:"Enable intelligent code completion",children:c.jsx(F,{checked:s.editor.autoComplete,onChange:I=>A("editor","autoComplete",I)})})]});case"ai":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Default AI Model",description:"Choose your preferred AI model for code generation",children:c.jsxs("select",{value:s.ai.defaultModel,onChange:I=>A("ai","defaultModel",I.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"codellama-7b",children:"CodeLlama 7B"}),c.jsx("option",{value:"codellama-13b",children:"CodeLlama 13B"}),c.jsx("option",{value:"starcoder-15b",children:"StarCoder 15B"}),c.jsx("option",{value:"deepseek-coder",children:"DeepSeek Coder"}),c.jsx("option",{value:"wizardcoder-7b",children:"WizardCoder 7B"})]})}),c.jsx(C,{title:"Temperature",description:"Controls randomness in AI responses (0.0 = deterministic, 1.0 = creative)",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.ai.temperature,onChange:I=>A("ai","temperature",parseFloat(I.target.value)),className:"w-24"}),c.jsx("span",{className:"text-sm text-muted-foreground w-8",children:s.ai.temperature})]})}),c.jsx(C,{title:"Max Tokens",description:"Maximum number of tokens in AI responses",children:c.jsxs("select",{value:s.ai.maxTokens,onChange:I=>A("ai","maxTokens",parseInt(I.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:1e3,children:"1,000"}),c.jsx("option",{value:2e3,children:"2,000"}),c.jsx("option",{value:4e3,children:"4,000"}),c.jsx("option",{value:8e3,children:"8,000"})]})}),c.jsx(C,{title:"Auto Generate",description:"Automatically generate code suggestions as you type",children:c.jsx(F,{checked:s.ai.autoGenerate,onChange:I=>A("ai","autoGenerate",I)})}),c.jsx(C,{title:"AI Suggestions",description:"Show contextual AI suggestions in the editor",children:c.jsx(F,{checked:s.ai.suggestions,onChange:I=>A("ai","suggestions",I)})})]});case"notifications":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Project Updates",description:"Get notified when projects are updated",children:c.jsx(F,{checked:s.notifications.projectUpdates,onChange:I=>A("notifications","projectUpdates",I)})}),c.jsx(C,{title:"AI Completions",description:"Get notified when AI completes code generation",children:c.jsx(F,{checked:s.notifications.aiCompletions,onChange:I=>A("notifications","aiCompletions",I)})}),c.jsx(C,{title:"Error Notifications",description:"Get notified about errors and issues",children:c.jsx(F,{checked:s.notifications.errors,onChange:I=>A("notifications","errors",I)})}),c.jsx(C,{title:"Sound Notifications",description:"Play sounds for notifications",children:c.jsx(F,{checked:s.notifications.sound,onChange:I=>A("notifications","sound",I)})}),c.jsx(C,{title:"Email Notifications",description:"Receive notifications via email",children:c.jsx(F,{checked:s.notifications.email,onChange:I=>A("notifications","email",I)})})]});case"privacy":return c.jsxs("div",{className:"space-y-1",children:[c.jsx(C,{title:"Analytics",description:"Help improve DreamBuild by sharing anonymous usage data",children:c.jsx(F,{checked:s.privacy.analytics,onChange:I=>A("privacy","analytics",I)})}),c.jsx(C,{title:"Crash Reports",description:"Automatically send crash reports to help fix bugs",children:c.jsx(F,{checked:s.privacy.crashReports,onChange:I=>A("privacy","crashReports",I)})}),c.jsx(C,{title:"Telemetry",description:"Share performance and usage telemetry",warning:"This may include personal information",children:c.jsx(F,{checked:s.privacy.telemetry,onChange:I=>A("privacy","telemetry",I)})}),c.jsx(C,{title:"Share Usage Statistics",description:"Share anonymous usage statistics with the community",children:c.jsx(F,{checked:s.privacy.shareUsage,onChange:I=>A("privacy","shareUsage",I)})})]});default:return null}};return l?c.jsx("div",{className:"min-h-screen bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"space-y-3",children:[...Array(5)].map((I,H)=>c.jsx("div",{className:"h-12 bg-muted rounded"},H))})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsx("div",{className:"bg-card/50 rounded-xl p-6",children:c.jsx("div",{className:"space-y-4",children:[...Array(6)].map((I,H)=>c.jsx("div",{className:"h-16 bg-muted rounded"},H))})})})]})]})})}):c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),c.jsx("p",{className:"text-muted-foreground",children:"Customize your DreamBuild experience and preferences"})]}),c.jsx("div",{className:"flex items-center gap-2",children:f&&c.jsxs(fe.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-all duration-200",children:[c.jsx(HS,{className:"h-4 w-4"}),"Save Changes"]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-1",children:[c.jsx("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:c.jsx("nav",{className:"space-y-2",children:R.map(I=>{const H=I.icon;return c.jsxs("button",{onClick:()=>r(I.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${t===I.id?"bg-gray-700 text-white shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[c.jsx(H,{className:"h-4 w-4"}),I.name]},I.id)})})}),c.jsxs("div",{className:"mt-6 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Data Management"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{onClick:b,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Export Settings"]}),c.jsxs("label",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors cursor-pointer",children:[c.jsx(KS,{className:"h-4 w-4"}),"Import Settings",c.jsx("input",{type:"file",accept:".json",onChange:S,className:"hidden"})]}),c.jsxs("button",{onClick:y,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx($f,{className:"h-4 w-4"}),"Reset to Defaults"]})]})]})]}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-border/50",children:c.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[Yn.createElement(R.find(I=>I.id===t)?.icon,{className:"h-5 w-5 text-white"}),R.find(I=>I.id===t)?.name]})}),c.jsx("div",{className:"divide-y divide-border/50",children:B()})]})})]})]})})},t9=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("getting-started"),s=[{id:"getting-started",title:"Getting Started",icon:Gr,articles:[{title:"Quick Start Guide",description:"Get up and running in 5 minutes"},{title:"Installation",description:"Install DreamBuild on your system"},{title:"First Project",description:"Create your first AI-generated project"},{title:"Basic Concepts",description:"Understanding the DreamBuild workflow"}]},{id:"ai-features",title:"AI Features",icon:Lt,articles:[{title:"Code Generation",description:"Generate code with AI assistance"},{title:"Local AI Setup",description:"Set up Ollama for offline AI"},{title:"Template System",description:"Use pre-built project templates"},{title:"AI Models",description:"Available AI models and capabilities"}]},{id:"api-reference",title:"API Reference",icon:Gg,articles:[{title:"REST API",description:"Complete API documentation"},{title:"WebSocket API",description:"Real-time communication"},{title:"Authentication",description:"API authentication methods"},{title:"Rate Limits",description:"API usage limits and quotas"}]},{id:"deployment",title:"Deployment",icon:Mi,articles:[{title:"Firebase Hosting",description:"Deploy to Firebase"},{title:"GitHub Pages",description:"Deploy to GitHub Pages"},{title:"Custom Domain",description:"Set up custom domains"},{title:"CI/CD Pipeline",description:"Automated deployment workflows"}]}],a=[{title:"API Documentation",href:"#",icon:Lt},{title:"GitHub Repository",href:"https://github.com/ronb12/DreamBuild",icon:Wr},{title:"Community Forum",href:"#",icon:Mi},{title:"Video Tutorials",href:"#",icon:Jc}];return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(wh,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Documentation"}),c.jsx("p",{className:"text-muted-foreground",children:"Complete guides and API references for DreamBuild"})]})]}),c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search documentation...",value:n,onChange:l=>e(l.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsxs("div",{className:"sticky top-8 space-y-2",children:[c.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-4",children:"Sections"}),s.map(l=>{const d=l.icon;return c.jsxs("button",{onClick:()=>r(l.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${t===l.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:[c.jsx(d,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm font-medium",children:l.title})]},l.id)}),c.jsxs("div",{className:"mt-8 pt-6 border-t border-border",children:[c.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-4",children:"Quick Links"}),c.jsx("div",{className:"space-y-2",children:a.map(l=>{const d=l.icon;return c.jsxs("a",{href:l.href,target:l.href.startsWith("http")?"_blank":void 0,rel:l.href.startsWith("http")?"noopener noreferrer":void 0,className:"flex items-center gap-3 px-3 py-2 text-sm text-muted-foreground hover:text-foreground hover:bg-muted rounded-lg transition-colors",children:[c.jsx(d,{className:"h-4 w-4"}),c.jsx("span",{children:l.title}),l.href.startsWith("http")&&c.jsx(Jc,{className:"h-3 w-3 ml-auto"})]},l.title)})})]})]})}),c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"bg-card border border-border rounded-xl p-6",children:s.map(l=>{const d=l.icon;return c.jsxs("div",{className:t===l.id?"block":"hidden",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(d,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:l.title}),c.jsxs("p",{className:"text-muted-foreground",children:["Learn about ",l.title.toLowerCase()]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.articles.map((f,m)=>c.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},className:"p-4 border border-border rounded-lg hover:shadow-md transition-all duration-200 cursor-pointer group",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors mb-2",children:f.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:f.description})]}),c.jsx(FS,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors flex-shrink-0"})]})},f.title))})]},l.id)})}),t==="getting-started"&&c.jsxs("div",{className:"mt-8 bg-primary/5 border border-primary/20 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Ready to get started?"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Follow our quick start guide to create your first AI-generated project in minutes."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(Gr,{className:"h-4 w-4"}),"Quick Start Guide"]}),c.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Download PDF"]})]})]})]})]})]})})},n9=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("all"),[s,a]=N.useState("grid"),l=[{id:"all",name:"All Examples",count:24},{id:"web",name:"Web Apps",count:8},{id:"mobile",name:"Mobile Apps",count:6},{id:"api",name:"APIs",count:5},{id:"dashboard",name:"Dashboards",count:5}],f=[{id:1,title:"E-commerce Store",description:"Full-featured online store with React, Node.js, and Stripe integration",category:"web",difficulty:"Intermediate",tags:["React","Node.js","Stripe","MongoDB"],stars:156,language:"JavaScript",preview:"https://via.placeholder.com/400x250/2563eb/ffffff?text=E-commerce+Store",github:"https://github.com/example/ecommerce-store"},{id:2,title:"Task Management App",description:"Collaborative task management with real-time updates and team features",category:"web",difficulty:"Beginner",tags:["Vue.js","Firebase","Real-time"],stars:89,language:"JavaScript",preview:"https://via.placeholder.com/400x250/10b981/ffffff?text=Task+Manager",github:"https://github.com/example/task-manager"},{id:3,title:"Fitness Tracker",description:"Mobile app for tracking workouts, nutrition, and fitness goals",category:"mobile",difficulty:"Intermediate",tags:["React Native","GraphQL","Health API"],stars:234,language:"TypeScript",preview:"https://via.placeholder.com/400x250/f59e0b/ffffff?text=Fitness+Tracker",github:"https://github.com/example/fitness-tracker"},{id:4,title:"Analytics Dashboard",description:"Business intelligence dashboard with charts, metrics, and reporting",category:"dashboard",difficulty:"Advanced",tags:["D3.js","Python","PostgreSQL"],stars:312,language:"Python",preview:"https://via.placeholder.com/400x250/8b5cf6/ffffff?text=Analytics+Dashboard",github:"https://github.com/example/analytics-dashboard"},{id:5,title:"REST API Template",description:"Production-ready REST API with authentication, validation, and documentation",category:"api",difficulty:"Intermediate",tags:["Express.js","JWT","Swagger"],stars:178,language:"JavaScript",preview:"https://via.placeholder.com/400x250/ef4444/ffffff?text=REST+API",github:"https://github.com/example/rest-api-template"},{id:6,title:"Portfolio Website",description:"Modern portfolio website with animations, blog, and contact form",category:"web",difficulty:"Beginner",tags:["Next.js","Tailwind","Framer Motion"],stars:67,language:"TypeScript",preview:"https://via.placeholder.com/400x250/06b6d4/ffffff?text=Portfolio",github:"https://github.com/example/portfolio-website"},{id:7,title:"Social Media App",description:"Instagram-like social media app with posts, stories, and messaging",category:"mobile",difficulty:"Advanced",tags:["Flutter","Firebase","Real-time"],stars:445,language:"Dart",preview:"https://via.placeholder.com/400x250/ec4899/ffffff?text=Social+App",github:"https://github.com/example/social-media-app"},{id:8,title:"GraphQL API",description:"Modern GraphQL API with subscriptions, caching, and real-time updates",category:"api",difficulty:"Advanced",tags:["GraphQL","Apollo","Redis"],stars:298,language:"TypeScript",preview:"https://via.placeholder.com/400x250/84cc16/ffffff?text=GraphQL+API",github:"https://github.com/example/graphql-api"}].filter(y=>{const b=y.title.toLowerCase().includes(n.toLowerCase())||y.description.toLowerCase().includes(n.toLowerCase())||y.tags.some(A=>A.toLowerCase().includes(n.toLowerCase())),S=t==="all"||y.category===t;return b&&S}),m=y=>{switch(y){case"Beginner":return"bg-green-100 text-green-800 border-green-200";case"Intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=y=>{switch(y){case"web":return Mi;case"mobile":return OL;case"api":return SL;case"dashboard":return yv;default:return Wm}};return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(Wm,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Examples"}),c.jsx("p",{className:"text-muted-foreground",children:"Explore real-world projects and code examples"})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search examples...",value:n,onChange:y=>e(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(US,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("select",{value:t,onChange:y=>r(y.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:l.map(y=>c.jsxs("option",{value:y.id,children:[y.name," (",y.count,")"]},y.id))})]})]}),c.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[c.jsx("button",{onClick:()=>a("grid"),className:`p-2 rounded-md transition-colors ${s==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:c.jsx(BS,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>a("list"),className:`p-2 rounded-md transition-colors ${s==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:c.jsx($S,{className:"h-4 w-4"})})]})]})]}),c.jsx("div",{className:s==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:f.map((y,b)=>{const S=g(y.category);return c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.1},className:`bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200 group ${s==="list"?"flex":""}`,children:[c.jsxs("div",{className:`relative ${s==="list"?"w-48 h-32":"h-48"} bg-muted/50`,children:[c.jsx("img",{src:y.preview,alt:y.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${m(y.difficulty)}`,children:y.difficulty})}),c.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(fe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-primary text-primary-foreground rounded-lg shadow-lg",title:"Run Example",children:c.jsx(Qb,{className:"h-4 w-4"})}),c.jsx(fe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white text-gray-900 rounded-lg shadow-lg",title:"Copy Code",children:c.jsx(gv,{className:"h-4 w-4"})})]})})]}),c.jsxs("div",{className:`p-4 ${s==="list"?"flex-1":""}`,children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(S,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:y.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y.language})]})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Xh,{className:"h-4 w-4"}),c.jsx("span",{children:y.stars})]})]}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:y.description}),c.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:y.tags.map(A=>c.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:A},A))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors text-sm",children:[c.jsx(Qb,{className:"h-4 w-4"}),"Run"]}),c.jsxs("a",{href:y.github,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-sm",children:[c.jsx(Wr,{className:"h-4 w-4"}),"Code"]}),c.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 border border-border rounded-lg hover:bg-muted transition-colors text-sm",children:[c.jsx(Lo,{className:"h-4 w-4"}),"Download"]})]})]})]},y.id)})}),f.length===0&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Wm,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No examples found"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),c.jsx("button",{onClick:()=>{e(""),r("all")},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Clear Filters"})]}),c.jsxs("div",{className:"mt-12 bg-primary/5 border border-primary/20 rounded-xl p-8 text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Have a great example to share?"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Share your projects with the DreamBuild community and help other developers learn and grow."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(Wr,{className:"h-5 w-5"}),"Submit Example"]}),c.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(Jc,{className:"h-5 w-5"}),"View Guidelines"]})]})]})]})})},r9=()=>{const[n,e]=N.useState("discussions"),[t,r]=N.useState(""),s=[{id:"discussions",name:"Discussions",count:156,icon:qg},{id:"projects",name:"Showcase",count:89,icon:Lt},{id:"events",name:"Events",count:12,icon:qa},{id:"resources",name:"Resources",count:45,icon:zg}],a=[{id:1,title:"How to set up Ollama for local AI development?",author:"Alex Chen",avatar:"https://via.placeholder.com/40x40/2563eb/ffffff?text=AC",time:"2 hours ago",category:"Getting Started",replies:12,likes:24,isPinned:!0,tags:["ollama","local-ai","setup"]},{id:2,title:"Building a React Native app with DreamBuild - Tips and tricks",author:"Sarah Johnson",avatar:"https://via.placeholder.com/40x40/10b981/ffffff?text=SJ",time:"4 hours ago",category:"Mobile Development",replies:8,likes:18,isPinned:!1,tags:["react-native","mobile","tips"]},{id:3,title:"Share your DreamBuild projects - Monthly showcase",author:"Community Team",avatar:"https://via.placeholder.com/40x40/f59e0b/ffffff?text=CT",time:"1 day ago",category:"Showcase",replies:34,likes:67,isPinned:!0,tags:["showcase","projects","monthly"]},{id:4,title:"API rate limits and best practices",author:"Mike Rodriguez",avatar:"https://via.placeholder.com/40x40/8b5cf6/ffffff?text=MR",time:"2 days ago",category:"API",replies:15,likes:31,isPinned:!1,tags:["api","rate-limits","best-practices"]},{id:5,title:"Deploying to Firebase vs GitHub Pages - Pros and cons",author:"Emma Wilson",avatar:"https://via.placeholder.com/40x40/ef4444/ffffff?text=EW",time:"3 days ago",category:"Deployment",replies:22,likes:45,isPinned:!1,tags:["deployment","firebase","github-pages"]}],l=[{id:1,title:"DreamBuild Live Q&A Session",date:"2024-01-25",time:"2:00 PM EST",type:"Live Stream",attendees:156,description:"Join our monthly Q&A session with the DreamBuild team"},{id:2,title:"AI Development Workshop",date:"2024-01-30",time:"10:00 AM EST",type:"Workshop",attendees:89,description:"Learn advanced AI development techniques with DreamBuild"},{id:3,title:"Community Showcase",date:"2024-02-05",time:"6:00 PM EST",type:"Presentation",attendees:234,description:"Featured projects from our amazing community members"}],d=[{label:"Active Members",value:"2,847",icon:Kg},{label:"Discussions",value:"1,234",icon:qg},{label:"Projects Shared",value:"567",icon:Lt},{label:"Events This Month",value:"8",icon:qa}],f=a.filter(m=>m.title.toLowerCase().includes(t.toLowerCase())||m.category.toLowerCase().includes(t.toLowerCase())||m.tags.some(g=>g.toLowerCase().includes(t.toLowerCase())));return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(Kg,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Community"}),c.jsx("p",{className:"text-muted-foreground",children:"Connect with developers, share projects, and get help"})]})]}),c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search discussions...",value:t,onChange:m=>r(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:d.map((m,g)=>{const y=m.icon;return c.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-card border border-border rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:c.jsx(y,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-foreground",children:m.value}),c.jsx("p",{className:"text-sm text-muted-foreground",children:m.label})]})]})},m.label)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"lg:col-span-3",children:[c.jsx("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl mb-6",children:s.map(m=>{const g=m.icon;return c.jsxs("button",{onClick:()=>e(m.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n===m.id?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[c.jsx(g,{className:"h-4 w-4"}),c.jsx("span",{children:m.name}),c.jsx("span",{className:"px-2 py-1 text-xs bg-muted/50 rounded-full",children:m.count})]},m.id)})}),n==="discussions"&&c.jsx("div",{className:"space-y-4",children:f.map((m,g)=>c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:`bg-card border border-border rounded-xl p-6 hover:shadow-md transition-all duration-200 ${m.isPinned?"border-primary/20 bg-primary/5":""}`,children:[m.isPinned&&c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(Gr,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm font-medium text-primary",children:"Pinned"})]}),c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("img",{src:m.avatar,alt:m.author,className:"w-10 h-10 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground hover:text-primary transition-colors cursor-pointer mb-2",children:m.title}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[c.jsxs("span",{children:["by ",m.author]}),c.jsx("span",{children:"•"}),c.jsx("span",{children:m.time}),c.jsx("span",{children:"•"}),c.jsx("span",{className:"px-2 py-1 bg-muted rounded-md",children:m.category})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Hg,{className:"h-4 w-4"}),c.jsx("span",{children:m.replies})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Qh,{className:"h-4 w-4"}),c.jsx("span",{children:m.likes})]}),c.jsx("div",{className:"flex gap-1",children:m.tags.map(y=>c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["#",y]},y))})]})]})]})]},m.id))}),n==="projects"&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(Lt,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Project Showcase"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Featured projects from our community will appear here"}),c.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Submit Your Project"})]}),n==="events"&&c.jsx("div",{className:"space-y-4",children:l.map((m,g)=>c.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"bg-card border border-border rounded-xl p-6 hover:shadow-md transition-all duration-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-2",children:m.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:m.description}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(qa,{className:"h-4 w-4"}),c.jsx("span",{children:m.date})]}),c.jsx("span",{children:"•"}),c.jsx("span",{children:m.time}),c.jsx("span",{children:"•"}),c.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary rounded-md",children:m.type}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:[m.attendees," attendees"]})]})]}),c.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Join Event"})]})},m.id))}),n==="resources"&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(zg,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Community Resources"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Curated resources and learning materials will appear here"}),c.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Suggest Resource"})]})]}),c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:[c.jsx(Jh,{className:"h-4 w-4"}),"Start Discussion"]}),c.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(Lt,{className:"h-4 w-4"}),"Share Project"]}),c.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(qa,{className:"h-4 w-4"}),"Create Event"]})]})]}),c.jsxs("div",{className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Join Our Community"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(Wr,{className:"h-4 w-4"}),c.jsx("span",{children:"GitHub"})]}),c.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(GS,{className:"h-4 w-4"}),c.jsx("span",{children:"Twitter"})]}),c.jsxs("a",{href:"#",className:"flex items-center gap-3 px-4 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:[c.jsx(zS,{className:"h-4 w-4"}),c.jsx("span",{children:"Newsletter"})]})]})]}),c.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Community Guidelines"}),c.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("li",{children:"• Be respectful and inclusive"}),c.jsx("li",{children:"• Share helpful and relevant content"}),c.jsx("li",{children:"• Follow our code of conduct"}),c.jsx("li",{children:"• Help others learn and grow"})]})]})]})]})]})})},s9=()=>c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[c.jsx("div",{className:"text-center mb-16",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:c.jsx("span",{className:"text-white font-bold text-3xl",children:"D"})}),c.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-800 dark:text-white mb-6",children:["About ",c.jsx("span",{className:"text-blue-600",children:"DreamBuild"})]}),c.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed",children:"DreamBuild is a revolutionary AI-powered development platform that transforms your ideas into code. Simply describe what you want to build, and watch as DreamBuild generates complete applications for you."})]})}),c.jsx("div",{className:"mb-16",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:"What We Do"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"AI-Powered Development"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Transform your ideas into code using cutting-edge AI models. Simply describe what you want to build, and DreamBuild generates complete, working applications for you."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Multi-Language Support"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Build applications in popular programming languages including React, Vue, Python, JavaScript, HTML/CSS, and many more. Choose your preferred technology stack."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Instant Deployment"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Deploy your applications instantly to Firebase Hosting and GitHub Pages. No complex configuration required - just click and deploy."})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-3",children:"Local AI Integration"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Use local AI models for complete privacy and control. No external API keys required - run everything on your own machine for maximum security."})]})]})]})}),c.jsx("div",{className:"mb-16",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:"Our Mission"}),c.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 text-center leading-relaxed",children:"To democratize software development by making AI-powered coding tools accessible to everyone. Whether you're an experienced developer or just getting started, DreamBuild empowers you to turn your ideas into reality with the power of artificial intelligence."})]})}),c.jsx("div",{className:"mb-16",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white/90 dark:bg-slate-800/90 backdrop-blur-xl border border-slate-200/50 dark:border-slate-700/50 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:"About Bradley Virtual Solutions"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:["DreamBuild is developed by ",c.jsx("strong",{className:"text-slate-800 dark:text-white",children:"Bradley Virtual Solutions, LLC"}),", a company dedicated to creating innovative AI-powered development tools."]}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Founded by Ronell Bradley, a full-stack developer passionate about AI and web development, we're committed to making advanced development tools accessible to everyone."})]})]})}),c.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 shadow-xl",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Start Building?"}),c.jsx("p",{className:"text-blue-100 mb-6 max-w-xl mx-auto",children:"Start your journey with DreamBuild today and experience the future of AI-powered development."}),c.jsxs(fe.a,{href:"/ai-builder",whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-blue-600 rounded-xl font-semibold hover:bg-blue-50 transition-colors shadow-lg",children:[c.jsx(Lt,{className:"h-5 w-5"}),"Start Building Now",c.jsx(pu,{className:"h-4 w-4"})]})]})})]})}),i9=()=>{const[n,e]=N.useState(""),[t,r]=N.useState("all"),s=[{id:"all",name:"All Posts",count:24},{id:"tutorials",name:"Tutorials",count:8},{id:"ai",name:"AI & ML",count:6},{id:"development",name:"Development",count:5},{id:"company",name:"Company",count:5}],a={title:"Getting Started with Local AI Development: A Complete Guide",excerpt:"Learn how to set up Ollama, integrate local AI models, and build your first AI-powered application with DreamBuild.",author:"Ronell Bradley",authorAvatar:"https://via.placeholder.com/40x40/2563eb/ffffff?text=RB",publishDate:"2024-01-20",readTime:"8 min read",category:"tutorials",tags:["ai","ollama","tutorial","getting-started"],image:"https://via.placeholder.com/600x300/2563eb/ffffff?text=Local+AI+Guide",likes:156,comments:23},d=[{id:2,title:"Building a React Native App with AI Code Generation",excerpt:"Discover how to leverage DreamBuild's AI capabilities to create a mobile app from scratch.",author:"Sarah Chen",authorAvatar:"https://via.placeholder.com/40x40/10b981/ffffff?text=SC",publishDate:"2024-01-18",readTime:"6 min read",category:"tutorials",tags:["react-native","mobile","ai"],featured:!1,image:"https://via.placeholder.com/400x250/10b981/ffffff?text=React+Native",likes:89,comments:12,views:1523},{id:3,title:"The Future of AI-Powered Development Tools",excerpt:"Exploring emerging trends and technologies that will shape the future of software development.",author:"Marcus Rodriguez",authorAvatar:"https://via.placeholder.com/40x40/f59e0b/ffffff?text=MR",publishDate:"2024-01-15",readTime:"10 min read",category:"ai",tags:["ai","future","technology","trends"],featured:!1,image:"https://via.placeholder.com/400x250/f59e0b/ffffff?text=Future+AI",likes:234,comments:34,views:4567},{id:4,title:"DreamBuild 2.0: What's New and Exciting",excerpt:"Announcing the latest features and improvements in DreamBuild 2.0, including enhanced AI capabilities.",author:"Ronell Bradley",authorAvatar:"https://via.placeholder.com/40x40/2563eb/ffffff?text=RB",publishDate:"2024-01-12",readTime:"5 min read",category:"company",tags:["release","features","announcement"],featured:!1,image:"https://via.placeholder.com/400x250/8b5cf6/ffffff?text=DreamBuild+2.0",likes:167,comments:28,views:3421},{id:5,title:"Best Practices for AI Code Generation",excerpt:"Learn how to write effective prompts and get the best results from AI code generation tools.",author:"Sarah Chen",authorAvatar:"https://via.placeholder.com/40x40/10b981/ffffff?text=SC",publishDate:"2024-01-10",readTime:"7 min read",category:"development",tags:["best-practices","prompts","ai","tips"],featured:!1,image:"https://via.placeholder.com/400x250/06b6d4/ffffff?text=Best+Practices",likes:145,comments:19,views:2890},{id:6,title:"Setting Up Your Development Environment for AI",excerpt:"A comprehensive guide to configuring your development environment for optimal AI-assisted coding.",author:"Marcus Rodriguez",authorAvatar:"https://via.placeholder.com/40x40/f59e0b/ffffff?text=MR",publishDate:"2024-01-08",readTime:"9 min read",category:"tutorials",tags:["setup","environment","development","tools"],featured:!1,image:"https://via.placeholder.com/400x250/ec4899/ffffff?text=Dev+Environment",likes:98,comments:15,views:1876},{id:7,title:"Community Spotlight: Amazing Projects Built with DreamBuild",excerpt:"Highlighting some of the incredible projects our community has created using DreamBuild.",author:"Community Team",authorAvatar:"https://via.placeholder.com/40x40/ef4444/ffffff?text=CT",publishDate:"2024-01-05",readTime:"6 min read",category:"company",tags:["community","showcase","projects","spotlight"],featured:!1,image:"https://via.placeholder.com/400x250/84cc16/ffffff?text=Community+Projects",likes:203,comments:41,views:5234}].filter(g=>{const y=g.title.toLowerCase().includes(n.toLowerCase())||g.excerpt.toLowerCase().includes(n.toLowerCase())||g.tags.some(S=>S.toLowerCase().includes(n.toLowerCase())),b=t==="all"||g.category===t;return y&&b}),f=g=>{switch(g){case"tutorials":return Lt;case"ai":return Gr;case"development":return Mi;case"company":return LL;default:return wh}},m=g=>{switch(g){case"tutorials":return"bg-blue-100 text-blue-800 border-blue-200";case"ai":return"bg-purple-100 text-purple-800 border-purple-200";case"development":return"bg-green-100 text-green-800 border-green-200";case"company":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:c.jsx(wh,{className:"h-6 w-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Blog"}),c.jsx("p",{className:"text-muted-foreground",children:"Insights, tutorials, and updates from the DreamBuild team"})]})]}),c.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[c.jsxs("div",{className:"relative max-w-md",children:[c.jsx(Vo,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search blog posts...",value:n,onChange:g=>e(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(US,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("select",{value:t,onChange:g=>r(g.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:s.map(g=>c.jsxs("option",{value:g.id,children:[g.name," (",g.count,")"]},g.id))})]})]})})]}),c.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-12",children:c.jsx("div",{className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200",children:c.jsxs("div",{className:"md:flex",children:[c.jsx("div",{className:"md:w-1/2",children:c.jsx("img",{src:a.image,alt:a.title,className:"w-full h-64 md:h-full object-cover"})}),c.jsxs("div",{className:"md:w-1/2 p-8",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[c.jsx("span",{className:"px-3 py-1 bg-primary text-primary-foreground rounded-full text-sm font-medium",children:"Featured"}),c.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full border ${m(a.category)}`,children:a.category})]}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground mb-4 hover:text-primary transition-colors cursor-pointer",children:a.title}),c.jsx("p",{className:"text-muted-foreground mb-6 leading-relaxed",children:a.excerpt}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-6",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:a.authorAvatar,alt:a.author,className:"w-6 h-6 rounded-full"}),c.jsx("span",{children:a.author})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(qa,{className:"h-4 w-4"}),c.jsx("span",{children:a.publishDate})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Uf,{className:"h-4 w-4"}),c.jsx("span",{children:a.readTime})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex gap-1",children:a.tags.map(g=>c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["#",g]},g))}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Qh,{className:"h-4 w-4"}),c.jsx("span",{children:a.likes})]}),c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Hg,{className:"h-4 w-4"}),c.jsx("span",{children:a.comments})]})]})]})]})]})})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((g,y)=>{const b=f(g.category);return c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:y*.1},className:"bg-card border border-border rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200 group",children:[c.jsxs("div",{className:"relative h-48 bg-muted/50",children:[c.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${m(g.category)}`,children:g.category})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx(b,{className:"h-4 w-4 text-primary"}),c.jsx("span",{className:"text-sm text-primary font-medium",children:g.category})]}),c.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors cursor-pointer mb-3 line-clamp-2",children:g.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:g.excerpt}),c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("img",{src:g.authorAvatar,alt:g.author,className:"w-8 h-8 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:g.author}),c.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[c.jsx("span",{children:g.publishDate}),c.jsx("span",{children:"•"}),c.jsx("span",{children:g.readTime})]})]})]}),c.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:g.tags.map(S=>c.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["#",S]},S))}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Qh,{className:"h-4 w-4"}),c.jsx("span",{children:g.likes})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Hg,{className:"h-4 w-4"}),c.jsx("span",{children:g.comments})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",children:c.jsx(zg,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",children:c.jsx(qS,{className:"h-4 w-4"})}),c.jsxs("button",{className:"flex items-center gap-1 text-primary hover:text-primary-dark transition-colors",children:[c.jsx("span",{className:"text-sm font-medium",children:"Read"}),c.jsx(pu,{className:"h-4 w-4"})]})]})]})]})]},g.id)})}),d.length===0&&c.jsxs("div",{className:"text-center py-16",children:[c.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx(wh,{className:"h-12 w-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No posts found"}),c.jsx("p",{className:"text-muted-foreground mb-6",children:"Try adjusting your search or filter criteria"}),c.jsx("button",{onClick:()=>{e(""),r("all")},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Clear Filters"})]}),c.jsxs("div",{className:"mt-16 bg-primary/5 border border-primary/20 rounded-xl p-8 text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Stay Updated"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Subscribe to our newsletter for the latest tutorials, updates, and insights from the DreamBuild team."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center max-w-md mx-auto",children:[c.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),c.jsx("button",{className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Subscribe"})]})]})]})})},o9=()=>{const[n,e]=N.useState({name:"",email:"",subject:"",message:""}),[t,r]=N.useState(!1),[s,a]=N.useState(null),l=[{icon:zS,title:"Email Us",description:"Send us an email and we'll respond within 24 hours",value:"hello@dreambuild.dev",action:"mailto:hello@dreambuild.dev"},{icon:qg,title:"Live Chat",description:"Chat with our support team in real-time",value:"Available 9 AM - 6 PM EST",action:"#"},{icon:DL,title:"Call Us",description:"Speak directly with our team",value:"+1 (555) 123-4567",action:"tel:+15551234567"},{icon:IL,title:"Visit Us",description:"Our headquarters location",value:"San Francisco, CA",action:"#"}],d=[{icon:Wr,href:"https://github.com/ronb12/DreamBuild",label:"GitHub"},{icon:GS,href:"#",label:"Twitter"},{icon:CL,href:"#",label:"LinkedIn"},{icon:Mi,href:"#",label:"Website"}],f=[{question:"How do I get started with DreamBuild?",answer:"Simply visit our documentation page for a complete getting started guide. You can also try our AI Builder without any setup required."},{question:"Do you offer technical support?",answer:"Yes! We provide comprehensive technical support through email, live chat, and our community forum. Premium users get priority support."},{question:"Can I use DreamBuild for commercial projects?",answer:"Absolutely! DreamBuild is designed for both personal and commercial use. Check our pricing page for details on different plans."},{question:"How does the AI code generation work?",answer:"DreamBuild uses advanced AI models to generate code based on your prompts. You can use our cloud AI services or set up local AI with Ollama for complete privacy."}],m=y=>{const{name:b,value:S}=y.target;e(A=>({...A,[b]:S}))},g=async y=>{y.preventDefault(),r(!0),await new Promise(b=>setTimeout(b,2e3)),r(!1),a("success"),e({name:"",email:"",subject:"",message:""}),setTimeout(()=>a(null),5e3)};return c.jsx("div",{className:"min-h-screen bg-background",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"text-center mb-12",children:c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-foreground mb-6",children:["Get in ",c.jsx("span",{className:"text-primary",children:"Touch"})]}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"Have questions about DreamBuild? Need help getting started? Want to share feedback? We'd love to hear from you."})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-card border border-border rounded-xl p-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Send us a Message"}),c.jsx("p",{className:"text-muted-foreground",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),c.jsxs("form",{onSubmit:g,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-foreground mb-2",children:"Name *"}),c.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:m,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Your full name"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email *"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:m,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"your@email.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-foreground mb-2",children:"Subject *"}),c.jsxs("select",{id:"subject",name:"subject",value:n.subject,onChange:m,required:!0,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[c.jsx("option",{value:"",children:"Select a subject"}),c.jsx("option",{value:"general",children:"General Inquiry"}),c.jsx("option",{value:"support",children:"Technical Support"}),c.jsx("option",{value:"sales",children:"Sales Question"}),c.jsx("option",{value:"feedback",children:"Feedback"}),c.jsx("option",{value:"partnership",children:"Partnership"}),c.jsx("option",{value:"bug",children:"Bug Report"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-foreground mb-2",children:"Message *"}),c.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:m,required:!0,rows:6,className:"w-full px-4 py-3 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",placeholder:"Tell us how we can help you..."})]}),s==="success"&&c.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-2 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsx(VS,{className:"h-5 w-5 text-green-600"}),c.jsx("span",{className:"text-green-800",children:"Message sent successfully! We'll get back to you soon."})]}),c.jsx("button",{type:"submit",disabled:t,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ML,{className:"h-5 w-5"}),"Send Message"]})})]})]})}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Other Ways to Reach Us"}),c.jsx("div",{className:"space-y-4",children:l.map((y,b)=>{const S=y.icon;return c.jsxs("a",{href:y.action,className:"flex items-start gap-4 p-4 border border-border rounded-lg hover:bg-muted transition-colors group",children:[c.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:c.jsx(S,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:y.title}),c.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:y.description}),c.jsx("p",{className:"text-sm font-medium text-primary",children:y.value})]})]},y.title)})})]}),c.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-foreground mb-6",children:"Follow Us"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(y=>{const b=y.icon;return c.jsxs("a",{href:y.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 border border-border rounded-lg hover:bg-muted transition-colors group",children:[c.jsx(b,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"}),c.jsx("span",{className:"text-sm font-medium text-foreground group-hover:text-primary transition-colors",children:y.label})]},y.label)})})]}),c.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-primary/5 border border-primary/20 rounded-xl p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx(Uf,{className:"h-6 w-6 text-primary"}),c.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Business Hours"})]}),c.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Monday - Friday"}),c.jsx("span",{children:"9:00 AM - 6:00 PM EST"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Saturday"}),c.jsx("span",{children:"10:00 AM - 4:00 PM EST"})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Sunday"}),c.jsx("span",{children:"Closed"})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Emergency support available 24/7 for premium users."})]})]})]}),c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"mt-16",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Frequently Asked Questions"}),c.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Quick answers to common questions about DreamBuild and our services."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map((y,b)=>c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4+b*.1},className:"bg-card border border-border rounded-xl p-6",children:[c.jsx("h3",{className:"font-semibold text-foreground mb-3",children:y.question}),c.jsx("p",{className:"text-sm text-muted-foreground",children:y.answer})]},y.question))})]}),c.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"mt-16 bg-primary/5 border border-primary/20 rounded-xl p-8 text-center",children:[c.jsx("h3",{className:"text-2xl font-bold text-foreground mb-4",children:"Ready to Get Started?"}),c.jsx("p",{className:"text-muted-foreground mb-6 max-w-2xl mx-auto",children:"Join thousands of developers who are already building amazing applications with DreamBuild."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary-dark transition-colors",children:"Try DreamBuild Free"}),c.jsx("button",{className:"px-6 py-3 border border-border rounded-lg hover:bg-muted transition-colors",children:"View Documentation"})]})]})]})})};function a9(){const n=$o();return["/ai-builder"].includes(n.pathname)?null:c.jsx(FL,{})}function l9({children:n}){const e=$o();return["/ai-builder"].includes(e.pathname)?c.jsx("main",{children:n}):c.jsx("main",{className:"pt-16",children:n})}function c9(){return c.jsx(tN,{children:c.jsx(hL,{children:c.jsx(mL,{children:c.jsx(cI,{children:c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(VL,{}),c.jsx(l9,{children:c.jsxs(nI,{children:[c.jsx(wn,{path:"/",element:c.jsx(nF,{})}),c.jsx(wn,{path:"/ai-builder",element:c.jsx(QB,{})}),c.jsx(wn,{path:"/dashboard",element:c.jsx(JB,{})}),c.jsx(wn,{path:"/login",element:c.jsx(YB,{})}),c.jsx(wn,{path:"/signup",element:c.jsx(XB,{})}),c.jsx(wn,{path:"/projects",element:c.jsx(ZB,{})}),c.jsx(wn,{path:"/settings",element:c.jsx(e9,{})}),c.jsx(wn,{path:"/documentation",element:c.jsx(t9,{})}),c.jsx(wn,{path:"/examples",element:c.jsx(n9,{})}),c.jsx(wn,{path:"/community",element:c.jsx(r9,{})}),c.jsx(wn,{path:"/about",element:c.jsx(s9,{})}),c.jsx(wn,{path:"/blog",element:c.jsx(i9,{})}),c.jsx(wn,{path:"/contact",element:c.jsx(o9,{})})]})}),c.jsx(a9,{}),c.jsx(eN,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--card)",color:"var(--card-foreground)",border:"1px solid var(--border)"}}})]})})})})})}dC.createRoot(document.getElementById("root")).render(c.jsx(N.StrictMode,{children:c.jsx(c9,{})}));
//# sourceMappingURL=index-DB-ojMj1.js.map
