import{j as e}from"./index-B591Yj5A.js";import{r as l}from"./ui-vendor-ChI1OeIp.js";import{e as g,f as r}from"./App-B4KCy3AR.js";import"./monaco-editor-4pq07gti.js";import"./react-vendor-D3F3s8fL.js";import"./firebase-CWduLZnq.js";const b=()=>{const{appId:n}=g(),[c,d]=l.useState(null),[m,t]=l.useState(!0),[i,p]=l.useState(null);l.useEffect(()=>{n&&u(n)},[n]);const u=async a=>{try{console.log("🔍 AppHost: Loading app with ID:",a),console.log("🔍 AppHost: Starting loadApp process..."),t(!0),p(null),console.log("🔍 AppHost: Calling firebaseService.getApp...");const o=await r.getApp(a);if(console.log("🔍 AppHost: Retrieved app data:",o),console.log("🔍 AppHost: App data type:",typeof o),console.log("🔍 AppHost: App data keys:",o?Object.keys(o):"null"),o){console.log("🔍 AppHost: App found, generating HTML content...");const s=r.generateAppHTML(o);if(console.log("🔍 AppHost: Generated HTML content length:",s?s.length:"null"),console.log("🔍 AppHost: HTML content preview:",s?s.substring(0,200):"null"),!s)throw new Error("Failed to generate HTML content");console.log("🔍 AppHost: Incrementing view count..."),await r.incrementViews(a),console.log("🔍 AppHost: Setting app data for rendering..."),d({...o,htmlContent:s}),t(!1),console.log("✅ AppHost: App loaded successfully"),console.log("🎉 AppHost: Successfully loaded and rendered app content"),console.log("🚀 AppHost: App deployment completed successfully"),console.log("✅ AppHost: App rendered successfully"),console.log("🎯 AppHost: Successfully processed app data"),console.log("🎊 AppHost: App hosted successfully on DreamBuild platform"),console.log("✅ AppHost: All operations completed successfully")}else console.log("❌ AppHost: App not found in Firestore"),console.log("❌ AppHost: This means the app was not properly saved during deployment"),p("App not found - the app may not have been properly saved during deployment"),t(!1)}catch(o){console.error("❌ AppHost: Error loading app:",o),console.error("❌ AppHost: Error details:",o.message),console.error("❌ AppHost: Error stack:",o.stack),p(`Failed to load app: ${o.message}`),t(!1)}};return m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Loading your DreamBuild app..."}),e.jsx("p",{className:"text-gray-600 mt-2",children:"This may take a moment"})]})}):i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-100",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:"😞"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"App Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsx("a",{href:"https://dreambuild-2024-app.web.app",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to DreamBuild"})]})}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:c&&e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:c.htmlContent},className:"w-full h-full"})})})})};export{b as default};
