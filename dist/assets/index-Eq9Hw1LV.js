function GA(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function KA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var pm={exports:{}},fc={},mm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function QA(){if(Bx)return Fe;Bx=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(V){return V===null||typeof V!="object"?null:(V=v&&V[v]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function A(V,ee,Se){this.props=V,this.context=ee,this.refs=N,this.updater=Se||E}A.prototype.isReactComponent={},A.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function F(){}F.prototype=A.prototype;function U(V,ee,Se){this.props=V,this.context=ee,this.refs=N,this.updater=Se||E}var k=U.prototype=new F;k.constructor=U,C(k,A.prototype),k.isPureReactComponent=!0;var H=Array.isArray,J=Object.prototype.hasOwnProperty,Q={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(V,ee,Se){var Ee,Oe={},Me=null,We=null;if(ee!=null)for(Ee in ee.ref!==void 0&&(We=ee.ref),ee.key!==void 0&&(Me=""+ee.key),ee)J.call(ee,Ee)&&!S.hasOwnProperty(Ee)&&(Oe[Ee]=ee[Ee]);var $e=arguments.length-2;if($e===1)Oe.children=Se;else if(1<$e){for(var Qe=Array($e),Et=0;Et<$e;Et++)Qe[Et]=arguments[Et+2];Oe.children=Qe}if(V&&V.defaultProps)for(Ee in $e=V.defaultProps,$e)Oe[Ee]===void 0&&(Oe[Ee]=$e[Ee]);return{$$typeof:n,type:V,key:Me,ref:We,props:Oe,_owner:Q.current}}function j(V,ee){return{$$typeof:n,type:V.type,key:ee,ref:V.ref,props:V.props,_owner:V._owner}}function P(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function M(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Se){return ee[Se]})}var z=/\/+/g;function L(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):ee.toString(36)}function ye(V,ee,Se,Ee,Oe){var Me=typeof V;(Me==="undefined"||Me==="boolean")&&(V=null);var We=!1;if(V===null)We=!0;else switch(Me){case"string":case"number":We=!0;break;case"object":switch(V.$$typeof){case n:case e:We=!0}}if(We)return We=V,Oe=Oe(We),V=Ee===""?"."+L(We,0):Ee,H(Oe)?(Se="",V!=null&&(Se=V.replace(z,"$&/")+"/"),ye(Oe,ee,Se,"",function(Et){return Et})):Oe!=null&&(P(Oe)&&(Oe=j(Oe,Se+(!Oe.key||We&&We.key===Oe.key?"":(""+Oe.key).replace(z,"$&/")+"/")+V)),ee.push(Oe)),1;if(We=0,Ee=Ee===""?".":Ee+":",H(V))for(var $e=0;$e<V.length;$e++){Me=V[$e];var Qe=Ee+L(Me,$e);We+=ye(Me,ee,Se,Qe,Oe)}else if(Qe=_(V),typeof Qe=="function")for(V=Qe.call(V),$e=0;!(Me=V.next()).done;)Me=Me.value,Qe=Ee+L(Me,$e++),We+=ye(Me,ee,Se,Qe,Oe);else if(Me==="object")throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return We}function q(V,ee,Se){if(V==null)return V;var Ee=[],Oe=0;return ye(V,Ee,"","",function(Me){return ee.call(Se,Me,Oe++)}),Ee}function te(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(Se){(V._status===0||V._status===-1)&&(V._status=1,V._result=Se)},function(Se){(V._status===0||V._status===-1)&&(V._status=2,V._result=Se)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var ge={current:null},se={transition:null},he={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:se,ReactCurrentOwner:Q};function ue(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:q,forEach:function(V,ee,Se){q(V,function(){ee.apply(this,arguments)},Se)},count:function(V){var ee=0;return q(V,function(){ee++}),ee},toArray:function(V){return q(V,function(ee){return ee})||[]},only:function(V){if(!P(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Fe.Component=A,Fe.Fragment=t,Fe.Profiler=s,Fe.PureComponent=U,Fe.StrictMode=r,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Fe.act=ue,Fe.cloneElement=function(V,ee,Se){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Ee=C({},V.props),Oe=V.key,Me=V.ref,We=V._owner;if(ee!=null){if(ee.ref!==void 0&&(Me=ee.ref,We=Q.current),ee.key!==void 0&&(Oe=""+ee.key),V.type&&V.type.defaultProps)var $e=V.type.defaultProps;for(Qe in ee)J.call(ee,Qe)&&!S.hasOwnProperty(Qe)&&(Ee[Qe]=ee[Qe]===void 0&&$e!==void 0?$e[Qe]:ee[Qe])}var Qe=arguments.length-2;if(Qe===1)Ee.children=Se;else if(1<Qe){$e=Array(Qe);for(var Et=0;Et<Qe;Et++)$e[Et]=arguments[Et+2];Ee.children=$e}return{$$typeof:n,type:V.type,key:Oe,ref:Me,props:Ee,_owner:We}},Fe.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Fe.createElement=I,Fe.createFactory=function(V){var ee=I.bind(null,V);return ee.type=V,ee},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(V){return{$$typeof:u,render:V}},Fe.isValidElement=P,Fe.lazy=function(V){return{$$typeof:g,_payload:{_status:-1,_result:V},_init:te}},Fe.memo=function(V,ee){return{$$typeof:m,type:V,compare:ee===void 0?null:ee}},Fe.startTransition=function(V){var ee=se.transition;se.transition={};try{V()}finally{se.transition=ee}},Fe.unstable_act=ue,Fe.useCallback=function(V,ee){return ge.current.useCallback(V,ee)},Fe.useContext=function(V){return ge.current.useContext(V)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(V){return ge.current.useDeferredValue(V)},Fe.useEffect=function(V,ee){return ge.current.useEffect(V,ee)},Fe.useId=function(){return ge.current.useId()},Fe.useImperativeHandle=function(V,ee,Se){return ge.current.useImperativeHandle(V,ee,Se)},Fe.useInsertionEffect=function(V,ee){return ge.current.useInsertionEffect(V,ee)},Fe.useLayoutEffect=function(V,ee){return ge.current.useLayoutEffect(V,ee)},Fe.useMemo=function(V,ee){return ge.current.useMemo(V,ee)},Fe.useReducer=function(V,ee,Se){return ge.current.useReducer(V,ee,Se)},Fe.useRef=function(V){return ge.current.useRef(V)},Fe.useState=function(V){return ge.current.useState(V)},Fe.useSyncExternalStore=function(V,ee,Se){return ge.current.useSyncExternalStore(V,ee,Se)},Fe.useTransition=function(){return ge.current.useTransition()},Fe.version="18.3.1",Fe}var zx;function iy(){return zx||(zx=1,mm.exports=QA()),mm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function YA(){if($x)return fc;$x=1;var n=iy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,m){var g,v={},_=null,E=null;m!==void 0&&(_=""+m),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(E=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(u&&u.defaultProps)for(g in f=u.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:u,key:_,ref:E,props:v,_owner:s.current}}return fc.Fragment=t,fc.jsx=l,fc.jsxs=l,fc}var Hx;function JA(){return Hx||(Hx=1,pm.exports=YA()),pm.exports}var h=JA(),D=iy();const Or=KA(D),XA=GA({__proto__:null,default:Or},[D]);var Md={},gm={exports:{}},xn={},ym={exports:{}},vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function ZA(){return qx||(qx=1,(function(n){function e(se,he){var ue=se.length;se.push(he);e:for(;0<ue;){var V=ue-1>>>1,ee=se[V];if(0<s(ee,he))se[V]=he,se[ue]=ee,ue=V;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var he=se[0],ue=se.pop();if(ue!==he){se[0]=ue;e:for(var V=0,ee=se.length,Se=ee>>>1;V<Se;){var Ee=2*(V+1)-1,Oe=se[Ee],Me=Ee+1,We=se[Me];if(0>s(Oe,ue))Me<ee&&0>s(We,Oe)?(se[V]=We,se[Me]=ue,V=Me):(se[V]=Oe,se[Ee]=ue,V=Ee);else if(Me<ee&&0>s(We,ue))se[V]=We,se[Me]=ue,V=Me;else break e}}return he}function s(se,he){var ue=se.sortIndex-he.sortIndex;return ue!==0?ue:se.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],m=[],g=1,v=null,_=3,E=!1,C=!1,N=!1,A=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(se){for(var he=t(m);he!==null;){if(he.callback===null)r(m);else if(he.startTime<=se)r(m),he.sortIndex=he.expirationTime,e(f,he);else break;he=t(m)}}function H(se){if(N=!1,k(se),!C)if(t(f)!==null)C=!0,te(J);else{var he=t(m);he!==null&&ge(H,he.startTime-se)}}function J(se,he){C=!1,N&&(N=!1,F(I),I=-1),E=!0;var ue=_;try{for(k(he),v=t(f);v!==null&&(!(v.expirationTime>he)||se&&!M());){var V=v.callback;if(typeof V=="function"){v.callback=null,_=v.priorityLevel;var ee=V(v.expirationTime<=he);he=n.unstable_now(),typeof ee=="function"?v.callback=ee:v===t(f)&&r(f),k(he)}else r(f);v=t(f)}if(v!==null)var Se=!0;else{var Ee=t(m);Ee!==null&&ge(H,Ee.startTime-he),Se=!1}return Se}finally{v=null,_=ue,E=!1}}var Q=!1,S=null,I=-1,j=5,P=-1;function M(){return!(n.unstable_now()-P<j)}function z(){if(S!==null){var se=n.unstable_now();P=se;var he=!0;try{he=S(!0,se)}finally{he?L():(Q=!1,S=null)}}else Q=!1}var L;if(typeof U=="function")L=function(){U(z)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,q=ye.port2;ye.port1.onmessage=z,L=function(){q.postMessage(null)}}else L=function(){A(z,0)};function te(se){S=se,Q||(Q=!0,L())}function ge(se,he){I=A(function(){se(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){C||E||(C=!0,te(J))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(_){case 1:case 2:case 3:var he=3;break;default:he=_}var ue=_;_=he;try{return se()}finally{_=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,he){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=_;_=se;try{return he()}finally{_=ue}},n.unstable_scheduleCallback=function(se,he,ue){var V=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?V+ue:V):ue=V,se){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,se={id:g++,callback:he,priorityLevel:se,startTime:ue,expirationTime:ee,sortIndex:-1},ue>V?(se.sortIndex=ue,e(m,se),t(f)===null&&se===t(m)&&(N?(F(I),I=-1):N=!0,ge(H,ue-V))):(se.sortIndex=ee,e(f,se),C||E||(C=!0,te(J))),se},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(se){var he=_;return function(){var ue=_;_=he;try{return se.apply(this,arguments)}finally{_=ue}}}})(vm)),vm}var Wx;function eI(){return Wx||(Wx=1,ym.exports=ZA()),ym.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function tI(){if(Gx)return xn;Gx=1;var n=iy(),e=eI();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function _(i){return f.call(v,i)?!0:f.call(g,i)?!1:m.test(i)?v[i]=!0:(g[i]=!0,!1)}function E(i,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,c,p){if(o===null||typeof o>"u"||E(i,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,c,p,y,x,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=T}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function U(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,U);A[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,U);A[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,U);A[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,o,c,p){var y=A.hasOwnProperty(o)?A[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,y,p)&&(c=null),p||y===null?_(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?i.setAttributeNS(p,o,c):i.setAttribute(o,c))))}var H=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Q=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),se=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,V;function ee(i){if(V===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+i}var Se=!1;function Ee(i,o){if(!i||Se)return"";Se=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){p=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}i()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=p.stack.split(`
`),T=y.length-1,O=x.length-1;1<=T&&0<=O&&y[T]!==x[O];)O--;for(;1<=T&&0<=O;T--,O--)if(y[T]!==x[O]){if(T!==1||O!==1)do if(T--,O--,0>O||y[T]!==x[O]){var B=`
`+y[T].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=T&&0<=O);break}}}finally{Se=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?ee(i):""}function Oe(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=Ee(i.type,!1),i;case 11:return i=Ee(i.type.render,!1),i;case 1:return i=Ee(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case Q:return"Portal";case j:return"Profiler";case I:return"StrictMode";case L:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case P:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return o=i.displayName||null,o!==null?o:Me(i.type)||"Memo";case te:o=i._payload,i=i._init;try{return Me(i(o))}catch{}}return null}function We(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function $e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Et(i){var o=Qe(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(T){p=""+T,x.call(this,T)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function fn(i){i._valueTracker||(i._valueTracker=Et(i))}function Go(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return i&&(p=Qe(i)?i.checked?"true":"false":i.value),i=p,i!==c?(o.setValue(i),!0):!1}function Ps(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ko(i,o){var c=o.checked;return ue({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function bu(i,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=$e(o.value!=null?o.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Qo(i,o){o=o.checked,o!=null&&k(i,"checked",o,!1)}function Ui(i,o){Qo(i,o);var c=$e(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?St(i,o.type,c):o.hasOwnProperty("defaultValue")&&St(i,o.type,$e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function wl(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function St(i,o,c){(o!=="number"||Ps(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var vt=Array.isArray;function Yn(i,o,c,p){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&p&&(i[c].defaultSelected=!0)}else{for(c=""+$e(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,p&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function _l(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function bl(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(vt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:$e(c)}}function Tu(i,o){var c=$e(o.value),p=$e(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function Rs(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Tl(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Tl(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ns,Eu=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,p,y)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ns.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Bi(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Su=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(i){Su.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),js[o]=js[i]})});function Ds(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||js.hasOwnProperty(i)&&js[i]?(""+o).trim():o+"px"}function Jo(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Ds(c,o[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,y):i[c]=y}}var El=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(i,o){if(o){if(El[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Xo(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ls=null;function Zo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wr=null,Gr=null,pt=null;function Sl(i){if(i=Xl(i)){if(typeof Wr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Xu(o),Wr(i.stateNode,i.type,o))}}function Os(i){Gr?pt?pt.push(i):pt=[i]:Gr=i}function Ms(){if(Gr){var i=Gr,o=pt;if(pt=Gr=null,Sl(i),o)for(i=0;i<o.length;i++)Sl(o[i])}}function Cu(i,o){return i(o)}function Au(){}var pr=!1;function Iu(i,o,c){if(pr)return i(o,c);pr=!0;try{return Cu(i,o,c)}finally{pr=!1,(Gr!==null||pt!==null)&&(Au(),Ms())}}function zi(i,o){var c=i.stateNode;if(c===null)return null;var p=Xu(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Vs=!1;if(u)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Vs=!1}function ku(i,o,c,p,y,x,T,O,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(oe){this.onError(oe)}}var Kr=!1,mr=null,ea=!1,Vn=null,Pu={onError:function(i){Kr=!0,mr=i}};function Ru(i,o,c,p,y,x,T,O,B){Kr=!1,mr=null,ku.apply(Pu,arguments)}function Cl(i,o,c,p,y,x,T,O,B){if(Ru.apply(this,arguments),Kr){if(Kr){var Y=mr;Kr=!1,mr=null}else throw Error(t(198));ea||(ea=!0,Vn=Y)}}function Xn(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Al(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Nu(i){if(Xn(i)!==i)throw Error(t(188))}function ju(i){var o=i.alternate;if(!o){if(o=Xn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var c=i,p=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return Nu(y),i;if(x===p)return Nu(y),o;x=x.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=x;else{for(var T=!1,O=y.child;O;){if(O===c){T=!0,c=y,p=x;break}if(O===p){T=!0,p=y,c=x;break}O=O.sibling}if(!T){for(O=x.child;O;){if(O===c){T=!0,c=x,p=y;break}if(O===p){T=!0,p=x,c=y;break}O=O.sibling}if(!T)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:o}function Du(i){return i=ju(i),i!==null?$i(i):null}function $i(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=$i(i);if(o!==null)return o;i=i.sibling}return null}var Il=e.unstable_scheduleCallback,ta=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,Qr=e.unstable_requestPaint,ot=e.unstable_now,qf=e.unstable_getCurrentPriorityLevel,na=e.unstable_ImmediatePriority,kl=e.unstable_UserBlockingPriority,qi=e.unstable_NormalPriority,Pl=e.unstable_LowPriority,ra=e.unstable_IdlePriority,Wi=null,En=null;function Lu(i){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Wi,i,void 0,(i.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:Gi,gr=Math.log,Fn=Math.LN2;function Gi(i){return i>>>=0,i===0?32:31-(gr(i)/Fn|0)|0}var yr=64,Us=4194304;function Ye(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Yr(i,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,x=i.pingedLanes,T=c&268435455;if(T!==0){var O=T&~y;O!==0?p=Ye(O):(x&=T,x!==0&&(p=Ye(x)))}else T=c&~y,T!==0?p=Ye(T):x!==0&&(p=Ye(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)c=31-Sn(o),y=1<<c,p|=i[c],o&=~y;return p}function Ki(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(i,o){for(var c=i.suspendedLanes,p=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes;0<x;){var T=31-Sn(x),O=1<<T,B=y[T];B===-1?((O&c)===0||(O&p)!==0)&&(y[T]=Ki(O,o)):B<=o&&(i.expiredLanes|=O),x&=~O}}function Rl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Nl(){var i=yr;return yr<<=1,(yr&4194240)===0&&(yr=64),i}function jl(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Yi(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Sn(o),i[o]=c}function Wf(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-Sn(c),x=1<<y;o[y]=0,p[y]=-1,i[y]=-1,c&=~x}}function Dl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var p=31-Sn(c),y=1<<p;y&o|i[p]&o&&(i[p]|=o),c&=~y}}var He=0;function vr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ll,sa,Ol,Ml,Vl,xr=!1,ia=[],wr=null,_r=null,qt=null,Ji=new Map,Jr=new Map,Cn=[],Ou="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bs(i,o){switch(i){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Ji.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(o.pointerId)}}function Zn(i,o,c,p,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},o!==null&&(o=Xl(o),o!==null&&sa(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function Mu(i,o,c,p,y){switch(o){case"focusin":return wr=Zn(wr,i,o,c,p,y),!0;case"dragenter":return _r=Zn(_r,i,o,c,p,y),!0;case"mouseover":return qt=Zn(qt,i,o,c,p,y),!0;case"pointerover":var x=y.pointerId;return Ji.set(x,Zn(Ji.get(x)||null,i,o,c,p,y)),!0;case"gotpointercapture":return x=y.pointerId,Jr.set(x,Zn(Jr.get(x)||null,i,o,c,p,y)),!0}return!1}function oa(i){var o=to(i.target);if(o!==null){var c=Xn(o);if(c!==null){if(o=c.tag,o===13){if(o=Al(c),o!==null){i.blockedOn=o,Vl(i.priority,function(){Ol(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function et(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=aa(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Ls=p,c.target.dispatchEvent(p),Ls=null}else return o=Xl(c),o!==null&&sa(o),i.blockedOn=c,!1;o.shift()}return!0}function Vu(i,o,c){et(i)&&c.delete(o)}function Gf(){xr=!1,wr!==null&&et(wr)&&(wr=null),_r!==null&&et(_r)&&(_r=null),qt!==null&&et(qt)&&(qt=null),Ji.forEach(Vu),Jr.forEach(Vu)}function zs(i,o){i.blockedOn===o&&(i.blockedOn=null,xr||(xr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gf)))}function $s(i){function o(y){return zs(y,i)}if(0<ia.length){zs(ia[0],i);for(var c=1;c<ia.length;c++){var p=ia[c];p.blockedOn===i&&(p.blockedOn=null)}}for(wr!==null&&zs(wr,i),_r!==null&&zs(_r,i),qt!==null&&zs(qt,i),Ji.forEach(o),Jr.forEach(o),c=0;c<Cn.length;c++)p=Cn[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<Cn.length&&(c=Cn[0],c.blockedOn===null);)oa(c),c.blockedOn===null&&Cn.shift()}var Xr=H.ReactCurrentBatchConfig,Zr=!0;function br(i,o,c,p){var y=He,x=Xr.transition;Xr.transition=null;try{He=1,Fl(i,o,c,p)}finally{He=y,Xr.transition=x}}function Fu(i,o,c,p){var y=He,x=Xr.transition;Xr.transition=null;try{He=4,Fl(i,o,c,p)}finally{He=y,Xr.transition=x}}function Fl(i,o,c,p){if(Zr){var y=aa(i,o,c,p);if(y===null)sp(i,o,p,Tr,c),Bs(i,p);else if(Mu(y,i,o,c,p))p.stopPropagation();else if(Bs(i,p),o&4&&-1<Ou.indexOf(i)){for(;y!==null;){var x=Xl(y);if(x!==null&&Ll(x),x=aa(i,o,c,p),x===null&&sp(i,o,p,Tr,c),x===y)break;y=x}y!==null&&p.stopPropagation()}else sp(i,o,p,null,c)}}var Tr=null;function aa(i,o,c,p){if(Tr=null,i=Zo(p),i=to(i),i!==null)if(o=Xn(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Al(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Tr=i,null}function la(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qf()){case na:return 1;case kl:return 4;case qi:case Pl:return 16;case ra:return 536870912;default:return 16}default:return 16}}var An=null,ca=null,es=null;function Uu(){if(es)return es;var i,o=ca,c=o.length,p,y="value"in An?An.value:An.textContent,x=y.length;for(i=0;i<c&&o[i]===y[i];i++);var T=c-i;for(p=1;p<=T&&o[c-p]===y[x-p];p++);return es=y.slice(i,1<p?1-p:void 0)}function Xi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Er(){return!0}function Ul(){return!1}function Jt(i){function o(c,p,y,x,T){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(c=i[O],this[O]=c?c(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Er:Ul,this.isPropagationStopped=Ul,this}return ue(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),o}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Jt(Sr),Hs=ue({},Sr,{view:0,detail:0}),ua=Jt(Hs),da,ha,In,eo=ue({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:De,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==In&&(In&&i.type==="mousemove"?(da=i.screenX-In.screenX,ha=i.screenY-In.screenY):ha=da=0,In=i),da)},movementY:function(i){return"movementY"in i?i.movementY:ha}}),Bl=Jt(eo),Bu=ue({},eo,{dataTransfer:0}),zu=Jt(Bu),fa=ue({},Hs,{relatedTarget:0}),Wt=Jt(fa),$u=ue({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Jt($u),qs=ue({},Sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),d=Jt(qs),w=ue({},Sr,{data:0}),b=Jt(w),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ce(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=X[i])?!!o[i]:!1}function De(){return ce}var xt=ue({},Hs,{key:function(i){if(i.key){var o=R[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:De,charCode:function(i){return i.type==="keypress"?Xi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ze=Jt(xt),Ct=ue({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kn=Jt(Ct),ts=ue({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:De}),Cr=Jt(ts),Ar=ue({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=Jt(Ar),zl=ue({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),BC=Jt(zl),zC=[9,13,27,32],Kf=u&&"CompositionEvent"in window,$l=null;u&&"documentMode"in document&&($l=document.documentMode);var $C=u&&"TextEvent"in window&&!$l,jv=u&&(!Kf||$l&&8<$l&&11>=$l),Dv=" ",Lv=!1;function Ov(i,o){switch(i){case"keyup":return zC.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ma=!1;function HC(i,o){switch(i){case"compositionend":return Mv(o);case"keypress":return o.which!==32?null:(Lv=!0,Dv);case"textInput":return i=o.data,i===Dv&&Lv?null:i;default:return null}}function qC(i,o){if(ma)return i==="compositionend"||!Kf&&Ov(i,o)?(i=Uu(),es=ca=An=null,ma=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return jv&&o.locale!=="ko"?null:o.data;default:return null}}var WC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!WC[i.type]:o==="textarea"}function Fv(i,o,c,p){Os(p),o=Qu(o,"onChange"),0<o.length&&(c=new Zi("onChange","change",null,c,p),i.push({event:c,listeners:o}))}var Hl=null,ql=null;function GC(i){r0(i,0)}function qu(i){var o=wa(i);if(Go(o))return i}function KC(i,o){if(i==="change")return o}var Uv=!1;if(u){var Qf;if(u){var Yf="oninput"in document;if(!Yf){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Yf=typeof Bv.oninput=="function"}Qf=Yf}else Qf=!1;Uv=Qf&&(!document.documentMode||9<document.documentMode)}function zv(){Hl&&(Hl.detachEvent("onpropertychange",$v),ql=Hl=null)}function $v(i){if(i.propertyName==="value"&&qu(ql)){var o=[];Fv(o,ql,i,Zo(i)),Iu(GC,o)}}function QC(i,o,c){i==="focusin"?(zv(),Hl=o,ql=c,Hl.attachEvent("onpropertychange",$v)):i==="focusout"&&zv()}function YC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qu(ql)}function JC(i,o){if(i==="click")return qu(o)}function XC(i,o){if(i==="input"||i==="change")return qu(o)}function ZC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var er=typeof Object.is=="function"?Object.is:ZC;function Wl(i,o){if(er(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!f.call(o,y)||!er(i[y],o[y]))return!1}return!0}function Hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qv(i,o){var c=Hv(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=o&&p>=o)return{node:c,offset:o-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Hv(c)}}function Wv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Wv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Gv(){for(var i=window,o=Ps();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Ps(i.document)}return o}function Jf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function eA(i){var o=Gv(),c=i.focusedElem,p=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&Wv(c.ownerDocument.documentElement,c)){if(p!==null&&Jf(c)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!i.extend&&x>p&&(y=p,p=x,x=y),y=qv(c,x);var T=qv(c,p);y&&T&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),x>p?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var tA=u&&"documentMode"in document&&11>=document.documentMode,ga=null,Xf=null,Gl=null,Zf=!1;function Kv(i,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Zf||ga==null||ga!==Ps(p)||(p=ga,"selectionStart"in p&&Jf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Gl&&Wl(Gl,p)||(Gl=p,p=Qu(Xf,"onSelect"),0<p.length&&(o=new Zi("onSelect","select",null,o,c),i.push({event:o,listeners:p}),o.target=ga)))}function Wu(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var ya={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},ep={},Qv={};u&&(Qv=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Gu(i){if(ep[i])return ep[i];if(!ya[i])return i;var o=ya[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in Qv)return ep[i]=o[c];return i}var Yv=Gu("animationend"),Jv=Gu("animationiteration"),Xv=Gu("animationstart"),Zv=Gu("transitionend"),e0=new Map,t0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(i,o){e0.set(i,o),a(o,[i])}for(var tp=0;tp<t0.length;tp++){var np=t0[tp],nA=np.toLowerCase(),rA=np[0].toUpperCase()+np.slice(1);Ws(nA,"on"+rA)}Ws(Yv,"onAnimationEnd"),Ws(Jv,"onAnimationIteration"),Ws(Xv,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(Zv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function n0(i,o,c){var p=i.type||"unknown-event";i.currentTarget=c,Cl(p,o,void 0,i),i.currentTarget=null}function r0(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],y=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var T=p.length-1;0<=T;T--){var O=p[T],B=O.instance,Y=O.currentTarget;if(O=O.listener,B!==x&&y.isPropagationStopped())break e;n0(y,O,Y),x=B}else for(T=0;T<p.length;T++){if(O=p[T],B=O.instance,Y=O.currentTarget,O=O.listener,B!==x&&y.isPropagationStopped())break e;n0(y,O,Y),x=B}}}if(ea)throw i=Vn,ea=!1,Vn=null,i}function at(i,o){var c=o[up];c===void 0&&(c=o[up]=new Set);var p=i+"__bubble";c.has(p)||(s0(o,i,2,!1),c.add(p))}function rp(i,o,c){var p=0;o&&(p|=4),s0(c,i,p,o)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Ql(i){if(!i[Ku]){i[Ku]=!0,r.forEach(function(c){c!=="selectionchange"&&(sA.has(c)||rp(c,!1,i),rp(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ku]||(o[Ku]=!0,rp("selectionchange",!1,o))}}function s0(i,o,c,p){switch(la(o)){case 1:var y=br;break;case 4:y=Fu;break;default:y=Fl}c=y.bind(null,o,c,i),y=void 0,!Vs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function sp(i,o,c,p,y){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var O=p.stateNode.containerInfo;if(O===y||O.nodeType===8&&O.parentNode===y)break;if(T===4)for(T=p.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;T=T.return}for(;O!==null;){if(T=to(O),T===null)return;if(B=T.tag,B===5||B===6){p=x=T;continue e}O=O.parentNode}}p=p.return}Iu(function(){var Y=x,oe=Zo(c),ae=[];e:{var ie=e0.get(i);if(ie!==void 0){var fe=Zi,ve=i;switch(i){case"keypress":if(Xi(c)===0)break e;case"keydown":case"keyup":fe=Ze;break;case"focusin":ve="focus",fe=Wt;break;case"focusout":ve="blur",fe=Wt;break;case"beforeblur":case"afterblur":fe=Wt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=Cr;break;case Yv:case Jv:case Xv:fe=Hu;break;case Zv:fe=pa;break;case"scroll":fe=ua;break;case"wheel":fe=BC;break;case"copy":case"cut":case"paste":fe=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=kn}var xe=(o&4)!==0,wt=!xe&&i==="scroll",W=xe?ie!==null?ie+"Capture":null:ie;xe=[];for(var $=Y,K;$!==null;){K=$;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,W!==null&&(le=zi($,W),le!=null&&xe.push(Yl($,le,K)))),wt)break;$=$.return}0<xe.length&&(ie=new fe(ie,ve,null,c,oe),ae.push({event:ie,listeners:xe}))}}if((o&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",fe=i==="mouseout"||i==="pointerout",ie&&c!==Ls&&(ve=c.relatedTarget||c.fromElement)&&(to(ve)||ve[ns]))break e;if((fe||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,fe?(ve=c.relatedTarget||c.toElement,fe=Y,ve=ve?to(ve):null,ve!==null&&(wt=Xn(ve),ve!==wt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=Y),fe!==ve)){if(xe=Bl,le="onMouseLeave",W="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(xe=kn,le="onPointerLeave",W="onPointerEnter",$="pointer"),wt=fe==null?ie:wa(fe),K=ve==null?ie:wa(ve),ie=new xe(le,$+"leave",fe,c,oe),ie.target=wt,ie.relatedTarget=K,le=null,to(oe)===Y&&(xe=new xe(W,$+"enter",ve,c,oe),xe.target=K,xe.relatedTarget=wt,le=xe),wt=le,fe&&ve)t:{for(xe=fe,W=ve,$=0,K=xe;K;K=va(K))$++;for(K=0,le=W;le;le=va(le))K++;for(;0<$-K;)xe=va(xe),$--;for(;0<K-$;)W=va(W),K--;for(;$--;){if(xe===W||W!==null&&xe===W.alternate)break t;xe=va(xe),W=va(W)}xe=null}else xe=null;fe!==null&&i0(ae,ie,fe,xe,!1),ve!==null&&wt!==null&&i0(ae,wt,ve,xe,!0)}}e:{if(ie=Y?wa(Y):window,fe=ie.nodeName&&ie.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ie.type==="file")var we=KC;else if(Vv(ie))if(Uv)we=XC;else{we=YC;var Ce=QC}else(fe=ie.nodeName)&&fe.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(we=JC);if(we&&(we=we(i,Y))){Fv(ae,we,c,oe);break e}Ce&&Ce(i,ie,Y),i==="focusout"&&(Ce=ie._wrapperState)&&Ce.controlled&&ie.type==="number"&&St(ie,"number",ie.value)}switch(Ce=Y?wa(Y):window,i){case"focusin":(Vv(Ce)||Ce.contentEditable==="true")&&(ga=Ce,Xf=Y,Gl=null);break;case"focusout":Gl=Xf=ga=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Kv(ae,c,oe);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":Kv(ae,c,oe)}var Ae;if(Kf)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ma?Ov(i,c)&&(Pe="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(jv&&c.locale!=="ko"&&(ma||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ma&&(Ae=Uu()):(An=oe,ca="value"in An?An.value:An.textContent,ma=!0)),Ce=Qu(Y,Pe),0<Ce.length&&(Pe=new b(Pe,i,null,c,oe),ae.push({event:Pe,listeners:Ce}),Ae?Pe.data=Ae:(Ae=Mv(c),Ae!==null&&(Pe.data=Ae)))),(Ae=$C?HC(i,c):qC(i,c))&&(Y=Qu(Y,"onBeforeInput"),0<Y.length&&(oe=new b("onBeforeInput","beforeinput",null,c,oe),ae.push({event:oe,listeners:Y}),oe.data=Ae))}r0(ae,o)})}function Yl(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Qu(i,o){for(var c=o+"Capture",p=[];i!==null;){var y=i,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=zi(i,c),x!=null&&p.unshift(Yl(i,x,y)),x=zi(i,o),x!=null&&p.push(Yl(i,x,y))),i=i.return}return p}function va(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function i0(i,o,c,p,y){for(var x=o._reactName,T=[];c!==null&&c!==p;){var O=c,B=O.alternate,Y=O.stateNode;if(B!==null&&B===p)break;O.tag===5&&Y!==null&&(O=Y,y?(B=zi(c,x),B!=null&&T.unshift(Yl(c,B,O))):y||(B=zi(c,x),B!=null&&T.push(Yl(c,B,O)))),c=c.return}T.length!==0&&i.push({event:o,listeners:T})}var iA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function o0(i){return(typeof i=="string"?i:""+i).replace(iA,`
`).replace(oA,"")}function Yu(i,o,c){if(o=o0(o),o0(i)!==o&&c)throw Error(t(425))}function Ju(){}var ip=null,op=null;function ap(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,lA=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(i){return a0.resolve(null).then(i).catch(cA)}:lp;function cA(i){setTimeout(function(){throw i})}function cp(i,o){var c=o,p=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){i.removeChild(y),$s(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);$s(o)}function Gs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function l0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Ir="__reactFiber$"+xa,Jl="__reactProps$"+xa,ns="__reactContainer$"+xa,up="__reactEvents$"+xa,uA="__reactListeners$"+xa,dA="__reactHandles$"+xa;function to(i){var o=i[Ir];if(o)return o;for(var c=i.parentNode;c;){if(o=c[ns]||c[Ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=l0(i);i!==null;){if(c=i[Ir])return c;i=l0(i)}return o}i=c,c=i.parentNode}return null}function Xl(i){return i=i[Ir]||i[ns],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function wa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Xu(i){return i[Jl]||null}var dp=[],_a=-1;function Ks(i){return{current:i}}function lt(i){0>_a||(i.current=dp[_a],dp[_a]=null,_a--)}function tt(i,o){_a++,dp[_a]=i.current,i.current=o}var Qs={},Xt=Ks(Qs),pn=Ks(!1),no=Qs;function ba(i,o){var c=i.type.contextTypes;if(!c)return Qs;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in c)y[x]=o[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function mn(i){return i=i.childContextTypes,i!=null}function Zu(){lt(pn),lt(Xt)}function c0(i,o,c){if(Xt.current!==Qs)throw Error(t(168));tt(Xt,o),tt(pn,c)}function u0(i,o,c){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(t(108,We(i)||"Unknown",y));return ue({},c,p)}function ed(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Qs,no=Xt.current,tt(Xt,i),tt(pn,pn.current),!0}function d0(i,o,c){var p=i.stateNode;if(!p)throw Error(t(169));c?(i=u0(i,o,no),p.__reactInternalMemoizedMergedChildContext=i,lt(pn),lt(Xt),tt(Xt,i)):lt(pn),tt(pn,c)}var rs=null,td=!1,hp=!1;function h0(i){rs===null?rs=[i]:rs.push(i)}function hA(i){td=!0,h0(i)}function Ys(){if(!hp&&rs!==null){hp=!0;var i=0,o=He;try{var c=rs;for(He=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}rs=null,td=!1}catch(y){throw rs!==null&&(rs=rs.slice(i+1)),Il(na,Ys),y}finally{He=o,hp=!1}}return null}var Ta=[],Ea=0,nd=null,rd=0,Un=[],Bn=0,ro=null,ss=1,is="";function so(i,o){Ta[Ea++]=rd,Ta[Ea++]=nd,nd=i,rd=o}function f0(i,o,c){Un[Bn++]=ss,Un[Bn++]=is,Un[Bn++]=ro,ro=i;var p=ss;i=is;var y=32-Sn(p)-1;p&=~(1<<y),c+=1;var x=32-Sn(o)+y;if(30<x){var T=y-y%5;x=(p&(1<<T)-1).toString(32),p>>=T,y-=T,ss=1<<32-Sn(o)+y|c<<y|p,is=x+i}else ss=1<<x|c<<y|p,is=i}function fp(i){i.return!==null&&(so(i,1),f0(i,1,0))}function pp(i){for(;i===nd;)nd=Ta[--Ea],Ta[Ea]=null,rd=Ta[--Ea],Ta[Ea]=null;for(;i===ro;)ro=Un[--Bn],Un[Bn]=null,is=Un[--Bn],Un[Bn]=null,ss=Un[--Bn],Un[Bn]=null}var Pn=null,Rn=null,ct=!1,tr=null;function p0(i,o){var c=qn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function m0(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Pn=i,Rn=Gs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Pn=i,Rn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=ro!==null?{id:ss,overflow:is}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=qn(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Pn=i,Rn=null,!0):!1;default:return!1}}function mp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gp(i){if(ct){var o=Rn;if(o){var c=o;if(!m0(i,o)){if(mp(i))throw Error(t(418));o=Gs(c.nextSibling);var p=Pn;o&&m0(i,o)?p0(p,c):(i.flags=i.flags&-4097|2,ct=!1,Pn=i)}}else{if(mp(i))throw Error(t(418));i.flags=i.flags&-4097|2,ct=!1,Pn=i}}}function g0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Pn=i}function sd(i){if(i!==Pn)return!1;if(!ct)return g0(i),ct=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!ap(i.type,i.memoizedProps)),o&&(o=Rn)){if(mp(i))throw y0(),Error(t(418));for(;o;)p0(i,o),o=Gs(o.nextSibling)}if(g0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Rn=Gs(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Rn=null}}else Rn=Pn?Gs(i.stateNode.nextSibling):null;return!0}function y0(){for(var i=Rn;i;)i=Gs(i.nextSibling)}function Sa(){Rn=Pn=null,ct=!1}function yp(i){tr===null?tr=[i]:tr.push(i)}var fA=H.ReactCurrentBatchConfig;function Zl(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,i));var y=p,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(T){var O=y.refs;T===null?delete O[x]:O[x]=T},o._stringRef=x,o)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function id(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function v0(i){var o=i._init;return o(i._payload)}function x0(i){function o(W,$){if(i){var K=W.deletions;K===null?(W.deletions=[$],W.flags|=16):K.push($)}}function c(W,$){if(!i)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function p(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function y(W,$){return W=si(W,$),W.index=0,W.sibling=null,W}function x(W,$,K){return W.index=K,i?(K=W.alternate,K!==null?(K=K.index,K<$?(W.flags|=2,$):K):(W.flags|=2,$)):(W.flags|=1048576,$)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function O(W,$,K,le){return $===null||$.tag!==6?($=lm(K,W.mode,le),$.return=W,$):($=y($,K),$.return=W,$)}function B(W,$,K,le){var we=K.type;return we===S?oe(W,$,K.props.children,le,K.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===te&&v0(we)===$.type)?(le=y($,K.props),le.ref=Zl(W,$,K),le.return=W,le):(le=kd(K.type,K.key,K.props,null,W.mode,le),le.ref=Zl(W,$,K),le.return=W,le)}function Y(W,$,K,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=cm(K,W.mode,le),$.return=W,$):($=y($,K.children||[]),$.return=W,$)}function oe(W,$,K,le,we){return $===null||$.tag!==7?($=fo(K,W.mode,le,we),$.return=W,$):($=y($,K),$.return=W,$)}function ae(W,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=lm(""+$,W.mode,K),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case J:return K=kd($.type,$.key,$.props,null,W.mode,K),K.ref=Zl(W,null,$),K.return=W,K;case Q:return $=cm($,W.mode,K),$.return=W,$;case te:var le=$._init;return ae(W,le($._payload),K)}if(vt($)||he($))return $=fo($,W.mode,K,null),$.return=W,$;id(W,$)}return null}function ie(W,$,K,le){var we=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return we!==null?null:O(W,$,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case J:return K.key===we?B(W,$,K,le):null;case Q:return K.key===we?Y(W,$,K,le):null;case te:return we=K._init,ie(W,$,we(K._payload),le)}if(vt(K)||he(K))return we!==null?null:oe(W,$,K,le,null);id(W,K)}return null}function fe(W,$,K,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(K)||null,O($,W,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case J:return W=W.get(le.key===null?K:le.key)||null,B($,W,le,we);case Q:return W=W.get(le.key===null?K:le.key)||null,Y($,W,le,we);case te:var Ce=le._init;return fe(W,$,K,Ce(le._payload),we)}if(vt(le)||he(le))return W=W.get(K)||null,oe($,W,le,we,null);id($,le)}return null}function ve(W,$,K,le){for(var we=null,Ce=null,Ae=$,Pe=$=0,Ft=null;Ae!==null&&Pe<K.length;Pe++){Ae.index>Pe?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Ke=ie(W,Ae,K[Pe],le);if(Ke===null){Ae===null&&(Ae=Ft);break}i&&Ae&&Ke.alternate===null&&o(W,Ae),$=x(Ke,$,Pe),Ce===null?we=Ke:Ce.sibling=Ke,Ce=Ke,Ae=Ft}if(Pe===K.length)return c(W,Ae),ct&&so(W,Pe),we;if(Ae===null){for(;Pe<K.length;Pe++)Ae=ae(W,K[Pe],le),Ae!==null&&($=x(Ae,$,Pe),Ce===null?we=Ae:Ce.sibling=Ae,Ce=Ae);return ct&&so(W,Pe),we}for(Ae=p(W,Ae);Pe<K.length;Pe++)Ft=fe(Ae,W,Pe,K[Pe],le),Ft!==null&&(i&&Ft.alternate!==null&&Ae.delete(Ft.key===null?Pe:Ft.key),$=x(Ft,$,Pe),Ce===null?we=Ft:Ce.sibling=Ft,Ce=Ft);return i&&Ae.forEach(function(ii){return o(W,ii)}),ct&&so(W,Pe),we}function xe(W,$,K,le){var we=he(K);if(typeof we!="function")throw Error(t(150));if(K=we.call(K),K==null)throw Error(t(151));for(var Ce=we=null,Ae=$,Pe=$=0,Ft=null,Ke=K.next();Ae!==null&&!Ke.done;Pe++,Ke=K.next()){Ae.index>Pe?(Ft=Ae,Ae=null):Ft=Ae.sibling;var ii=ie(W,Ae,Ke.value,le);if(ii===null){Ae===null&&(Ae=Ft);break}i&&Ae&&ii.alternate===null&&o(W,Ae),$=x(ii,$,Pe),Ce===null?we=ii:Ce.sibling=ii,Ce=ii,Ae=Ft}if(Ke.done)return c(W,Ae),ct&&so(W,Pe),we;if(Ae===null){for(;!Ke.done;Pe++,Ke=K.next())Ke=ae(W,Ke.value,le),Ke!==null&&($=x(Ke,$,Pe),Ce===null?we=Ke:Ce.sibling=Ke,Ce=Ke);return ct&&so(W,Pe),we}for(Ae=p(W,Ae);!Ke.done;Pe++,Ke=K.next())Ke=fe(Ae,W,Pe,Ke.value,le),Ke!==null&&(i&&Ke.alternate!==null&&Ae.delete(Ke.key===null?Pe:Ke.key),$=x(Ke,$,Pe),Ce===null?we=Ke:Ce.sibling=Ke,Ce=Ke);return i&&Ae.forEach(function(WA){return o(W,WA)}),ct&&so(W,Pe),we}function wt(W,$,K,le){if(typeof K=="object"&&K!==null&&K.type===S&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case J:e:{for(var we=K.key,Ce=$;Ce!==null;){if(Ce.key===we){if(we=K.type,we===S){if(Ce.tag===7){c(W,Ce.sibling),$=y(Ce,K.props.children),$.return=W,W=$;break e}}else if(Ce.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===te&&v0(we)===Ce.type){c(W,Ce.sibling),$=y(Ce,K.props),$.ref=Zl(W,Ce,K),$.return=W,W=$;break e}c(W,Ce);break}else o(W,Ce);Ce=Ce.sibling}K.type===S?($=fo(K.props.children,W.mode,le,K.key),$.return=W,W=$):(le=kd(K.type,K.key,K.props,null,W.mode,le),le.ref=Zl(W,$,K),le.return=W,W=le)}return T(W);case Q:e:{for(Ce=K.key;$!==null;){if($.key===Ce)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){c(W,$.sibling),$=y($,K.children||[]),$.return=W,W=$;break e}else{c(W,$);break}else o(W,$);$=$.sibling}$=cm(K,W.mode,le),$.return=W,W=$}return T(W);case te:return Ce=K._init,wt(W,$,Ce(K._payload),le)}if(vt(K))return ve(W,$,K,le);if(he(K))return xe(W,$,K,le);id(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(c(W,$.sibling),$=y($,K),$.return=W,W=$):(c(W,$),$=lm(K,W.mode,le),$.return=W,W=$),T(W)):c(W,$)}return wt}var Ca=x0(!0),w0=x0(!1),od=Ks(null),ad=null,Aa=null,vp=null;function xp(){vp=Aa=ad=null}function wp(i){var o=od.current;lt(od),i._currentValue=o}function _p(i,o,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===c)break;i=i.return}}function Ia(i,o){ad=i,vp=Aa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(gn=!0),i.firstContext=null)}function zn(i){var o=i._currentValue;if(vp!==i)if(i={context:i,memoizedValue:o,next:null},Aa===null){if(ad===null)throw Error(t(308));Aa=i,ad.dependencies={lanes:0,firstContext:i}}else Aa=Aa.next=i;return o}var io=null;function bp(i){io===null?io=[i]:io.push(i)}function _0(i,o,c,p){var y=o.interleaved;return y===null?(c.next=c,bp(o)):(c.next=y.next,y.next=c),o.interleaved=c,os(i,p)}function os(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Js=!1;function Tp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function as(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Xs(i,o,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ge&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,os(i,c)}return y=p.interleaved,y===null?(o.next=o,bp(p)):(o.next=y.next,y.next=o),p.interleaved=o,os(i,c)}function ld(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,Dl(i,c)}}function T0(i,o){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?y=x=T:x=x.next=T,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function cd(i,o,c,p){var y=i.updateQueue;Js=!1;var x=y.firstBaseUpdate,T=y.lastBaseUpdate,O=y.shared.pending;if(O!==null){y.shared.pending=null;var B=O,Y=B.next;B.next=null,T===null?x=Y:T.next=Y,T=B;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==T&&(O===null?oe.firstBaseUpdate=Y:O.next=Y,oe.lastBaseUpdate=B))}if(x!==null){var ae=y.baseState;T=0,oe=Y=B=null,O=x;do{var ie=O.lane,fe=O.eventTime;if((p&ie)===ie){oe!==null&&(oe=oe.next={eventTime:fe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ve=i,xe=O;switch(ie=o,fe=c,xe.tag){case 1:if(ve=xe.payload,typeof ve=="function"){ae=ve.call(fe,ae,ie);break e}ae=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=xe.payload,ie=typeof ve=="function"?ve.call(fe,ae,ie):ve,ie==null)break e;ae=ue({},ae,ie);break e;case 2:Js=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ie=y.effects,ie===null?y.effects=[O]:ie.push(O))}else fe={eventTime:fe,lane:ie,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Y=oe=fe,B=ae):oe=oe.next=fe,T|=ie;if(O=O.next,O===null){if(O=y.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(oe===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Y,y.lastBaseUpdate=oe,o=y.shared.interleaved,o!==null){y=o;do T|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);lo|=T,i.lanes=T,i.memoizedState=ae}}function E0(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var ec={},kr=Ks(ec),tc=Ks(ec),nc=Ks(ec);function oo(i){if(i===ec)throw Error(t(174));return i}function Ep(i,o){switch(tt(nc,o),tt(tc,i),tt(kr,ec),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Yo(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Yo(o,i)}lt(kr),tt(kr,o)}function ka(){lt(kr),lt(tc),lt(nc)}function S0(i){oo(nc.current);var o=oo(kr.current),c=Yo(o,i.type);o!==c&&(tt(tc,i),tt(kr,c))}function Sp(i){tc.current===i&&(lt(kr),lt(tc))}var ut=Ks(0);function ud(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Cp=[];function Ap(){for(var i=0;i<Cp.length;i++)Cp[i]._workInProgressVersionPrimary=null;Cp.length=0}var dd=H.ReactCurrentDispatcher,Ip=H.ReactCurrentBatchConfig,ao=0,dt=null,jt=null,Mt=null,hd=!1,rc=!1,sc=0,pA=0;function Zt(){throw Error(t(321))}function kp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!er(i[c],o[c]))return!1;return!0}function Pp(i,o,c,p,y,x){if(ao=x,dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,dd.current=i===null||i.memoizedState===null?vA:xA,i=c(p,y),rc){x=0;do{if(rc=!1,sc=0,25<=x)throw Error(t(301));x+=1,Mt=jt=null,o.updateQueue=null,dd.current=wA,i=c(p,y)}while(rc)}if(dd.current=md,o=jt!==null&&jt.next!==null,ao=0,Mt=jt=dt=null,hd=!1,o)throw Error(t(300));return i}function Rp(){var i=sc!==0;return sc=0,i}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?dt.memoizedState=Mt=i:Mt=Mt.next=i,Mt}function $n(){if(jt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var o=Mt===null?dt.memoizedState:Mt.next;if(o!==null)Mt=o,jt=i;else{if(i===null)throw Error(t(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Mt===null?dt.memoizedState=Mt=i:Mt=Mt.next=i}return Mt}function ic(i,o){return typeof o=="function"?o(i):o}function Np(i){var o=$n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=jt,y=p.baseQueue,x=c.pending;if(x!==null){if(y!==null){var T=y.next;y.next=x.next,x.next=T}p.baseQueue=y=x,c.pending=null}if(y!==null){x=y.next,p=p.baseState;var O=T=null,B=null,Y=x;do{var oe=Y.lane;if((ao&oe)===oe)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:i(p,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?(O=B=ae,T=p):B=B.next=ae,dt.lanes|=oe,lo|=oe}Y=Y.next}while(Y!==null&&Y!==x);B===null?T=p:B.next=O,er(p,o.memoizedState)||(gn=!0),o.memoizedState=p,o.baseState=T,o.baseQueue=B,c.lastRenderedState=p}if(i=c.interleaved,i!==null){y=i;do x=y.lane,dt.lanes|=x,lo|=x,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function jp(i){var o=$n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do x=i(x,T.action),T=T.next;while(T!==y);er(x,o.memoizedState)||(gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,p]}function C0(){}function A0(i,o){var c=dt,p=$n(),y=o(),x=!er(p.memoizedState,y);if(x&&(p.memoizedState=y,gn=!0),p=p.queue,Dp(P0.bind(null,c,p,i),[i]),p.getSnapshot!==o||x||Mt!==null&&Mt.memoizedState.tag&1){if(c.flags|=2048,oc(9,k0.bind(null,c,p,y,o),void 0,null),Vt===null)throw Error(t(349));(ao&30)!==0||I0(c,o,y)}return y}function I0(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function k0(i,o,c,p){o.value=c,o.getSnapshot=p,R0(o)&&N0(i)}function P0(i,o,c){return c(function(){R0(o)&&N0(i)})}function R0(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!er(i,c)}catch{return!0}}function N0(i){var o=os(i,1);o!==null&&ir(o,i,1,-1)}function j0(i){var o=Pr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:i},o.queue=i,i=i.dispatch=yA.bind(null,dt,i),[o.memoizedState,i]}function oc(i,o,c,p){return i={tag:i,create:o,destroy:c,deps:p,next:null},o=dt.updateQueue,o===null?(o={lastEffect:null,stores:null},dt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,o.lastEffect=i)),i}function D0(){return $n().memoizedState}function fd(i,o,c,p){var y=Pr();dt.flags|=i,y.memoizedState=oc(1|o,c,void 0,p===void 0?null:p)}function pd(i,o,c,p){var y=$n();p=p===void 0?null:p;var x=void 0;if(jt!==null){var T=jt.memoizedState;if(x=T.destroy,p!==null&&kp(p,T.deps)){y.memoizedState=oc(o,c,x,p);return}}dt.flags|=i,y.memoizedState=oc(1|o,c,x,p)}function L0(i,o){return fd(8390656,8,i,o)}function Dp(i,o){return pd(2048,8,i,o)}function O0(i,o){return pd(4,2,i,o)}function M0(i,o){return pd(4,4,i,o)}function V0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function F0(i,o,c){return c=c!=null?c.concat([i]):null,pd(4,4,V0.bind(null,o,i),c)}function Lp(){}function U0(i,o){var c=$n();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&kp(o,p[1])?p[0]:(c.memoizedState=[i,o],i)}function B0(i,o){var c=$n();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&kp(o,p[1])?p[0]:(i=i(),c.memoizedState=[i,o],i)}function z0(i,o,c){return(ao&21)===0?(i.baseState&&(i.baseState=!1,gn=!0),i.memoizedState=c):(er(c,o)||(c=Nl(),dt.lanes|=c,lo|=c,i.baseState=!0),o)}function mA(i,o){var c=He;He=c!==0&&4>c?c:4,i(!0);var p=Ip.transition;Ip.transition={};try{i(!1),o()}finally{He=c,Ip.transition=p}}function $0(){return $n().memoizedState}function gA(i,o,c){var p=ni(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},H0(i))q0(o,c);else if(c=_0(i,o,c,p),c!==null){var y=un();ir(c,i,p,y),W0(c,o,p)}}function yA(i,o,c){var p=ni(i),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(H0(i))q0(o,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var T=o.lastRenderedState,O=x(T,c);if(y.hasEagerState=!0,y.eagerState=O,er(O,T)){var B=o.interleaved;B===null?(y.next=y,bp(o)):(y.next=B.next,B.next=y),o.interleaved=y;return}}catch{}finally{}c=_0(i,o,y,p),c!==null&&(y=un(),ir(c,i,p,y),W0(c,o,p))}}function H0(i){var o=i.alternate;return i===dt||o!==null&&o===dt}function q0(i,o){rc=hd=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function W0(i,o,c){if((c&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,Dl(i,c)}}var md={readContext:zn,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},vA={readContext:zn,useCallback:function(i,o){return Pr().memoizedState=[i,o===void 0?null:o],i},useContext:zn,useEffect:L0,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,fd(4194308,4,V0.bind(null,o,i),c)},useLayoutEffect:function(i,o){return fd(4194308,4,i,o)},useInsertionEffect:function(i,o){return fd(4,2,i,o)},useMemo:function(i,o){var c=Pr();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var p=Pr();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=gA.bind(null,dt,i),[p.memoizedState,i]},useRef:function(i){var o=Pr();return i={current:i},o.memoizedState=i},useState:j0,useDebugValue:Lp,useDeferredValue:function(i){return Pr().memoizedState=i},useTransition:function(){var i=j0(!1),o=i[0];return i=mA.bind(null,i[1]),Pr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var p=dt,y=Pr();if(ct){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Vt===null)throw Error(t(349));(ao&30)!==0||I0(p,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,L0(P0.bind(null,p,x,i),[i]),p.flags|=2048,oc(9,k0.bind(null,p,x,c,o),void 0,null),c},useId:function(){var i=Pr(),o=Vt.identifierPrefix;if(ct){var c=is,p=ss;c=(p&~(1<<32-Sn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=sc++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=pA++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},xA={readContext:zn,useCallback:U0,useContext:zn,useEffect:Dp,useImperativeHandle:F0,useInsertionEffect:O0,useLayoutEffect:M0,useMemo:B0,useReducer:Np,useRef:D0,useState:function(){return Np(ic)},useDebugValue:Lp,useDeferredValue:function(i){var o=$n();return z0(o,jt.memoizedState,i)},useTransition:function(){var i=Np(ic)[0],o=$n().memoizedState;return[i,o]},useMutableSource:C0,useSyncExternalStore:A0,useId:$0,unstable_isNewReconciler:!1},wA={readContext:zn,useCallback:U0,useContext:zn,useEffect:Dp,useImperativeHandle:F0,useInsertionEffect:O0,useLayoutEffect:M0,useMemo:B0,useReducer:jp,useRef:D0,useState:function(){return jp(ic)},useDebugValue:Lp,useDeferredValue:function(i){var o=$n();return jt===null?o.memoizedState=i:z0(o,jt.memoizedState,i)},useTransition:function(){var i=jp(ic)[0],o=$n().memoizedState;return[i,o]},useMutableSource:C0,useSyncExternalStore:A0,useId:$0,unstable_isNewReconciler:!1};function nr(i,o){if(i&&i.defaultProps){o=ue({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function Op(i,o,c,p){o=i.memoizedState,c=c(p,o),c=c==null?o:ue({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var gd={isMounted:function(i){return(i=i._reactInternals)?Xn(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var p=un(),y=ni(i),x=as(p,y);x.payload=o,c!=null&&(x.callback=c),o=Xs(i,x,y),o!==null&&(ir(o,i,y,p),ld(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var p=un(),y=ni(i),x=as(p,y);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Xs(i,x,y),o!==null&&(ir(o,i,y,p),ld(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=un(),p=ni(i),y=as(c,p);y.tag=2,o!=null&&(y.callback=o),o=Xs(i,y,p),o!==null&&(ir(o,i,p,c),ld(o,i,p))}};function G0(i,o,c,p,y,x,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,T):o.prototype&&o.prototype.isPureReactComponent?!Wl(c,p)||!Wl(y,x):!0}function K0(i,o,c){var p=!1,y=Qs,x=o.contextType;return typeof x=="object"&&x!==null?x=zn(x):(y=mn(o)?no:Xt.current,p=o.contextTypes,x=(p=p!=null)?ba(i,y):Qs),o=new o(c,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=gd,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=x),o}function Q0(i,o,c,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==i&&gd.enqueueReplaceState(o,o.state,null)}function Mp(i,o,c,p){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},Tp(i);var x=o.contextType;typeof x=="object"&&x!==null?y.context=zn(x):(x=mn(o)?no:Xt.current,y.context=ba(i,x)),y.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Op(i,o,x,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&gd.enqueueReplaceState(y,y.state,null),cd(i,c,y,p),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Pa(i,o){try{var c="",p=o;do c+=Oe(p),p=p.return;while(p);var y=c}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:y,digest:null}}function Vp(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function Fp(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var _A=typeof WeakMap=="function"?WeakMap:Map;function Y0(i,o,c){c=as(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Td||(Td=!0,em=p),Fp(i,o)},c}function J0(i,o,c){c=as(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){Fp(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Fp(i,o),typeof p!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function X0(i,o,c){var p=i.pingCache;if(p===null){p=i.pingCache=new _A;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),i=LA.bind(null,i,o,c),o.then(i,i))}function Z0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ex(i,o,c,p,y){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=as(-1,1),o.tag=2,Xs(c,o,1))),c.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var bA=H.ReactCurrentOwner,gn=!1;function cn(i,o,c,p){o.child=i===null?w0(o,null,c,p):Ca(o,i.child,c,p)}function tx(i,o,c,p,y){c=c.render;var x=o.ref;return Ia(o,y),p=Pp(i,o,c,p,x,y),c=Rp(),i!==null&&!gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,ls(i,o,y)):(ct&&c&&fp(o),o.flags|=1,cn(i,o,p,y),o.child)}function nx(i,o,c,p,y){if(i===null){var x=c.type;return typeof x=="function"&&!am(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,rx(i,o,x,p,y)):(i=kd(c.type,null,p,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&y)===0){var T=x.memoizedProps;if(c=c.compare,c=c!==null?c:Wl,c(T,p)&&i.ref===o.ref)return ls(i,o,y)}return o.flags|=1,i=si(x,p),i.ref=o.ref,i.return=o,o.child=i}function rx(i,o,c,p,y){if(i!==null){var x=i.memoizedProps;if(Wl(x,p)&&i.ref===o.ref)if(gn=!1,o.pendingProps=p=x,(i.lanes&y)!==0)(i.flags&131072)!==0&&(gn=!0);else return o.lanes=i.lanes,ls(i,o,y)}return Up(i,o,c,p,y)}function sx(i,o,c){var p=o.pendingProps,y=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Na,Nn),Nn|=c;else{if((c&1073741824)===0)return i=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,tt(Na,Nn),Nn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:c,tt(Na,Nn),Nn|=p}else x!==null?(p=x.baseLanes|c,o.memoizedState=null):p=c,tt(Na,Nn),Nn|=p;return cn(i,o,y,c),o.child}function ix(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Up(i,o,c,p,y){var x=mn(c)?no:Xt.current;return x=ba(o,x),Ia(o,y),c=Pp(i,o,c,p,x,y),p=Rp(),i!==null&&!gn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,ls(i,o,y)):(ct&&p&&fp(o),o.flags|=1,cn(i,o,c,y),o.child)}function ox(i,o,c,p,y){if(mn(c)){var x=!0;ed(o)}else x=!1;if(Ia(o,y),o.stateNode===null)vd(i,o),K0(o,c,p),Mp(o,c,p,y),p=!0;else if(i===null){var T=o.stateNode,O=o.memoizedProps;T.props=O;var B=T.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=zn(Y):(Y=mn(c)?no:Xt.current,Y=ba(o,Y));var oe=c.getDerivedStateFromProps,ae=typeof oe=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==p||B!==Y)&&Q0(o,T,p,Y),Js=!1;var ie=o.memoizedState;T.state=ie,cd(o,p,T,y),B=o.memoizedState,O!==p||ie!==B||pn.current||Js?(typeof oe=="function"&&(Op(o,c,oe,p),B=o.memoizedState),(O=Js||G0(o,c,O,p,ie,B,Y))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=B),T.props=p,T.state=B,T.context=Y,p=O):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{T=o.stateNode,b0(i,o),O=o.memoizedProps,Y=o.type===o.elementType?O:nr(o.type,O),T.props=Y,ae=o.pendingProps,ie=T.context,B=c.contextType,typeof B=="object"&&B!==null?B=zn(B):(B=mn(c)?no:Xt.current,B=ba(o,B));var fe=c.getDerivedStateFromProps;(oe=typeof fe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==ae||ie!==B)&&Q0(o,T,p,B),Js=!1,ie=o.memoizedState,T.state=ie,cd(o,p,T,y);var ve=o.memoizedState;O!==ae||ie!==ve||pn.current||Js?(typeof fe=="function"&&(Op(o,c,fe,p),ve=o.memoizedState),(Y=Js||G0(o,c,Y,p,ie,ve,B)||!1)?(oe||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ve,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ve,B)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ve),T.props=p,T.state=ve,T.context=B,p=Y):(typeof T.componentDidUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ie===i.memoizedState||(o.flags|=1024),p=!1)}return Bp(i,o,c,p,x,y)}function Bp(i,o,c,p,y,x){ix(i,o);var T=(o.flags&128)!==0;if(!p&&!T)return y&&d0(o,c,!1),ls(i,o,x);p=o.stateNode,bA.current=o;var O=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&T?(o.child=Ca(o,i.child,null,x),o.child=Ca(o,null,O,x)):cn(i,o,O,x),o.memoizedState=p.state,y&&d0(o,c,!0),o.child}function ax(i){var o=i.stateNode;o.pendingContext?c0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&c0(i,o.context,!1),Ep(i,o.containerInfo)}function lx(i,o,c,p,y){return Sa(),yp(y),o.flags|=256,cn(i,o,c,p),o.child}var zp={dehydrated:null,treeContext:null,retryLane:0};function $p(i){return{baseLanes:i,cachePool:null,transitions:null}}function cx(i,o,c){var p=o.pendingProps,y=ut.current,x=!1,T=(o.flags&128)!==0,O;if((O=T)||(O=i!==null&&i.memoizedState===null?!1:(y&2)!==0),O?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),tt(ut,y&1),i===null)return gp(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=p.children,i=p.fallback,x?(p=o.mode,x=o.child,T={mode:"hidden",children:T},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=T):x=Pd(T,p,0,null),i=fo(i,p,c,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=$p(c),o.memoizedState=zp,i):Hp(o,T));if(y=i.memoizedState,y!==null&&(O=y.dehydrated,O!==null))return TA(i,o,T,p,O,y,c);if(x){x=p.fallback,T=o.mode,y=i.child,O=y.sibling;var B={mode:"hidden",children:p.children};return(T&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=B,o.deletions=null):(p=si(y,B),p.subtreeFlags=y.subtreeFlags&14680064),O!==null?x=si(O,x):(x=fo(x,T,c,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,T=i.child.memoizedState,T=T===null?$p(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},x.memoizedState=T,x.childLanes=i.childLanes&~c,o.memoizedState=zp,p}return x=i.child,i=x.sibling,p=si(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=p,o.memoizedState=null,p}function Hp(i,o){return o=Pd({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function yd(i,o,c,p){return p!==null&&yp(p),Ca(o,i.child,null,c),i=Hp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function TA(i,o,c,p,y,x,T){if(c)return o.flags&256?(o.flags&=-257,p=Vp(Error(t(422))),yd(i,o,T,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=p.fallback,y=o.mode,p=Pd({mode:"visible",children:p.children},y,0,null),x=fo(x,y,T,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&Ca(o,i.child,null,T),o.child.memoizedState=$p(T),o.memoizedState=zp,x);if((o.mode&1)===0)return yd(i,o,T,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var O=p.dgst;return p=O,x=Error(t(419)),p=Vp(x,p,void 0),yd(i,o,T,p)}if(O=(T&i.childLanes)!==0,gn||O){if(p=Vt,p!==null){switch(T&-T){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|T))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,os(i,y),ir(p,i,y,-1))}return om(),p=Vp(Error(t(421))),yd(i,o,T,p)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=OA.bind(null,i),y._reactRetry=o,null):(i=x.treeContext,Rn=Gs(y.nextSibling),Pn=o,ct=!0,tr=null,i!==null&&(Un[Bn++]=ss,Un[Bn++]=is,Un[Bn++]=ro,ss=i.id,is=i.overflow,ro=o),o=Hp(o,p.children),o.flags|=4096,o)}function ux(i,o,c){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),_p(i.return,o,c)}function qp(i,o,c,p,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=y)}function dx(i,o,c){var p=o.pendingProps,y=p.revealOrder,x=p.tail;if(cn(i,o,p.children,c),p=ut.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ux(i,c,o);else if(i.tag===19)ux(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(tt(ut,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&ud(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),qp(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&ud(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}qp(o,!0,c,null,x);break;case"together":qp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function vd(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ls(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),lo|=o.lanes,(c&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,c=si(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=si(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function EA(i,o,c){switch(o.tag){case 3:ax(o),Sa();break;case 5:S0(o);break;case 1:mn(o.type)&&ed(o);break;case 4:Ep(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;tt(od,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(tt(ut,ut.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?cx(i,o,c):(tt(ut,ut.current&1),i=ls(i,o,c),i!==null?i.sibling:null);tt(ut,ut.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(i.flags&128)!==0){if(p)return dx(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),tt(ut,ut.current),p)break;return null;case 22:case 23:return o.lanes=0,sx(i,o,c)}return ls(i,o,c)}var hx,Wp,fx,px;hx=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Wp=function(){},fx=function(i,o,c,p){var y=i.memoizedProps;if(y!==p){i=o.stateNode,oo(kr.current);var x=null;switch(c){case"input":y=Ko(i,y),p=Ko(i,p),x=[];break;case"select":y=ue({},y,{value:void 0}),p=ue({},p,{value:void 0}),x=[];break;case"textarea":y=_l(i,y),p=_l(i,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Ju)}Jn(c,p);var T;c=null;for(Y in y)if(!p.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var O=y[Y];for(T in O)O.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in p){var B=p[Y];if(O=y?.[Y],p.hasOwnProperty(Y)&&B!==O&&(B!=null||O!=null))if(Y==="style")if(O){for(T in O)!O.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in B)B.hasOwnProperty(T)&&O[T]!==B[T]&&(c||(c={}),c[T]=B[T])}else c||(x||(x=[]),x.push(Y,c)),c=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&at("scroll",i),x||O===B||(x=[])):(x=x||[]).push(Y,B))}c&&(x=x||[]).push("style",c);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},px=function(i,o,c,p){c!==p&&(o.flags|=4)};function ac(i,o){if(!ct)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function en(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=p,i.childLanes=c,o}function SA(i,o,c){var p=o.pendingProps;switch(pp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return mn(o.type)&&Zu(),en(o),null;case 3:return p=o.stateNode,ka(),lt(pn),lt(Xt),Ap(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(sd(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tr!==null&&(rm(tr),tr=null))),Wp(i,o),en(o),null;case 5:Sp(o);var y=oo(nc.current);if(c=o.type,i!==null&&o.stateNode!=null)fx(i,o,c,p,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(i=oo(kr.current),sd(o)){p=o.stateNode,c=o.type;var x=o.memoizedProps;switch(p[Ir]=o,p[Jl]=x,i=(o.mode&1)!==0,c){case"dialog":at("cancel",p),at("close",p);break;case"iframe":case"object":case"embed":at("load",p);break;case"video":case"audio":for(y=0;y<Kl.length;y++)at(Kl[y],p);break;case"source":at("error",p);break;case"img":case"image":case"link":at("error",p),at("load",p);break;case"details":at("toggle",p);break;case"input":bu(p,x),at("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},at("invalid",p);break;case"textarea":bl(p,x),at("invalid",p)}Jn(c,x),y=null;for(var T in x)if(x.hasOwnProperty(T)){var O=x[T];T==="children"?typeof O=="string"?p.textContent!==O&&(x.suppressHydrationWarning!==!0&&Yu(p.textContent,O,i),y=["children",O]):typeof O=="number"&&p.textContent!==""+O&&(x.suppressHydrationWarning!==!0&&Yu(p.textContent,O,i),y=["children",""+O]):s.hasOwnProperty(T)&&O!=null&&T==="onScroll"&&at("scroll",p)}switch(c){case"input":fn(p),wl(p,x,!0);break;case"textarea":fn(p),Rs(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Ju)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{T=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Tl(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=T.createElement(c,{is:p.is}):(i=T.createElement(c),c==="select"&&(T=i,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):i=T.createElementNS(i,c),i[Ir]=o,i[Jl]=p,hx(i,o,!1,!1),o.stateNode=i;e:{switch(T=Xo(c,p),c){case"dialog":at("cancel",i),at("close",i),y=p;break;case"iframe":case"object":case"embed":at("load",i),y=p;break;case"video":case"audio":for(y=0;y<Kl.length;y++)at(Kl[y],i);y=p;break;case"source":at("error",i),y=p;break;case"img":case"image":case"link":at("error",i),at("load",i),y=p;break;case"details":at("toggle",i),y=p;break;case"input":bu(i,p),y=Ko(i,p),at("invalid",i);break;case"option":y=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},y=ue({},p,{value:void 0}),at("invalid",i);break;case"textarea":bl(i,p),y=_l(i,p),at("invalid",i);break;default:y=p}Jn(c,y),O=y;for(x in O)if(O.hasOwnProperty(x)){var B=O[x];x==="style"?Jo(i,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Eu(i,B)):x==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&Bi(i,B):typeof B=="number"&&Bi(i,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?B!=null&&x==="onScroll"&&at("scroll",i):B!=null&&k(i,x,B,T))}switch(c){case"input":fn(i),wl(i,p,!1);break;case"textarea":fn(i),Rs(i);break;case"option":p.value!=null&&i.setAttribute("value",""+$e(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Yn(i,!!p.multiple,x,!1):p.defaultValue!=null&&Yn(i,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Ju)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(i&&o.stateNode!=null)px(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(c=oo(nc.current),oo(kr.current),sd(o)){if(p=o.stateNode,c=o.memoizedProps,p[Ir]=o,(x=p.nodeValue!==c)&&(i=Pn,i!==null))switch(i.tag){case 3:Yu(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yu(p.nodeValue,c,(i.mode&1)!==0)}x&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ir]=o,o.stateNode=p}return en(o),null;case 13:if(lt(ut),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ct&&Rn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)y0(),Sa(),o.flags|=98560,x=!1;else if(x=sd(o),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Ir]=o}else Sa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;en(o),x=!1}else tr!==null&&(rm(tr),tr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ut.current&1)!==0?Dt===0&&(Dt=3):om())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return ka(),Wp(i,o),i===null&&Ql(o.stateNode.containerInfo),en(o),null;case 10:return wp(o.type._context),en(o),null;case 17:return mn(o.type)&&Zu(),en(o),null;case 19:if(lt(ut),x=o.memoizedState,x===null)return en(o),null;if(p=(o.flags&128)!==0,T=x.rendering,T===null)if(p)ac(x,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=ud(i),T!==null){for(o.flags|=128,ac(x,!1),p=T.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)x=c,i=p,x.flags&=14680066,T=x.alternate,T===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=T.childLanes,x.lanes=T.lanes,x.child=T.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=T.memoizedProps,x.memoizedState=T.memoizedState,x.updateQueue=T.updateQueue,x.type=T.type,i=T.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return tt(ut,ut.current&1|2),o.child}i=i.sibling}x.tail!==null&&ot()>ja&&(o.flags|=128,p=!0,ac(x,!1),o.lanes=4194304)}else{if(!p)if(i=ud(T),i!==null){if(o.flags|=128,p=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),ac(x,!0),x.tail===null&&x.tailMode==="hidden"&&!T.alternate&&!ct)return en(o),null}else 2*ot()-x.renderingStartTime>ja&&c!==1073741824&&(o.flags|=128,p=!0,ac(x,!1),o.lanes=4194304);x.isBackwards?(T.sibling=o.child,o.child=T):(c=x.last,c!==null?c.sibling=T:o.child=T,x.last=T)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=ot(),o.sibling=null,c=ut.current,tt(ut,p?c&1|2:c&1),o):(en(o),null);case 22:case 23:return im(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Nn&1073741824)!==0&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function CA(i,o){switch(pp(o),o.tag){case 1:return mn(o.type)&&Zu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ka(),lt(pn),lt(Xt),Ap(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Sp(o),null;case 13:if(lt(ut),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Sa()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return lt(ut),null;case 4:return ka(),null;case 10:return wp(o.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var xd=!1,tn=!1,AA=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ra(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){mt(i,o,p)}else c.current=null}function Gp(i,o,c){try{c()}catch(p){mt(i,o,p)}}var mx=!1;function IA(i,o){if(ip=Zr,i=Gv(),Jf(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var T=0,O=-1,B=-1,Y=0,oe=0,ae=i,ie=null;t:for(;;){for(var fe;ae!==c||y!==0&&ae.nodeType!==3||(O=T+y),ae!==x||p!==0&&ae.nodeType!==3||(B=T+p),ae.nodeType===3&&(T+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)ie=ae,ae=fe;for(;;){if(ae===i)break t;if(ie===c&&++Y===y&&(O=T),ie===x&&++oe===p&&(B=T),(fe=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=fe}c=O===-1||B===-1?null:{start:O,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(op={focusedElem:i,selectionRange:c},Zr=!1,me=o;me!==null;)if(o=me,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,me=i;else for(;me!==null;){o=me;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var xe=ve.memoizedProps,wt=ve.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?xe:nr(o.type,xe),wt);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){mt(o,o.return,le)}if(i=o.sibling,i!==null){i.return=o.return,me=i;break}me=o.return}return ve=mx,mx=!1,ve}function lc(i,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&i)===i){var x=y.destroy;y.destroy=void 0,x!==void 0&&Gp(o,c,x)}y=y.next}while(y!==p)}}function wd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function Kp(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function gx(i){var o=i.alternate;o!==null&&(i.alternate=null,gx(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Ir],delete o[Jl],delete o[up],delete o[uA],delete o[dA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function yx(i){return i.tag===5||i.tag===3||i.tag===4}function vx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||yx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qp(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Ju));else if(p!==4&&(i=i.child,i!==null))for(Qp(i,o,c),i=i.sibling;i!==null;)Qp(i,o,c),i=i.sibling}function Yp(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Yp(i,o,c),i=i.sibling;i!==null;)Yp(i,o,c),i=i.sibling}var Gt=null,rr=!1;function Zs(i,o,c){for(c=c.child;c!==null;)xx(i,o,c),c=c.sibling}function xx(i,o,c){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Wi,c)}catch{}switch(c.tag){case 5:tn||Ra(c,o);case 6:var p=Gt,y=rr;Gt=null,Zs(i,o,c),Gt=p,rr=y,Gt!==null&&(rr?(i=Gt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Gt.removeChild(c.stateNode));break;case 18:Gt!==null&&(rr?(i=Gt,c=c.stateNode,i.nodeType===8?cp(i.parentNode,c):i.nodeType===1&&cp(i,c),$s(i)):cp(Gt,c.stateNode));break;case 4:p=Gt,y=rr,Gt=c.stateNode.containerInfo,rr=!0,Zs(i,o,c),Gt=p,rr=y;break;case 0:case 11:case 14:case 15:if(!tn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,T=x.destroy;x=x.tag,T!==void 0&&((x&2)!==0||(x&4)!==0)&&Gp(c,o,T),y=y.next}while(y!==p)}Zs(i,o,c);break;case 1:if(!tn&&(Ra(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(O){mt(c,o,O)}Zs(i,o,c);break;case 21:Zs(i,o,c);break;case 22:c.mode&1?(tn=(p=tn)||c.memoizedState!==null,Zs(i,o,c),tn=p):Zs(i,o,c);break;default:Zs(i,o,c)}}function wx(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new AA),o.forEach(function(p){var y=MA.bind(null,i,p);c.has(p)||(c.add(p),p.then(y,y))})}}function sr(i,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var x=i,T=o,O=T;e:for(;O!==null;){switch(O.tag){case 5:Gt=O.stateNode,rr=!1;break e;case 3:Gt=O.stateNode.containerInfo,rr=!0;break e;case 4:Gt=O.stateNode.containerInfo,rr=!0;break e}O=O.return}if(Gt===null)throw Error(t(160));xx(x,T,y),Gt=null,rr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Y){mt(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)_x(o,i),o=o.sibling}function _x(i,o){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(sr(o,i),Rr(i),p&4){try{lc(3,i,i.return),wd(3,i)}catch(xe){mt(i,i.return,xe)}try{lc(5,i,i.return)}catch(xe){mt(i,i.return,xe)}}break;case 1:sr(o,i),Rr(i),p&512&&c!==null&&Ra(c,c.return);break;case 5:if(sr(o,i),Rr(i),p&512&&c!==null&&Ra(c,c.return),i.flags&32){var y=i.stateNode;try{Bi(y,"")}catch(xe){mt(i,i.return,xe)}}if(p&4&&(y=i.stateNode,y!=null)){var x=i.memoizedProps,T=c!==null?c.memoizedProps:x,O=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{O==="input"&&x.type==="radio"&&x.name!=null&&Qo(y,x),Xo(O,T);var Y=Xo(O,x);for(T=0;T<B.length;T+=2){var oe=B[T],ae=B[T+1];oe==="style"?Jo(y,ae):oe==="dangerouslySetInnerHTML"?Eu(y,ae):oe==="children"?Bi(y,ae):k(y,oe,ae,Y)}switch(O){case"input":Ui(y,x);break;case"textarea":Tu(y,x);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var fe=x.value;fe!=null?Yn(y,!!x.multiple,fe,!1):ie!==!!x.multiple&&(x.defaultValue!=null?Yn(y,!!x.multiple,x.defaultValue,!0):Yn(y,!!x.multiple,x.multiple?[]:"",!1))}y[Jl]=x}catch(xe){mt(i,i.return,xe)}}break;case 6:if(sr(o,i),Rr(i),p&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,x=i.memoizedProps;try{y.nodeValue=x}catch(xe){mt(i,i.return,xe)}}break;case 3:if(sr(o,i),Rr(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{$s(o.containerInfo)}catch(xe){mt(i,i.return,xe)}break;case 4:sr(o,i),Rr(i);break;case 13:sr(o,i),Rr(i),y=i.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Zp=ot())),p&4&&wx(i);break;case 22:if(oe=c!==null&&c.memoizedState!==null,i.mode&1?(tn=(Y=tn)||oe,sr(o,i),tn=Y):sr(o,i),Rr(i),p&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!oe&&(i.mode&1)!==0)for(me=i,oe=i.child;oe!==null;){for(ae=me=oe;me!==null;){switch(ie=me,fe=ie.child,ie.tag){case 0:case 11:case 14:case 15:lc(4,ie,ie.return);break;case 1:Ra(ie,ie.return);var ve=ie.stateNode;if(typeof ve.componentWillUnmount=="function"){p=ie,c=ie.return;try{o=p,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(xe){mt(p,c,xe)}}break;case 5:Ra(ie,ie.return);break;case 22:if(ie.memoizedState!==null){Ex(ae);continue}}fe!==null?(fe.return=ie,me=fe):Ex(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{y=ae.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(O=ae.stateNode,B=ae.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=Ds("display",T))}catch(xe){mt(i,i.return,xe)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(xe){mt(i,i.return,xe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:sr(o,i),Rr(i),p&4&&wx(i);break;case 21:break;default:sr(o,i),Rr(i)}}function Rr(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(yx(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Bi(y,""),p.flags&=-33);var x=vx(i);Yp(i,x,y);break;case 3:case 4:var T=p.stateNode.containerInfo,O=vx(i);Qp(i,O,T);break;default:throw Error(t(161))}}catch(B){mt(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function kA(i,o,c){me=i,bx(i)}function bx(i,o,c){for(var p=(i.mode&1)!==0;me!==null;){var y=me,x=y.child;if(y.tag===22&&p){var T=y.memoizedState!==null||xd;if(!T){var O=y.alternate,B=O!==null&&O.memoizedState!==null||tn;O=xd;var Y=tn;if(xd=T,(tn=B)&&!Y)for(me=y;me!==null;)T=me,B=T.child,T.tag===22&&T.memoizedState!==null?Sx(y):B!==null?(B.return=T,me=B):Sx(y);for(;x!==null;)me=x,bx(x),x=x.sibling;me=y,xd=O,tn=Y}Tx(i)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,me=x):Tx(i)}}function Tx(i){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:tn||wd(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!tn)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:nr(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&E0(o,x,p);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}E0(o,T,c)}break;case 5:var O=o.stateNode;if(c===null&&o.flags&4){c=O;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&$s(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&Kp(o)}catch(ie){mt(o,o.return,ie)}}if(o===i){me=null;break}if(c=o.sibling,c!==null){c.return=o.return,me=c;break}me=o.return}}function Ex(i){for(;me!==null;){var o=me;if(o===i){me=null;break}var c=o.sibling;if(c!==null){c.return=o.return,me=c;break}me=o.return}}function Sx(i){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{wd(4,o)}catch(B){mt(o,c,B)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(B){mt(o,y,B)}}var x=o.return;try{Kp(o)}catch(B){mt(o,x,B)}break;case 5:var T=o.return;try{Kp(o)}catch(B){mt(o,T,B)}}}catch(B){mt(o,o.return,B)}if(o===i){me=null;break}var O=o.sibling;if(O!==null){O.return=o.return,me=O;break}me=o.return}}var PA=Math.ceil,_d=H.ReactCurrentDispatcher,Jp=H.ReactCurrentOwner,Hn=H.ReactCurrentBatchConfig,Ge=0,Vt=null,At=null,Kt=0,Nn=0,Na=Ks(0),Dt=0,cc=null,lo=0,bd=0,Xp=0,uc=null,yn=null,Zp=0,ja=1/0,cs=null,Td=!1,em=null,ei=null,Ed=!1,ti=null,Sd=0,dc=0,tm=null,Cd=-1,Ad=0;function un(){return(Ge&6)!==0?ot():Cd!==-1?Cd:Cd=ot()}function ni(i){return(i.mode&1)===0?1:(Ge&2)!==0&&Kt!==0?Kt&-Kt:fA.transition!==null?(Ad===0&&(Ad=Nl()),Ad):(i=He,i!==0||(i=window.event,i=i===void 0?16:la(i.type)),i)}function ir(i,o,c,p){if(50<dc)throw dc=0,tm=null,Error(t(185));Yi(i,c,p),((Ge&2)===0||i!==Vt)&&(i===Vt&&((Ge&2)===0&&(bd|=c),Dt===4&&ri(i,Kt)),vn(i,p),c===1&&Ge===0&&(o.mode&1)===0&&(ja=ot()+500,td&&Ys()))}function vn(i,o){var c=i.callbackNode;Qi(i,o);var p=Yr(i,i===Vt?Kt:0);if(p===0)c!==null&&ta(c),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(c!=null&&ta(c),o===1)i.tag===0?hA(Ax.bind(null,i)):h0(Ax.bind(null,i)),lA(function(){(Ge&6)===0&&Ys()}),c=null;else{switch(vr(p)){case 1:c=na;break;case 4:c=kl;break;case 16:c=qi;break;case 536870912:c=ra;break;default:c=qi}c=Lx(c,Cx.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function Cx(i,o){if(Cd=-1,Ad=0,(Ge&6)!==0)throw Error(t(327));var c=i.callbackNode;if(Da()&&i.callbackNode!==c)return null;var p=Yr(i,i===Vt?Kt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=Id(i,p);else{o=p;var y=Ge;Ge|=2;var x=kx();(Vt!==i||Kt!==o)&&(cs=null,ja=ot()+500,uo(i,o));do try{jA();break}catch(O){Ix(i,O)}while(!0);xp(),_d.current=x,Ge=y,At!==null?o=0:(Vt=null,Kt=0,o=Dt)}if(o!==0){if(o===2&&(y=Rl(i),y!==0&&(p=y,o=nm(i,y))),o===1)throw c=cc,uo(i,0),ri(i,p),vn(i,ot()),c;if(o===6)ri(i,p);else{if(y=i.current.alternate,(p&30)===0&&!RA(y)&&(o=Id(i,p),o===2&&(x=Rl(i),x!==0&&(p=x,o=nm(i,x))),o===1))throw c=cc,uo(i,0),ri(i,p),vn(i,ot()),c;switch(i.finishedWork=y,i.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:ho(i,yn,cs);break;case 3:if(ri(i,p),(p&130023424)===p&&(o=Zp+500-ot(),10<o)){if(Yr(i,0)!==0)break;if(y=i.suspendedLanes,(y&p)!==p){un(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=lp(ho.bind(null,i,yn,cs),o);break}ho(i,yn,cs);break;case 4:if(ri(i,p),(p&4194240)===p)break;for(o=i.eventTimes,y=-1;0<p;){var T=31-Sn(p);x=1<<T,T=o[T],T>y&&(y=T),p&=~x}if(p=y,p=ot()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*PA(p/1960))-p,10<p){i.timeoutHandle=lp(ho.bind(null,i,yn,cs),p);break}ho(i,yn,cs);break;case 5:ho(i,yn,cs);break;default:throw Error(t(329))}}}return vn(i,ot()),i.callbackNode===c?Cx.bind(null,i):null}function nm(i,o){var c=uc;return i.current.memoizedState.isDehydrated&&(uo(i,o).flags|=256),i=Id(i,o),i!==2&&(o=yn,yn=c,o!==null&&rm(o)),i}function rm(i){yn===null?yn=i:yn.push.apply(yn,i)}function RA(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],x=y.getSnapshot;y=y.value;try{if(!er(x(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ri(i,o){for(o&=~Xp,o&=~bd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-Sn(o),p=1<<c;i[c]=-1,o&=~p}}function Ax(i){if((Ge&6)!==0)throw Error(t(327));Da();var o=Yr(i,0);if((o&1)===0)return vn(i,ot()),null;var c=Id(i,o);if(i.tag!==0&&c===2){var p=Rl(i);p!==0&&(o=p,c=nm(i,p))}if(c===1)throw c=cc,uo(i,0),ri(i,o),vn(i,ot()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ho(i,yn,cs),vn(i,ot()),null}function sm(i,o){var c=Ge;Ge|=1;try{return i(o)}finally{Ge=c,Ge===0&&(ja=ot()+500,td&&Ys())}}function co(i){ti!==null&&ti.tag===0&&(Ge&6)===0&&Da();var o=Ge;Ge|=1;var c=Hn.transition,p=He;try{if(Hn.transition=null,He=1,i)return i()}finally{He=p,Hn.transition=c,Ge=o,(Ge&6)===0&&Ys()}}function im(){Nn=Na.current,lt(Na)}function uo(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,aA(c)),At!==null)for(c=At.return;c!==null;){var p=c;switch(pp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Zu();break;case 3:ka(),lt(pn),lt(Xt),Ap();break;case 5:Sp(p);break;case 4:ka();break;case 13:lt(ut);break;case 19:lt(ut);break;case 10:wp(p.type._context);break;case 22:case 23:im()}c=c.return}if(Vt=i,At=i=si(i.current,null),Kt=Nn=o,Dt=0,cc=null,Xp=bd=lo=0,yn=uc=null,io!==null){for(o=0;o<io.length;o++)if(c=io[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,x=c.pending;if(x!==null){var T=x.next;x.next=y,p.next=T}c.pending=p}io=null}return i}function Ix(i,o){do{var c=At;try{if(xp(),dd.current=md,hd){for(var p=dt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}hd=!1}if(ao=0,Mt=jt=dt=null,rc=!1,sc=0,Jp.current=null,c===null||c.return===null){Dt=1,cc=o,At=null;break}e:{var x=i,T=c.return,O=c,B=o;if(o=Kt,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,oe=O,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var fe=Z0(T);if(fe!==null){fe.flags&=-257,ex(fe,T,O,x,o),fe.mode&1&&X0(x,Y,o),o=fe,B=Y;var ve=o.updateQueue;if(ve===null){var xe=new Set;xe.add(B),o.updateQueue=xe}else ve.add(B);break e}else{if((o&1)===0){X0(x,Y,o),om();break e}B=Error(t(426))}}else if(ct&&O.mode&1){var wt=Z0(T);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),ex(wt,T,O,x,o),yp(Pa(B,O));break e}}x=B=Pa(B,O),Dt!==4&&(Dt=2),uc===null?uc=[x]:uc.push(x),x=T;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var W=Y0(x,B,o);T0(x,W);break e;case 1:O=B;var $=x.type,K=x.stateNode;if((x.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(ei===null||!ei.has(K)))){x.flags|=65536,o&=-o,x.lanes|=o;var le=J0(x,O,o);T0(x,le);break e}}x=x.return}while(x!==null)}Rx(c)}catch(we){o=we,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function kx(){var i=_d.current;return _d.current=md,i===null?md:i}function om(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Vt===null||(lo&268435455)===0&&(bd&268435455)===0||ri(Vt,Kt)}function Id(i,o){var c=Ge;Ge|=2;var p=kx();(Vt!==i||Kt!==o)&&(cs=null,uo(i,o));do try{NA();break}catch(y){Ix(i,y)}while(!0);if(xp(),Ge=c,_d.current=p,At!==null)throw Error(t(261));return Vt=null,Kt=0,Dt}function NA(){for(;At!==null;)Px(At)}function jA(){for(;At!==null&&!Hi();)Px(At)}function Px(i){var o=Dx(i.alternate,i,Nn);i.memoizedProps=i.pendingProps,o===null?Rx(i):At=o,Jp.current=null}function Rx(i){var o=i;do{var c=o.alternate;if(i=o.return,(o.flags&32768)===0){if(c=SA(c,o,Nn),c!==null){At=c;return}}else{if(c=CA(c,o),c!==null){c.flags&=32767,At=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Dt=6,At=null;return}}if(o=o.sibling,o!==null){At=o;return}At=o=i}while(o!==null);Dt===0&&(Dt=5)}function ho(i,o,c){var p=He,y=Hn.transition;try{Hn.transition=null,He=1,DA(i,o,c,p)}finally{Hn.transition=y,He=p}return null}function DA(i,o,c,p){do Da();while(ti!==null);if((Ge&6)!==0)throw Error(t(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=c.lanes|c.childLanes;if(Wf(i,x),i===Vt&&(At=Vt=null,Kt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ed||(Ed=!0,Lx(qi,function(){return Da(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=Hn.transition,Hn.transition=null;var T=He;He=1;var O=Ge;Ge|=4,Jp.current=null,IA(i,c),_x(c,i),eA(op),Zr=!!ip,op=ip=null,i.current=c,kA(c),Qr(),Ge=O,He=T,Hn.transition=x}else i.current=c;if(Ed&&(Ed=!1,ti=i,Sd=y),x=i.pendingLanes,x===0&&(ei=null),Lu(c.stateNode),vn(i,ot()),o!==null)for(p=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Td)throw Td=!1,i=em,em=null,i;return(Sd&1)!==0&&i.tag!==0&&Da(),x=i.pendingLanes,(x&1)!==0?i===tm?dc++:(dc=0,tm=i):dc=0,Ys(),null}function Da(){if(ti!==null){var i=vr(Sd),o=Hn.transition,c=He;try{if(Hn.transition=null,He=16>i?16:i,ti===null)var p=!1;else{if(i=ti,ti=null,Sd=0,(Ge&6)!==0)throw Error(t(331));var y=Ge;for(Ge|=4,me=i.current;me!==null;){var x=me,T=x.child;if((me.flags&16)!==0){var O=x.deletions;if(O!==null){for(var B=0;B<O.length;B++){var Y=O[B];for(me=Y;me!==null;){var oe=me;switch(oe.tag){case 0:case 11:case 15:lc(8,oe,x)}var ae=oe.child;if(ae!==null)ae.return=oe,me=ae;else for(;me!==null;){oe=me;var ie=oe.sibling,fe=oe.return;if(gx(oe),oe===Y){me=null;break}if(ie!==null){ie.return=fe,me=ie;break}me=fe}}}var ve=x.alternate;if(ve!==null){var xe=ve.child;if(xe!==null){ve.child=null;do{var wt=xe.sibling;xe.sibling=null,xe=wt}while(xe!==null)}}me=x}}if((x.subtreeFlags&2064)!==0&&T!==null)T.return=x,me=T;else e:for(;me!==null;){if(x=me,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:lc(9,x,x.return)}var W=x.sibling;if(W!==null){W.return=x.return,me=W;break e}me=x.return}}var $=i.current;for(me=$;me!==null;){T=me;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,me=K;else e:for(T=$;me!==null;){if(O=me,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:wd(9,O)}}catch(we){mt(O,O.return,we)}if(O===T){me=null;break e}var le=O.sibling;if(le!==null){le.return=O.return,me=le;break e}me=O.return}}if(Ge=y,Ys(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Wi,i)}catch{}p=!0}return p}finally{He=c,Hn.transition=o}}return!1}function Nx(i,o,c){o=Pa(c,o),o=Y0(i,o,1),i=Xs(i,o,1),o=un(),i!==null&&(Yi(i,1,o),vn(i,o))}function mt(i,o,c){if(i.tag===3)Nx(i,i,c);else for(;o!==null;){if(o.tag===3){Nx(o,i,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ei===null||!ei.has(p))){i=Pa(c,i),i=J0(o,i,1),o=Xs(o,i,1),i=un(),o!==null&&(Yi(o,1,i),vn(o,i));break}}o=o.return}}function LA(i,o,c){var p=i.pingCache;p!==null&&p.delete(o),o=un(),i.pingedLanes|=i.suspendedLanes&c,Vt===i&&(Kt&c)===c&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>ot()-Zp?uo(i,0):Xp|=c),vn(i,o)}function jx(i,o){o===0&&((i.mode&1)===0?o=1:(o=Us,Us<<=1,(Us&130023424)===0&&(Us=4194304)));var c=un();i=os(i,o),i!==null&&(Yi(i,o,c),vn(i,c))}function OA(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),jx(i,c)}function MA(i,o){var c=0;switch(i.tag){case 13:var p=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),jx(i,c)}var Dx;Dx=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||pn.current)gn=!0;else{if((i.lanes&c)===0&&(o.flags&128)===0)return gn=!1,EA(i,o,c);gn=(i.flags&131072)!==0}else gn=!1,ct&&(o.flags&1048576)!==0&&f0(o,rd,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;vd(i,o),i=o.pendingProps;var y=ba(o,Xt.current);Ia(o,c),y=Pp(null,o,p,i,y,c);var x=Rp();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mn(p)?(x=!0,ed(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Tp(o),y.updater=gd,o.stateNode=y,y._reactInternals=o,Mp(o,p,i,c),o=Bp(null,o,p,!0,x,c)):(o.tag=0,ct&&x&&fp(o),cn(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(vd(i,o),i=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=FA(p),i=nr(p,i),y){case 0:o=Up(null,o,p,i,c);break e;case 1:o=ox(null,o,p,i,c);break e;case 11:o=tx(null,o,p,i,c);break e;case 14:o=nx(null,o,p,nr(p.type,i),c);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:nr(p,y),Up(i,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:nr(p,y),ox(i,o,p,y,c);case 3:e:{if(ax(o),i===null)throw Error(t(387));p=o.pendingProps,x=o.memoizedState,y=x.element,b0(i,o),cd(o,p,null,c);var T=o.memoizedState;if(p=T.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=Pa(Error(t(423)),o),o=lx(i,o,p,c,y);break e}else if(p!==y){y=Pa(Error(t(424)),o),o=lx(i,o,p,c,y);break e}else for(Rn=Gs(o.stateNode.containerInfo.firstChild),Pn=o,ct=!0,tr=null,c=w0(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Sa(),p===y){o=ls(i,o,c);break e}cn(i,o,p,c)}o=o.child}return o;case 5:return S0(o),i===null&&gp(o),p=o.type,y=o.pendingProps,x=i!==null?i.memoizedProps:null,T=y.children,ap(p,y)?T=null:x!==null&&ap(p,x)&&(o.flags|=32),ix(i,o),cn(i,o,T,c),o.child;case 6:return i===null&&gp(o),null;case 13:return cx(i,o,c);case 4:return Ep(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ca(o,null,p,c):cn(i,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:nr(p,y),tx(i,o,p,y,c);case 7:return cn(i,o,o.pendingProps,c),o.child;case 8:return cn(i,o,o.pendingProps.children,c),o.child;case 12:return cn(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,x=o.memoizedProps,T=y.value,tt(od,p._currentValue),p._currentValue=T,x!==null)if(er(x.value,T)){if(x.children===y.children&&!pn.current){o=ls(i,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var O=x.dependencies;if(O!==null){T=x.child;for(var B=O.firstContext;B!==null;){if(B.context===p){if(x.tag===1){B=as(-1,c&-c),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),Y.pending=B}}x.lanes|=c,B=x.alternate,B!==null&&(B.lanes|=c),_p(x.return,c,o),O.lanes|=c;break}B=B.next}}else if(x.tag===10)T=x.type===o.type?null:x.child;else if(x.tag===18){if(T=x.return,T===null)throw Error(t(341));T.lanes|=c,O=T.alternate,O!==null&&(O.lanes|=c),_p(T,c,o),T=x.sibling}else T=x.child;if(T!==null)T.return=x;else for(T=x;T!==null;){if(T===o){T=null;break}if(x=T.sibling,x!==null){x.return=T.return,T=x;break}T=T.return}x=T}cn(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,Ia(o,c),y=zn(y),p=p(y),o.flags|=1,cn(i,o,p,c),o.child;case 14:return p=o.type,y=nr(p,o.pendingProps),y=nr(p.type,y),nx(i,o,p,y,c);case 15:return rx(i,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:nr(p,y),vd(i,o),o.tag=1,mn(p)?(i=!0,ed(o)):i=!1,Ia(o,c),K0(o,p,y),Mp(o,p,y,c),Bp(null,o,p,!0,i,c);case 19:return dx(i,o,c);case 22:return sx(i,o,c)}throw Error(t(156,o.tag))};function Lx(i,o){return Il(i,o)}function VA(i,o,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(i,o,c,p){return new VA(i,o,c,p)}function am(i){return i=i.prototype,!(!i||!i.isReactComponent)}function FA(i){if(typeof i=="function")return am(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===q)return 14}return 2}function si(i,o){var c=i.alternate;return c===null?(c=qn(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function kd(i,o,c,p,y,x){var T=2;if(p=i,typeof i=="function")am(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case S:return fo(c.children,y,x,o);case I:T=8,y|=8;break;case j:return i=qn(12,c,o,y|2),i.elementType=j,i.lanes=x,i;case L:return i=qn(13,c,o,y),i.elementType=L,i.lanes=x,i;case ye:return i=qn(19,c,o,y),i.elementType=ye,i.lanes=x,i;case ge:return Pd(c,y,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:T=10;break e;case M:T=9;break e;case z:T=11;break e;case q:T=14;break e;case te:T=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=qn(T,c,o,y),o.elementType=i,o.type=p,o.lanes=x,o}function fo(i,o,c,p){return i=qn(7,i,p,o),i.lanes=c,i}function Pd(i,o,c,p){return i=qn(22,i,p,o),i.elementType=ge,i.lanes=c,i.stateNode={isHidden:!1},i}function lm(i,o,c){return i=qn(6,i,null,o),i.lanes=c,i}function cm(i,o,c){return o=qn(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function UA(i,o,c,p,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function um(i,o,c,p,y,x,T,O,B){return i=new UA(i,o,c,O,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=qn(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(x),i}function BA(i,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:p==null?null:""+p,children:i,containerInfo:o,implementation:c}}function Ox(i){if(!i)return Qs;i=i._reactInternals;e:{if(Xn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(mn(c))return u0(i,c,o)}return o}function Mx(i,o,c,p,y,x,T,O,B){return i=um(c,p,!0,i,y,x,T,O,B),i.context=Ox(null),c=i.current,p=un(),y=ni(c),x=as(p,y),x.callback=o??null,Xs(c,x,y),i.current.lanes=y,Yi(i,y,p),vn(i,p),i}function Rd(i,o,c,p){var y=o.current,x=un(),T=ni(y);return c=Ox(c),o.context===null?o.context=c:o.pendingContext=c,o=as(x,T),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Xs(y,o,T),i!==null&&(ir(i,y,T,x),ld(i,y,T)),T}function Nd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Vx(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function dm(i,o){Vx(i,o),(i=i.alternate)&&Vx(i,o)}function zA(){return null}var Fx=typeof reportError=="function"?reportError:function(i){console.error(i)};function hm(i){this._internalRoot=i}jd.prototype.render=hm.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Rd(i,o,null,null)},jd.prototype.unmount=hm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;co(function(){Rd(null,i,null,null)}),o[ns]=null}};function jd(i){this._internalRoot=i}jd.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ml();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Cn.length&&o!==0&&o<Cn[c].priority;c++);Cn.splice(c,0,i),c===0&&oa(i)}};function fm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ux(){}function $A(i,o,c,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var Y=Nd(T);x.call(Y)}}var T=Mx(o,p,i,0,null,!1,!1,"",Ux);return i._reactRootContainer=T,i[ns]=T.current,Ql(i.nodeType===8?i.parentNode:i),co(),T}for(;y=i.lastChild;)i.removeChild(y);if(typeof p=="function"){var O=p;p=function(){var Y=Nd(B);O.call(Y)}}var B=um(i,0,!1,null,null,!1,!1,"",Ux);return i._reactRootContainer=B,i[ns]=B.current,Ql(i.nodeType===8?i.parentNode:i),co(function(){Rd(o,B,c,p)}),B}function Ld(i,o,c,p,y){var x=c._reactRootContainer;if(x){var T=x;if(typeof y=="function"){var O=y;y=function(){var B=Nd(T);O.call(B)}}Rd(o,T,i,y)}else T=$A(c,o,i,y,p);return Nd(T)}Ll=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ye(o.pendingLanes);c!==0&&(Dl(o,c|1),vn(o,ot()),(Ge&6)===0&&(ja=ot()+500,Ys()))}break;case 13:co(function(){var p=os(i,1);if(p!==null){var y=un();ir(p,i,1,y)}}),dm(i,1)}},sa=function(i){if(i.tag===13){var o=os(i,134217728);if(o!==null){var c=un();ir(o,i,134217728,c)}dm(i,134217728)}},Ol=function(i){if(i.tag===13){var o=ni(i),c=os(i,o);if(c!==null){var p=un();ir(c,i,o,p)}dm(i,o)}},Ml=function(){return He},Vl=function(i,o){var c=He;try{return He=i,o()}finally{He=c}},Wr=function(i,o,c){switch(o){case"input":if(Ui(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==i&&p.form===i.form){var y=Xu(p);if(!y)throw Error(t(90));Go(p),Ui(p,y)}}}break;case"textarea":Tu(i,c);break;case"select":o=c.value,o!=null&&Yn(i,!!c.multiple,o,!1)}},Cu=sm,Au=co;var HA={usingClientEntryPoint:!1,Events:[Xl,wa,Xu,Os,Ms,sm]},hc={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qA={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Du(i),i===null?null:i.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||zA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{Wi=Od.inject(qA),En=Od}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HA,xn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(o))throw Error(t(200));return BA(i,o,null,c)},xn.createRoot=function(i,o){if(!fm(i))throw Error(t(299));var c=!1,p="",y=Fx;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=um(i,1,!1,null,null,c,!1,p,y),i[ns]=o.current,Ql(i.nodeType===8?i.parentNode:i),new hm(o)},xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Du(o),i=i===null?null:i.stateNode,i},xn.flushSync=function(i){return co(i)},xn.hydrate=function(i,o,c){if(!Dd(o))throw Error(t(200));return Ld(null,i,o,!0,c)},xn.hydrateRoot=function(i,o,c){if(!fm(i))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,x="",T=Fx;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=Mx(o,null,i,1,c??null,y,!1,x,T),i[ns]=o.current,Ql(i),p)for(i=0;i<p.length;i++)c=p[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new jd(o)},xn.render=function(i,o,c){if(!Dd(o))throw Error(t(200));return Ld(null,i,o,!1,c)},xn.unmountComponentAtNode=function(i){if(!Dd(i))throw Error(t(40));return i._reactRootContainer?(co(function(){Ld(null,null,i,!1,function(){i._reactRootContainer=null,i[ns]=null})}),!0):!1},xn.unstable_batchedUpdates=sm,xn.unstable_renderSubtreeIntoContainer=function(i,o,c,p){if(!Dd(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ld(i,o,c,!1,p)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var Kx;function vb(){if(Kx)return gm.exports;Kx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gm.exports=tI(),gm.exports}var Qx;function nI(){if(Qx)return Md;Qx=1;var n=vb();return Md.createRoot=n.createRoot,Md.hydrateRoot=n.hydrateRoot,Md}var rI=nI();vb();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vc.apply(this,arguments)}var yi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(yi||(yi={}));const Yx="popstate";function sI(n){n===void 0&&(n={});function e(r,s){let{pathname:a,search:l,hash:u}=r.location;return ag("",{pathname:a,search:l,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:vh(s)}return oI(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iI(){return Math.random().toString(36).substr(2,8)}function Jx(n,e){return{usr:n.state,key:n.key,idx:e}}function ag(n,e,t,r){return t===void 0&&(t=null),Vc({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?ul(e):e,{state:t,key:e&&e.key||r||iI()})}function vh(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ul(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function oI(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,u=yi.Pop,f=null,m=g();m==null&&(m=0,l.replaceState(Vc({},l.state,{idx:m}),""));function g(){return(l.state||{idx:null}).idx}function v(){u=yi.Pop;let A=g(),F=A==null?null:A-m;m=A,f&&f({action:u,location:N.location,delta:F})}function _(A,F){u=yi.Push;let U=ag(N.location,A,F);m=g()+1;let k=Jx(U,m),H=N.createHref(U);try{l.pushState(k,"",H)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(H)}a&&f&&f({action:u,location:N.location,delta:1})}function E(A,F){u=yi.Replace;let U=ag(N.location,A,F);m=g();let k=Jx(U,m),H=N.createHref(U);l.replaceState(k,"",H),a&&f&&f({action:u,location:N.location,delta:0})}function C(A){let F=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof A=="string"?A:vh(A);return U=U.replace(/ $/,"%20"),Nt(F,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,F)}let N={get action(){return u},get location(){return n(s,l)},listen(A){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Yx,v),f=A,()=>{s.removeEventListener(Yx,v),f=null}},createHref(A){return e(s,A)},createURL:C,encodeLocation(A){let F=C(A);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:_,replace:E,go(A){return l.go(A)}};return N}var Xx;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Xx||(Xx={}));function aI(n,e,t){return t===void 0&&(t="/"),lI(n,e,t)}function lI(n,e,t,r){let s=typeof e=="string"?ul(e):e,a=oy(s.pathname||"/",t);if(a==null)return null;let l=wb(n);cI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let m=_I(a);u=vI(l[f],m)}return u}function wb(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let m=xi([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),wb(a.children,e,g,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:gI(m,a.index),routesMeta:g})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let f of _b(a.path))s(a,l,f)}),e}function _b(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=_b(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function cI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const uI=/^:[\w-]+$/,dI=3,hI=2,fI=1,pI=10,mI=-2,Zx=n=>n==="*";function gI(n,e){let t=n.split("/"),r=t.length;return t.some(Zx)&&(r+=mI),e&&(r+=hI),t.filter(s=>!Zx(s)).reduce((s,a)=>s+(uI.test(a)?dI:a===""?fI:pI),r)}function yI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function vI(n,e,t){let{routesMeta:r}=n,s={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],m=u===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=xI({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},g),_=f.route;if(!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:xi([a,v.pathname]),pathnameBase:SI(xi([a,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(a=xi([a,v.pathnameBase]))}return l}function xI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=wI(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,g,v)=>{let{paramName:_,isOptional:E}=g;if(_==="*"){let N=u[v]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const C=u[v];return E&&!C?m[_]=void 0:m[_]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:l,pattern:n}}function wI(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _I(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function oy(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function bI(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ul(n):n;return{pathname:t?t.startsWith("/")?t:TI(t,e):e,search:CI(r),hash:AI(s)}}function TI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function xm(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bb(n,e){let t=EI(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Tb(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=ul(n):(s=Vc({},n),Nt(!s.pathname||!s.pathname.includes("?"),xm("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),xm("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),xm("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),v-=1;s.pathname=_.join("/")}u=v>=0?e[v]:"/"}let f=bI(s,u),m=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||g)&&(f.pathname+="/"),f}const xi=n=>n.join("/").replace(/\/\/+/g,"/"),SI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,AI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function II(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Eb=["post","put","patch","delete"];new Set(Eb);const kI=["get",...Eb];new Set(kI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Fc.apply(this,arguments)}const ay=D.createContext(null),PI=D.createContext(null),Mo=D.createContext(null),Xh=D.createContext(null),Vo=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Sb=D.createContext(null);function RI(n,e){let{relative:t}=e===void 0?{}:e;Zc()||Nt(!1);let{basename:r,navigator:s}=D.useContext(Mo),{hash:a,pathname:l,search:u}=Ab(n,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:xi([r,l])),s.createHref({pathname:f,search:u,hash:a})}function Zc(){return D.useContext(Xh)!=null}function eu(){return Zc()||Nt(!1),D.useContext(Xh).location}function Cb(n){D.useContext(Mo).static||D.useLayoutEffect(n)}function NI(){let{isDataRoute:n}=D.useContext(Vo);return n?qI():jI()}function jI(){Zc()||Nt(!1);let n=D.useContext(ay),{basename:e,future:t,navigator:r}=D.useContext(Mo),{matches:s}=D.useContext(Vo),{pathname:a}=eu(),l=JSON.stringify(bb(s,t.v7_relativeSplatPath)),u=D.useRef(!1);return Cb(()=>{u.current=!0}),D.useCallback(function(m,g){if(g===void 0&&(g={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let v=Tb(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:xi([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,l,a,n])}function Ab(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=D.useContext(Mo),{matches:s}=D.useContext(Vo),{pathname:a}=eu(),l=JSON.stringify(bb(s,r.v7_relativeSplatPath));return D.useMemo(()=>Tb(n,JSON.parse(l),a,t==="path"),[n,l,a,t])}function DI(n,e){return LI(n,e)}function LI(n,e,t,r){Zc()||Nt(!1);let{navigator:s}=D.useContext(Mo),{matches:a}=D.useContext(Vo),l=a[a.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let m=eu(),g;if(e){var v;let A=typeof e=="string"?ul(e):e;f==="/"||(v=A.pathname)!=null&&v.startsWith(f)||Nt(!1),g=A}else g=m;let _=g.pathname||"/",E=_;if(f!=="/"){let A=f.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=aI(n,{pathname:E}),N=UI(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:xi([f,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:xi([f,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),a,t,r);return e&&N?D.createElement(Xh.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:yi.Pop}},N):N}function OI(){let n=HI(),e=II(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,null)}const MI=D.createElement(OI,null);class VI extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(Vo.Provider,{value:this.props.routeContext},D.createElement(Sb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FI(n){let{routeContext:e,match:t,children:r}=n,s=D.useContext(ay);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Vo.Provider,{value:e},r)}function UI(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var a;if(!t)return null;if(t.errors)n=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(s=t)==null?void 0:s.errors;if(u!=null){let g=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);g>=0||Nt(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(t&&r&&r.v7_partialHydration)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:_,errors:E}=t,C=v.route.loader&&_[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||C){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,v,_)=>{let E,C=!1,N=null,A=null;t&&(E=u&&v.route.id?u[v.route.id]:void 0,N=v.route.errorElement||MI,f&&(m<0&&_===0?(WI("route-fallback"),C=!0,A=null):m===_&&(C=!0,A=v.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,_+1)),U=()=>{let k;return E?k=N:C?k=A:v.route.Component?k=D.createElement(v.route.Component,null):v.route.element?k=v.route.element:k=g,D.createElement(FI,{match:v,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:k})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?D.createElement(VI,{location:t.location,revalidation:t.revalidation,component:N,error:E,children:U(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):U()},null)}var Ib=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(Ib||{}),kb=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(kb||{});function BI(n){let e=D.useContext(ay);return e||Nt(!1),e}function zI(n){let e=D.useContext(PI);return e||Nt(!1),e}function $I(n){let e=D.useContext(Vo);return e||Nt(!1),e}function Pb(n){let e=$I(),t=e.matches[e.matches.length-1];return t.route.id||Nt(!1),t.route.id}function HI(){var n;let e=D.useContext(Sb),t=zI(),r=Pb();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function qI(){let{router:n}=BI(Ib.UseNavigateStable),e=Pb(kb.UseNavigateStable),t=D.useRef(!1);return Cb(()=>{t.current=!0}),D.useCallback(function(s,a){a===void 0&&(a={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,Fc({fromRouteId:e},a)))},[n,e])}const ew={};function WI(n,e,t){ew[n]||(ew[n]=!0)}function GI(n,e){n?.v7_startTransition,n?.v7_relativeSplatPath}function mo(n){Nt(!1)}function KI(n){let{basename:e="/",children:t=null,location:r,navigationType:s=yi.Pop,navigator:a,static:l=!1,future:u}=n;Zc()&&Nt(!1);let f=e.replace(/^\/*/,"/"),m=D.useMemo(()=>({basename:f,navigator:a,static:l,future:Fc({v7_relativeSplatPath:!1},u)}),[f,u,a,l]);typeof r=="string"&&(r=ul(r));let{pathname:g="/",search:v="",hash:_="",state:E=null,key:C="default"}=r,N=D.useMemo(()=>{let A=oy(g,f);return A==null?null:{location:{pathname:A,search:v,hash:_,state:E,key:C},navigationType:s}},[f,g,v,_,E,C,s]);return N==null?null:D.createElement(Mo.Provider,{value:m},D.createElement(Xh.Provider,{children:t,value:N}))}function QI(n){let{children:e,location:t}=n;return DI(lg(e),t)}new Promise(()=>{});function lg(n,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let a=[...e,s];if(r.type===D.Fragment){t.push.apply(t,lg(r.props.children,a));return}r.type!==mo&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=lg(r.props.children,a)),t.push(l)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cg(){return cg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cg.apply(this,arguments)}function YI(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function JI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function XI(n,e){return n.button===0&&(!e||e==="_self")&&!JI(n)}const ZI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ek="6";try{window.__reactRouterVersion=ek}catch{}const tk="startTransition",tw=XA[tk];function nk(n){let{basename:e,children:t,future:r,window:s}=n,a=D.useRef();a.current==null&&(a.current=sI({window:s,v5Compat:!0}));let l=a.current,[u,f]=D.useState({action:l.action,location:l.location}),{v7_startTransition:m}=r||{},g=D.useCallback(v=>{m&&tw?tw(()=>f(v)):f(v)},[f,m]);return D.useLayoutEffect(()=>l.listen(g),[l,g]),D.useEffect(()=>GI(r),[r]),D.createElement(KI,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const rk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,di=D.forwardRef(function(e,t){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:u,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,_=YI(e,ZI),{basename:E}=D.useContext(Mo),C,N=!1;if(typeof m=="string"&&sk.test(m)&&(C=m,rk))try{let k=new URL(window.location.href),H=m.startsWith("//")?new URL(k.protocol+m):new URL(m),J=oy(H.pathname,E);H.origin===k.origin&&J!=null?m=J+H.search+H.hash:N=!0}catch{}let A=RI(m,{relative:s}),F=ik(m,{replace:l,state:u,target:f,preventScrollReset:g,relative:s,viewTransition:v});function U(k){r&&r(k),k.defaultPrevented||F(k)}return D.createElement("a",cg({},_,{href:C||A,onClick:N||a?r:U,ref:t,target:f}))});var nw;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nw||(nw={}));var rw;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rw||(rw={}));function ik(n,e){let{target:t,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:u}=e===void 0?{}:e,f=NI(),m=eu(),g=Ab(n,{relative:l});return D.useCallback(v=>{if(XI(v,t)){v.preventDefault();let _=r!==void 0?r:vh(m)===vh(g);f(n,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[m,f,g,r,s,t,n,a,l,u])}let ok={data:""},ak=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||ok,lk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ck=/\/\*[^]*?\*\/|  +/g,sw=/\n+/g,hi=(n,e)=>{let t="",r="",s="";for(let a in n){let l=n[a];a[0]=="@"?a[1]=="i"?t=a+" "+l+";":r+=a[1]=="f"?hi(l,a):a+"{"+hi(l,a[1]=="k"?"":e)+"}":typeof l=="object"?r+=hi(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=hi.p?hi.p(a,l):a+":"+l+";")}return t+(e&&s?e+"{"+s+"}":s)+r},us={},Rb=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+Rb(n[t]);return e}return n},uk=(n,e,t,r,s)=>{let a=Rb(n),l=us[a]||(us[a]=(f=>{let m=0,g=11;for(;m<f.length;)g=101*g+f.charCodeAt(m++)>>>0;return"go"+g})(a));if(!us[l]){let f=a!==n?n:(m=>{let g,v,_=[{}];for(;g=lk.exec(m.replace(ck,""));)g[4]?_.shift():g[3]?(v=g[3].replace(sw," ").trim(),_.unshift(_[0][v]=_[0][v]||{})):_[0][g[1]]=g[2].replace(sw," ").trim();return _[0]})(n);us[l]=hi(s?{["@keyframes "+l]:f}:f,t?"":"."+l)}let u=t&&us.g?us.g:null;return t&&(us.g=us[l]),((f,m,g,v)=>{v?m.data=m.data.replace(v,f):m.data.indexOf(f)===-1&&(m.data=g?f+m.data:m.data+f)})(us[l],e,r,u),l},dk=(n,e,t)=>n.reduce((r,s,a)=>{let l=e[a];if(l&&l.call){let u=l(t),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=f?"."+f:u&&typeof u=="object"?u.props?"":hi(u,""):u===!1?"":u}return r+s+(l??"")},"");function Zh(n){let e=this||{},t=n.call?n(e.p):n;return uk(t.unshift?t.raw?dk(t,[].slice.call(arguments,1),e.p):t.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):t,ak(e.target),e.g,e.o,e.k)}let Nb,ug,dg;Zh.bind({g:1});let bs=Zh.bind({k:1});function hk(n,e,t,r){hi.p=e,Nb=n,ug=t,dg=r}function Mi(n,e){let t=this||{};return function(){let r=arguments;function s(a,l){let u=Object.assign({},a),f=u.className||s.className;t.p=Object.assign({theme:ug&&ug()},u),t.o=/ *go\d+/.test(f),u.className=Zh.apply(t,r)+(f?" "+f:"");let m=n;return n[0]&&(m=u.as||n,delete u.as),dg&&m[0]&&dg(u),Nb(m,u)}return s}}var fk=n=>typeof n=="function",xh=(n,e)=>fk(n)?n(e):n,pk=(()=>{let n=0;return()=>(++n).toString()})(),jb=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),mk=20,ly="default",Db=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:r}=e;return Db(n,{type:n.toasts.find(l=>l.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},nh=[],Lb={toasts:[],pausedAt:void 0,settings:{toastLimit:mk}},Dr={},Ob=(n,e=ly)=>{Dr[e]=Db(Dr[e]||Lb,n),nh.forEach(([t,r])=>{t===e&&r(Dr[e])})},Mb=n=>Object.keys(Dr).forEach(e=>Ob(n,e)),gk=n=>Object.keys(Dr).find(e=>Dr[e].toasts.some(t=>t.id===n)),ef=(n=ly)=>e=>{Ob(e,n)},yk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vk=(n={},e=ly)=>{let[t,r]=D.useState(Dr[e]||Lb),s=D.useRef(Dr[e]);D.useEffect(()=>(s.current!==Dr[e]&&r(Dr[e]),nh.push([e,r]),()=>{let l=nh.findIndex(([u])=>u===e);l>-1&&nh.splice(l,1)}),[e]);let a=t.toasts.map(l=>{var u,f,m;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((u=n[l.type])==null?void 0:u.removeDelay)||n?.removeDelay,duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||n?.duration||yk[l.type],style:{...n.style,...(m=n[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},xk=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||pk()}),tu=n=>(e,t)=>{let r=xk(e,n,t);return ef(r.toasterId||gk(r.id))({type:2,toast:r}),r.id},Lt=(n,e)=>tu("blank")(n,e);Lt.error=tu("error");Lt.success=tu("success");Lt.loading=tu("loading");Lt.custom=tu("custom");Lt.dismiss=(n,e)=>{let t={type:3,toastId:n};e?ef(e)(t):Mb(t)};Lt.dismissAll=n=>Lt.dismiss(void 0,n);Lt.remove=(n,e)=>{let t={type:4,toastId:n};e?ef(e)(t):Mb(t)};Lt.removeAll=n=>Lt.remove(void 0,n);Lt.promise=(n,e,t)=>{let r=Lt.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(s=>{let a=e.success?xh(e.success,s):void 0;return a?Lt.success(a,{id:r,...t,...t?.success}):Lt.dismiss(r),s}).catch(s=>{let a=e.error?xh(e.error,s):void 0;a?Lt.error(a,{id:r,...t,...t?.error}):Lt.dismiss(r)}),n};var wk=1e3,_k=(n,e="default")=>{let{toasts:t,pausedAt:r}=vk(n,e),s=D.useRef(new Map).current,a=D.useCallback((v,_=wk)=>{if(s.has(v))return;let E=setTimeout(()=>{s.delete(v),l({type:4,toastId:v})},_);s.set(v,E)},[]);D.useEffect(()=>{if(r)return;let v=Date.now(),_=t.map(E=>{if(E.duration===1/0)return;let C=(E.duration||0)+E.pauseDuration-(v-E.createdAt);if(C<0){E.visible&&Lt.dismiss(E.id);return}return setTimeout(()=>Lt.dismiss(E.id,e),C)});return()=>{_.forEach(E=>E&&clearTimeout(E))}},[t,r,e]);let l=D.useCallback(ef(e),[e]),u=D.useCallback(()=>{l({type:5,time:Date.now()})},[l]),f=D.useCallback((v,_)=>{l({type:1,toast:{id:v,height:_}})},[l]),m=D.useCallback(()=>{r&&l({type:6,time:Date.now()})},[r,l]),g=D.useCallback((v,_)=>{let{reverseOrder:E=!1,gutter:C=8,defaultPosition:N}=_||{},A=t.filter(k=>(k.position||N)===(v.position||N)&&k.height),F=A.findIndex(k=>k.id===v.id),U=A.filter((k,H)=>H<F&&k.visible).length;return A.filter(k=>k.visible).slice(...E?[U+1]:[0,U]).reduce((k,H)=>k+(H.height||0)+C,0)},[t]);return D.useEffect(()=>{t.forEach(v=>{if(v.dismissed)a(v.id,v.removeDelay);else{let _=s.get(v.id);_&&(clearTimeout(_),s.delete(v.id))}})},[t,a]),{toasts:t,handlers:{updateHeight:f,startPause:u,endPause:m,calculateOffset:g}}},bk=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Tk=bs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ek=bs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sk=Mi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Tk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ek} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Ck=bs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ak=Mi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${Ck} 1s linear infinite;
`,Ik=bs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kk=bs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Pk=Mi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ik} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Rk=Mi("div")`
  position: absolute;
`,Nk=Mi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,jk=bs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dk=Mi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${jk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Lk=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?D.createElement(Dk,null,e):e:t==="blank"?null:D.createElement(Nk,null,D.createElement(Ak,{...r}),t!=="loading"&&D.createElement(Rk,null,t==="error"?D.createElement(Sk,{...r}):D.createElement(Pk,{...r})))},Ok=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Mk=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,Vk="0%{opacity:0;} 100%{opacity:1;}",Fk="0%{opacity:1;} 100%{opacity:0;}",Uk=Mi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Bk=Mi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zk=(n,e)=>{let t=n.includes("top")?1:-1,[r,s]=jb()?[Vk,Fk]:[Ok(t),Mk(t)];return{animation:e?`${bs(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bs(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$k=D.memo(({toast:n,position:e,style:t,children:r})=>{let s=n.height?zk(n.position||e||"top-center",n.visible):{opacity:0},a=D.createElement(Lk,{toast:n}),l=D.createElement(Bk,{...n.ariaProps},xh(n.message,n));return D.createElement(Uk,{className:n.className,style:{...s,...t,...n.style}},typeof r=="function"?r({icon:a,message:l}):D.createElement(D.Fragment,null,a,l))});hk(D.createElement);var Hk=({id:n,className:e,style:t,onHeightUpdate:r,children:s})=>{let a=D.useCallback(l=>{if(l){let u=()=>{let f=l.getBoundingClientRect().height;r(n,f)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return D.createElement("div",{ref:a,className:e,style:t},s)},qk=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},s=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...s}},Wk=Zh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vd=16,Gk=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:s,toasterId:a,containerStyle:l,containerClassName:u})=>{let{toasts:f,handlers:m}=_k(t,a);return D.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Vd,left:Vd,right:Vd,bottom:Vd,pointerEvents:"none",...l},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(g=>{let v=g.position||e,_=m.calculateOffset(g,{reverseOrder:n,gutter:r,defaultPosition:e}),E=qk(v,_);return D.createElement(Hk,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?Wk:"",style:E},g.type==="custom"?xh(g.message,g):s?s(g):D.createElement($k,{toast:g,position:v}))}))},Re=Lt;const Vb=D.createContext();function cy(){return D.useContext(Vb)}function Kk({children:n}){const[e,t]=D.useState("light");D.useEffect(()=>{const s=localStorage.getItem("theme")||"light";t(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const r=()=>{const s=e==="light"?"dark":"light";t(s),localStorage.setItem("theme",s),document.documentElement.classList.toggle("dark",s==="dark")};return h.jsx(Vb.Provider,{value:{theme:e,toggleTheme:r},children:n})}const Qk=()=>{};var iw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},Yk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],u=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,u=l?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,g=a>>2,v=(a&3)<<4|u>>4;let _=(u&15)<<2|m>>6,E=m&63;f||(E=64,l||(_=64)),r.push(t[g],t[v],t[_],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Fb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Yk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||u==null||m==null||v==null)throw new Jk;const _=a<<2|u>>4;if(r.push(_),m!==64){const E=u<<4&240|m>>2;if(r.push(E),v!==64){const C=m<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Jk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xk=function(n){const e=Fb(n);return Ub.encodeByteArray(e,!0)},wh=function(n){return Xk(n).replace(/\./g,"")},Bb=function(n){try{return Ub.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=()=>Zk().__FIREBASE_DEFAULTS__,tP=()=>{if(typeof process>"u"||typeof iw>"u")return;const n=iw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Bb(n[1]);return e&&JSON.parse(e)},tf=()=>{try{return Qk()||eP()||tP()||nP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},zb=n=>tf()?.emulatorHosts?.[n],$b=n=>{const e=zb(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Hb=()=>tf()?.config,qb=n=>tf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wh(JSON.stringify(t)),wh(JSON.stringify(l)),""].join(".")}const Ec={};function sP(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?n.emulator.push(e):n.prod.push(e);return n}function iP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let ow=!1;function dy(n,e){if(typeof window>"u"||typeof document>"u"||!Vi(window.location.host)||Ec[n]===e||Ec[n]||ow)return;Ec[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=sP().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,E){_.setAttribute("width","24"),_.setAttribute("id",E),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{ow=!0,l()},_}function g(_,E){_.setAttribute("id",E),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function v(){const _=iP(r),E=t("text"),C=document.getElementById(E)||document.createElement("span"),N=t("learnmore"),A=document.getElementById(N)||document.createElement("a"),F=t("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const k=_.element;u(k),g(A,N);const H=m();f(U,F),k.append(U,C,A,H),document.body.appendChild(k)}a?(C.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function aP(){const n=tf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function uP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dP(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hP(){return!aP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fP(){try{return typeof indexedDB=="object"}catch{return!1}}function pP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mP,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?gP(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new qr(s,u,r)}}function gP(n,e){return n.replace(yP,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const yP=/\{\$([^}]+)}/g;function vP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ko(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(aw(a)&&aw(l)){if(!ko(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function aw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xP(n,e){const t=new wP(n,e);return t.subscribe.bind(t)}class wP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_P(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=wm),s.error===void 0&&(s.error=wm),s.complete===void 0&&(s.complete=wm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _P(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n){return n&&n._delegate?n._delegate:n}class Ii{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(EP(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TP(n){return n===go?void 0:n}function EP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const CP={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},AP=Ue.INFO,IP={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},kP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=IP[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hy{constructor(e){this.name=e,this._logLevel=AP,this._logHandler=kP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const PP=(n,e)=>e.some(t=>n instanceof t);let lw,cw;function RP(){return lw||(lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NP(){return cw||(cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gb=new WeakMap,hg=new WeakMap,Kb=new WeakMap,_m=new WeakMap,fy=new WeakMap;function jP(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(wi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Gb.set(t,n)}).catch(()=>{}),fy.set(e,n),e}function DP(n){if(hg.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});hg.set(n,e)}let fg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Kb.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LP(n){fg=n(fg)}function OP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bm(this),e,...t);return Kb.set(r,e.sort?e.sort():[e]),wi(r)}:NP().includes(n)?function(...e){return n.apply(bm(this),e),wi(Gb.get(this))}:function(...e){return wi(n.apply(bm(this),e))}}function MP(n){return typeof n=="function"?OP(n):(n instanceof IDBTransaction&&DP(n),PP(n,RP())?new Proxy(n,fg):n)}function wi(n){if(n instanceof IDBRequest)return jP(n);if(_m.has(n))return _m.get(n);const e=MP(n);return e!==n&&(_m.set(n,e),fy.set(e,n)),e}const bm=n=>fy.get(n);function VP(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),u=wi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(wi(l.result),f.oldVersion,f.newVersion,wi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const FP=["get","getKey","getAll","getAllKeys","count"],UP=["put","add","delete","clear"],Tm=new Map;function uw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=UP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FP.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),s&&f.done]))[0]};return Tm.set(e,a),a}LP(n=>({...n,get:(e,t,r)=>uw(e,t)||n.get(e,t,r),has:(e,t)=>!!uw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function zP(n){return n.getComponent()?.type==="VERSION"}const pg="@firebase/app",dw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new hy("@firebase/app"),$P="@firebase/app-compat",HP="@firebase/analytics-compat",qP="@firebase/analytics",WP="@firebase/app-check-compat",GP="@firebase/app-check",KP="@firebase/auth",QP="@firebase/auth-compat",YP="@firebase/database",JP="@firebase/data-connect",XP="@firebase/database-compat",ZP="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",rR="@firebase/messaging",sR="@firebase/messaging-compat",iR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",cR="@firebase/storage",uR="@firebase/storage-compat",dR="@firebase/firestore",hR="@firebase/ai",fR="@firebase/firestore-compat",pR="firebase",mR="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",gR={[pg]:"fire-core",[$P]:"fire-core-compat",[qP]:"fire-analytics",[HP]:"fire-analytics-compat",[GP]:"fire-app-check",[WP]:"fire-app-check-compat",[KP]:"fire-auth",[QP]:"fire-auth-compat",[YP]:"fire-rtdb",[JP]:"fire-data-connect",[XP]:"fire-rtdb-compat",[ZP]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[rR]:"fire-fcm",[sR]:"fire-fcm-compat",[iR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[cR]:"fire-gcs",[uR]:"fire-gcs-compat",[dR]:"fire-fst",[fR]:"fire-fst-compat",[hR]:"fire-vertex","fire-js":"fire-js",[pR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,yR=new Map,gg=new Map;function hw(n,e){try{n.container.addComponent(e)}catch(t){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Po(n){const e=n.name;if(gg.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,n);for(const t of _h.values())hw(t,n);for(const t of yR.values())hw(t,n);return!0}function nf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new nu("app","Firebase",vR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=mR;function py(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:mg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw _i.create("bad-app-name",{appName:String(s)});if(t||(t=Hb()),!t)throw _i.create("no-options");const a=_h.get(s);if(a){if(ko(t,a.options)&&ko(r,a.config))return a;throw _i.create("duplicate-app",{appName:s})}const l=new SP(s);for(const f of gg.values())l.addComponent(f);const u=new xR(t,r,l);return _h.set(s,u),u}function my(n=mg){const e=_h.get(n);if(!e&&n===mg&&Hb())return py();if(!e)throw _i.create("no-app",{appName:n});return e}function Mr(n,e,t){let r=gR[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(l.join(" "));return}Po(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebase-heartbeat-database",_R=1,Uc="firebase-heartbeat-store";let Em=null;function Qb(){return Em||(Em=VP(wR,_R,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw _i.create("idb-open",{originalErrorMessage:n.message})})),Em}async function bR(n){try{const t=(await Qb()).transaction(Uc),r=await t.objectStore(Uc).get(Yb(n));return await t.done,r}catch(e){if(e instanceof qr)Ts.warn(e.message);else{const t=_i.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(t.message)}}}async function fw(n,e){try{const r=(await Qb()).transaction(Uc,"readwrite");await r.objectStore(Uc).put(e,Yb(n)),await r.done}catch(t){if(t instanceof qr)Ts.warn(t.message);else{const r=_i.create("idb-set",{originalErrorMessage:t?.message});Ts.warn(r.message)}}}function Yb(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1024,ER=30;class SR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=pw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>ER){const s=IR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pw(),{heartbeatsToSend:t,unsentEntries:r}=CR(this._heartbeatsCache.heartbeats),s=wh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ts.warn(e),""}}}function pw(){return new Date().toISOString().substring(0,10)}function CR(n,e=TR){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),mw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),mw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fP()?pP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mw(n){return wh(JSON.stringify({version:2,heartbeats:n})).length}function IR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(n){Po(new Ii("platform-logger",e=>new BP(e),"PRIVATE")),Po(new Ii("heartbeat",e=>new SR(e),"PRIVATE")),Mr(pg,dw,n),Mr(pg,dw,"esm2020"),Mr("fire-js","")}kR("");var PR="firebase",RR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(PR,RR,"app");function Jb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NR=Jb,Xb=new nu("auth","Firebase",Jb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new hy("@firebase/auth");function jR(n,...e){bh.logLevel<=Ue.WARN&&bh.warn(`Auth (${Fo}): ${n}`,...e)}function rh(n,...e){bh.logLevel<=Ue.ERROR&&bh.error(`Auth (${Fo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(n,...e){throw yy(n,...e)}function lr(n,...e){return yy(n,...e)}function gy(n,e,t){const r={...NR(),[e]:t};return new nu("auth","Firebase",r).create(e,{appName:n.name})}function Eo(n){return gy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DR(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&$r(n,"argument-error"),gy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Xb.create(n,...e)}function Ne(n,e,...t){if(!n)throw yy(e,...t)}function fs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rh(e),new Error(e)}function Es(n,e){n||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){return typeof self<"u"&&self.location?.href||""}function LR(){return gw()==="http:"||gw()==="https:"}function gw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LR()||cP()||"connection"in navigator)?navigator.onLine:!0}function MR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.shortDelay=e,this.longDelay=t,Es(t>e,"Short delay should be less than long delay!"),this.isMobile=oP()||uP()}get(){return OR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e){Es(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new su(3e4,6e4);function xy(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function dl(n,e,t,r,s={}){return eT(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=ru({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return lP()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Vi(n.emulatorConfig.host)&&(m.credentials="include"),Zb.fetch()(await tT(n,n.config.apiHost,t,u),m)})}async function eT(n,e,t){n._canInitEmulator=!1;const r={...VR,...e};try{const s=new zR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Fd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Fd(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Fd(n,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw gy(n,g,m);$r(n,g)}}catch(s){if(s instanceof qr)throw s;$r(n,"network-request-failed",{message:String(s)})}}async function BR(n,e,t,r,s={}){const a=await dl(n,e,t,r,s);return"mfaPendingCredential"in a&&$r(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function tT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?vy(n.config,s):`${n.config.apiScheme}://${s}`;return FR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class zR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),UR.get())})}}function Fd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=lr(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(n,e){return dl(n,"POST","/v1/accounts:delete",e)}async function Th(n,e){return dl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HR(n,e=!1){const t=$t(n),r=await t.getIdToken(e),s=wy(r);Ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:Sc(Sm(s.auth_time)),issuedAtTime:Sc(Sm(s.iat)),expirationTime:Sc(Sm(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Sm(n){return Number(n)*1e3}function wy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const s=Bb(t);return s?JSON.parse(s):(rh("Failed to decode base64 JWT payload"),null)}catch(s){return rh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function yw(n){const e=wy(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&qR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function qR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(n){const e=n.auth,t=await n.getIdToken(),r=await Bc(n,Th(e,{idToken:t}));Ne(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?nT(s.providerUserInfo):[],l=KR(n.providerData,a),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!l?.length,m=u?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new vg(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function GR(n){const e=$t(n);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KR(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function nT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(n,e){const t=await eT(n,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await tT(n,s,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&Vi(n.emulatorConfig.host)&&(f.credentials="include"),Zb.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YR(n,e){return dl(n,"POST","/v2/accounts:revokeToken",xy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await QR(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Ga;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ne(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new WR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HR(this,e)}reload(){return GR(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Eo(this.auth));const e=await this.getIdToken();return await Bc(this,$R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:v,emailVerified:_,isAnonymous:E,providerData:C,stsTokenManager:N}=t;Ne(v&&N,e,"internal-error");const A=Ga.fromJSON(this.name,N);Ne(typeof v=="string",e,"internal-error"),oi(r,e.name),oi(s,e.name),Ne(typeof _=="boolean",e,"internal-error"),Ne(typeof E=="boolean",e,"internal-error"),oi(a,e.name),oi(l,e.name),oi(u,e.name),oi(f,e.name),oi(m,e.name),oi(g,e.name);const F=new or({uid:v,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:A,createdAt:m,lastLoginAt:g});return C&&Array.isArray(C)&&(F.providerData=C.map(U=>({...U}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ga;s.updateFromServerResponse(t);const a=new or({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Eh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?nT(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,u=new Ga;u.updateFromIdToken(r);const f=new or({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function ps(n){Es(n instanceof Function,"Expected a class definition");let e=vw.get(n);return e?(Es(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rT.type="NONE";const xw=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(n,e,t){return`firebase:${n}:${e}:${t}`}class Ka{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=sh(this.userKey,s.apiKey,a),this.fullPersistenceKey=sh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Th(this.auth,{idToken:e}).catch(()=>{});return t?or._fromGetAccountInfoResponse(this.auth,t,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ka(ps(xw),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||ps(xw);const l=sh(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const g=await m._get(l);if(g){let v;if(typeof g=="string"){const _=await Th(e,{idToken:g}).catch(()=>{});if(!_)break;v=await or._fromGetAccountInfoResponse(e,_,g)}else v=or._fromJSON(e,g);m!==a&&(u=v),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ka(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Ka(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(uT(e))return"Webos";if(iT(e))return"Safari";if((e.includes("chrome/")||oT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sT(n=ln()){return/firefox\//i.test(n)}function iT(n=ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oT(n=ln()){return/crios\//i.test(n)}function aT(n=ln()){return/iemobile/i.test(n)}function lT(n=ln()){return/android/i.test(n)}function cT(n=ln()){return/blackberry/i.test(n)}function uT(n=ln()){return/webos/i.test(n)}function _y(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JR(n=ln()){return _y(n)&&!!window.navigator?.standalone}function XR(){return dP()&&document.documentMode===10}function dT(n=ln()){return _y(n)||lT(n)||uT(n)||cT(n)||/windows phone/i.test(n)||aT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n,e=[]){let t;switch(n){case"Browser":t=ww(ln());break;case"Worker":t=`${ww(ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(n,e={}){return dl(n,"GET","/v2/passwordPolicy",xy(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=6;class nN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??tN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _w(this),this.idTokenSubscription=new _w(this),this.beforeStateQueue=new ZR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Th(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Eo(this));const t=e?$t(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eN(this),t=new nN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await YR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&jR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function rf(n){return $t(n)}class _w{constructor(e){this.auth=e,this.observer=null,this.addObserver=xP(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sN(n){by=n}function iN(n){return by.loadJS(n)}function oN(){return by.gapiScript}function aN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n,e){const t=nf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ko(a,e??{}))return s;$r(s,"already-initialized")}return t.initialize({options:e})}function cN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ps);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function uN(n,e,t){const r=rf(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=fT(e),{host:l,port:u}=dN(e),f=u===null?"":`:${u}`,m={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ko(m,r.config.emulator)&&ko(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Vi(l)?(uy(`${a}//${l}${f}`),dy("Auth",!0)):hN()}function fT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function dN(n){const e=fT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:bw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:bw(l)}}}function bw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(n,e){return BR(n,"POST","/v1/accounts:signInWithIdp",xy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="http://localhost";class Ro extends pT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new Ro(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Qa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qa(e,t)}buildRequest(){const e={requestUri:fN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Ty{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends iu{constructor(){super("facebook.com")}static credential(e){return Ro._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ro._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return hs.credential(t,r)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends iu{constructor(){super("github.com")}static credential(e){return Ro._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends iu{constructor(){super("twitter.com")}static credential(e,t){return Ro._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return mi.credential(t,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await or._fromIdTokenResponse(e,r,s),l=Tw(r);return new Za({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Tw(r);return new Za({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Tw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends qr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Sh(e,t,r,s)}}function mT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(n,a,e,r):a})}async function pN(n,e,t=!1){const r=await Bc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Za._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(Eo(r));const s="reauthenticate";try{const a=await Bc(n,mT(r,s,e,n),t);Ne(a.idToken,r,"internal-error");const l=wy(a.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),Za._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(n,e,t=!1){if(Kn(n.app))return Promise.reject(Eo(n));const r="signIn",s=await mT(n,r,e),a=await Za._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function yN(n,e,t,r){return $t(n).onIdTokenChanged(e,t,r)}function vN(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}function xN(n,e,t,r){return $t(n).onAuthStateChanged(e,t,r)}function wN(n){return $t(n).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e3,bN=10;class yT extends gT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);XR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bN):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const TN=yT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends gT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vT.type="SESSION";const xT=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async m=>m(t.origin,a)),f=await EN(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const m=Ey("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(v){const _=v;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(_.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function CN(n){Vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function AN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IN(){return navigator?.serviceWorker?.controller||null}function kN(){return wT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebaseLocalStorageDb",PN=1,Ah="firebaseLocalStorage",bT="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function of(n,e){return n.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function RN(){const n=indexedDB.deleteDatabase(_T);return new ou(n).toPromise()}function xg(){const n=indexedDB.open(_T,PN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ah,{keyPath:bT})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ah)?e(r):(r.close(),await RN(),e(await xg()))})})}async function Ew(n,e,t){const r=of(n,!0).put({[bT]:e,value:t});return new ou(r).toPromise()}async function NN(n,e){const t=of(n,!1).get(e),r=await new ou(t).toPromise();return r===void 0?null:r.value}function Sw(n,e){const t=of(n,!0).delete(e);return new ou(t).toPromise()}const jN=800,DN=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>DN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(kN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AN(),!this.activeServiceWorker)return;this.sender=new SN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xg();return await Ew(e,Ch,"1"),await Sw(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ew(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>NN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=of(s,!1).getAll();return new ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const LN=TT;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(n,e){return e?ps(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends pT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ON(n){return gN(n.auth,new Sy(n),n.bypassAuthState)}function MN(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),mN(t,new Sy(n),n.bypassAuthState)}async function VN(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),pN(t,new Sy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ON;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return MN;default:$r(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new su(2e3,1e4);async function UN(n,e,t){if(Kn(n.app))return Promise.reject(lr(n,"operation-not-supported-in-this-environment"));const r=rf(n);DR(n,e,Ty);const s=ET(r,t);return new wo(r,"signInViaPopup",e,s).executeNotNull()}class wo extends ST{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wo.currentPopupAction&&wo.currentPopupAction.cancel(),wo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FN.get())};e()}}wo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="pendingRedirect",ih=new Map;class zN extends ST{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const r=await $N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $N(n,e){const t=WN(e),r=qN(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function HN(n,e){ih.set(n._key(),e)}function qN(n){return ps(n._redirectPersistence)}function WN(n){return sh(BN,n.config.apiKey,n.name)}async function GN(n,e,t=!1){if(Kn(n.app))return Promise.reject(Eo(n));const r=rf(n),s=ET(r,e),l=await new zN(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=600*1e3;class QN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!CT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(lr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function CT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function YN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(n,e={}){return dl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;async function ej(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JN(n);for(const t of e)try{if(tj(t))return}catch{}$r(n,"unauthorized-domain")}function tj(n){const e=yg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!ZN.test(t))return!1;if(XN.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new su(3e4,6e4);function Aw(){const n=Vr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rj(n){return new Promise((e,t)=>{function r(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),t(lr(n,"network-request-failed"))},timeout:nj.get()})}if(Vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vr().gapi?.load)r();else{const s=aN("iframefcb");return Vr()[s]=()=>{gapi.load?r():t(lr(n,"network-request-failed"))},iN(`${oN()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw oh=null,e})}let oh=null;function sj(n){return oh=oh||rj(n),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new su(5e3,15e3),oj="__/auth/iframe",aj="emulator/auth/iframe",lj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uj(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vy(e,aj):`https://${n.config.authDomain}/${oj}`,r={apiKey:e.apiKey,appName:n.name,v:Fo},s=cj.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ru(r).slice(1)}`}async function dj(n){const e=await sj(n),t=Vr().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:uj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lj,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=lr(n,"network-request-failed"),u=Vr().setTimeout(()=>{a(l)},ij.get());function f(){Vr().clearTimeout(u),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fj=500,pj=600,mj="_blank",gj="http://localhost";class Iw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yj(n,e,t,r=fj,s=pj){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...hj,width:r.toString(),height:s.toString(),top:a,left:l},m=ln().toLowerCase();t&&(u=oT(m)?mj:t),sT(m)&&(e=e||gj,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[E,C])=>`${_}${E}=${C},`,"");if(JR(m)&&u!=="_self")return vj(e||"",u),new Iw(null);const v=window.open(e||"",u,g);Ne(v,n,"popup-blocked");try{v.focus()}catch{}return new Iw(v)}function vj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="__/auth/handler",wj="emulator/auth/handler",_j=encodeURIComponent("fac");async function kw(n,e,t,r,s,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fo,eventId:s};if(e instanceof Ty){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",vP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))l[g]=v}if(e instanceof iu){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await n._getAppCheckToken(),m=f?`#${_j}=${encodeURIComponent(f)}`:"";return`${bj(n)}?${ru(u).slice(1)}${m}`}function bj({config:n}){return n.emulator?vy(n,wj):`https://${n.authDomain}/${xj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class Tj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=GN,this._overrideRedirectResult=HN}async _openPopup(e,t,r,s){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await kw(e,t,r,yg(),s);return yj(e,a,Ey())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await kw(e,t,r,yg(),s);return CN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Es(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await dj(e),r=new QN(e);return t.register("authEvent",s=>(Ne(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cm,{type:Cm},s=>{const a=s?.[0]?.[Cm];a!==void 0&&t(!!a),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ej(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dT()||iT()||_y()}}const Ej=Tj;var Pw="@firebase/auth",Rw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Aj(n){Po(new Ii("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(n)},m=new rN(r,s,a,f);return cN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Po(new Ii("auth-internal",e=>{const t=rf(e.getProvider("auth").getImmediate());return(r=>new Sj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(Pw,Rw,Cj(n)),Mr(Pw,Rw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=300,kj=qb("authIdTokenMaxAge")||Ij;let Nw=null;const Pj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>kj)return;const s=t?.token;Nw!==s&&(Nw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Rj(n=my()){const e=nf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=lN(n,{popupRedirectResolver:Ej,persistence:[LN,TN,xT]}),r=qb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=Pj(a.toString());vN(t,l,()=>l(t.currentUser)),yN(t,u=>l(u))}}const s=zb("auth");return s&&uN(t,`http://${s}`),t}function Nj(){return document.getElementsByTagName("head")?.[0]??document}sN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=lr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Nj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Aj("Browser");var jw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,AT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function j(){}j.prototype=I.prototype,S.F=I.prototype,S.prototype=new j,S.prototype.constructor=S,S.D=function(P,M,z){for(var L=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)L[ye-2]=arguments[ye];return I.prototype[M].apply(P,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,j){j||(j=0);const P=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)P[M]=I.charCodeAt(j++)|I.charCodeAt(j++)<<8|I.charCodeAt(j++)<<16|I.charCodeAt(j++)<<24;else for(M=0;M<16;++M)P[M]=I[j++]|I[j++]<<8|I[j++]<<16|I[j++]<<24;I=S.g[0],j=S.g[1],M=S.g[2];let z=S.g[3],L;L=I+(z^j&(M^z))+P[0]+3614090360&4294967295,I=j+(L<<7&4294967295|L>>>25),L=z+(M^I&(j^M))+P[1]+3905402710&4294967295,z=I+(L<<12&4294967295|L>>>20),L=M+(j^z&(I^j))+P[2]+606105819&4294967295,M=z+(L<<17&4294967295|L>>>15),L=j+(I^M&(z^I))+P[3]+3250441966&4294967295,j=M+(L<<22&4294967295|L>>>10),L=I+(z^j&(M^z))+P[4]+4118548399&4294967295,I=j+(L<<7&4294967295|L>>>25),L=z+(M^I&(j^M))+P[5]+1200080426&4294967295,z=I+(L<<12&4294967295|L>>>20),L=M+(j^z&(I^j))+P[6]+2821735955&4294967295,M=z+(L<<17&4294967295|L>>>15),L=j+(I^M&(z^I))+P[7]+4249261313&4294967295,j=M+(L<<22&4294967295|L>>>10),L=I+(z^j&(M^z))+P[8]+1770035416&4294967295,I=j+(L<<7&4294967295|L>>>25),L=z+(M^I&(j^M))+P[9]+2336552879&4294967295,z=I+(L<<12&4294967295|L>>>20),L=M+(j^z&(I^j))+P[10]+4294925233&4294967295,M=z+(L<<17&4294967295|L>>>15),L=j+(I^M&(z^I))+P[11]+2304563134&4294967295,j=M+(L<<22&4294967295|L>>>10),L=I+(z^j&(M^z))+P[12]+1804603682&4294967295,I=j+(L<<7&4294967295|L>>>25),L=z+(M^I&(j^M))+P[13]+4254626195&4294967295,z=I+(L<<12&4294967295|L>>>20),L=M+(j^z&(I^j))+P[14]+2792965006&4294967295,M=z+(L<<17&4294967295|L>>>15),L=j+(I^M&(z^I))+P[15]+1236535329&4294967295,j=M+(L<<22&4294967295|L>>>10),L=I+(M^z&(j^M))+P[1]+4129170786&4294967295,I=j+(L<<5&4294967295|L>>>27),L=z+(j^M&(I^j))+P[6]+3225465664&4294967295,z=I+(L<<9&4294967295|L>>>23),L=M+(I^j&(z^I))+P[11]+643717713&4294967295,M=z+(L<<14&4294967295|L>>>18),L=j+(z^I&(M^z))+P[0]+3921069994&4294967295,j=M+(L<<20&4294967295|L>>>12),L=I+(M^z&(j^M))+P[5]+3593408605&4294967295,I=j+(L<<5&4294967295|L>>>27),L=z+(j^M&(I^j))+P[10]+38016083&4294967295,z=I+(L<<9&4294967295|L>>>23),L=M+(I^j&(z^I))+P[15]+3634488961&4294967295,M=z+(L<<14&4294967295|L>>>18),L=j+(z^I&(M^z))+P[4]+3889429448&4294967295,j=M+(L<<20&4294967295|L>>>12),L=I+(M^z&(j^M))+P[9]+568446438&4294967295,I=j+(L<<5&4294967295|L>>>27),L=z+(j^M&(I^j))+P[14]+3275163606&4294967295,z=I+(L<<9&4294967295|L>>>23),L=M+(I^j&(z^I))+P[3]+4107603335&4294967295,M=z+(L<<14&4294967295|L>>>18),L=j+(z^I&(M^z))+P[8]+1163531501&4294967295,j=M+(L<<20&4294967295|L>>>12),L=I+(M^z&(j^M))+P[13]+2850285829&4294967295,I=j+(L<<5&4294967295|L>>>27),L=z+(j^M&(I^j))+P[2]+4243563512&4294967295,z=I+(L<<9&4294967295|L>>>23),L=M+(I^j&(z^I))+P[7]+1735328473&4294967295,M=z+(L<<14&4294967295|L>>>18),L=j+(z^I&(M^z))+P[12]+2368359562&4294967295,j=M+(L<<20&4294967295|L>>>12),L=I+(j^M^z)+P[5]+4294588738&4294967295,I=j+(L<<4&4294967295|L>>>28),L=z+(I^j^M)+P[8]+2272392833&4294967295,z=I+(L<<11&4294967295|L>>>21),L=M+(z^I^j)+P[11]+1839030562&4294967295,M=z+(L<<16&4294967295|L>>>16),L=j+(M^z^I)+P[14]+4259657740&4294967295,j=M+(L<<23&4294967295|L>>>9),L=I+(j^M^z)+P[1]+2763975236&4294967295,I=j+(L<<4&4294967295|L>>>28),L=z+(I^j^M)+P[4]+1272893353&4294967295,z=I+(L<<11&4294967295|L>>>21),L=M+(z^I^j)+P[7]+4139469664&4294967295,M=z+(L<<16&4294967295|L>>>16),L=j+(M^z^I)+P[10]+3200236656&4294967295,j=M+(L<<23&4294967295|L>>>9),L=I+(j^M^z)+P[13]+681279174&4294967295,I=j+(L<<4&4294967295|L>>>28),L=z+(I^j^M)+P[0]+3936430074&4294967295,z=I+(L<<11&4294967295|L>>>21),L=M+(z^I^j)+P[3]+3572445317&4294967295,M=z+(L<<16&4294967295|L>>>16),L=j+(M^z^I)+P[6]+76029189&4294967295,j=M+(L<<23&4294967295|L>>>9),L=I+(j^M^z)+P[9]+3654602809&4294967295,I=j+(L<<4&4294967295|L>>>28),L=z+(I^j^M)+P[12]+3873151461&4294967295,z=I+(L<<11&4294967295|L>>>21),L=M+(z^I^j)+P[15]+530742520&4294967295,M=z+(L<<16&4294967295|L>>>16),L=j+(M^z^I)+P[2]+3299628645&4294967295,j=M+(L<<23&4294967295|L>>>9),L=I+(M^(j|~z))+P[0]+4096336452&4294967295,I=j+(L<<6&4294967295|L>>>26),L=z+(j^(I|~M))+P[7]+1126891415&4294967295,z=I+(L<<10&4294967295|L>>>22),L=M+(I^(z|~j))+P[14]+2878612391&4294967295,M=z+(L<<15&4294967295|L>>>17),L=j+(z^(M|~I))+P[5]+4237533241&4294967295,j=M+(L<<21&4294967295|L>>>11),L=I+(M^(j|~z))+P[12]+1700485571&4294967295,I=j+(L<<6&4294967295|L>>>26),L=z+(j^(I|~M))+P[3]+2399980690&4294967295,z=I+(L<<10&4294967295|L>>>22),L=M+(I^(z|~j))+P[10]+4293915773&4294967295,M=z+(L<<15&4294967295|L>>>17),L=j+(z^(M|~I))+P[1]+2240044497&4294967295,j=M+(L<<21&4294967295|L>>>11),L=I+(M^(j|~z))+P[8]+1873313359&4294967295,I=j+(L<<6&4294967295|L>>>26),L=z+(j^(I|~M))+P[15]+4264355552&4294967295,z=I+(L<<10&4294967295|L>>>22),L=M+(I^(z|~j))+P[6]+2734768916&4294967295,M=z+(L<<15&4294967295|L>>>17),L=j+(z^(M|~I))+P[13]+1309151649&4294967295,j=M+(L<<21&4294967295|L>>>11),L=I+(M^(j|~z))+P[4]+4149444226&4294967295,I=j+(L<<6&4294967295|L>>>26),L=z+(j^(I|~M))+P[11]+3174756917&4294967295,z=I+(L<<10&4294967295|L>>>22),L=M+(I^(z|~j))+P[2]+718787259&4294967295,M=z+(L<<15&4294967295|L>>>17),L=j+(z^(M|~I))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(M+(L<<21&4294967295|L>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+z&4294967295}r.prototype.v=function(S,I){I===void 0&&(I=S.length);const j=I-this.blockSize,P=this.C;let M=this.h,z=0;for(;z<I;){if(M==0)for(;z<=j;)s(this,S,z),z+=this.blockSize;if(typeof S=="string"){for(;z<I;)if(P[M++]=S.charCodeAt(z++),M==this.blockSize){s(this,P),M=0;break}}else for(;z<I;)if(P[M++]=S[z++],M==this.blockSize){s(this,P),M=0;break}}this.h=M,this.o+=I},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var j=S.length-8;j<S.length;++j)S[j]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,j=0;j<4;++j)for(let P=0;P<32;P+=8)S[I++]=this.g[j]>>>P&255;return S};function a(S,I){var j=u;return Object.prototype.hasOwnProperty.call(j,S)?j[S]:j[S]=I(S)}function l(S,I){this.h=I;const j=[];let P=!0;for(let M=S.length-1;M>=0;M--){const z=S[M]|0;P&&z==I||(j[M]=z,P=!1)}this.g=j}var u={};function f(S){return-128<=S&&S<128?a(S,function(I){return new l([I|0],I<0?-1:0)}):new l([S|0],S<0?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return v;if(S<0)return A(m(-S));const I=[];let j=1;for(let P=0;S>=j;P++)I[P]=S/j|0,j*=4294967296;return new l(I,0)}function g(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return A(g(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=m(Math.pow(I,8));let P=v;for(let z=0;z<S.length;z+=8){var M=Math.min(8,S.length-z);const L=parseInt(S.substring(z,z+M),I);M<8?(M=m(Math.pow(I,M)),P=P.j(M).add(m(L))):(P=P.j(j),P=P.add(m(L)))}return P}var v=f(0),_=f(1),E=f(16777216);n=l.prototype,n.m=function(){if(N(this))return-A(this).m();let S=0,I=1;for(let j=0;j<this.g.length;j++){const P=this.i(j);S+=(P>=0?P:4294967296+P)*I,I*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(N(this))return"-"+A(this).toString(S);const I=m(Math.pow(S,6));var j=this;let P="";for(;;){const M=H(j,I).g;j=F(j,M.j(I));let z=((j.g.length>0?j.g[0]:j.h)>>>0).toString(S);if(j=M,C(j))return z+P;for(;z.length<6;)z="0"+z;P=z+P}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function N(S){return S.h==-1}n.l=function(S){return S=F(this,S),N(S)?-1:C(S)?0:1};function A(S){const I=S.g.length,j=[];for(let P=0;P<I;P++)j[P]=~S.g[P];return new l(j,~S.h).add(_)}n.abs=function(){return N(this)?A(this):this},n.add=function(S){const I=Math.max(this.g.length,S.g.length),j=[];let P=0;for(let M=0;M<=I;M++){let z=P+(this.i(M)&65535)+(S.i(M)&65535),L=(z>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);P=L>>>16,z&=65535,L&=65535,j[M]=L<<16|z}return new l(j,j[j.length-1]&-2147483648?-1:0)};function F(S,I){return S.add(A(I))}n.j=function(S){if(C(this)||C(S))return v;if(N(this))return N(S)?A(this).j(A(S)):A(A(this).j(S));if(N(S))return A(this.j(A(S)));if(this.l(E)<0&&S.l(E)<0)return m(this.m()*S.m());const I=this.g.length+S.g.length,j=[];for(var P=0;P<2*I;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<S.g.length;M++){const z=this.i(P)>>>16,L=this.i(P)&65535,ye=S.i(M)>>>16,q=S.i(M)&65535;j[2*P+2*M]+=L*q,U(j,2*P+2*M),j[2*P+2*M+1]+=z*q,U(j,2*P+2*M+1),j[2*P+2*M+1]+=L*ye,U(j,2*P+2*M+1),j[2*P+2*M+2]+=z*ye,U(j,2*P+2*M+2)}for(S=0;S<I;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=I;S<2*I;S++)j[S]=0;return new l(j,0)};function U(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function k(S,I){this.g=S,this.h=I}function H(S,I){if(C(I))throw Error("division by zero");if(C(S))return new k(v,v);if(N(S))return I=H(A(S),I),new k(A(I.g),A(I.h));if(N(I))return I=H(S,A(I)),new k(A(I.g),I.h);if(S.g.length>30){if(N(S)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var j=_,P=I;P.l(S)<=0;)j=J(j),P=J(P);var M=Q(j,1),z=Q(P,1);for(P=Q(P,2),j=Q(j,2);!C(P);){var L=z.add(P);L.l(S)<=0&&(M=M.add(j),z=L),P=Q(P,1),j=Q(j,1)}return I=F(S,M.j(I)),new k(M,I)}for(M=v;S.l(I)>=0;){for(j=Math.max(1,Math.floor(S.m()/I.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),z=m(j),L=z.j(I);N(L)||L.l(S)>0;)j-=P,z=m(j),L=z.j(I);C(z)&&(z=_),M=M.add(z),S=F(S,L)}return new k(M,S)}n.B=function(S){return H(this,S).h},n.and=function(S){const I=Math.max(this.g.length,S.g.length),j=[];for(let P=0;P<I;P++)j[P]=this.i(P)&S.i(P);return new l(j,this.h&S.h)},n.or=function(S){const I=Math.max(this.g.length,S.g.length),j=[];for(let P=0;P<I;P++)j[P]=this.i(P)|S.i(P);return new l(j,this.h|S.h)},n.xor=function(S){const I=Math.max(this.g.length,S.g.length),j=[];for(let P=0;P<I;P++)j[P]=this.i(P)^S.i(P);return new l(j,this.h^S.h)};function J(S){const I=S.g.length+1,j=[];for(let P=0;P<I;P++)j[P]=S.i(P)<<1|S.i(P-1)>>>31;return new l(j,S.h)}function Q(S,I){const j=I>>5;I%=32;const P=S.g.length-j,M=[];for(let z=0;z<P;z++)M[z]=I>0?S.i(z+j)>>>I|S.i(z+j+1)<<32-I:S.i(z+j);return new l(M,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=g,bi=l}).apply(typeof jw<"u"?jw:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,xc,kT,ah,wg,PT,RT,NT;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var w=0;w<d.length;++w){var b=d[w];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function s(d,w){if(w)e:{var b=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var G=d[R];if(!(G in b))break e;b=b[G]}d=d[d.length-1],R=b[d],w=w(R),w!=R&&w!=null&&e(b,d,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(w){var b=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&b.push([R,w[R]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(d){var w=typeof d;return w=="object"&&d!=null||w=="function"}function f(d,w,b){return d.call.apply(d.bind,arguments)}function m(d,w,b){return m=f,m.apply(null,arguments)}function g(d,w){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function v(d,w){function b(){}b.prototype=w.prototype,d.Z=w.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(R,G,X){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return w.prototype[G].apply(R,ce)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function E(d){const w=d.length;if(w>0){const b=Array(w);for(let R=0;R<w;R++)b[R]=d[R];return b}return[]}function C(d,w){for(let R=1;R<arguments.length;R++){const G=arguments[R];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=d.length||0;const X=G.length||0;d.length=b+X;for(let ce=0;ce<X;ce++)d[b+ce]=G[ce]}else d.push(G)}}class N{constructor(w,b){this.i=w,this.j=b,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function A(d){l.setTimeout(()=>{throw d},0)}function F(){var d=S;let w=null;return d.g&&(w=d.g,d.g=d.g.next,d.g||(d.h=null),w.next=null),w}class U{constructor(){this.h=this.g=null}add(w,b){const R=k.get();R.set(w,b),this.h?this.h.next=R:this.g=R,this.h=R}}var k=new N(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(w,b){this.h=w,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let J,Q=!1,S=new U,I=()=>{const d=Promise.resolve(void 0);J=()=>{d.then(j)}};function j(){for(var d;d=F();){try{d.h.call(d.g)}catch(b){A(b)}var w=k;w.j(d),w.h<100&&(w.h++,d.next=w.g,w.g=d)}Q=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,w){this.type=d,this.g=this.target=w,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,w=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};l.addEventListener("test",b,w),l.removeEventListener("test",b,w)}catch{}return d})();function L(d){return/^[\s\xa0]*$/.test(d)}function ye(d,w){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,w)}v(ye,M),ye.prototype.init=function(d,w){const b=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=w,w=d.relatedTarget,w||(b=="mouseover"?w=d.fromElement:b=="mouseout"&&(w=d.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),te=0;function ge(d,w,b,R,G){this.listener=d,this.proxy=null,this.src=w,this.type=b,this.capture=!!R,this.ha=G,this.key=++te,this.da=this.fa=!1}function se(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function he(d,w,b){for(const R in d)w.call(b,d[R],R,d)}function ue(d,w){for(const b in d)w.call(void 0,d[b],b,d)}function V(d){const w={};for(const b in d)w[b]=d[b];return w}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Se(d,w){let b,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(b in R)d[b]=R[b];for(let X=0;X<ee.length;X++)b=ee[X],Object.prototype.hasOwnProperty.call(R,b)&&(d[b]=R[b])}}function Ee(d){this.src=d,this.g={},this.h=0}Ee.prototype.add=function(d,w,b,R,G){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const ce=Me(d,w,R,G);return ce>-1?(w=d[ce],b||(w.fa=!1)):(w=new ge(w,this.src,X,!!R,G),w.fa=b,d.push(w)),w};function Oe(d,w){const b=w.type;if(b in d.g){var R=d.g[b],G=Array.prototype.indexOf.call(R,w,void 0),X;(X=G>=0)&&Array.prototype.splice.call(R,G,1),X&&(se(w),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Me(d,w,b,R){for(let G=0;G<d.length;++G){const X=d[G];if(!X.da&&X.listener==w&&X.capture==!!b&&X.ha==R)return G}return-1}var We="closure_lm_"+(Math.random()*1e6|0),$e={};function Qe(d,w,b,R,G){if(Array.isArray(w)){for(let X=0;X<w.length;X++)Qe(d,w[X],b,R,G);return null}return b=wl(b),d&&d[q]?d.J(w,b,u(R)?!!R.capture:!1,G):Et(d,w,b,!1,R,G)}function Et(d,w,b,R,G,X){if(!w)throw Error("Invalid event type");const ce=u(G)?!!G.capture:!!G;let De=Qo(d);if(De||(d[We]=De=new Ee(d)),b=De.add(w,b,R,ce,X),b.proxy)return b;if(R=fn(),b.proxy=R,R.src=d,R.listener=b,d.addEventListener)z||(G=ce),G===void 0&&(G=!1),d.addEventListener(w.toString(),R,G);else if(d.attachEvent)d.attachEvent(Ko(w.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fn(){function d(b){return w.call(d.src,d.listener,b)}const w=bu;return d}function Go(d,w,b,R,G){if(Array.isArray(w))for(var X=0;X<w.length;X++)Go(d,w[X],b,R,G);else R=u(R)?!!R.capture:!!R,b=wl(b),d&&d[q]?(d=d.i,X=String(w).toString(),X in d.g&&(w=d.g[X],b=Me(w,b,R,G),b>-1&&(se(w[b]),Array.prototype.splice.call(w,b,1),w.length==0&&(delete d.g[X],d.h--)))):d&&(d=Qo(d))&&(w=d.g[w.toString()],d=-1,w&&(d=Me(w,b,R,G)),(b=d>-1?w[d]:null)&&Ps(b))}function Ps(d){if(typeof d!="number"&&d&&!d.da){var w=d.src;if(w&&w[q])Oe(w.i,d);else{var b=d.type,R=d.proxy;w.removeEventListener?w.removeEventListener(b,R,d.capture):w.detachEvent?w.detachEvent(Ko(b),R):w.addListener&&w.removeListener&&w.removeListener(R),(b=Qo(w))?(Oe(b,d),b.h==0&&(b.src=null,w[We]=null)):se(d)}}}function Ko(d){return d in $e?$e[d]:$e[d]="on"+d}function bu(d,w){if(d.da)d=!0;else{w=new ye(w,this);const b=d.listener,R=d.ha||d.src;d.fa&&Ps(d),d=b.call(R,w)}return d}function Qo(d){return d=d[We],d instanceof Ee?d:null}var Ui="__closure_events_fn_"+(Math.random()*1e9>>>0);function wl(d){return typeof d=="function"?d:(d[Ui]||(d[Ui]=function(w){return d.handleEvent(w)}),d[Ui])}function St(){P.call(this),this.i=new Ee(this),this.M=this,this.G=null}v(St,P),St.prototype[q]=!0,St.prototype.removeEventListener=function(d,w,b,R){Go(this,d,w,b,R)};function vt(d,w){var b,R=d.G;if(R)for(b=[];R;R=R.G)b.push(R);if(d=d.M,R=w.type||w,typeof w=="string")w=new M(w,d);else if(w instanceof M)w.target=w.target||d;else{var G=w;w=new M(R,d),Se(w,G)}G=!0;let X,ce;if(b)for(ce=b.length-1;ce>=0;ce--)X=w.g=b[ce],G=Yn(X,R,!0,w)&&G;if(X=w.g=d,G=Yn(X,R,!0,w)&&G,G=Yn(X,R,!1,w)&&G,b)for(ce=0;ce<b.length;ce++)X=w.g=b[ce],G=Yn(X,R,!1,w)&&G}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var d=this.i;for(const w in d.g){const b=d.g[w];for(let R=0;R<b.length;R++)se(b[R]);delete d.g[w],d.h--}}this.G=null},St.prototype.J=function(d,w,b,R){return this.i.add(String(d),w,!1,b,R)},St.prototype.K=function(d,w,b,R){return this.i.add(String(d),w,!0,b,R)};function Yn(d,w,b,R){if(w=d.i.g[String(w)],!w)return!0;w=w.concat();let G=!0;for(let X=0;X<w.length;++X){const ce=w[X];if(ce&&!ce.da&&ce.capture==b){const De=ce.listener,xt=ce.ha||ce.src;ce.fa&&Oe(d.i,ce),G=De.call(xt,R)!==!1&&G}}return G&&!R.defaultPrevented}function _l(d,w){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(d,w||0)}function bl(d){d.g=_l(()=>{d.g=null,d.i&&(d.i=!1,bl(d))},d.l);const w=d.h;d.h=null,d.m.apply(null,w)}class Tu extends P{constructor(w,b){super(),this.m=w,this.l=b,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:bl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(d){P.call(this),this.h=d,this.g={}}v(Rs,P);var Tl=[];function Yo(d){he(d.g,function(w,b){this.g.hasOwnProperty(b)&&Ps(w)},d),d.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),Yo(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=l.JSON.stringify,Eu=l.JSON.parse,Bi=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function js(){}function Su(){}var Ds={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jo(){M.call(this,"d")}v(Jo,M);function El(){M.call(this,"c")}v(El,M);var Jn={},Xo=null;function Ls(){return Xo=Xo||new St}Jn.Ia="serverreachability";function Zo(d){M.call(this,Jn.Ia,d)}v(Zo,M);function Wr(d){const w=Ls();vt(w,new Zo(w))}Jn.STAT_EVENT="statevent";function Gr(d,w){M.call(this,Jn.STAT_EVENT,d),this.stat=w}v(Gr,M);function pt(d){const w=Ls();vt(w,new Gr(w,d))}Jn.Ja="timingevent";function Sl(d,w){M.call(this,Jn.Ja,d),this.size=w}v(Sl,M);function Os(d,w){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},w)}function Ms(){this.g=!0}Ms.prototype.ua=function(){this.g=!1};function Cu(d,w,b,R,G,X){d.info(function(){if(d.g)if(X){var ce="",De=X.split("&");for(let Ze=0;Ze<De.length;Ze++){var xt=De[Ze].split("=");if(xt.length>1){const Ct=xt[0];xt=xt[1];const kn=Ct.split("_");ce=kn.length>=2&&kn[1]=="type"?ce+(Ct+"="+xt+"&"):ce+(Ct+"=redacted&")}}}else ce=null;else ce=X;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+w+`
`+b+`
`+ce})}function Au(d,w,b,R,G,X,ce){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+w+`
`+b+`
`+X+" "+ce})}function pr(d,w,b,R){d.info(function(){return"XMLHTTP TEXT ("+w+"): "+zi(d,b)+(R?" "+R:"")})}function Iu(d,w){d.info(function(){return"TIMEOUT: "+w})}Ms.prototype.info=function(){};function zi(d,w){if(!d.g)return w;if(!w)return null;try{const X=JSON.parse(w);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var b=X[d];if(!(b.length<2)){var R=b[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<R.length;ce++)R[ce]=""}}}}return Ns(X)}catch{return w}}var Vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ku;function Kr(){}v(Kr,js),Kr.prototype.g=function(){return new XMLHttpRequest},ku=new Kr;function mr(d){return encodeURIComponent(String(d))}function ea(d){var w=1;d=d.split(":");const b=[];for(;w>0&&d.length;)b.push(d.shift()),w--;return d.length&&b.push(d.join(":")),b}function Vn(d,w,b,R){this.j=d,this.i=w,this.l=b,this.S=R||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Ru={},Cl={};function Xn(d,w,b){d.M=1,d.A=Yr(Fn(w)),d.u=b,d.R=!0,Al(d,null)}function Al(d,w){d.F=Date.now(),$i(d),d.B=Fn(d.A);var b=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Ml(b.i,"t",R),d.C=0,b=d.j.L,d.h=new Pu,d.g=Bu(d.j,b?w:null,!d.u),d.P>0&&(d.O=new Tu(m(d.Y,d,d.g),d.P)),w=d.V,b=d.g,R=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(Tl[0]=G.toString()),G=Tl);for(let X=0;X<G.length;X++){const ce=Qe(b,G[X],R||w.handleEvent,!1,w.h||w);if(!ce)break;w.g[ce.key]=ce}w=d.J?V(d.J):{},d.u?(d.v||(d.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,w)):(d.v="GET",d.g.ea(d.B,d.v,null,w)),Wr(),Cu(d.i,d.v,d.B,d.l,d.S,d.u)}Vn.prototype.ba=function(d){d=d.target;const w=this.O;w&&br(d)==3?w.j():this.Y(d)},Vn.prototype.Y=function(d){try{if(d==this.g)e:{const De=br(this.g),xt=this.g.ya(),Ze=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Fu(this.g)))){this.K||De!=4||xt==7||(xt==8||Ze<=0?Wr(3):Wr(2)),ta(this);var w=this.g.ca();this.X=w;var b=Nu(this);if(this.o=w==200,Au(this.i,this.v,this.B,this.l,this.S,De,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(R)){var X=R;break t}}X=null}if(d=X)pr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,d);else{this.o=!1,this.m=3,pt(12),Qr(this),Hi(this);break e}}if(this.R){d=!0;let Ct;for(;!this.K&&this.C<b.length;)if(Ct=Du(this,b),Ct==Cl){De==4&&(this.m=4,pt(14),d=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Ru){this.m=4,pt(15),pr(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else pr(this.i,this.l,Ct,null),ot(this,Ct);if(ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,pt(16),d=!1),this.o=this.o&&d,!d)pr(this.i,this.l,b,"[Invalid Chunked Response]"),Qr(this),Hi(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zi(ce),ce.P=!0,pt(11))}}else pr(this.i,this.l,b,null),ot(this,b);De==4&&Qr(this),this.o&&!this.K&&(De==4?da(this.j,this):(this.o=!1,$i(this)))}else Fl(this.g),w==400&&b.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Qr(this),Hi(this)}}}catch{}finally{}};function Nu(d){if(!ju(d))return d.g.la();const w=Fu(d.g);if(w==="")return"";let b="";const R=w.length,G=br(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Qr(d),Hi(d),"";d.h.i=new l.TextDecoder}for(let X=0;X<R;X++)d.h.h=!0,b+=d.h.i.decode(w[X],{stream:!(G&&X==R-1)});return w.length=0,d.h.g+=b,d.C=0,d.h.g}function ju(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Du(d,w){var b=d.C,R=w.indexOf(`
`,b);return R==-1?Cl:(b=Number(w.substring(b,R)),isNaN(b)?Ru:(R+=1,R+b>w.length?Cl:(w=w.slice(R,R+b),d.C=R+b,w)))}Vn.prototype.cancel=function(){this.K=!0,Qr(this)};function $i(d){d.T=Date.now()+d.H,Il(d,d.H)}function Il(d,w){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Os(m(d.aa,d),w)}function ta(d){d.D&&(l.clearTimeout(d.D),d.D=null)}Vn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Iu(this.i,this.B),this.M!=2&&(Wr(),pt(17)),Qr(this),this.m=2,Hi(this)):Il(this,this.T-d)};function Hi(d){d.j.I==0||d.K||da(d.j,d)}function Qr(d){ta(d);var w=d.O;w&&typeof w.dispose=="function"&&w.dispose(),d.O=null,Yo(d.V),d.g&&(w=d.g,d.g=null,w.abort(),w.dispose())}function ot(d,w){try{var b=d.j;if(b.I!=0&&(b.g==d||Pl(b.h,d))){if(!d.L&&Pl(b.h,d)&&b.I==3){try{var R=b.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)ua(b),An(b);else break e;Sr(b),pt(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Os(m(b.Va,b),6e3));qi(b.h)<=1&&b.ta&&(b.ta=void 0)}else In(b,11)}else if((d.L||b.g==d)&&ua(b),!L(w))for(G=b.Ba.g.parse(w),w=0;w<G.length;w++){let Ze=G[w];const Ct=Ze[0];if(!(Ct<=b.K))if(b.K=Ct,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const kn=Ze[3];kn!=null&&(b.ka=kn,b.j.info("VER="+b.ka));const ts=Ze[4];ts!=null&&(b.za=ts,b.j.info("SVER="+b.za));const Cr=Ze[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(R=1.5*Cr,b.O=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Ar=d.g;if(Ar){const pa=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var X=R.h;X.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ra(X,X.h),X.h=null))}if(R.G){const zl=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(R.wa=zl,Ye(R.J,R.G,zl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),R=b;var ce=d;if(R.na=Bl(R,R.L?R.ba:null,R.W),ce.L){Wi(R.h,ce);var De=ce,xt=R.O;xt&&(De.H=xt),De.D&&(ta(De),$i(De)),R.g=ce}else Jt(R);b.i.length>0&&es(b)}else Ze[0]!="stop"&&Ze[0]!="close"||In(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?In(b,7):la(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}Wr(4)}catch{}}var qf=class{constructor(d,w){this.g=d,this.map=w}};function na(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function qi(d){return d.h?1:d.g?d.g.size:0}function Pl(d,w){return d.h?d.h==w:d.g?d.g.has(w):!1}function ra(d,w){d.g?d.g.add(w):d.h=w}function Wi(d,w){d.h&&d.h==w?d.h=null:d.g&&d.g.has(w)&&d.g.delete(w)}na.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function En(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let w=d.i;for(const b of d.g.values())w=w.concat(b.G);return w}return E(d.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sn(d,w){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const R=d[b].indexOf("=");let G,X=null;R>=0?(G=d[b].substring(0,R),X=d[b].substring(R+1)):G=d[b],w(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function gr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;d instanceof gr?(this.l=d.l,Gi(this,d.j),this.o=d.o,this.g=d.g,yr(this,d.u),this.h=d.h,Us(this,Vl(d.i)),this.m=d.m):d&&(w=String(d).match(Lu))?(this.l=!1,Gi(this,w[1]||"",!0),this.o=Ki(w[2]||""),this.g=Ki(w[3]||"",!0),yr(this,w[4]),this.h=Ki(w[5]||"",!0),Us(this,w[6]||"",!0),this.m=Ki(w[7]||"")):(this.l=!1,this.i=new He(null,this.l))}gr.prototype.toString=function(){const d=[];var w=this.j;w&&d.push(Qi(w,Nl,!0),":");var b=this.g;return(b||w=="file")&&(d.push("//"),(w=this.o)&&d.push(Qi(w,Nl,!0),"@"),d.push(mr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Qi(b,b.charAt(0)=="/"?Yi:jl,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Qi(b,Dl)),d.join("")},gr.prototype.resolve=function(d){const w=Fn(this);let b=!!d.j;b?Gi(w,d.j):b=!!d.o,b?w.o=d.o:b=!!d.g,b?w.g=d.g:b=d.u!=null;var R=d.h;if(b)yr(w,d.u);else if(b=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=w.h.lastIndexOf("/");G!=-1&&(R=w.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ce=0;ce<G.length;){const De=G[ce++];De=="."?R&&ce==G.length&&X.push(""):De==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),R&&ce==G.length&&X.push("")):(X.push(De),R=!0)}R=X.join("/")}else R=G}return b?w.h=R:b=d.i.toString()!=="",b?Us(w,Vl(d.i)):b=!!d.m,b&&(w.m=d.m),w};function Fn(d){return new gr(d)}function Gi(d,w,b){d.j=b?Ki(w,!0):w,d.j&&(d.j=d.j.replace(/:$/,""))}function yr(d,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);d.u=w}else d.u=null}function Us(d,w,b){w instanceof He?(d.i=w,ia(d.i,d.l)):(b||(w=Qi(w,Wf)),d.i=new He(w,d.l))}function Ye(d,w,b){d.i.set(w,b)}function Yr(d){return Ye(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ki(d,w){return d?w?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Qi(d,w,b){return typeof d=="string"?(d=encodeURI(d).replace(w,Rl),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Nl=/[#\/\?@]/g,jl=/[#\?:]/g,Yi=/[#\?]/g,Wf=/[#\?@]/g,Dl=/#/g;function He(d,w){this.h=this.g=null,this.i=d||null,this.j=!!w}function vr(d){d.g||(d.g=new Map,d.h=0,d.i&&Sn(d.i,function(w,b){d.add(decodeURIComponent(w.replace(/\+/g," ")),b)}))}n=He.prototype,n.add=function(d,w){vr(this),this.i=null,d=xr(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(w),this.h+=1,this};function Ll(d,w){vr(d),w=xr(d,w),d.g.has(w)&&(d.i=null,d.h-=d.g.get(w).length,d.g.delete(w))}function sa(d,w){return vr(d),w=xr(d,w),d.g.has(w)}n.forEach=function(d,w){vr(this),this.g.forEach(function(b,R){b.forEach(function(G){d.call(w,G,R,this)},this)},this)};function Ol(d,w){vr(d);let b=[];if(typeof w=="string")sa(d,w)&&(b=b.concat(d.g.get(xr(d,w))));else for(d=Array.from(d.g.values()),w=0;w<d.length;w++)b=b.concat(d[w]);return b}n.set=function(d,w){return vr(this),this.i=null,d=xr(this,d),sa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[w]),this.h+=1,this},n.get=function(d,w){return d?(d=Ol(this,d),d.length>0?String(d[0]):w):w};function Ml(d,w,b){Ll(d,w),b.length>0&&(d.i=null,d.g.set(xr(d,w),E(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var b=w[R];const G=mr(b);b=Ol(this,b);for(let X=0;X<b.length;X++){let ce=G;b[X]!==""&&(ce+="="+mr(b[X])),d.push(ce)}}return this.i=d.join("&")};function Vl(d){const w=new He;return w.i=d.i,d.g&&(w.g=new Map(d.g),w.h=d.h),w}function xr(d,w){return w=String(w),d.j&&(w=w.toLowerCase()),w}function ia(d,w){w&&!d.j&&(vr(d),d.i=null,d.g.forEach(function(b,R){const G=R.toLowerCase();R!=G&&(Ll(this,R),Ml(this,G,b))},d)),d.j=w}function wr(d,w){const b=new Ms;if(l.Image){const R=new Image;R.onload=g(qt,b,"TestLoadImage: loaded",!0,w,R),R.onerror=g(qt,b,"TestLoadImage: error",!1,w,R),R.onabort=g(qt,b,"TestLoadImage: abort",!1,w,R),R.ontimeout=g(qt,b,"TestLoadImage: timeout",!1,w,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else w(!1)}function _r(d,w){const b=new Ms,R=new AbortController,G=setTimeout(()=>{R.abort(),qt(b,"TestPingServer: timeout",!1,w)},1e4);fetch(d,{signal:R.signal}).then(X=>{clearTimeout(G),X.ok?qt(b,"TestPingServer: ok",!0,w):qt(b,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(G),qt(b,"TestPingServer: error",!1,w)})}function qt(d,w,b,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(b)}catch{}}function Ji(){this.g=new Bi}function Jr(d){this.i=d.Sb||null,this.h=d.ab||!1}v(Jr,js),Jr.prototype.g=function(){return new Cn(this.i,this.h)};function Cn(d,w){St.call(this),this.H=d,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Cn,St),n=Cn.prototype,n.open=function(d,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=w,this.readyState=1,Zn(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(w.body=d),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ou(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ou(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var w=d.value?d.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!d.done}))&&(this.response=this.responseText+=w)}d.done?Bs(this):Zn(this),this.readyState==3&&Ou(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Bs(this))},n.Na=function(d){this.g&&(this.response=d,Bs(this))},n.ga=function(){this.g&&Bs(this)};function Bs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Zn(d)}n.setRequestHeader=function(d,w){this.A.append(d,w)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],w=this.h.entries();for(var b=w.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=w.next();return d.join(`\r
`)};function Zn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Cn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Mu(d){let w="";return he(d,function(b,R){w+=R,w+=":",w+=b,w+=`\r
`}),w}function oa(d,w,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=Mu(b),typeof d=="string"?b!=null&&mr(b):Ye(d,w,b))}function et(d){St.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(et,St);var Vu=/^https?$/i,Gf=["POST","PUT"];n=et.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,w,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);w=w?w.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ku.g(),this.g.onreadystatechange=_(m(this.Ca,this));try{this.B=!0,this.g.open(w,String(d),!0),this.B=!1}catch(X){zs(this,X);return}if(d=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)b.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())b.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),G=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(Gf,w,void 0)>=0)||R||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of b)this.g.setRequestHeader(X,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){zs(this,X)}};function zs(d,w){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=w,d.o=5,$s(d),Zr(d)}function $s(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,vt(this,"complete"),vt(this,"abort"),Zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),et.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},n.Xa=function(){Xr(this)};function Xr(d){if(d.h&&typeof a<"u"){if(d.v&&br(d)==4)setTimeout(d.Ca.bind(d),0);else if(vt(d,"readystatechange"),br(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var b;if(!(b=w)){var R;if(R=X===0){let ce=String(d.D).match(Lu)[1]||null;!ce&&l.self&&l.self.location&&(ce=l.self.location.protocol.slice(0,-1)),R=!Vu.test(ce?ce.toLowerCase():"")}b=R}if(b)vt(d,"complete"),vt(d,"success");else{d.o=6;try{var G=br(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",$s(d)}}finally{Zr(d)}}}}function Zr(d,w){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,w||vt(d,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function br(d){return d.g?d.g.readyState:0}n.ca=function(){try{return br(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var w=this.g.responseText;return d&&w.indexOf(d)==0&&(w=w.substring(d.length)),Eu(w)}};function Fu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Fl(d){const w={};d=(d.g&&br(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(L(d[R]))continue;var b=ea(d[R]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=w[G]||[];w[G]=X,X.push(b)}ue(w,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(d,w,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||w}function aa(d){this.za=0,this.i=[],this.j=new Ms,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Tr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Tr("baseRetryDelayMs",5e3,d),this.Za=Tr("retryDelaySeedMs",1e4,d),this.Ta=Tr("forwardChannelMaxRetries",2,d),this.va=Tr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new na(d&&d.concurrentRequestLimit),this.Ba=new Ji,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=aa.prototype,n.ka=8,n.I=1,n.connect=function(d,w,b,R){pt(0),this.W=d,this.H=w||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.J=Bl(this,null,this.W),es(this)};function la(d){if(ca(d),d.I==3){var w=d.V++,b=Fn(d.J);if(Ye(b,"SID",d.M),Ye(b,"RID",w),Ye(b,"TYPE","terminate"),Er(d,b),w=new Vn(d,d.j,w),w.M=2,w.A=Yr(Fn(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!b&&l.Image&&(new Image().src=w.A,b=!0),b||(w.g=Bu(w.j,null),w.g.ea(w.A)),w.F=Date.now(),$i(w)}eo(d)}function An(d){d.g&&(Zi(d),d.g.cancel(),d.g=null)}function ca(d){An(d),d.v&&(l.clearTimeout(d.v),d.v=null),ua(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function es(d){if(!kl(d.h)&&!d.m){d.m=!0;var w=d.Ea;J||I(),Q||(J(),Q=!0),S.add(w,d),d.D=0}}function Uu(d,w){return qi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=w.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Os(m(d.Ea,d,w),ha(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new Vn(this,this.j,d);let X=this.o;if(this.U&&(X?(X=V(X),Se(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)e:{for(var w=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=b;break e}if(w===4096||b===this.i.length-1){w=b+1;break e}}w=1e3}else w=1e3;w=Ul(this,G,w),b=Fn(this.J),Ye(b,"RID",d),Ye(b,"CVER",22),this.G&&Ye(b,"X-HTTP-Session-Id",this.G),Er(this,b),X&&(this.R?w="headers="+mr(Mu(X))+"&"+w:this.u&&oa(b,this.u,X)),ra(this.h,G),this.Ra&&Ye(b,"TYPE","init"),this.S?(Ye(b,"$req",w),Ye(b,"SID","null"),G.U=!0,Xn(G,b,null)):Xn(G,b,w),this.I=2}}else this.I==3&&(d?Xi(this,d):this.i.length==0||kl(this.h)||Xi(this))};function Xi(d,w){var b;w?b=w.l:b=d.V++;const R=Fn(d.J);Ye(R,"SID",d.M),Ye(R,"RID",b),Ye(R,"AID",d.K),Er(d,R),d.u&&d.o&&oa(R,d.u,d.o),b=new Vn(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),w&&(d.i=w.G.concat(d.i)),w=Ul(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ra(d.h,b),Xn(b,R,w)}function Er(d,w){d.H&&he(d.H,function(b,R){Ye(w,R,b)}),d.l&&he({},function(b,R){Ye(w,R,b)})}function Ul(d,w,b){b=Math.min(d.i.length,b);const R=d.l?m(d.l.Ka,d.l,d):null;e:{var G=d.i;let De=-1;for(;;){const xt=["count="+b];De==-1?b>0?(De=G[0].g,xt.push("ofs="+De)):De=0:xt.push("ofs="+De);let Ze=!0;for(let Ct=0;Ct<b;Ct++){var X=G[Ct].g;const kn=G[Ct].map;if(X-=De,X<0)De=Math.max(0,G[Ct].g-100),Ze=!1;else try{X="req"+X+"_"||"";try{var ce=kn instanceof Map?kn:Object.entries(kn);for(const[ts,Cr]of ce){let Ar=Cr;u(Cr)&&(Ar=Ns(Cr)),xt.push(X+ts+"="+encodeURIComponent(Ar))}}catch(ts){throw xt.push(X+"type="+encodeURIComponent("_badmap")),ts}}catch{R&&R(kn)}}if(Ze){ce=xt.join("&");break e}}ce=void 0}return d=d.i.splice(0,b),w.G=d,ce}function Jt(d){if(!d.g&&!d.v){d.Y=1;var w=d.Da;J||I(),Q||(J(),Q=!0),S.add(w,d),d.A=0}}function Sr(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Os(m(d.Da,d),ha(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Hs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Os(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),An(this),Hs(this))};function Zi(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Hs(d){d.g=new Vn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var w=Fn(d.na);Ye(w,"RID","rpc"),Ye(w,"SID",d.M),Ye(w,"AID",d.K),Ye(w,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ye(w,"TO",d.ia),Ye(w,"TYPE","xmlhttp"),Er(d,w),d.u&&d.o&&oa(w,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=Yr(Fn(w)),b.u=null,b.R=!0,Al(b,d)}n.Va=function(){this.C!=null&&(this.C=null,An(this),Sr(this),pt(19))};function ua(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function da(d,w){var b=null;if(d.g==w){ua(d),Zi(d),d.g=null;var R=2}else if(Pl(d.h,w))b=w.G,Wi(d.h,w),R=1;else return;if(d.I!=0){if(w.o)if(R==1){b=w.u?w.u.length:0,w=Date.now()-w.F;var G=d.D;R=Ls(),vt(R,new Sl(R,b)),es(d)}else Jt(d);else if(G=w.m,G==3||G==0&&w.X>0||!(R==1&&Uu(d,w)||R==2&&Sr(d)))switch(b&&b.length>0&&(w=d.h,w.i=w.i.concat(b)),G){case 1:In(d,5);break;case 4:In(d,10);break;case 3:In(d,6);break;default:In(d,2)}}}function ha(d,w){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*w}function In(d,w){if(d.j.info("Error code "+w),w==2){var b=m(d.bb,d),R=d.Ua;const G=!R;R=new gr(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gi(R,"https"),Yr(R),G?wr(R.toString(),b):_r(R.toString(),b)}else pt(2);d.I=0,d.l&&d.l.pa(w),eo(d),ca(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function eo(d){if(d.I=0,d.ja=[],d.l){const w=En(d.h);(w.length!=0||d.i.length!=0)&&(C(d.ja,w),C(d.ja,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.oa()}}function Bl(d,w,b){var R=b instanceof gr?Fn(b):new gr(b);if(R.g!="")w&&(R.g=w+"."+R.g),yr(R,R.u);else{var G=l.location;R=G.protocol,w=w?w+"."+G.hostname:G.hostname,G=+G.port;const X=new gr(null);R&&Gi(X,R),w&&(X.g=w),G&&yr(X,G),b&&(X.h=b),R=X}return b=d.G,w=d.wa,b&&w&&Ye(R,b,w),Ye(R,"VER",d.ka),Er(d,R),R}function Bu(d,w,b){if(w&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=d.Aa&&!d.ma?new et(new Jr({ab:b})):new et(d.ma),w.Fa(d.L),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zu(){}n=zu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function fa(){}fa.prototype.g=function(d,w){return new Wt(d,w)};function Wt(d,w){St.call(this),this.g=new aa(w),this.l=d,this.h=w&&w.messageUrlParams||null,d=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(d?d["X-WebChannel-Content-Type"]=w.messageContentType:d={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(d?d["X-WebChannel-Client-Profile"]=w.sa:d={"X-WebChannel-Client-Profile":w.sa}),this.g.U=d,(d=w&&w.Qb)&&!L(d)&&(this.g.u=d),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!L(w)&&(this.g.G=w,d=this.h,d!==null&&w in d&&(d=this.h,w in d&&delete d[w])),this.j=new qs(this)}v(Wt,St),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){la(this.g)},Wt.prototype.o=function(d){var w=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Ns(d),d=b);w.i.push(new qf(w.Ya++,d)),w.I==3&&es(w)},Wt.prototype.N=function(){this.g.l=null,delete this.j,la(this.g),delete this.g,Wt.Z.N.call(this)};function $u(d){Jo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var w=d.__sm__;if(w){e:{for(const b in w){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,w=w!==null&&d in w?w[d]:void 0),this.data=w}else this.data=d}v($u,Jo);function Hu(){El.call(this),this.status=1}v(Hu,El);function qs(d){this.g=d}v(qs,zu),qs.prototype.ra=function(){vt(this.g,"a")},qs.prototype.qa=function(d){vt(this.g,new $u(d))},qs.prototype.pa=function(d){vt(this.g,new Hu)},qs.prototype.oa=function(){vt(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,NT=function(){return new fa},RT=function(){return Ls()},PT=Jn,wg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vs.NO_ERROR=0,Vs.TIMEOUT=8,Vs.HTTP_ERROR=6,ah=Vs,Fs.COMPLETE="complete",kT=Fs,Su.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",St.prototype.listen=St.prototype.J,xc=Su,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,IT=et}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});const Dw="@firebase/firestore",Lw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=new hy("@firebase/firestore");function La(){return No.logLevel}function pe(n,...e){if(No.logLevel<=Ue.DEBUG){const t=e.map(Cy);No.debug(`Firestore (${hl}): ${n}`,...t)}}function Ss(n,...e){if(No.logLevel<=Ue.ERROR){const t=e.map(Cy);No.error(`Firestore (${hl}): ${n}`,...t)}}function jo(n,...e){if(No.logLevel<=Ue.WARN){const t=e.map(Cy);No.warn(`Firestore (${hl}): ${n}`,...t)}}function Cy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,jT(n,r,t)}function jT(n,e,t){let r=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ss(r),new Error(r)}function Xe(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||jT(e,s,r)}function Le(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class jj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Dj{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new gs,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},u=f=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new gs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new DT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class Lj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Oj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Lj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=a=>{a.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ow(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Vj(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Be(n,e){return n<e?-1:n>e?1:0}function _g(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Am(s)===Am(a)?Be(s,a):Am(s)?1:-1}return Be(n.length,e.length)}const Fj=55296,Uj=57343;function Am(n){const e=n.charCodeAt(0);return e>=Fj&&e<=Uj}function el(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__name__";class jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=jr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Be(e.length,t.length)}static compareSegments(e,t){const r=jr.isNumericId(e),s=jr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?jr.extractNumericId(e).compare(jr.extractNumericId(t)):_g(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class rt extends jr{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new rt(t)}static emptyPath(){return new rt([])}}const Bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends jr{construct(e,t,r){return new zt(e,t,r)}static isValidIdentifier(e){return Bj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mw}static keyField(){return new zt([Mw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MT(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vw(n){if(!be.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Fw(n){if(be.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function lf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function Cs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lf(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zj(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n,e){const t={typeString:n};return e&&(t.value=e),t}function au(n,e){if(!VT(n))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new de(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=-62135596800,Bw=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Bw);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Uw)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Bw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(au(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Rt("string",st._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new st(0,0))}static max(){return new je(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function $j(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new ki(s,be.empty(),e)}function Hj(n){return new ki(n.readTime,n.key,zc)}class ki{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ki(je.min(),be.empty(),zc)}static max(){return new ki(je.max(),be.empty(),zc)}}function qj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==Wj)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,r)=>{t(e)}))}static reject(e){return new re(((t,r)=>{r(e)}))}static waitFor(e){return new re(((t,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&t()}),(f=>r(f)))})),l=!0,a===s&&t()}))}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next((s=>s?re.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new re(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((g=>{l[m]=g,++u,u===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new re(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function Kj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function uf(n){return n==null}function Ih(n){return n===0&&1/n==-1/0}function Qj(n){return typeof n=="number"&&Number.isInteger(n)&&!Ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="";function Yj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zw(e)),e=Jj(n.get(t),e);return zw(e)}function Jj(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case FT:t+="";break;default:t+=a}}return t}function zw(n){return n+FT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=s??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Yt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Yt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hw(this.data.getIterator())}getIteratorFrom(e){return new Hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class Hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new ar([])}unionWith(e){let t=new Ot(zt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return el(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BT("Invalid base64 string: "+a):a}})(e);return new Ht(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const Xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=Xj.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(n.seconds),nanos:_t(n.nanos)}}function _t(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ri(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",$T="__type__",HT="__previous_value__",qT="__local_write_time__";function Iy(n){return(n?.mapValue?.fields||{})[$T]?.stringValue===zT}function df(n){const e=n.mapValue.fields[HT];return Iy(e)?df(e):e}function $c(n){const e=Pi(n.mapValue.fields[qT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t,r,s,a,l,u,f,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=g}}const kh="(default)";class tl{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new tl("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__type__",eD="__max__",zd={mapValue:{}},GT="__vector__",Ph="value";function Ni(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Iy(n)?4:nD(n)?9007199254740991:tD(n)?10:11:ke(28295,{value:n})}function Hr(n,e){if(n===e)return!0;const t=Ni(n);if(t!==Ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $c(n).isEqual($c(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Pi(s.timestampValue),u=Pi(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return Ri(s.bytesValue).isEqual(Ri(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return _t(s.geoPointValue.latitude)===_t(a.geoPointValue.latitude)&&_t(s.geoPointValue.longitude)===_t(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return _t(s.integerValue)===_t(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=_t(s.doubleValue),u=_t(a.doubleValue);return l===u?Ih(l)===Ih(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return el(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if($w(l)!==$w(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Hr(l[f],u[f])))return!1;return!0})(n,e);default:return ke(52216,{left:n})}}function Hc(n,e){return(n.values||[]).find((t=>Hr(t,e)))!==void 0}function nl(n,e){if(n===e)return 0;const t=Ni(n),r=Ni(e);if(t!==r)return Be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=_t(a.integerValue||a.doubleValue),f=_t(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return qw(n.timestampValue,e.timestampValue);case 4:return qw($c(n),$c(e));case 5:return _g(n.stringValue,e.stringValue);case 6:return(function(a,l){const u=Ri(a),f=Ri(l);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const g=Be(u[m],f[m]);if(g!==0)return g}return Be(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=Be(_t(a.latitude),_t(l.latitude));return u!==0?u:Be(_t(a.longitude),_t(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ww(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const u=a.fields||{},f=l.fields||{},m=u[Ph]?.arrayValue,g=f[Ph]?.arrayValue,v=Be(m?.values?.length||0,g?.values?.length||0);return v!==0?v:Ww(m,g)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===zd.mapValue&&l===zd.mapValue)return 0;if(a===zd.mapValue)return 1;if(l===zd.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},g=Object.keys(m);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const _=_g(f[v],g[v]);if(_!==0)return _;const E=nl(u[f[v]],m[g[v]]);if(E!==0)return E}return Be(f.length,g.length)})(n.mapValue,e.mapValue);default:throw ke(23264,{he:t})}}function qw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Pi(n),r=Pi(e),s=Be(t.seconds,r.seconds);return s!==0?s:Be(t.nanos,r.nanos)}function Ww(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=nl(t[s],r[s]);if(a)return a}return Be(t.length,r.length)}function rl(n){return bg(n)}function bg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Pi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ri(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return be.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=bg(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${bg(t.fields[l])}`;return s+"}"})(n.mapValue):ke(61005,{value:n})}function lh(n){switch(Ni(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(n);return e?16+lh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ri(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+lh(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Uo(r.fields,((a,l)=>{s+=a.length+lh(l)})),s})(n.mapValue);default:throw ke(13486,{value:n})}}function Gw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tg(n){return!!n&&"integerValue"in n}function ky(n){return!!n&&"arrayValue"in n}function Kw(n){return!!n&&"nullValue"in n}function Qw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function tD(n){return(n?.mapValue?.fields||{})[WT]?.stringValue===GT}function Cc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Uo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Cc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cc(n.arrayValue.values[t]);return e}return{...n}}function nD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(t)}setAll(e){let t=zt.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=Cc(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Uo(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Qn(Cc(this.value))}}function KT(n){const e=[];return Uo(n.fields,((t,r)=>{const s=new zt([t]);if(ch(r)){const a=KT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,r,s,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new on(e,0,je.min(),je.min(),je.min(),Qn.empty(),0)}static newFoundDocument(e,t,r,s){return new on(e,1,t,je.min(),r,s,0)}static newNoDocument(e,t){return new on(e,2,t,je.min(),je.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,je.min(),je.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function Yw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=be.comparator(be.fromName(l.referenceValue),t.key):r=nl(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,t="asc"){this.field=e,this.dir=t}}function rD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QT=class{};class Pt extends QT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new iD(e,t,r):t==="array-contains"?new lD(e,r):t==="in"?new cD(e,r):t==="not-in"?new uD(e,r):t==="array-contains-any"?new dD(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new oD(e,r):new aD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Ni(this.value)===Ni(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends QT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dr(e,t)}matches(e){return YT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(n){return n.op==="and"}function JT(n){return sD(n)&&YT(n)}function sD(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function Eg(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(JT(n))return n.filters.map((e=>Eg(e))).join(",");{const e=n.filters.map((t=>Eg(t))).join(",");return`${n.op}(${e})`}}function XT(n,e){return n instanceof Pt?(function(r,s){return s instanceof Pt&&r.op===s.op&&r.field.isEqual(s.field)&&Hr(r.value,s.value)})(n,e):n instanceof dr?(function(r,s){return s instanceof dr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&XT(l,s.filters[u])),!0):!1})(n,e):void ke(19439)}function ZT(n){return n instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(n):n instanceof dr?(function(t){return t.op.toString()+" {"+t.getFilters().map(ZT).join(" ,")+"}"})(n):"Filter"}class iD extends Pt{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class oD extends Pt{constructor(e,t){super(e,"in",t),this.keys=eE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class aD extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=eE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function eE(n,e){return(e.arrayValue?.values||[]).map((t=>be.fromName(t.referenceValue)))}class lD extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ky(t)&&Hc(t.arrayValue,this.value)}}class cD extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hc(this.value.arrayValue,t)}}class uD extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hc(this.value.arrayValue,t)}}class dD extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function Xw(n,e=null,t=[],r=[],s=null,a=null,l=null){return new hD(n,e,t,r,s,a,l)}function Py(n){const e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Eg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),uf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>rl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>rl(r))).join(",")),e.Te=t}return e.Te}function Ry(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jw(n.startAt,e.startAt)&&Jw(n.endAt,e.endAt)}function Sg(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t=null,r=[],s=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fD(n,e,t,r,s,a,l,u){return new ml(n,e,t,r,s,a,l,u)}function Ny(n){return new ml(n)}function Zw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tE(n){return n.collectionGroup!==null}function Ac(n){const e=Le(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ot(zt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new qc(a,r))})),t.has(zt.keyField().canonicalString())||e.Ie.push(new qc(zt.keyField(),r))}return e.Ie}function Fr(n){const e=Le(n);return e.Ee||(e.Ee=pD(e,Ac(n))),e.Ee}function pD(n,e){if(n.limitType==="F")return Xw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new qc(s.field,a)}));const t=n.endAt?new Rh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rh(n.startAt.position,n.startAt.inclusive):null;return Xw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Cg(n,e){const t=n.filters.concat([e]);return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nh(n,e,t){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return Ry(Fr(n),Fr(e))&&n.limitType===e.limitType}function nE(n){return`${Py(Fr(n))}|lt:${n.limitType}`}function Oa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>ZT(s))).join(", ")}]`),uf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>rl(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>rl(s))).join(",")),`Target(${r})`})(Fr(n))}; limitType=${n.limitType})`}function ff(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Ac(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,f){const m=Yw(l,u,f);return l.inclusive?m<=0:m<0})(r.startAt,Ac(r),s)||r.endAt&&!(function(l,u,f){const m=Yw(l,u,f);return l.inclusive?m>=0:m>0})(r.endAt,Ac(r),s))})(n,e)}function mD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rE(n){return(e,t)=>{let r=!1;for(const s of Ac(n)){const a=gD(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function gD(n,e,t){const r=n.field.isKeyField()?be.comparator(e.key,t.key):(function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?nl(f,m):ke(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=new ft(be.comparator);function As(){return yD}const sE=new ft(be.comparator);function wc(...n){let e=sE;for(const t of n)e=e.insert(t.key,t);return e}function iE(n){let e=sE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function _o(){return Ic()}function oE(){return Ic()}function Ic(){return new Bo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const vD=new ft(be.comparator),xD=new Ot(be.comparator);function ze(...n){let e=xD;for(const t of n)e=e.add(t);return e}const wD=new Ot(Be);function _D(){return wD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function aE(n){return{integerValue:""+n}}function bD(n,e){return Qj(e)?aE(e):jy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function TD(n,e,t){return n instanceof jh?(function(s,a){const l={fields:{[$T]:{stringValue:zT},[qT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Iy(a)&&(a=df(a)),a&&(l.fields[HT]=a),{mapValue:l}})(t,e):n instanceof Wc?cE(n,e):n instanceof Gc?uE(n,e):(function(s,a){const l=lE(s,a),u=e_(l)+e_(s.Ae);return Tg(l)&&Tg(s.Ae)?aE(u):jy(s.serializer,u)})(n,e)}function ED(n,e,t){return n instanceof Wc?cE(n,e):n instanceof Gc?uE(n,e):t}function lE(n,e){return n instanceof Dh?(function(r){return Tg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class jh extends pf{}class Wc extends pf{constructor(e){super(),this.elements=e}}function cE(n,e){const t=dE(e);for(const r of n.elements)t.some((s=>Hr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Gc extends pf{constructor(e){super(),this.elements=e}}function uE(n,e){let t=dE(e);for(const r of n.elements)t=t.filter((s=>!Hr(s,r)));return{arrayValue:{values:t}}}class Dh extends pf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function e_(n){return _t(n.integerValue||n.doubleValue)}function dE(n){return ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function SD(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Wc&&s instanceof Wc||r instanceof Gc&&s instanceof Gc?el(r.elements,s.elements,Hr):r instanceof Dh&&s instanceof Dh?Hr(r.Ae,s.Ae):r instanceof jh&&s instanceof jh})(n.transform,e.transform)}class CD{constructor(e,t){this.version=e,this.transformResults=t}}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mf{}function hE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dy(n.key,Ur.none()):new lu(n.key,n.data,Ur.none());{const t=n.data,r=Qn.empty();let s=new Ot(zt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new zo(n.key,r,new ar(s.toArray()),Ur.none())}}function AD(n,e,t){n instanceof lu?(function(s,a,l){const u=s.value.clone(),f=n_(s.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof zo?(function(s,a,l){if(!uh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=n_(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(fE(s)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function kc(n,e,t,r){return n instanceof lu?(function(a,l,u,f){if(!uh(a.precondition,l))return u;const m=a.value.clone(),g=r_(a.fieldTransforms,f,l);return m.setAll(g),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof zo?(function(a,l,u,f){if(!uh(a.precondition,l))return u;const m=r_(a.fieldTransforms,f,l),g=l.data;return g.setAll(fE(a)),g.setAll(m),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(a,l,u){return uh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function ID(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=lE(r.transform,s||null);a!=null&&(t===null&&(t=Qn.empty()),t.set(r.field,a))}return t||null}function t_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&el(r,s,((a,l)=>SD(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends mf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zo extends mf{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function n_(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,ED(l,u,t[s]))}return r}function r_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,TD(a,l,e))}return r}class Dy extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kD extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&AD(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=kc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=kc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oE();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(s.key)?null:u;const f=hE(l,u);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&el(this.mutations,e.mutations,((t,r)=>t_(t,r)))&&el(this.baseMutations,e.baseMutations,((t,r)=>t_(t,r)))}}class Ly{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return vD})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new Ly(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,qe;function jD(n){switch(n){case ne.OK:return ke(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function pE(n){if(n===void 0)return Ss("GRPC error has no .code"),ne.UNKNOWN;switch(n){case It.OK:return ne.OK;case It.CANCELLED:return ne.CANCELLED;case It.UNKNOWN:return ne.UNKNOWN;case It.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case It.INTERNAL:return ne.INTERNAL;case It.UNAVAILABLE:return ne.UNAVAILABLE;case It.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case It.NOT_FOUND:return ne.NOT_FOUND;case It.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case It.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case It.ABORTED:return ne.ABORTED;case It.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case It.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case It.DATA_LOSS:return ne.DATA_LOSS;default:return ke(39323,{code:n})}}(qe=It||(It={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new bi([4294967295,4294967295],0);function s_(n){const e=DD().encode(n),t=new AT;return t.update(e),new Uint8Array(t.digest())}function i_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bi([t,r],0),new bi([s,a],0)]}class Oy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(r<0)throw new _c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=bi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(bi.fromNumber(r)));return s.compare(LD)===1&&(s=new bi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=s_(e),[r,s]=i_(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Oy(a,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=s_(e),[r,s]=i_(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gf(je.min(),s,new ft(Be),As(),ze())}}class cu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cu(r,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class mE{constructor(e,t){this.targetId=e,this.Ce=t}}class gE{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class o_{constructor(){this.ve=0,this.Fe=a_(),this.Me=Ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),r=ze();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ke(38017,{changeType:a})}})),new cu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OD{constructor(e){this.Ge=e,this.ze=new Map,this.je=As(),this.Je=$d(),this.He=$d(),this.Ye=new ft(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(Sg(a))if(r===0){const l=new be(a.path);this.et(t,l,on.newNoDocument(l,je.min()))}else Xe(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,u;try{l=Ri(r).toUint8Array()}catch(f){if(f instanceof BT)return jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new Oy(l,s,a)}catch(f){return jo(f instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&Sg(u.target)){const f=new be(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,on.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let r=ze();this.He.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new gf(e,t,this.Ye,this.je,r);return this.je=As(),this.Je=$d(),this.He=$d(),this.Ye=new ft(Be),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new o_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ot(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ot(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new o_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function $d(){return new ft(be.comparator)}function a_(){return new ft(be.comparator)}const MD={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FD={and:"AND",or:"OR"};class UD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ag(n,e){return n.useProto3Json||uf(e)?e:{value:e}}function Lh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function BD(n,e){return Lh(n,e.toTimestamp())}function Br(n){return Xe(!!n,49232),je.fromTimestamp((function(t){const r=Pi(t);return new st(r.seconds,r.nanos)})(n))}function My(n,e){return Ig(n,e).canonicalString()}function Ig(n,e){const t=(function(s){return new rt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function vE(n){const e=rt.fromString(n);return Xe(TE(e),10190,{key:e.toString()}),e}function kg(n,e){return My(n.databaseId,e.path)}function Im(n,e){const t=vE(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(wE(t))}function xE(n,e){return My(n.databaseId,e)}function zD(n){const e=vE(n);return e.length===4?rt.emptyPath():wE(e)}function Pg(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wE(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function l_(n,e,t){return{name:kg(n,e),fields:t.value.mapValue.fields}}function $D(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ke(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,g){return m.useProto3Json?(Xe(g===void 0||typeof g=="string",58123),Ht.fromBase64String(g||"")):(Xe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ht.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const g=m.code===void 0?ne.UNKNOWN:pE(m.code);return new de(g,m.message||"")})(l);t=new gE(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Im(n,r.document.name),a=Br(r.document.updateTime),l=r.document.createTime?Br(r.document.createTime):je.min(),u=new Qn({mapValue:{fields:r.document.fields}}),f=on.newFoundDocument(s,a,l,u),m=r.targetIds||[],g=r.removedTargetIds||[];t=new dh(m,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Im(n,r.document),a=r.readTime?Br(r.readTime):je.min(),l=on.newNoDocument(s,a),u=r.removedTargetIds||[];t=new dh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Im(n,r.document),a=r.removedTargetIds||[];t=new dh([],a,s,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new ND(s,a),u=r.targetId;t=new mE(u,l)}}return t}function HD(n,e){let t;if(e instanceof lu)t={update:l_(n,e.key,e.value)};else if(e instanceof Dy)t={delete:kg(n,e.key)};else if(e instanceof zo)t={update:l_(n,e.key,e.data),updateMask:ZD(e.fieldMask)};else{if(!(e instanceof kD))return ke(16599,{Vt:e.type});t={verify:kg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof jh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Wc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dh)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw ke(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:BD(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)})(n,e.precondition)),t}function qD(n,e){return n&&n.length>0?(Xe(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?Br(s.updateTime):Br(a);return l.isEqual(je.min())&&(l=Br(a)),new CD(l,s.transformResults||[])})(t,e)))):[]}function WD(n,e){return{documents:[xE(n,e.path)]}}function GD(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xE(n,s);const a=(function(m){if(m.length!==0)return bE(dr.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((g=>(function(_){return{field:Ma(_.field),direction:YD(_.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Ag(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function KD(n){let e=zD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Xe(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(v){const _=_E(v);return _ instanceof dr&&JT(_)?_.getFilters():[_]})(t.where));let l=[];t.orderBy&&(l=(function(v){return v.map((_=>(function(C){return new qc(Va(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(t.orderBy));let u=null;t.limit&&(u=(function(v){let _;return _=typeof v=="object"?v.value:v,uf(_)?null:_})(t.limit));let f=null;t.startAt&&(f=(function(v){const _=!!v.before,E=v.values||[];return new Rh(E,_)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const _=!v.before,E=v.values||[];return new Rh(E,_)})(t.endAt)),fD(e,s,l,a,u,"F",f,m)}function QD(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _E(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Va(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Va(t.unaryFilter.field);return Pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Va(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Va(t.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Pt.create(Va(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return dr.create(t.compositeFilter.filters.map((r=>_E(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(t.compositeFilter.op))})(n):ke(30097,{filter:n})}function YD(n){return MD[n]}function JD(n){return VD[n]}function XD(n){return FD[n]}function Ma(n){return{fieldPath:n.canonicalString()}}function Va(n){return zt.fromServerFormat(n.fieldPath)}function bE(n){return n instanceof Pt?(function(t){if(t.op==="=="){if(Qw(t.value))return{unaryFilter:{field:Ma(t.field),op:"IS_NAN"}};if(Kw(t.value))return{unaryFilter:{field:Ma(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qw(t.value))return{unaryFilter:{field:Ma(t.field),op:"IS_NOT_NAN"}};if(Kw(t.value))return{unaryFilter:{field:Ma(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(t.field),op:JD(t.op),value:t.value}}})(n):n instanceof dr?(function(t){const r=t.getFilters().map((s=>bE(s)));return r.length===1?r[0]:{compositeFilter:{op:XD(t.op),filters:r}}})(n):ke(54877,{filter:n})}function ZD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,r,s,a=je.min(),l=je.min(),u=Ht.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.yt=e}}function t4(n){const e=KD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Cn=new r4}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ki.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class r4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Ot(rt.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ot(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(EE,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",s4=1048576;function d_([n,e],[t,r]){const s=Be(n,t);return s===0?Be(e,r):s}class i4{constructor(e){this.Ir=e,this.buffer=new Ot(d_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class o4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?pe(u_,"Ignoring IndexedDB error during garbage collection: ",t):await fl(t)}await this.Vr(3e5)}))}}class a4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(cf.ce);const r=new i4(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(c_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,l,u,f,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s)))).next((v=>(r=v,u=Date.now(),this.removeTargets(e,r,t)))).next((v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(m=Date.now(),La()<=Ue.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-g}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v}))))}}function l4(n,e){return new a4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.changes=new Bo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&kc(r.mutation,s,ar.empty(),st.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=ze()){const s=_o();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=wc();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=_o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,ze())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let a=As();const l=Ic(),u=(function(){return Ic()})();return t.forEach(((f,m)=>{const g=r.get(m.key);s.has(m.key)&&(g===void 0||g.mutation instanceof zo)?a=a.insert(m.key,m):g!==void 0?(l.set(m.key,g.mutation.getFieldMask()),kc(g.mutation,m,g.mutation.getFieldMask(),st.now())):l.set(m.key,ar.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,g)=>l.set(m,g))),t.forEach(((m,g)=>u.set(m,new u4(g,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=Ic();let s=new ft(((l,u)=>l-u)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let g=r.get(f)||ar.empty();g=u.applyToLocalView(m,g),r.set(f,g);const v=(s.get(u.batchId)||ze()).add(f);s=s.insert(u.batchId,v)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,g=f.value,v=oE();g.forEach((_=>{if(!a.has(_)){const E=hE(t.get(_),r.get(_));E!==null&&v.set(_,E),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,v))}return re.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):re.resolve(_o());let u=zc,f=a;return l.next((m=>re.forEach(m,((g,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(g)?re.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{f=f.insert(g,_)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,ze()))).next((g=>({batchId:u,changes:iE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next((r=>{let s=wc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=wc();return this.indexManager.getCollectionParents(e,a).next((u=>re.forEach(u,(f=>{const m=(function(v,_){return new ml(_,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((g=>{g.forEach(((v,_)=>{l=l.insert(v,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((f,m)=>{const g=m.getKey();l.get(g)===null&&(l=l.insert(g,on.newInvalidDocument(g)))}));let u=wc();return l.forEach(((f,m)=>{const g=a.get(f);g!==void 0&&kc(g.mutation,m,ar.empty(),st.now()),ff(t,m)&&(u=u.insert(f,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:t4(s.bundledQuery),readTime:Br(s.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new ft(be.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_o();return re.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),re.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const s=_o(),a=t.length+1,l=new be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ft(((m,g)=>m-g));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let g=a.get(m.largestBatchId);g===null&&(g=_o(),a=a.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const u=_o(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,g)=>u.set(m,g))),!(u.size()>=s)););return re.resolve(u)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new RD(t,r));let a=this.qr.get(t);a===void 0&&(a=ze(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Qr=new Ot(Bt.$r),this.Ur=new Ot(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new be(new rt([])),r=new Bt(t,e),s=new Bt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new rt([])),r=new Bt(t,e),s=new Bt(t,e+1);let a=ze();return this.Ur.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Bt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Bt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new PD(a,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Zr=this.Zr.add(new Bt(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return re.resolve(l)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Ay:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),s=new Bt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(l=>{const u=this.Xr(l.Yr);a.push(u)})),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(Be);return t.forEach((s=>{const a=new Bt(s,0),l=new Bt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(u=>{r=r.add(u.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new be(a),0);let u=new Ot(Be);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(u=u.add(f.Yr)),!0)}),l),re.resolve(this.ti(u))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(t.mutations,(s=>{const a=new Bt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Bt(t,0),s=this.Zr.firstAfterOrEqual(r);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.ri=e,this.docs=(function(){return new ft(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let r=As();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():on.newInvalidDocument(s))})),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=As();const l=t.path,u=new be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:g}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||qj(Hj(g),r)<=0||(s.has(g.key)||ff(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,t,r,s){ke(9500)}ii(e,t){return re.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new y4(this)}getSize(e){return re.resolve(this.size)}}class y4 extends c4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.persistence=e,this.si=new Bo((t=>Py(t)),Ry),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Vy,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),re.waitFor(a).next((()=>s))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),re.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),re.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.ui={},this.overlays={},this.ci=new cf(0),this.li=!1,this.li=!0,this.hi=new p4,this.referenceDelegate=e(this),this.Pi=new v4(this),this.indexManager=new n4,this.remoteDocumentCache=(function(s){return new g4(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new e4(t),this.Ii=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new m4(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const s=new x4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class x4 extends Gj{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.Ri=new Vy,this.Vi=null}static mi(e){return new Fy(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const s=be.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Oh{constructor(e,t){this.persistence=e,this.pi=new Bo((r=>Yj(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=l4(this,t)}static mi(e,t){return new Oh(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?re.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((u=>{u||(r++,a.removeEntry(l,je.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}br(e,t,r){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return re.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=ze(),s=ze();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Uy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return hP()?8:Kj(ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new w4;return this.Ss(e,t,l).next((u=>{if(a.result=u,this.Vs)return this.bs(e,t,l,u.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(La()<=Ue.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Oa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(La()<=Ue.DEBUG&&pe("QueryEngine","Query:",Oa(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(La()<=Ue.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Oa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):re.resolve())}ys(e,t){if(Zw(t))return re.resolve(null);let r=Fr(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Nh(t,null,"F"),r=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ze(...a);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,u);return this.Cs(t,m,l,f.readTime)?this.ys(e,Nh(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,s){return Zw(t)||s.isEqual(je.min())?re.resolve(null):this.ps.getDocuments(e,r).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,r,s)?re.resolve(null):(La()<=Ue.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Oa(t)),this.vs(e,l,t,$j(s,zc)).next((u=>u)))}))}Ds(e,t){let r=new Ot(rE(e));return t.forEach(((s,a)=>{ff(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return La()<=Ue.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Oa(t)),this.ps.getDocumentsMatchingQuery(e,t,ki.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",b4=3e8;class T4{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new ft(Be),this.xs=new Bo((a=>Py(a)),Ry),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function E4(n,e,t,r){return new T4(n,e,t,r)}async function CE(n,e){const t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=ze();for(const m of s){l.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}for(const m of a){u.push(m.batchId);for(const g of m.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function S4(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,g){const v=m.batch,_=v.keys();let E=re.resolve();return _.forEach((C=>{E=E.next((()=>g.getEntry(f,C))).next((N=>{const A=m.docVersions.get(C);Xe(A!==null,48541),N.version.compareTo(A)<0&&(v.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),g.addEntry(N)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,v)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=ze();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function AE(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function C4(n,e){const t=Le(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const u=[];e.targetChanges.forEach(((g,v)=>{const _=s.get(v);if(!_)return;u.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,v))));let E=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?E=E.withResumeToken(Ht.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):g.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(g.resumeToken,r)),s=s.insert(v,E),(function(N,A,F){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=b4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(_,E,g)&&u.push(t.Pi.updateTargetData(a,E))}));let f=As(),m=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),u.push(A4(a,l,e.documentUpdates).next((g=>{f=g.ks,m=g.qs}))),!r.isEqual(je.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(g)}return re.waitFor(u).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=s,a)))}function A4(n,e,t){let r=ze(),s=ze();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=As();return t.forEach(((u,f)=>{const m=a.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):pe(By,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{ks:l,qs:s}}))}function I4(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ay),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function k4(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,re.resolve(s)):t.Pi.allocateTargetId(r).next((l=>(s=new vi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Rg(n,e,t){const r=Le(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!pl(l))throw l;pe(By,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function h_(n,e,t){const r=Le(n);let s=je.min(),a=ze();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,g){const v=Le(f),_=v.xs.get(g);return _!==void 0?re.resolve(v.Ms.get(_)):v.Pi.getTargetData(m,g)})(r,l,Fr(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?s:je.min(),t?a:ze()))).next((u=>(P4(r,mD(e),u),{documents:u,Qs:a})))))}function P4(n,e,t){let r=n.Os.get(e)||je.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class f_{constructor(){this.activeTargetIds=_D()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R4{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="ConnectivityMonitor";class m_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(p_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(p_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function Ng(){return Hd===null?Hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",j4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const l=Ng(),u=this.zo(e,t.toUriEncodedString());pe(km,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:m}=new URL(u),g=Vi(m);return this.Jo(e,u,f,r,g).then((v=>(pe(km,`Received RPC '${e}' ${l}: `,v),v)),(v=>{throw jo(km,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v}))}Ho(e,t,r,s,a,l){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=j4[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class O4 extends D4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=Ng();return new Promise(((u,f)=>{const m=new IT;m.setWithCredentials(!0),m.listenOnce(kT.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case ah.NO_ERROR:const v=m.getResponseJson();pe(nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case ah.TIMEOUT:pe(nn,`RPC '${e}' ${l} timed out`),f(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const _=m.getStatus();if(pe(nn,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const C=E?.error;if(C&&C.status&&C.message){const N=(function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(U)>=0?U:ne.UNKNOWN})(C.status);f(new de(N,C.message))}else f(new de(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new de(ne.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(nn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);pe(nn,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=Ng(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NT(),u=RT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");pe(nn,`Creating RPC '${e}' stream ${s}: ${g}`,f);const v=l.createWebChannel(g,f);this.I_(v);let _=!1,E=!1;const C=new L4({Yo:A=>{E?pe(nn,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(_||(pe(nn,`Opening RPC '${e}' stream ${s} transport.`),v.open(),_=!0),pe(nn,`RPC '${e}' stream ${s} sending:`,A),v.send(A))},Zo:()=>v.close()}),N=(A,F,U)=>{A.listen(F,(k=>{try{U(k)}catch(H){setTimeout((()=>{throw H}),0)}}))};return N(v,xc.EventType.OPEN,(()=>{E||(pe(nn,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),N(v,xc.EventType.CLOSE,(()=>{E||(E=!0,pe(nn,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(v))})),N(v,xc.EventType.ERROR,(A=>{E||(E=!0,jo(nn,`RPC '${e}' stream ${s} transport errored. Name:`,A.name,"Message:",A.message),C.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),N(v,xc.EventType.MESSAGE,(A=>{if(!E){const F=A.data[0];Xe(!!F,16349);const U=F,k=U?.error||U[0]?.error;if(k){pe(nn,`RPC '${e}' stream ${s} received error:`,k);const H=k.status;let J=(function(I){const j=It[I];if(j!==void 0)return pE(j)})(H),Q=k.message;J===void 0&&(J=ne.INTERNAL,Q="Unknown error status: "+H+" with message "+k.message),E=!0,C.a_(new de(J,Q)),v.close()}else pe(nn,`RPC '${e}' stream ${s} received:`,F),C.u_(F)}})),N(u,PT.STAT_EVENT,(A=>{A.stat===wg.PROXY?pe(nn,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===wg.NOPROXY&&pe(nn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(n){return new UD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&pe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="PersistentStream";class kE{constructor(e,t,r,s,a,l,u,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Ss(t.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(g_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(pe(g_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M4 extends kE{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$D(this.serializer,e),r=(function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?Br(l.readTime):je.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Pg(this.serializer),t.addTarget=(function(a,l){let u;const f=l.target;if(u=Sg(f)?{documents:WD(a,f)}:{query:GD(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=yE(a,l.resumeToken);const m=Ag(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=Lh(a,l.snapshotVersion.toTimestamp());const m=Ag(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=QD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Pg(this.serializer),t.removeTarget=e,this.q_(t)}}class V4 extends kE{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=qD(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Pg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>HD(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{}class U4 extends F4{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,Ig(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(ne.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,Ig(t,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class B4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(t),this.aa=!1):pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="RemoteStore";class z4{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{$o(this)&&(pe(Do,"Restarting streams for network reachability change."),await(async function(f){const m=Le(f);m.Ea.add(4),await uu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await vf(m)})(this))}))})),this.Ra=new B4(r,s)}}async function vf(n){if($o(n))for(const e of n.da)await e(!0)}async function uu(n){for(const e of n.da)await e(!1)}function PE(n,e){const t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qy(t)?Hy(t):gl(t).O_()&&$y(t,e))}function zy(n,e){const t=Le(n),r=gl(t);t.Ia.delete(e),r.O_()&&RE(t,e),t.Ia.size===0&&(r.O_()?r.L_():$o(t)&&t.Ra.set("Unknown"))}function $y(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(n).Y_(e)}function RE(n,e){n.Va.Ue(e),gl(n).Z_(e)}function Hy(n){n.Va=new OD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),gl(n).start(),n.Ra.ua()}function qy(n){return $o(n)&&!gl(n).x_()&&n.Ia.size>0}function $o(n){return Le(n).Ea.size===0}function NE(n){n.Va=void 0}async function $4(n){n.Ra.set("Online")}async function H4(n){n.Ia.forEach(((e,t)=>{$y(n,e)}))}async function q4(n,e){NE(n),qy(n)?(n.Ra.ha(e),Hy(n)):n.Ra.set("Unknown")}async function W4(n,e,t){if(n.Ra.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.Va.removeTarget(u))})(n,e)}catch(r){pe(Do,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mh(n,r)}else if(e instanceof dh?n.Va.Ze(e):e instanceof mE?n.Va.st(e):n.Va.tt(e),!t.isEqual(je.min()))try{const r=await AE(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const u=a.Va.Tt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(m);g&&a.Ia.set(m,g.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),RE(a,f);const v=new vi(g.target,f,m,g.sequenceNumber);$y(a,v)})),a.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){pe(Do,"Failed to raise snapshot:",r),await Mh(n,r)}}async function Mh(n,e,t){if(!pl(e))throw e;n.Ea.add(1),await uu(n),n.Ra.set("Offline"),t||(t=()=>AE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pe(Do,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vf(n)}))}function jE(n,e){return e().catch((t=>Mh(n,t,e)))}async function xf(n){const e=Le(n),t=ji(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ay;for(;G4(e);)try{const s=await I4(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,K4(e,s)}catch(s){await Mh(e,s)}DE(e)&&LE(e)}function G4(n){return $o(n)&&n.Ta.length<10}function K4(n,e){n.Ta.push(e);const t=ji(n);t.O_()&&t.X_&&t.ea(e.mutations)}function DE(n){return $o(n)&&!ji(n).x_()&&n.Ta.length>0}function LE(n){ji(n).start()}async function Q4(n){ji(n).ra()}async function Y4(n){const e=ji(n);for(const t of n.Ta)e.ea(t.mutations)}async function J4(n,e,t){const r=n.Ta.shift(),s=Ly.from(r,e,t);await jE(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await xf(n)}async function X4(n,e){e&&ji(n).X_&&await(async function(r,s){if((function(l){return jD(l)&&l!==ne.ABORTED})(s.code)){const a=r.Ta.shift();ji(r).B_(),await jE(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await xf(r)}})(n,e),DE(n)&&LE(n)}async function y_(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),pe(Do,"RemoteStore received new credentials");const r=$o(t);t.Ea.add(3),await uu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vf(t)}async function Z4(n,e){const t=Le(n);e?(t.Ea.delete(2),await vf(t)):e||(t.Ea.add(2),await uu(t),t.Ra.set("Unknown"))}function gl(n){return n.ma||(n.ma=(function(t,r,s){const a=Le(t);return a.sa(),new M4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:$4.bind(null,n),t_:H4.bind(null,n),r_:q4.bind(null,n),H_:W4.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),qy(n)?Hy(n):n.Ra.set("Unknown")):(await n.ma.stop(),NE(n))}))),n.ma}function ji(n){return n.fa||(n.fa=(function(t,r,s){const a=Le(t);return a.sa(),new V4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q4.bind(null,n),r_:X4.bind(null,n),ta:Y4.bind(null,n),na:J4.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await xf(n)):(await n.fa.stop(),n.Ta.length>0&&(pe(Do,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,u=new Wy(e,t,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(Ss("AsyncQueue",`${e}: ${n}`),pl(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=wc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ya;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.ga=new ft(be.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class il{constructor(e,t,r,s,a,l,u,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new il(e,t,Ya.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tL{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Le(t),a=s.queries;s.queries=x_(),a.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function x_(){return new Bo((n=>nE(n)),hf)}async function OE(n,e){const t=Le(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new eL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=Gy(l,`Initialization of query '${Oa(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ky(t)}async function ME(n,e){const t=Le(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nL(n,e){const t=Le(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Fa(s)&&(r=!0);l.wa=s}}r&&Ky(t)}function rL(n,e,t){const r=Le(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Ky(n){n.Ca.forEach((e=>{e.next()}))}var jg,w_;(w_=jg||(jg={})).Ma="default",w_.Cache="cache";class VE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new il(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class UE{constructor(e){this.key=e}}class sL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=rE(e),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new v_,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,v)=>{const _=s.get(g),E=ff(this.query,v)?v:null,C=!!_&&this.mutatedKeys.has(_.key),N=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;_&&E?_.data.isEqual(E.data)?C!==N&&(r.track({type:3,doc:E}),A=!0):this.su(_,E)||(r.track({type:2,doc:E}),A=!0,(f&&this.eu(E,f)>0||m&&this.eu(E,m)<0)&&(u=!0)):!_&&E?(r.track({type:0,doc:E}),A=!0):_&&!E&&(r.track({type:1,doc:_}),A=!0,(f||m)&&(u=!0)),A&&(E?(l=l.add(E),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,v)=>(function(E,C){const N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:A})}};return N(E)-N(C)})(g.type,v.type)||this.eu(g.doc,v.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,m=f!==this.Za;return this.Za=f,l.length!==0||m?{snapshot:new il(this.query,e.tu,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new UE(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new FE(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qy="SyncEngine";class iL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oL{constructor(e){this.key=e,this.hu=!1}}class aL{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Bo((u=>nE(u)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(be.comparator),this.Au=new Map,this.Ru=new Vy,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lL(n,e,t=!0){const r=WE(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await BE(r,e,t,!0),s}async function cL(n,e){const t=WE(n);await BE(t,e,!0,!1)}async function BE(n,e,t,r){const s=await k4(n.localStore,Fr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await uL(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&PE(n.remoteStore,s),u}async function uL(n,e,t,r,s){n.pu=(v,_,E)=>(async function(N,A,F,U){let k=A.view.ru(F);k.Cs&&(k=await h_(N.localStore,A.query,!1).then((({documents:S})=>A.view.ru(S,k))));const H=U&&U.targetChanges.get(A.targetId),J=U&&U.targetMismatches.get(A.targetId)!=null,Q=A.view.applyChanges(k,N.isPrimaryClient,H,J);return b_(N,A.targetId,Q.au),Q.snapshot})(n,v,_,E);const a=await h_(n.localStore,e,!0),l=new sL(e,a.Qs),u=l.ru(a.documents),f=cu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=l.applyChanges(u,n.isPrimaryClient,f);b_(n,t,m.au);const g=new iL(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function dL(n,e,t){const r=Le(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!hf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rg(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&zy(r.remoteStore,s.targetId),Dg(r,s.targetId)})).catch(fl)):(Dg(r,s.targetId),await Rg(r.localStore,s.targetId,!0))}async function hL(n,e){const t=Le(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zy(t.remoteStore,r.targetId))}async function fL(n,e,t){const r=wL(n);try{const s=await(function(l,u){const f=Le(l),m=st.now(),g=u.reduce(((E,C)=>E.add(C.key)),ze());let v,_;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let C=As(),N=ze();return f.Ns.getEntries(E,g).next((A=>{C=A,C.forEach(((F,U)=>{U.isValidDocument()||(N=N.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,C))).next((A=>{v=A;const F=[];for(const U of u){const k=ID(U,v.get(U.key).overlayedDocument);k!=null&&F.push(new zo(U.key,k,KT(k.value.mapValue),Ur.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,F,u)})).next((A=>{_=A;const F=A.applyToLocalDocumentSet(v,N);return f.documentOverlayCache.saveOverlays(E,A.batchId,F)}))})).then((()=>({batchId:_.batchId,changes:iE(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,f){let m=l.Vu[l.currentUser.toKey()];m||(m=new ft(Be)),m=m.insert(u,f),l.Vu[l.currentUser.toKey()]=m})(r,s.batchId,t),await du(r,s.changes),await xf(r.remoteStore)}catch(s){const a=Gy(s,"Failed to persist write");t.reject(a)}}async function zE(n,e){const t=Le(n);try{const r=await C4(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Xe(l.hu,14607):s.removedDocuments.size>0&&(Xe(l.hu,42227),l.hu=!1))})),await du(t,r,e)}catch(r){await fl(r)}}function __(n,e,t){const r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const f=Le(l);f.onlineState=u;let m=!1;f.queries.forEach(((g,v)=>{for(const _ of v.Sa)_.va(u)&&(m=!0)})),m&&Ky(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pL(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new ft(be.comparator);l=l.insert(a,on.newNoDocument(a,je.min()));const u=ze().add(a),f=new gf(je.min(),new Map,new ft(Be),l,u);await zE(r,f),r.du=r.du.remove(a),r.Au.delete(e),Yy(r)}else await Rg(r.localStore,e,!1).then((()=>Dg(r,e,t))).catch(fl)}async function mL(n,e){const t=Le(n),r=e.batch.batchId;try{const s=await S4(t.localStore,e);HE(t,r,null),$E(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await du(t,s)}catch(s){await fl(s)}}async function gL(n,e,t){const r=Le(n);try{const s=await(function(l,u){const f=Le(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let g;return f.mutationQueue.lookupMutationBatch(m,u).next((v=>(Xe(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(m,v)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,g,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g))).next((()=>f.localDocuments.getDocuments(m,g)))}))})(r.localStore,e);HE(r,e,t),$E(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await du(r,s)}catch(s){await fl(s)}}function $E(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function HE(n,e,t){const r=Le(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Dg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||qE(n,r)}))}function qE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(zy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Yy(n))}function b_(n,e,t){for(const r of t)r instanceof FE?(n.Ru.addReference(r.key,e),yL(n,r)):r instanceof UE?(pe(Qy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||qE(n,r.key)):ke(19791,{wu:r})}function yL(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(pe(Qy,"New document in limbo: "+t),n.Eu.add(r),Yy(n))}function Yy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new be(rt.fromString(e)),r=n.fu.next();n.Au.set(r,new oL(t)),n.du=n.du.insert(t,r),PE(n.remoteStore,new vi(Fr(Ny(t.path)),r,"TargetPurposeLimboResolution",cf.ce))}}async function du(n,e,t){const r=Le(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const g=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(m){s.push(m);const g=Uy.As(f.targetId,m);a.push(g)}})))})),await Promise.all(l),r.Pu.H_(s),await(async function(f,m){const g=Le(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>re.forEach(m,(_=>re.forEach(_.Es,(E=>g.persistence.referenceDelegate.addReference(v,_.targetId,E))).next((()=>re.forEach(_.ds,(E=>g.persistence.referenceDelegate.removeReference(v,_.targetId,E)))))))))}catch(v){if(!pl(v))throw v;pe(By,"Failed to update sequence numbers: "+v)}for(const v of m){const _=v.targetId;if(!v.fromCache){const E=g.Ms.get(_),C=E.snapshotVersion,N=E.withLastLimboFreeSnapshotVersion(C);g.Ms=g.Ms.insert(_,N)}}})(r.localStore,a))}async function vL(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){pe(Qy,"User change. New user:",e.toKey());const r=await CE(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new de(ne.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(t,r.Ls)}}function xL(n,e){const t=Le(n),r=t.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let s=ze();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function WE(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pL.bind(null,e),e.Pu.H_=nL.bind(null,e.eventManager),e.Pu.yu=rL.bind(null,e.eventManager),e}function wL(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gL.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return E4(this.persistence,new _4,e.initialUser,this.serializer)}Cu(e){return new SE(Fy.mi,this.serializer)}Du(e){return new R4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class _L extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof Oh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new o4(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new SE((r=>Oh.mi(r,t)),this.serializer)}}class Lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>__(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=vL.bind(null,this.syncEngine),await Z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tL})()}createDatastore(e){const t=yf(e.databaseInfo.databaseId),r=(function(a){return new O4(a)})(e.databaseInfo);return(function(a,l,u,f){return new U4(a,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,u){return new z4(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>__(this.syncEngine,t,0)),(function(){return m_.v()?new m_:new N4})())}createSyncEngine(e,t){return(function(s,a,l,u,f,m,g){const v=new aL(s,a,l,u,f,m);return g&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Le(t);pe(Do,"RemoteStore shutting down."),r.Ea.add(5),await uu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class bL{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=sn.UNAUTHENTICATED,this.clientId=af.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{pe(Di,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(pe(Di,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rm(n,e){n.asyncQueue.verifyOperationInProgress(),pe(Di,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await CE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function T_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await TL(n);pe(Di,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>y_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>y_(e.remoteStore,s))),n._onlineComponents=e}async function TL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(Di,"Using user provided OfflineComponentProvider");try{await Rm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Rm(n,new Vh)}}else pe(Di,"Using default OfflineComponentProvider"),await Rm(n,new _L(void 0));return n._offlineComponents}async function KE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(Di,"Using user provided OnlineComponentProvider"),await T_(n,n._uninitializedComponentsProvider._online)):(pe(Di,"Using default OnlineComponentProvider"),await T_(n,new Lg))),n._onlineComponents}function EL(n){return KE(n).then((e=>e.syncEngine))}async function QE(n){const e=await KE(n),t=e.eventManager;return t.onListen=lL.bind(null,e.syncEngine),t.onUnlisten=dL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hL.bind(null,e.syncEngine),t}function SL(n,e,t={}){const r=new gs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const g=new GE({next:_=>{g.Nu(),l.enqueueAndForget((()=>ME(a,v)));const E=_.docs.has(u);!E&&_.fromCache?m.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&f&&f.source==="server"?m.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new VE(Ny(u.path),g,{includeMetadataChanges:!0,qa:!0});return OE(a,v)})(await QE(n),n.asyncQueue,e,t,r))),r.promise}function CL(n,e,t={}){const r=new gs;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const g=new GE({next:_=>{g.Nu(),l.enqueueAndForget((()=>ME(a,v))),_.fromCache&&f.source==="server"?m.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),v=new VE(u,g,{includeMetadataChanges:!0,qa:!0});return OE(a,v)})(await QE(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firestore.googleapis.com",S_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JE,this.ssl=S_}else this.host=e.host,this.ssl=e.ssl??S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s4)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new LT;switch(r.type){case"firstParty":return new Oj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=E_.get(t);r&&(pe("ComponentProvider","Removing Datastore"),E_.delete(t),r.terminate())})(this),Promise.resolve()}}function XE(n,e,t,r={}){n=Cs(n,wf);const s=Vi(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(uy(`https://${u}`),dy("Firestore",!0)),a.host!==JE&&a.host!==u&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:s,emulatorOptions:r};if(!ko(f,l)&&(n._setSettings(f),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=sn.MOCK_USER;else{m=Wb(r.mockUserToken,n._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new sn(v)}n._authCredentials=new jj(new DT(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ks(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(au(t,Tt._jsonSchema))return new Tt(e,r||null,new be(rt.fromString(t.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Rt("string",Tt._jsonSchemaVersion),referencePath:Rt("string")};class ys extends ks{constructor(e,t,r){super(e,t,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new be(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function AL(n,e,...t){if(n=$t(n),OT("collection","path",e),n instanceof wf){const r=rt.fromString(e,...t);return Fw(r),new ys(n,null,r)}{if(!(n instanceof Tt||n instanceof ys))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Fw(r),new ys(n.firestore,null,r)}}function Ja(n,e,...t){if(n=$t(n),arguments.length===1&&(e=af.newId()),OT("doc","path",e),n instanceof wf){const r=rt.fromString(e,...t);return Vw(r),new Tt(n,null,new be(r))}{if(!(n instanceof Tt||n instanceof ys))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return Vw(r),new Tt(n.firestore,n instanceof ys?n.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="AsyncQueue";class I_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IE(this,"async_queue_retry"),this._c=()=>{const r=Pm();r&&pe(A_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;pe(A_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",k_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Wy.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&ke(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function k_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class yl extends wf{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new I_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new I_(e),this._firestoreClient=void 0,await e}}}function Jy(n,e){const t=typeof n=="object"?n:my(),r=typeof n=="string"?n:kh,s=nf(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=$b("firestore");a&&XE(s,...a)}return s}function _f(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||IL(n),n._firestoreClient}function IL(n){const e=n._freezeSettings(),t=(function(s,a,l,u){return new Zj(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,YE(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new bL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Ht.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ln(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(au(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Rt("string",Ln._jsonSchemaVersion),bytes:Rt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(au(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:Rt("string",cr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(au(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ur(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:Rt("string",ur._jsonSchemaVersion),vectorValues:Rt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=/^__.*__$/;class PL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}function ZE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:n})}}class Zy{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZE(this.Ac)&&kL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class RL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yf(e)}Cc(e,t,r,s=!1){return new Zy({Ac:e,methodName:t,Dc:r,path:zt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eS(n){const e=n._freezeSettings(),t=yf(n._databaseId);return new RL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NL(n,e,t,r,s,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);rS("Data must be an object, but it was:",l,r);const u=tS(r,l);let f,m;if(a.merge)f=new ar(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const _=DL(e,v,t);if(!l.contains(_))throw new de(ne.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);OL(g,_)||g.push(_)}f=new ar(g),m=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,m=l.fieldTransforms;return new PL(new Qn(u),f,m)}function jL(n,e,t,r=!1){return ev(t,n.Cc(r?4:3,e))}function ev(n,e){if(nS(n=$t(n)))return rS("Unsupported field value:",e,n),tS(n,e);if(n instanceof Xy)return(function(r,s){if(!ZE(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let f=ev(u,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Lh(s.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(s.serializer,a)}}if(r instanceof cr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:yE(s.serializer,r._byteString)};if(r instanceof Tt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:My(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ur)return(function(l,u){return{mapValue:{fields:{[WT]:{stringValue:GT},[Ph]:{arrayValue:{values:l.toArray().map((m=>{if(typeof m!="number")throw u.Sc("VectorValues must only contain numeric values.");return jy(u.serializer,m)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${lf(r)}`)})(n,e)}function tS(n,e){const t={};return UT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(n,((r,s)=>{const a=ev(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function nS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof cr||n instanceof Ln||n instanceof Tt||n instanceof Xy||n instanceof ur)}function rS(n,e,t){if(!nS(t)||!VT(t)){const r=lf(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function DL(n,e,t){if((e=$t(e))instanceof bf)return e._internalPath;if(typeof e=="string")return sS(n,e);throw Fh("Field path arguments must be of type string or ",n,!1,void 0,t)}const LL=new RegExp("[~\\*/\\[\\]]");function sS(n,e,t){if(e.search(LL)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bf(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fh(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new de(ne.INVALID_ARGUMENT,u+n+f)}function OL(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ML(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ML extends iS{data(){return super.data()}}function Tf(n,e){return typeof e=="string"?sS(n,e):e instanceof bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tv{}class Ef extends tv{}function FL(n,e,...t){let r=[];e instanceof tv&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof Sf)).length,u=a.filter((f=>f instanceof hu)).length;if(l>1||l>0&&u>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class hu extends Ef{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hu(e,t,r)}_apply(e){const t=this._parse(e);return oS(e._query,t),new ks(e.firestore,e.converter,Cg(e._query,t))}_parse(e){const t=eS(e.firestore);return(function(a,l,u,f,m,g,v){let _;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){R_(v,g);const C=[];for(const N of v)C.push(P_(f,a,N));_={arrayValue:{values:C}}}else _=P_(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||R_(v,g),_=jL(u,l,v,g==="in"||g==="not-in");return Pt.create(m,g,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UL(n,e,t){const r=e,s=Tf("where",n);return hu._create(s,r,t)}class Sf extends tv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sf(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const f of u)oS(l,f),l=Cg(l,f)})(e._query,t),new ks(e.firestore,e.converter,Cg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cf extends Ef{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cf(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qc(a,l)})(e._query,this._field,this._direction);return new ks(e.firestore,e.converter,(function(s,a){const l=s.explicitOrderBy.concat([a]);return new ml(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function BL(n,e="asc"){const t=e,r=Tf("orderBy",n);return Cf._create(r,t)}class Af extends Ef{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Af(e,t,r)}_apply(e){return new ks(e.firestore,e.converter,Nh(e._query,this._limit,this._limitType))}}function zL(n){return zj("limit",n),Af._create("limit",n,"F")}function P_(n,e,t){if(typeof(t=$t(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rt.fromString(t));if(!be.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gw(n,new be(r))}if(t instanceof Tt)return Gw(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(t)}.`)}function R_(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oS(n,e){const t=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aS{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uo(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Ph].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new ur(t)}convertGeoPoint(e){return new cr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=df(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const t=Pi(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Xe(TE(r),9688,{name:e});const s=new tl(r.get(1),r.get(3)),a=new be(r.popFirst(5));return s.isEqual(t)||Ss(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Fa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends iS{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ti._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Rt("string",Ti._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Pc extends Ti{data(e={}){return super.data(e)}}class So{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Fa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Pc(this._firestore,this._userDataWriter,r.key,r,new Fa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const f=new Pc(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Fa(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Pc(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Fa(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,g=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:HL(u.type),doc:f,oldIndex:m,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=So._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=af.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n){n=Cs(n,Tt);const e=Cs(n.firestore,yl);return SL(_f(e),n._key).then((t=>GL(e,n,t)))}So._jsonSchemaVersion="firestore/querySnapshot/1.0",So._jsonSchema={type:Rt("string",So._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class cS extends aS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function qL(n){n=Cs(n,ks);const e=Cs(n.firestore,yl),t=_f(e),r=new cS(e);return VL(n._query),CL(t,n._query).then((s=>new So(e,r,n,s)))}function Uh(n,e,t){n=Cs(n,Tt);const r=Cs(n.firestore,yl),s=$L(n.converter,e,t);return nv(r,[NL(eS(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ur.none())])}function WL(n){return nv(Cs(n.firestore,yl),[new Dy(n._key,Ur.none())])}function nv(n,e){return(function(r,s){const a=new gs;return r.asyncQueue.enqueueAndForget((async()=>fL(await EL(r),s,a))),a.promise})(_f(n),e)}function GL(n,e,t){const r=t.docs.get(e._key),s=new cS(n);return new Ti(n,s,e._key,r,new Fa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){hl=s})(Fo),Po(new Ii("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new yl(new Dj(r.getProvider("auth-internal")),new Mj(l,r.getProvider("app-check-internal")),(function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tl(m.options.projectId,g)})(l,s),l);return a={useFetchStreams:t,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),Mr(Dw,Lw,e),Mr(Dw,Lw,"esm2020")})();const Ua=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:aS,Bytes:Ln,CollectionReference:ys,DocumentReference:Tt,DocumentSnapshot:Ti,FieldPath:bf,FieldValue:Xy,Firestore:yl,FirestoreError:de,GeoPoint:cr,Query:ks,QueryCompositeFilterConstraint:Sf,QueryConstraint:Ef,QueryDocumentSnapshot:Pc,QueryFieldFilterConstraint:hu,QueryLimitConstraint:Af,QueryOrderByConstraint:Cf,QuerySnapshot:So,SnapshotMetadata:Fa,Timestamp:st,VectorValue:ur,_AutoId:af,_ByteString:Ht,_DatabaseId:tl,_DocumentKey:be,_EmptyAuthCredentialsProvider:LT,_FieldPath:zt,_cast:Cs,_logWarn:jo,_validateIsNotUsedTogether:MT,collection:AL,connectFirestoreEmulator:XE,deleteDoc:WL,doc:Ja,ensureFirestoreConfigured:_f,executeWrite:nv,getDoc:lS,getDocs:qL,getFirestore:Jy,limit:zL,orderBy:BL,query:FL,setDoc:Uh,where:UL},Symbol.toStringTag,{value:"Module"})),KL={apiKey:"demo-key",authDomain:"dreambuild-2024-app.firebaseapp.com",projectId:"dreambuild-2024-app",storageBucket:"dreambuild-2024-app.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456789"},uS=py(KL),qd=Rj(uS),Nm=Jy(uS),dS=D.createContext();function QL(){return D.useContext(dS)}function YL({children:n}){const[e,t]=D.useState(null),[r,s]=D.useState(!0);D.useEffect(()=>xN(qd,async m=>{if(m){const g=await lS(Ja(Nm,"users",m.uid)),v=g.exists()?g.data():null;t({uid:m.uid,email:m.email,displayName:m.displayName,photoURL:m.photoURL,...v})}else t(null);s(!1)}),[]);const u={user:e,loading:r,signInWithGoogle:async()=>{try{const f=new hs,m=await UN(qd,f);await Uh(Ja(Nm,"users",m.user.uid),{uid:m.user.uid,email:m.user.email,displayName:m.user.displayName,photoURL:m.user.photoURL,createdAt:new Date,lastLogin:new Date},{merge:!0}),Re.success("Successfully signed in!")}catch(f){Re.error("Failed to sign in: "+f.message)}},logout:async()=>{try{await wN(qd),Re.success("Successfully signed out!")}catch(f){Re.error("Failed to sign out: "+f.message)}},auth:qd,db:Nm};return h.jsx(dS.Provider,{value:u,children:!r&&n})}const JL="modulepreload",XL=function(n){return"/"+n},N_={},Ba=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let m=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var l=m;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");s=m(t.map(g=>{if(g=XL(g),g in N_)return;N_[g]=!0;const v=g.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":JL,v||(E.as="script"),E.crossOrigin="",E.href=g,f&&E.setAttribute("nonce",f),document.head.appendChild(E),v)return new Promise((C,N)=>{E.addEventListener("load",C),E.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return s.then(u=>{for(const f of u||[])f.status==="rejected"&&a(f.reason);return e().catch(a)})},hS=D.createContext();function Ho(){return D.useContext(hS)}function ZL({children:n}){const{user:e,db:t}=QL(),[r,s]=D.useState({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),[a,l]=D.useState([]),[u,f]=D.useState(!1),m=D.useCallback(U=>{s(k=>({...k,activeFile:U,lastModified:new Date}))},[]),g=D.useCallback((U,k)=>{s(H=>({...H,files:{...H.files,[U]:k},lastModified:new Date}))},[]),v=D.useCallback(U=>{s(k=>({...k,config:{...k.config,...U},lastModified:new Date}))},[]),_=D.useCallback(async(U=null)=>{if(!e){Re.error("Please sign in to save projects");return}f(!0);try{const k={...r,name:U||r.name,userId:e.uid,lastModified:new Date},{doc:H,setDoc:J,collection:Q}=await Ba(async()=>{const{doc:I,setDoc:j,collection:P}=await Promise.resolve().then(()=>Ua);return{doc:I,setDoc:j,collection:P}},void 0),S=H(Q(t,"projects"));await J(S,{...k,id:S.id,createdAt:r.id?void 0:new Date}),s(I=>({...I,id:S.id})),Re.success("Project saved successfully!"),E()}catch(k){Re.error("Failed to save project: "+k.message)}finally{f(!1)}},[r,e,t]),E=D.useCallback(async()=>{if(e){f(!0);try{const{collection:U,query:k,where:H,getDocs:J,orderBy:Q}=await Ba(async()=>{const{collection:M,query:z,where:L,getDocs:ye,orderBy:q}=await Promise.resolve().then(()=>Ua);return{collection:M,query:z,where:L,getDocs:ye,orderBy:q}},void 0),S=U(t,"projects"),I=k(S,H("userId","==",e.uid),Q("lastModified","desc")),P=(await J(I)).docs.map(M=>({id:M.id,...M.data()}));l(P)}catch(U){Re.error("Failed to load projects: "+U.message)}finally{f(!1)}}},[e,t]),C=D.useCallback(async U=>{if(e){f(!0);try{const{doc:k,getDoc:H}=await Ba(async()=>{const{doc:S,getDoc:I}=await Promise.resolve().then(()=>Ua);return{doc:S,getDoc:I}},void 0),J=k(t,"projects",U),Q=await H(J);if(Q.exists()){const S={id:Q.id,...Q.data()};s(S),Re.success("Project loaded successfully!")}else Re.error("Project not found")}catch(k){Re.error("Failed to load project: "+k.message)}finally{f(!1)}}},[e,t]),N=D.useCallback(async U=>{if(e){f(!0);try{const{doc:k,deleteDoc:H}=await Ba(async()=>{const{doc:J,deleteDoc:Q}=await Promise.resolve().then(()=>Ua);return{doc:J,deleteDoc:Q}},void 0);await H(k(t,"projects",U)),l(J=>J.filter(Q=>Q.id!==U)),Re.success("Project deleted successfully!")}catch(k){Re.error("Failed to delete project: "+k.message)}finally{f(!1)}}},[e,t]),A=D.useCallback(()=>{s({id:null,name:"Untitled Project",files:{"index.html":"","style.css":"","script.js":"","components.jsx":""},activeFile:"index.html",config:{appType:"frontend",language:"javascript",styling:"tailwind",database:"none",auth:"none"},lastModified:new Date}),Re.success("New project created!")},[]),F={currentProject:r,projects:a,isLoading:u,switchFile:m,updateFile:g,updateConfig:v,saveProject:_,loadProjects:E,loadProject:C,deleteProject:N,createNewProject:A};return h.jsx(hS.Provider,{value:F,children:n})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(n,e)=>{const t=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:f,...m},g)=>D.createElement("svg",{ref:g,...eO,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${tO(n)}`,u].join(" "),...m},[...e.map(([v,_])=>D.createElement(v,_)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=_e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=_e("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=_e("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=_e("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=_e("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=_e("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=_e("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=_e("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=_e("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=_e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=_e("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=_e("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=_e("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=_e("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=_e("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=_e("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=_e("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=_e("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=_e("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=_e("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=_e("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),AO=()=>{const{theme:n,toggleTheme:e}=cy(),[t,r]=D.useState(!1),s=eu(),a=[{name:"Home",href:"/",icon:Ei},{name:"AI Builder",href:"/ai-builder",icon:hr},{name:"Projects",href:"/projects",icon:fO},{name:"Dashboard",href:"/dashboard",icon:bS}],l=u=>s.pathname===u;return h.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/95 backdrop-blur-lg border-b border-border/50 shadow-sm",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex items-center justify-between h-20",children:[h.jsxs(di,{to:"/",className:"flex items-center gap-3 group",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-primary-dark rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform duration-200 shadow-lg",children:h.jsx(Pf,{className:"h-6 w-6 text-primary-foreground"})}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xl font-bold text-high-contrast",children:"DreamBuild"}),h.jsx("span",{className:"text-xs text-muted-foreground -mt-1",children:"AI Development Platform"})]})]}),h.jsx("div",{className:"hidden lg:flex items-center gap-1",children:a.map(u=>{const f=u.icon;return h.jsxs(di,{to:u.href,className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 border ${l(u.href)?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-foreground border-border hover:bg-muted hover:border-primary/30 shadow-sm hover:shadow-md"}`,children:[h.jsx(f,{className:"h-4 w-4"}),u.name]},u.name)})}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:e,className:"p-2.5 rounded-lg hover:bg-muted/50 transition-all duration-200 border border-border/50 hover:border-primary/30 group",title:`Switch to ${n==="light"?"dark":"light"} mode`,children:n==="light"?h.jsx(_O,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"}):h.jsx(EO,{className:"h-5 w-5 text-warning group-hover:text-primary transition-colors"})}),h.jsxs(di,{to:"/login",className:"hidden sm:flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-primary to-primary-dark text-primary-foreground rounded-lg hover:from-primary-dark hover:to-primary transition-all duration-200 text-sm font-semibold shadow-lg hover:shadow-xl hover:-translate-y-0.5",children:[h.jsx(Ei,{className:"h-4 w-4"}),"Sign In"]}),h.jsx("button",{onClick:()=>r(!t),className:"lg:hidden p-2 rounded-lg hover:bg-muted/50 transition-colors",children:t?h.jsx(CO,{className:"h-6 w-6"}):h.jsx(xO,{className:"h-6 w-6"})})]})]}),t&&h.jsx("div",{className:"lg:hidden border-t border-border/50 bg-background/95 backdrop-blur-lg",children:h.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[a.map(u=>{const f=u.icon;return h.jsxs(di,{to:u.href,onClick:()=>r(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg text-base font-medium transition-all duration-200 border ${l(u.href)?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-foreground border-border hover:bg-muted hover:border-primary/30 shadow-sm"}`,children:[h.jsx(f,{className:"h-5 w-5"}),u.name]},u.name)}),h.jsxs(di,{to:"/login",onClick:()=>r(!1),className:"flex items-center gap-3 px-4 py-3 mt-4 bg-gradient-to-r from-primary to-primary-dark text-primary-foreground rounded-lg text-base font-semibold",children:[h.jsx(Ei,{className:"h-5 w-5"}),"Sign In"]})]})})]})})},IO=()=>h.jsx("footer",{className:"bg-muted/30 border-t border-border",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-primary-foreground font-bold",children:"D"})}),h.jsx("span",{className:"text-xl font-bold",children:"DreamBuild"})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Universal AI Development Platform supporting 100+ programming languages. Build, code, and deploy with the power of AI."}),h.jsx("div",{className:"flex gap-2",children:h.jsx("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"p-2 hover:bg-muted rounded-md transition-colors",children:h.jsx(If,{className:"h-4 w-4"})})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Product"}),h.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsx("li",{children:h.jsx("a",{href:"/ai-builder",className:"hover:text-foreground transition-colors",children:"AI Builder"})}),h.jsx("li",{children:h.jsx("a",{href:"/projects",className:"hover:text-foreground transition-colors",children:"Projects"})}),h.jsx("li",{children:h.jsx("a",{href:"/dashboard",className:"hover:text-foreground transition-colors",children:"Dashboard"})})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Resources"}),h.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Documentation"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Examples"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Community"})})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-sm font-semibold",children:"Company"}),h.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"About"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Blog"})}),h.jsx("li",{children:h.jsx("a",{href:"#",className:"hover:text-foreground transition-colors",children:"Contact"})})]})]})]}),h.jsx("hr",{className:"my-8 border-border"}),h.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h.jsx("span",{children:"© 2024 Bradley Virtual Solutions, LLC"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Made with"}),h.jsx(gO,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{children:"for developers"})]})})]})}),TS=D.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),Rf=D.createContext({}),Nf=D.createContext(null),jf=typeof document<"u",rv=jf?D.useLayoutEffect:D.useEffect,ES=D.createContext({strict:!1}),sv=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),kO="framerAppearId",SS="data-"+sv(kO);function PO(n,e,t,r){const{visualElement:s}=D.useContext(Rf),a=D.useContext(ES),l=D.useContext(Nf),u=D.useContext(TS).reducedMotion,f=D.useRef();r=r||a.renderer,!f.current&&r&&(f.current=r(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const m=f.current;D.useInsertionEffect(()=>{m&&m.update(t,l)});const g=D.useRef(!!(t[SS]&&!window.HandoffComplete));return rv(()=>{m&&(m.render(),g.current&&m.animationState&&m.animationState.animateChanges())}),D.useEffect(()=>{m&&(m.updateFeatures(),!g.current&&m.animationState&&m.animationState.animateChanges(),g.current&&(g.current=!1,window.HandoffComplete=!0))}),m}function za(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function RO(n,e,t){return D.useCallback(r=>{r&&n.mount&&n.mount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):za(t)&&(t.current=r))},[e])}function Qc(n){return typeof n=="string"||Array.isArray(n)}function Df(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ov=["initial",...iv];function Lf(n){return Df(n.animate)||ov.some(e=>Qc(n[e]))}function CS(n){return!!(Lf(n)||n.variants)}function NO(n,e){if(Lf(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Qc(t)?t:void 0,animate:Qc(r)?r:void 0}}return n.inherit!==!1?e:{}}function jO(n){const{initial:e,animate:t}=NO(n,D.useContext(Rf));return D.useMemo(()=>({initial:e,animate:t}),[V_(e),V_(t)])}function V_(n){return Array.isArray(n)?n.join(" "):n}const F_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yc={};for(const n in F_)Yc[n]={isEnabled:e=>F_[n].some(t=>!!e[t])};function DO(n){for(const e in n)Yc[e]={...Yc[e],...n[e]}}const av=D.createContext({}),AS=D.createContext({}),LO=Symbol.for("motionComponentSymbol");function OO({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){n&&DO(n);function a(u,f){let m;const g={...D.useContext(TS),...u,layoutId:MO(u)},{isStatic:v}=g,_=jO(u),E=r(u,v);if(!v&&jf){_.visualElement=PO(s,E,g,e);const C=D.useContext(AS),N=D.useContext(ES).strict;_.visualElement&&(m=_.visualElement.loadFeatures(g,N,n,C))}return D.createElement(Rf.Provider,{value:_},m&&_.visualElement?D.createElement(m,{visualElement:_.visualElement,...g}):null,t(s,u,RO(E,_.visualElement,f),E,v,_.visualElement))}const l=D.forwardRef(a);return l[LO]=s,l}function MO({layoutId:n}){const e=D.useContext(av).id;return e&&n!==void 0?e+"-"+n:n}function VO(n){function e(r,s={}){return OO(n(r,s))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(r,s)=>(t.has(s)||t.set(s,e(s)),t.get(s))})}const FO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lv(n){return typeof n!="string"||n.includes("-")?!1:!!(FO.indexOf(n)>-1||/[A-Z]/.test(n))}const zh={};function UO(n){Object.assign(zh,n)}const fu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qo=new Set(fu);function IS(n,{layout:e,layoutId:t}){return qo.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!zh[n]||n==="opacity")}const Tn=n=>!!(n&&n.getVelocity),BO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zO=fu.length;function $O(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},r,s){let a="";for(let l=0;l<zO;l++){const u=fu[l];if(n[u]!==void 0){const f=BO[u]||u;a+=`${f}(${n[u]}) `}}return e&&!n.z&&(a+="translateZ(0)"),a=a.trim(),s?a=s(n,r?"":a):t&&r&&(a="none"),a}const kS=n=>e=>typeof e=="string"&&e.startsWith(n),PS=kS("--"),Ug=kS("var(--"),HO=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qO=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Li=(n,e,t)=>Math.min(Math.max(t,n),e),Wo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Nc={...Wo,transform:n=>Li(0,1,n)},Wd={...Wo,default:1},jc=n=>Math.round(n*1e5)/1e5,Of=/(-)?([\d]*\.?[\d])+/g,RS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,WO=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pu(n){return typeof n=="string"}const mu=n=>({test:e=>pu(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),li=mu("deg"),zr=mu("%"),Ie=mu("px"),GO=mu("vh"),KO=mu("vw"),U_={...zr,parse:n=>zr.parse(n)/100,transform:n=>zr.transform(n*100)},B_={...Wo,transform:Math.round},NS={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:li,rotateX:li,rotateY:li,rotateZ:li,scale:Wd,scaleX:Wd,scaleY:Wd,scaleZ:Wd,skew:li,skewX:li,skewY:li,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Nc,originX:U_,originY:U_,originZ:Ie,zIndex:B_,fillOpacity:Nc,strokeOpacity:Nc,numOctaves:B_};function cv(n,e,t,r){const{style:s,vars:a,transform:l,transformOrigin:u}=n;let f=!1,m=!1,g=!0;for(const v in e){const _=e[v];if(PS(v)){a[v]=_;continue}const E=NS[v],C=qO(_,E);if(qo.has(v)){if(f=!0,l[v]=C,!g)continue;_!==(E.default||0)&&(g=!1)}else v.startsWith("origin")?(m=!0,u[v]=C):s[v]=C}if(e.transform||(f||r?s.transform=$O(n.transform,t,g,r):s.transform&&(s.transform="none")),m){const{originX:v="50%",originY:_="50%",originZ:E=0}=u;s.transformOrigin=`${v} ${_} ${E}`}}const uv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jS(n,e,t){for(const r in e)!Tn(e[r])&&!IS(r,t)&&(n[r]=e[r])}function QO({transformTemplate:n},e,t){return D.useMemo(()=>{const r=uv();return cv(r,e,{enableHardwareAcceleration:!t},n),Object.assign({},r.vars,r.style)},[e])}function YO(n,e,t){const r=n.style||{},s={};return jS(s,r,n),Object.assign(s,QO(n,e,t)),n.transformValues?n.transformValues(s):s}function JO(n,e,t){const r={},s=YO(n,e,t);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=s,r}const XO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||XO.has(n)}let DS=n=>!$h(n);function ZO(n){n&&(DS=e=>e.startsWith("on")?!$h(e):n(e))}try{ZO(require("@emotion/is-prop-valid").default)}catch{}function eM(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(DS(s)||t===!0&&$h(s)||!e&&!$h(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function z_(n,e,t){return typeof n=="string"?n:Ie.transform(e+t*n)}function tM(n,e,t){const r=z_(e,n.x,n.width),s=z_(t,n.y,n.height);return`${r} ${s}`}const nM={offset:"stroke-dashoffset",array:"stroke-dasharray"},rM={offset:"strokeDashoffset",array:"strokeDasharray"};function sM(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?nM:rM;n[a.offset]=Ie.transform(-r);const l=Ie.transform(e),u=Ie.transform(t);n[a.array]=`${l} ${u}`}function dv(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:u=1,pathOffset:f=0,...m},g,v,_){if(cv(n,m,g,_),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:C,dimensions:N}=n;E.transform&&(N&&(C.transform=E.transform),delete E.transform),N&&(s!==void 0||a!==void 0||C.transform)&&(C.transformOrigin=tM(N,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),l!==void 0&&sM(E,l,u,f,!1)}const LS=()=>({...uv(),attrs:{}}),hv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function iM(n,e,t,r){const s=D.useMemo(()=>{const a=LS();return dv(a,e,{enableHardwareAcceleration:!1},hv(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};jS(a,n.style,n),s.style={...a,...s.style}}return s}function oM(n=!1){return(t,r,s,{latestValues:a},l)=>{const f=(lv(t)?iM:JO)(r,a,l,t),g={...eM(r,typeof t=="string",n),...f,ref:s},{children:v}=r,_=D.useMemo(()=>Tn(v)?v.get():v,[v]);return D.createElement(t,{...g,children:_})}}function OS(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const MS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VS(n,e,t,r){OS(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(MS.has(s)?s:sv(s),e.attrs[s])}function fv(n,e){const{style:t}=n,r={};for(const s in t)(Tn(t[s])||e.style&&Tn(e.style[s])||IS(s,n))&&(r[s]=t[s]);return r}function FS(n,e){const t=fv(n,e);for(const r in n)if(Tn(n[r])||Tn(e[r])){const s=fu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;t[s]=n[r]}return t}function pv(n,e,t,r={},s={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,r,s)),e}function US(n){const e=D.useRef(null);return e.current===null&&(e.current=n()),e.current}const Hh=n=>Array.isArray(n),aM=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),lM=n=>Hh(n)?n[n.length-1]||0:n;function fh(n){const e=Tn(n)?n.get():n;return aM(e)?e.toValue():e}function cM({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},r,s,a){const l={latestValues:uM(r,s,a,n),renderState:e()};return t&&(l.mount=u=>t(r,u,l)),l}const BS=n=>(e,t)=>{const r=D.useContext(Rf),s=D.useContext(Nf),a=()=>cM(n,e,r,s);return t?a():US(a)};function uM(n,e,t,r){const s={},a=r(n,{});for(const _ in a)s[_]=fh(a[_]);let{initial:l,animate:u}=n;const f=Lf(n),m=CS(n);e&&m&&!f&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let g=t?t.initial===!1:!1;g=g||l===!1;const v=g?u:l;return v&&typeof v!="boolean"&&!Df(v)&&(Array.isArray(v)?v:[v]).forEach(E=>{const C=pv(n,E);if(!C)return;const{transitionEnd:N,transition:A,...F}=C;for(const U in F){let k=F[U];if(Array.isArray(k)){const H=g?k.length-1:0;k=k[H]}k!==null&&(s[U]=k)}for(const U in N)s[U]=N[U]}),s}const bt=n=>n;class $_{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function dM(n){let e=new $_,t=new $_,r=0,s=!1,a=!1;const l=new WeakSet,u={schedule:(f,m=!1,g=!1)=>{const v=g&&s,_=v?e:t;return m&&l.add(f),_.add(f)&&v&&s&&(r=e.order.length),f},cancel:f=>{t.remove(f),l.delete(f)},process:f=>{if(s){a=!0;return}if(s=!0,[e,t]=[t,e],t.clear(),r=e.order.length,r)for(let m=0;m<r;m++){const g=e.order[m];g(f),l.has(g)&&(u.schedule(g),n())}s=!1,a&&(a=!1,u.process(f))}};return u}const Gd=["prepare","read","update","preRender","render","postRender"],hM=40;function fM(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=Gd.reduce((v,_)=>(v[_]=dM(()=>t=!0),v),{}),l=v=>a[v].process(s),u=()=>{const v=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(v-s.timestamp,hM),1),s.timestamp=v,s.isProcessing=!0,Gd.forEach(l),s.isProcessing=!1,t&&e&&(r=!1,n(u))},f=()=>{t=!0,r=!0,s.isProcessing||n(u)};return{schedule:Gd.reduce((v,_)=>{const E=a[_];return v[_]=(C,N=!1,A=!1)=>(t||f(),E.schedule(C,N,A)),v},{}),cancel:v=>Gd.forEach(_=>a[_].cancel(v)),state:s,steps:a}}const{schedule:it,cancel:Is,state:rn,steps:Lm}=fM(typeof requestAnimationFrame<"u"?requestAnimationFrame:bt,!0),pM={useVisualState:BS({scrapeMotionValuesFromProps:FS,createRenderState:LS,onMount:(n,e,{renderState:t,latestValues:r})=>{it.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),it.render(()=>{dv(t,r,{enableHardwareAcceleration:!1},hv(e.tagName),n.transformTemplate),VS(e,t)})}})},mM={useVisualState:BS({scrapeMotionValuesFromProps:fv,createRenderState:uv})};function gM(n,{forwardMotionProps:e=!1},t,r){return{...lv(n)?pM:mM,preloadedFeatures:t,useRender:oM(e),createVisualElement:r,Component:n}}function ms(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const zS=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Mf(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const yM=n=>e=>zS(e)&&n(e,Mf(e));function xs(n,e,t,r){return ms(n,e,yM(t),r)}const vM=(n,e)=>t=>e(n(t)),Ci=(...n)=>n.reduce(vM);function $S(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const H_=$S("dragHorizontal"),q_=$S("dragVertical");function HS(n){let e=!1;if(n==="y")e=q_();else if(n==="x")e=H_();else{const t=H_(),r=q_();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function qS(){const n=HS(!0);return n?(n(),!1):!0}class Fi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function W_(n,e){const t="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(a,l)=>{if(a.pointerType==="touch"||qS())return;const u=n.getProps();n.animationState&&u.whileHover&&n.animationState.setActive("whileHover",e),u[r]&&it.update(()=>u[r](a,l))};return xs(n.current,t,s,{passive:!n.getProps()[r]})}class xM extends Fi{mount(){this.unmount=Ci(W_(this.node,!0),W_(this.node,!1))}unmount(){}}class wM extends Fi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ci(ms(this.node.current,"focus",()=>this.onFocus()),ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WS=(n,e)=>e?n===e?!0:WS(n,e.parentElement):!1;function Om(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Mf(t))}class _M extends Fi{constructor(){super(...arguments),this.removeStartListeners=bt,this.removeEndListeners=bt,this.removeAccessibleListeners=bt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=xs(window,"pointerup",(u,f)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:g,globalTapTarget:v}=this.node.getProps();it.update(()=>{!v&&!WS(this.node.current,u.target)?g&&g(u,f):m&&m(u,f)})},{passive:!(r.onTap||r.onPointerUp)}),l=xs(window,"pointercancel",(u,f)=>this.cancelPress(u,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ci(a,l),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=u=>{u.key!=="Enter"||!this.checkPressEnd()||Om("up",(f,m)=>{const{onTap:g}=this.node.getProps();g&&it.update(()=>g(f,m))})};this.removeEndListeners(),this.removeEndListeners=ms(this.node.current,"keyup",l),Om("down",(u,f)=>{this.startPress(u,f)})},t=ms(this.node.current,"keydown",e),r=()=>{this.isPressing&&Om("cancel",(a,l)=>this.cancelPress(a,l))},s=ms(this.node.current,"blur",r);this.removeAccessibleListeners=Ci(t,s)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&it.update(()=>r(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!qS()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&it.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=xs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ms(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ci(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Bg=new WeakMap,Mm=new WeakMap,bM=n=>{const e=Bg.get(n.target);e&&e(n)},TM=n=>{n.forEach(bM)};function EM({root:n,...e}){const t=n||document;Mm.has(t)||Mm.set(t,{});const r=Mm.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(TM,{root:n,...e})),r[s]}function SM(n,e,t){const r=EM(e);return Bg.set(n,t),r.observe(n),()=>{Bg.delete(n),r.unobserve(n)}}const CM={some:0,all:1};class AM extends Fi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:CM[s]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),_=m?g:v;_&&_(f)};return SM(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(IM(e,t))&&this.startObserver()}unmount(){}}function IM({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const kM={inView:{Feature:AM},tap:{Feature:_M},focus:{Feature:wM},hover:{Feature:xM}};function GS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function PM(n){const e={};return n.values.forEach((t,r)=>e[r]=t.get()),e}function RM(n){const e={};return n.values.forEach((t,r)=>e[r]=t.getVelocity()),e}function Vf(n,e,t){const r=n.getProps();return pv(r,e,t!==void 0?t:r.custom,PM(n),RM(n))}let mv=bt;const Co=n=>n*1e3,ws=n=>n/1e3,NM={current:!1},KS=n=>Array.isArray(n)&&typeof n[0]=="number";function QS(n){return!!(!n||typeof n=="string"&&YS[n]||KS(n)||Array.isArray(n)&&n.every(QS))}const bc=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,YS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bc([0,.65,.55,1]),circOut:bc([.55,0,1,.45]),backIn:bc([.31,.01,.66,-.59]),backOut:bc([.33,1.53,.69,.99])};function JS(n){if(n)return KS(n)?bc(n):Array.isArray(n)?n.map(JS):YS[n]}function jM(n,e,t,{delay:r=0,duration:s,repeat:a=0,repeatType:l="loop",ease:u,times:f}={}){const m={[e]:t};f&&(m.offset=f);const g=JS(u);return Array.isArray(g)&&(m.easing=g),n.animate(m,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function DM(n,{repeat:e,repeatType:t="loop"}){const r=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[r]}const XS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,LM=1e-7,OM=12;function MM(n,e,t,r,s){let a,l,u=0;do l=e+(t-e)/2,a=XS(l,r,s)-n,a>0?t=l:e=l;while(Math.abs(a)>LM&&++u<OM);return l}function gu(n,e,t,r){if(n===e&&t===r)return bt;const s=a=>MM(a,0,1,n,t);return a=>a===0||a===1?a:XS(s(a),e,r)}const VM=gu(.42,0,1,1),FM=gu(0,0,.58,1),ZS=gu(.42,0,.58,1),UM=n=>Array.isArray(n)&&typeof n[0]!="number",e2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,t2=n=>e=>1-n(1-e),gv=n=>1-Math.sin(Math.acos(n)),n2=t2(gv),BM=e2(gv),r2=gu(.33,1.53,.69,.99),yv=t2(r2),zM=e2(yv),$M=n=>(n*=2)<1?.5*yv(n):.5*(2-Math.pow(2,-10*(n-1))),HM={linear:bt,easeIn:VM,easeInOut:ZS,easeOut:FM,circIn:gv,circInOut:BM,circOut:n2,backIn:yv,backInOut:zM,backOut:r2,anticipate:$M},G_=n=>{if(Array.isArray(n)){mv(n.length===4);const[e,t,r,s]=n;return gu(e,t,r,s)}else if(typeof n=="string")return HM[n];return n},vv=(n,e)=>t=>!!(pu(t)&&WO.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),s2=(n,e,t)=>r=>{if(!pu(r))return r;const[s,a,l,u]=r.match(Of);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},qM=n=>Li(0,255,n),Vm={...Wo,transform:n=>Math.round(qM(n))},bo={test:vv("rgb","red"),parse:s2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Vm.transform(n)+", "+Vm.transform(e)+", "+Vm.transform(t)+", "+jc(Nc.transform(r))+")"};function WM(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const zg={test:vv("#"),parse:WM,transform:bo.transform},$a={test:vv("hsl","hue"),parse:s2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+zr.transform(jc(e))+", "+zr.transform(jc(t))+", "+jc(Nc.transform(r))+")"},hn={test:n=>bo.test(n)||zg.test(n)||$a.test(n),parse:n=>bo.test(n)?bo.parse(n):$a.test(n)?$a.parse(n):zg.parse(n),transform:n=>pu(n)?n:n.hasOwnProperty("red")?bo.transform(n):$a.transform(n)},ht=(n,e,t)=>-t*n+t*e+n;function Fm(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function GM({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,l=0;if(!e)s=a=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,f=2*t-u;s=Fm(f,u,n+1/3),a=Fm(f,u,n),l=Fm(f,u,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}const Um=(n,e,t)=>{const r=n*n;return Math.sqrt(Math.max(0,t*(e*e-r)+r))},KM=[zg,bo,$a],QM=n=>KM.find(e=>e.test(n));function K_(n){const e=QM(n);let t=e.parse(n);return e===$a&&(t=GM(t)),t}const i2=(n,e)=>{const t=K_(n),r=K_(e),s={...t};return a=>(s.red=Um(t.red,r.red,a),s.green=Um(t.green,r.green,a),s.blue=Um(t.blue,r.blue,a),s.alpha=ht(t.alpha,r.alpha,a),bo.transform(s))};function YM(n){var e,t;return isNaN(n)&&pu(n)&&(((e=n.match(Of))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(RS))===null||t===void 0?void 0:t.length)||0)>0}const o2={regex:HO,countKey:"Vars",token:"${v}",parse:bt},a2={regex:RS,countKey:"Colors",token:"${c}",parse:hn.parse},l2={regex:Of,countKey:"Numbers",token:"${n}",parse:Wo.parse};function Bm(n,{regex:e,countKey:t,token:r,parse:s}){const a=n.tokenised.match(e);a&&(n["num"+t]=a.length,n.tokenised=n.tokenised.replace(e,r),n.values.push(...a.map(s)))}function qh(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Bm(t,o2),Bm(t,a2),Bm(t,l2),t}function c2(n){return qh(n).values}function u2(n){const{values:e,numColors:t,numVars:r,tokenised:s}=qh(n),a=e.length;return l=>{let u=s;for(let f=0;f<a;f++)f<r?u=u.replace(o2.token,l[f]):f<r+t?u=u.replace(a2.token,hn.transform(l[f])):u=u.replace(l2.token,jc(l[f]));return u}}const JM=n=>typeof n=="number"?0:n;function XM(n){const e=c2(n);return u2(n)(e.map(JM))}const Oi={test:YM,parse:c2,createTransformer:u2,getAnimatableNone:XM},d2=(n,e)=>t=>`${t>0?e:n}`;function h2(n,e){return typeof n=="number"?t=>ht(n,e,t):hn.test(n)?i2(n,e):n.startsWith("var(")?d2(n,e):p2(n,e)}const f2=(n,e)=>{const t=[...n],r=t.length,s=n.map((a,l)=>h2(a,e[l]));return a=>{for(let l=0;l<r;l++)t[l]=s[l](a);return t}},ZM=(n,e)=>{const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=h2(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}},p2=(n,e)=>{const t=Oi.createTransformer(e),r=qh(n),s=qh(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Ci(f2(r.values,s.values),t):d2(n,e)},Jc=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Q_=(n,e)=>t=>ht(n,e,t);function eV(n){return typeof n=="number"?Q_:typeof n=="string"?hn.test(n)?i2:p2:Array.isArray(n)?f2:typeof n=="object"?ZM:Q_}function tV(n,e,t){const r=[],s=t||eV(n[0]),a=n.length-1;for(let l=0;l<a;l++){let u=s(n[l],n[l+1]);if(e){const f=Array.isArray(e)?e[l]||bt:e;u=Ci(f,u)}r.push(u)}return r}function m2(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(mv(a===e.length),a===1)return()=>e[0];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=tV(e,r,s),u=l.length,f=m=>{let g=0;if(u>1)for(;g<n.length-2&&!(m<n[g+1]);g++);const v=Jc(n[g],n[g+1],m);return l[g](v)};return t?m=>f(Li(n[0],n[a-1],m)):f}function nV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Jc(0,e,r);n.push(ht(t,1,s))}}function rV(n){const e=[0];return nV(e,n.length-1),e}function sV(n,e){return n.map(t=>t*e)}function iV(n,e){return n.map(()=>e||ZS).splice(0,n.length-1)}function Wh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=UM(r)?r.map(G_):G_(r),a={done:!1,value:e[0]},l=sV(t&&t.length===e.length?t:rV(e),n),u=m2(l,e,{ease:Array.isArray(s)?s:iV(e,s)});return{calculatedDuration:n,next:f=>(a.value=u(f),a.done=f>=n,a)}}function g2(n,e){return e?n*(1e3/e):0}const oV=5;function y2(n,e,t){const r=Math.max(e-oV,0);return g2(t-n(r),e-r)}const zm=.001,aV=.01,lV=10,cV=.05,uV=1;function dV({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let s,a,l=1-e;l=Li(cV,uV,l),n=Li(aV,lV,ws(n)),l<1?(s=m=>{const g=m*l,v=g*n,_=g-t,E=$g(m,l),C=Math.exp(-v);return zm-_/E*C},a=m=>{const v=m*l*n,_=v*t+t,E=Math.pow(l,2)*Math.pow(m,2)*n,C=Math.exp(-v),N=$g(Math.pow(m,2),l);return(-s(m)+zm>0?-1:1)*((_-E)*C)/N}):(s=m=>{const g=Math.exp(-m*n),v=(m-t)*n+1;return-zm+g*v},a=m=>{const g=Math.exp(-m*n),v=(t-m)*(n*n);return g*v});const u=5/n,f=fV(s,a,u);if(n=Co(n),isNaN(f))return{stiffness:100,damping:10,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:n}}}const hV=12;function fV(n,e,t){let r=t;for(let s=1;s<hV;s++)r=r-n(r)/e(r);return r}function $g(n,e){return n*Math.sqrt(1-e*e)}const pV=["duration","bounce"],mV=["stiffness","damping","mass"];function Y_(n,e){return e.some(t=>n[t]!==void 0)}function gV(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Y_(n,mV)&&Y_(n,pV)){const t=dV(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function v2({keyframes:n,restDelta:e,restSpeed:t,...r}){const s=n[0],a=n[n.length-1],l={done:!1,value:s},{stiffness:u,damping:f,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=gV({...r,velocity:-ws(r.velocity||0)}),E=v||0,C=f/(2*Math.sqrt(u*m)),N=a-s,A=ws(Math.sqrt(u/m)),F=Math.abs(N)<5;t||(t=F?.01:2),e||(e=F?.005:.5);let U;if(C<1){const k=$g(A,C);U=H=>{const J=Math.exp(-C*A*H);return a-J*((E+C*A*N)/k*Math.sin(k*H)+N*Math.cos(k*H))}}else if(C===1)U=k=>a-Math.exp(-A*k)*(N+(E+A*N)*k);else{const k=A*Math.sqrt(C*C-1);U=H=>{const J=Math.exp(-C*A*H),Q=Math.min(k*H,300);return a-J*((E+C*A*N)*Math.sinh(Q)+k*N*Math.cosh(Q))/k}}return{calculatedDuration:_&&g||null,next:k=>{const H=U(k);if(_)l.done=k>=g;else{let J=E;k!==0&&(C<1?J=y2(U,k,H):J=0);const Q=Math.abs(J)<=t,S=Math.abs(a-H)<=e;l.done=Q&&S}return l.value=l.done?a:H,l}}}function J_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:u,max:f,restDelta:m=.5,restSpeed:g}){const v=n[0],_={done:!1,value:v},E=I=>u!==void 0&&I<u||f!==void 0&&I>f,C=I=>u===void 0?f:f===void 0||Math.abs(u-I)<Math.abs(f-I)?u:f;let N=t*e;const A=v+N,F=l===void 0?A:l(A);F!==A&&(N=F-v);const U=I=>-N*Math.exp(-I/r),k=I=>F+U(I),H=I=>{const j=U(I),P=k(I);_.done=Math.abs(j)<=m,_.value=_.done?F:P};let J,Q;const S=I=>{E(_.value)&&(J=I,Q=v2({keyframes:[_.value,C(_.value)],velocity:y2(k,I,_.value),damping:s,stiffness:a,restDelta:m,restSpeed:g}))};return S(0),{calculatedDuration:null,next:I=>{let j=!1;return!Q&&J===void 0&&(j=!0,H(I),S(I)),J!==void 0&&I>J?Q.next(I-J):(!j&&H(I),_)}}}const yV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>it.update(e,!0),stop:()=>Is(e),now:()=>rn.isProcessing?rn.timestamp:performance.now()}},X_=2e4;function Z_(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<X_;)e+=t,r=n.next(e);return e>=X_?1/0:e}const vV={decay:J_,inertia:J_,tween:Wh,keyframes:Wh,spring:v2};function Gh({autoplay:n=!0,delay:e=0,driver:t=yV,keyframes:r,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",onPlay:f,onStop:m,onComplete:g,onUpdate:v,..._}){let E=1,C=!1,N,A;const F=()=>{A=new Promise(V=>{N=V})};F();let U;const k=vV[s]||Wh;let H;k!==Wh&&typeof r[0]!="number"&&(H=m2([0,100],r,{clamp:!1}),r=[0,100]);const J=k({..._,keyframes:r});let Q;u==="mirror"&&(Q=k({..._,keyframes:[...r].reverse(),velocity:-(_.velocity||0)}));let S="idle",I=null,j=null,P=null;J.calculatedDuration===null&&a&&(J.calculatedDuration=Z_(J));const{calculatedDuration:M}=J;let z=1/0,L=1/0;M!==null&&(z=M+l,L=z*(a+1)-l);let ye=0;const q=V=>{if(j===null)return;E>0&&(j=Math.min(j,V)),E<0&&(j=Math.min(V-L/E,j)),I!==null?ye=I:ye=Math.round(V-j)*E;const ee=ye-e*(E>=0?1:-1),Se=E>=0?ee<0:ee>L;ye=Math.max(ee,0),S==="finished"&&I===null&&(ye=L);let Ee=ye,Oe=J;if(a){const Qe=Math.min(ye,L)/z;let Et=Math.floor(Qe),fn=Qe%1;!fn&&Qe>=1&&(fn=1),fn===1&&Et--,Et=Math.min(Et,a+1),!!(Et%2)&&(u==="reverse"?(fn=1-fn,l&&(fn-=l/z)):u==="mirror"&&(Oe=Q)),Ee=Li(0,1,fn)*z}const Me=Se?{done:!1,value:r[0]}:Oe.next(Ee);H&&(Me.value=H(Me.value));let{done:We}=Me;!Se&&M!==null&&(We=E>=0?ye>=L:ye<=0);const $e=I===null&&(S==="finished"||S==="running"&&We);return v&&v(Me.value),$e&&se(),Me},te=()=>{U&&U.stop(),U=void 0},ge=()=>{S="idle",te(),N(),F(),j=P=null},se=()=>{S="finished",g&&g(),te(),N()},he=()=>{if(C)return;U||(U=t(q));const V=U.now();f&&f(),I!==null?j=V-I:(!j||S==="finished")&&(j=V),S==="finished"&&F(),P=j,I=null,S="running",U.start()};n&&he();const ue={then(V,ee){return A.then(V,ee)},get time(){return ws(ye)},set time(V){V=Co(V),ye=V,I!==null||!U||E===0?I=V:j=U.now()-V/E},get duration(){const V=J.calculatedDuration===null?Z_(J):J.calculatedDuration;return ws(V)},get speed(){return E},set speed(V){V===E||!U||(E=V,ue.time=ws(ye))},get state(){return S},play:he,pause:()=>{S="paused",I=ye},stop:()=>{C=!0,S!=="idle"&&(S="idle",m&&m(),ge())},cancel:()=>{P!==null&&q(P),ge()},complete:()=>{S="finished"},sample:V=>(j=0,q(V))};return ue}function xV(n){let e;return()=>(e===void 0&&(e=n()),e)}const wV=xV(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_V=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Kd=10,bV=2e4,TV=(n,e)=>e.type==="spring"||n==="backgroundColor"||!QS(e.ease);function EV(n,e,{onUpdate:t,onComplete:r,...s}){if(!(wV()&&_V.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,u,f,m=!1;const g=()=>{f=new Promise(k=>{u=k})};g();let{keyframes:v,duration:_=300,ease:E,times:C}=s;if(TV(e,s)){const k=Gh({...s,repeat:0,delay:0});let H={done:!1,value:v[0]};const J=[];let Q=0;for(;!H.done&&Q<bV;)H=k.sample(Q),J.push(H.value),Q+=Kd;C=void 0,v=J,_=Q-Kd,E="linear"}const N=jM(n.owner.current,e,v,{...s,duration:_,ease:E,times:C}),A=()=>{m=!1,N.cancel()},F=()=>{m=!0,it.update(A),u(),g()};return N.onfinish=()=>{m||(n.set(DM(v,s)),r&&r(),F())},{then(k,H){return f.then(k,H)},attachTimeline(k){return N.timeline=k,N.onfinish=null,bt},get time(){return ws(N.currentTime||0)},set time(k){N.currentTime=Co(k)},get speed(){return N.playbackRate},set speed(k){N.playbackRate=k},get duration(){return ws(_)},play:()=>{l||(N.play(),Is(A))},pause:()=>N.pause(),stop:()=>{if(l=!0,N.playState==="idle")return;const{currentTime:k}=N;if(k){const H=Gh({...s,autoplay:!1});n.setWithVelocity(H.sample(k-Kd).value,H.sample(k).value,Kd)}F()},complete:()=>{m||N.finish()},cancel:F}}function SV({keyframes:n,delay:e,onUpdate:t,onComplete:r}){const s=()=>(t&&t(n[n.length-1]),r&&r(),{time:0,speed:1,duration:0,play:bt,pause:bt,stop:bt,then:a=>(a(),Promise.resolve()),cancel:bt,complete:bt});return e?Gh({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const CV={type:"spring",stiffness:500,damping:25,restSpeed:10},AV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),IV={type:"keyframes",duration:.8},kV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PV=(n,{keyframes:e})=>e.length>2?IV:qo.has(n)?n.startsWith("scale")?AV(e[1]):CV:kV,Hg=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Oi.test(e)||e==="0")&&!e.startsWith("url(")),RV=new Set(["brightness","contrast","saturate","opacity"]);function NV(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Of)||[];if(!r)return n;const s=t.replace(r,"");let a=RV.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const jV=/([a-z-]*)\(.*?\)/g,qg={...Oi,getAnimatableNone:n=>{const e=n.match(jV);return e?e.map(NV).join(" "):n}},DV={...NS,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:qg,WebkitFilter:qg},xv=n=>DV[n];function x2(n,e){let t=xv(n);return t!==qg&&(t=Oi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const w2=n=>/^0[^.\s]+$/.test(n);function LV(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||w2(n)}function OV(n,e,t,r){const s=Hg(e,t);let a;Array.isArray(t)?a=[...t]:a=[null,t];const l=r.from!==void 0?r.from:n.get();let u;const f=[];for(let m=0;m<a.length;m++)a[m]===null&&(a[m]=m===0?l:a[m-1]),LV(a[m])&&f.push(m),typeof a[m]=="string"&&a[m]!=="none"&&a[m]!=="0"&&(u=a[m]);if(s&&f.length&&u)for(let m=0;m<f.length;m++){const g=f[m];a[g]=x2(e,u)}return a}function MV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:u,from:f,elapsed:m,...g}){return!!Object.keys(g).length}function wv(n,e){return n[e]||n.default||n}const VV={skipAnimations:!1},_v=(n,e,t,r={})=>s=>{const a=wv(r,n)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Co(l);const f=OV(e,n,t,a),m=f[0],g=f[f.length-1],v=Hg(n,m),_=Hg(n,g);let E={keyframes:f,velocity:e.getVelocity(),ease:"easeOut",...a,delay:-u,onUpdate:C=>{e.set(C),a.onUpdate&&a.onUpdate(C)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}};if(MV(a)||(E={...E,...PV(n,E)}),E.duration&&(E.duration=Co(E.duration)),E.repeatDelay&&(E.repeatDelay=Co(E.repeatDelay)),!v||!_||NM.current||a.type===!1||VV.skipAnimations)return SV(E);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const C=EV(e,n,E);if(C)return C}return Gh(E)};function Kh(n){return!!(Tn(n)&&n.add)}const _2=n=>/^\-?\d*\.?\d+$/.test(n);function bv(n,e){n.indexOf(e)===-1&&n.push(e)}function Tv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Ev{constructor(){this.subscriptions=[]}add(e){return bv(this.subscriptions,e),()=>Tv(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const FV=n=>!isNaN(parseFloat(n));class UV{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:l}=rn;this.lastUpdated!==l&&(this.timeDelta=a,this.lastUpdated=l,it.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>it.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=FV(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ev);const r=this.events[e].add(t);return e==="change"?()=>{r(),it.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?g2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(n,e){return new UV(n,e)}const b2=n=>e=>e.test(n),BV={test:n=>n==="auto",parse:n=>n},T2=[Wo,Ie,zr,li,KO,GO,BV],pc=n=>T2.find(b2(n)),zV=[...T2,hn,Oi],$V=n=>zV.find(b2(n));function HV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,al(t))}function qV(n,e){const t=Vf(n,e);let{transitionEnd:r={},transition:s={},...a}=t?n.makeTargetAnimatable(t,!1):{};a={...a,...r};for(const l in a){const u=lM(a[l]);HV(n,l,u)}}function WV(n,e,t){var r,s;const a=Object.keys(e).filter(u=>!n.hasValue(u)),l=a.length;if(l)for(let u=0;u<l;u++){const f=a[u],m=e[f];let g=null;Array.isArray(m)&&(g=m[0]),g===null&&(g=(s=(r=t[f])!==null&&r!==void 0?r:n.readValue(f))!==null&&s!==void 0?s:e[f]),g!=null&&(typeof g=="string"&&(_2(g)||w2(g))?g=parseFloat(g):!$V(g)&&Oi.test(m)&&(g=x2(f,m)),n.addValue(f,al(g,{owner:n})),t[f]===void 0&&(t[f]=g),g!==null&&n.setBaseTarget(f,g))}}function GV(n,e){return e?(e[n]||e.default||e).from:void 0}function KV(n,e,t){const r={};for(const s in n){const a=GV(s,e);if(a!==void 0)r[s]=a;else{const l=t.getValue(s);l&&(r[s]=l.get())}}return r}function QV({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function YV(n,e){const t=n.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}else return t!==e}function E2(n,e,{delay:t=0,transitionOverride:r,type:s}={}){let{transition:a=n.getDefaultTransition(),transitionEnd:l,...u}=n.makeTargetAnimatable(e);const f=n.getValue("willChange");r&&(a=r);const m=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const v in u){const _=n.getValue(v),E=u[v];if(!_||E===void 0||g&&QV(g,v))continue;const C={delay:t,elapsed:0,...wv(a||{},v)};if(window.HandoffAppearAnimations){const F=n.getProps()[SS];if(F){const U=window.HandoffAppearAnimations(F,v,_,it);U!==null&&(C.elapsed=U,C.isHandoff=!0)}}let N=!C.isHandoff&&!YV(_,E);if(C.type==="spring"&&(_.getVelocity()||C.velocity)&&(N=!1),_.animation&&(N=!1),N)continue;_.start(_v(v,_,E,n.shouldReduceMotion&&qo.has(v)?{type:!1}:C));const A=_.animation;Kh(f)&&(f.add(v),A.then(()=>f.remove(v))),m.push(A)}return l&&Promise.all(m).then(()=>{l&&qV(n,l)}),m}function Wg(n,e,t={}){const r=Vf(n,e,t.custom);let{transition:s=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(s=t.transitionOverride);const a=r?()=>Promise.all(E2(n,r,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=s;return JV(n,e,m+f,g,v,t)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,m]=u==="beforeChildren"?[a,l]:[l,a];return f().then(()=>m())}else return Promise.all([a(),l(t.delay)])}function JV(n,e,t=0,r=0,s=1,a){const l=[],u=(n.variantChildren.size-1)*r,f=s===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(XV).forEach((m,g)=>{m.notify("AnimationStart",e),l.push(Wg(m,e,{...a,delay:t+f(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(l)}function XV(n,e){return n.sortNodePosition(e)}function ZV(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Wg(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Wg(n,e,t);else{const s=typeof e=="function"?Vf(n,e,t.custom):e;r=Promise.all(E2(n,s,t))}return r.then(()=>n.notify("AnimationComplete",e))}const e5=[...iv].reverse(),t5=iv.length;function n5(n){return e=>Promise.all(e.map(({animation:t,options:r})=>ZV(n,t,r)))}function r5(n){let e=n5(n);const t=i5();let r=!0;const s=(f,m)=>{const g=Vf(n,m);if(g){const{transition:v,transitionEnd:_,...E}=g;f={...f,...E,..._}}return f};function a(f){e=f(n)}function l(f,m){const g=n.getProps(),v=n.getVariantContext(!0)||{},_=[],E=new Set;let C={},N=1/0;for(let F=0;F<t5;F++){const U=e5[F],k=t[U],H=g[U]!==void 0?g[U]:v[U],J=Qc(H),Q=U===m?k.isActive:null;Q===!1&&(N=F);let S=H===v[U]&&H!==g[U]&&J;if(S&&r&&n.manuallyAnimateOnMount&&(S=!1),k.protectedKeys={...C},!k.isActive&&Q===null||!H&&!k.prevProp||Df(H)||typeof H=="boolean")continue;let j=s5(k.prevProp,H)||U===m&&k.isActive&&!S&&J||F>N&&J,P=!1;const M=Array.isArray(H)?H:[H];let z=M.reduce(s,{});Q===!1&&(z={});const{prevResolvedValues:L={}}=k,ye={...L,...z},q=te=>{j=!0,E.has(te)&&(P=!0,E.delete(te)),k.needsAnimating[te]=!0};for(const te in ye){const ge=z[te],se=L[te];if(C.hasOwnProperty(te))continue;let he=!1;Hh(ge)&&Hh(se)?he=!GS(ge,se):he=ge!==se,he?ge!==void 0?q(te):E.add(te):ge!==void 0&&E.has(te)?q(te):k.protectedKeys[te]=!0}k.prevProp=H,k.prevResolvedValues=z,k.isActive&&(C={...C,...z}),r&&n.blockInitialAnimation&&(j=!1),j&&(!S||P)&&_.push(...M.map(te=>({animation:te,options:{type:U,...f}})))}if(E.size){const F={};E.forEach(U=>{const k=n.getBaseTarget(U);k!==void 0&&(F[U]=k)}),_.push({animation:F})}let A=!!_.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(_):Promise.resolve()}function u(f,m,g){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(E=>{var C;return(C=E.animationState)===null||C===void 0?void 0:C.setActive(f,m)}),t[f].isActive=m;const _=l(g,f);for(const E in t)t[E].protectedKeys={};return _}return{animateChanges:l,setActive:u,setAnimateFunction:a,getState:()=>t}}function s5(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!GS(e,n):!1}function po(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i5(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class o5 extends Fi{constructor(e){super(e),e.animationState||(e.animationState=r5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Df(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let a5=0;class l5 extends Fi{constructor(){super(...arguments),this.id=a5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});t&&!e&&a.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const c5={animation:{Feature:o5},exit:{Feature:l5}},e1=(n,e)=>Math.abs(n-e);function u5(n,e){const t=e1(n.x,e.x),r=e1(n.y,e.y);return Math.sqrt(t**2+r**2)}class S2{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Hm(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,E=u5(v.offset,{x:0,y:0})>=3;if(!_&&!E)return;const{point:C}=v,{timestamp:N}=rn;this.history.push({...C,timestamp:N});const{onStart:A,onMove:F}=this.handlers;_||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=$m(_,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:E,onSessionEnd:C,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Hm(v.type==="pointercancel"?this.lastMoveEventInfo:$m(_,this.transformPagePoint),this.history);this.startEvent&&E&&E(v,A),C&&C(v,A)},!zS(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const l=Mf(e),u=$m(l,this.transformPagePoint),{point:f}=u,{timestamp:m}=rn;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,Hm(u,this.history)),this.removeListeners=Ci(xs(this.contextWindow,"pointermove",this.handlePointerMove),xs(this.contextWindow,"pointerup",this.handlePointerUp),xs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Is(this.updatePoint)}}function $m(n,e){return e?{point:e(n.point)}:n}function t1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Hm({point:n},e){return{point:n,delta:t1(n,C2(e)),offset:t1(n,d5(e)),velocity:h5(e,.1)}}function d5(n){return n[0]}function C2(n){return n[n.length-1]}function h5(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=C2(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Co(e)));)t--;if(!r)return{x:0,y:0};const a=ws(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Mn(n){return n.max-n.min}function Gg(n,e=0,t=.01){return Math.abs(n-e)<=t}function n1(n,e,t,r=.5){n.origin=r,n.originPoint=ht(e.min,e.max,n.origin),n.scale=Mn(t)/Mn(e),(Gg(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=ht(t.min,t.max,n.origin)-n.originPoint,(Gg(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Dc(n,e,t,r){n1(n.x,e.x,t.x,r?r.originX:void 0),n1(n.y,e.y,t.y,r?r.originY:void 0)}function r1(n,e,t){n.min=t.min+e.min,n.max=n.min+Mn(e)}function f5(n,e,t){r1(n.x,e.x,t.x),r1(n.y,e.y,t.y)}function s1(n,e,t){n.min=e.min-t.min,n.max=n.min+Mn(e)}function Lc(n,e,t){s1(n.x,e.x,t.x),s1(n.y,e.y,t.y)}function p5(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?ht(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?ht(t,n,r.max):Math.min(n,t)),n}function i1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function m5(n,{top:e,left:t,bottom:r,right:s}){return{x:i1(n.x,t,s),y:i1(n.y,e,r)}}function o1(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function g5(n,e){return{x:o1(n.x,e.x),y:o1(n.y,e.y)}}function y5(n,e){let t=.5;const r=Mn(n),s=Mn(e);return s>r?t=Jc(e.min,e.max-r,n.min):r>s&&(t=Jc(n.min,n.max-s,e.min)),Li(0,1,t)}function v5(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Kg=.35;function x5(n=Kg){return n===!1?n=0:n===!0&&(n=Kg),{x:a1(n,"left","right"),y:a1(n,"top","bottom")}}function a1(n,e,t){return{min:l1(n,e),max:l1(n,t)}}function l1(n,e){return typeof n=="number"?n:n[e]||0}const c1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:c1(),y:c1()}),u1=()=>({min:0,max:0}),kt=()=>({x:u1(),y:u1()});function Gn(n){return[n("x"),n("y")]}function A2({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function w5({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _5(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function qm(n){return n===void 0||n===1}function Qg({scale:n,scaleX:e,scaleY:t}){return!qm(n)||!qm(e)||!qm(t)}function yo(n){return Qg(n)||I2(n)||n.z||n.rotate||n.rotateX||n.rotateY}function I2(n){return d1(n.x)||d1(n.y)}function d1(n){return n&&n!=="0%"}function Qh(n,e,t){const r=n-t,s=e*r;return t+s}function h1(n,e,t,r,s){return s!==void 0&&(n=Qh(n,s,r)),Qh(n,t,r)+e}function Yg(n,e=0,t=1,r,s){n.min=h1(n.min,e,t,r,s),n.max=h1(n.max,e,t,r,s)}function k2(n,{x:e,y:t}){Yg(n.x,e.translate,e.scale,e.originPoint),Yg(n.y,t.translate,t.scale,t.originPoint)}function b5(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++){a=t[u],l=a.projectionDelta;const f=a.instance;f&&f.style&&f.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qa(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,k2(n,l)),r&&yo(a.latestValues)&&qa(n,a.latestValues))}e.x=f1(e.x),e.y=f1(e.y)}function f1(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ui(n,e){n.min=n.min+e,n.max=n.max+e}function p1(n,e,[t,r,s]){const a=e[s]!==void 0?e[s]:.5,l=ht(n.min,n.max,a);Yg(n,e[t],e[r],l,e.scale)}const T5=["x","scaleX","originX"],E5=["y","scaleY","originY"];function qa(n,e){p1(n.x,e,T5),p1(n.y,e,E5)}function P2(n,e){return A2(_5(n.getBoundingClientRect(),e))}function S5(n,e,t){const r=P2(n,t),{scroll:s}=e;return s&&(ui(r.x,s.offset.x),ui(r.y,s.offset.y)),r}const R2=({current:n})=>n?n.ownerDocument.defaultView:null,C5=new WeakMap;class A5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Mf(g,"page").point)},a=(g,v)=>{const{drag:_,dragPropagation:E,onDragStart:C}=this.getProps();if(_&&!E&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=HS(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gn(A=>{let F=this.getAxisMotionValue(A).get()||0;if(zr.test(F)){const{projection:U}=this.visualElement;if(U&&U.layout){const k=U.layout.layoutBox[A];k&&(F=Mn(k)*(parseFloat(F)/100))}}this.originPoint[A]=F}),C&&it.update(()=>C(g,v),!1,!0);const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(g,v)=>{const{dragPropagation:_,dragDirectionLock:E,onDirectionLock:C,onDrag:N}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:A}=v;if(E&&this.currentDirection===null){this.currentDirection=I5(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),N&&N(g,v)},u=(g,v)=>this.stop(g,v),f=()=>Gn(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new S2(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:R2(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&it.update(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Qd(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=p5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&za(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=m5(s.layoutBox,t):this.constraints=!1,this.elastic=x5(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Gn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=v5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!za(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=S5(r,s.root,this.visualElement.getTransformPagePoint());let l=g5(s.layout.layoutBox,a);if(t){const u=t(w5(l));this.hasMutatedConstraints=!!u,u&&(l=A2(u))}return l}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=Gn(g=>{if(!Qd(g,t,this.currentDirection))return;let v=f&&f[g]||{};l&&(v={min:0,max:0});const _=s?200:1e6,E=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(u)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(_v(e,r,0,t))}stopAnimation(){Gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gn(t=>{const{drag:r}=this.getProps();if(!Qd(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:l,max:u}=s.layout.layoutBox[t];a.set(e[t]-ht(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!za(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gn(l=>{const u=this.getAxisMotionValue(l);if(u){const f=u.get();s[l]=y5({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gn(l=>{if(!Qd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:f,max:m}=this.constraints[l];u.set(ht(f,m,s[l]))})}addListeners(){if(!this.visualElement.current)return;C5.set(this.visualElement,this);const e=this.visualElement.current,t=xs(e,"pointerdown",f=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();za(f)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const l=ms(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())}));return()=>{l(),t(),a(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Kg,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:u}}}function Qd(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function I5(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class k5 extends Fi{constructor(e){super(e),this.removeGroupControls=bt,this.removeListeners=bt,this.controls=new A5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bt}unmount(){this.removeGroupControls(),this.removeListeners()}}const m1=n=>(e,t)=>{n&&it.update(()=>n(e,t))};class P5 extends Fi{constructor(){super(...arguments),this.removePointerDownListener=bt}onPointerDown(e){this.session=new S2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:m1(e),onStart:m1(t),onMove:r,onEnd:(a,l)=>{delete this.session,s&&it.update(()=>s(a,l))}}}mount(){this.removePointerDownListener=xs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function R5(){const n=D.useContext(Nf);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:r}=n,s=D.useId();return D.useEffect(()=>r(s),[]),!e&&t?[!1,()=>t&&t(s)]:[!0]}const ph={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const mc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ie.test(n))n=parseFloat(n);else return n;const t=g1(n,e.target.x),r=g1(n,e.target.y);return`${t}% ${r}%`}},N5={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Oi.parse(n);if(s.length>5)return r;const a=Oi.createTransformer(n),l=typeof s[0]!="number"?1:0,u=t.x.scale*e.x,f=t.y.scale*e.y;s[0+l]/=u,s[1+l]/=f;const m=ht(u,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=m),typeof s[3+l]=="number"&&(s[3+l]/=m),a(s)}};class j5 extends Or.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;UO(D5),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ph.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||it.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function N2(n){const[e,t]=R5(),r=D.useContext(av);return Or.createElement(j5,{...n,layoutGroup:r,switchLayoutGroup:D.useContext(AS),isPresent:e,safeToRemove:t})}const D5={borderRadius:{...mc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:mc,borderTopRightRadius:mc,borderBottomLeftRadius:mc,borderBottomRightRadius:mc,boxShadow:N5},j2=["TopLeft","TopRight","BottomLeft","BottomRight"],L5=j2.length,y1=n=>typeof n=="string"?parseFloat(n):n,v1=n=>typeof n=="number"||Ie.test(n);function O5(n,e,t,r,s,a){s?(n.opacity=ht(0,t.opacity!==void 0?t.opacity:1,M5(r)),n.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,V5(r))):a&&(n.opacity=ht(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let l=0;l<L5;l++){const u=`border${j2[l]}Radius`;let f=x1(e,u),m=x1(t,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||v1(f)===v1(m)?(n[u]=Math.max(ht(y1(f),y1(m),r),0),(zr.test(m)||zr.test(f))&&(n[u]+="%")):n[u]=m}(e.rotate||t.rotate)&&(n.rotate=ht(e.rotate||0,t.rotate||0,r))}function x1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const M5=D2(0,.5,n2),V5=D2(.5,.95,bt);function D2(n,e,t){return r=>r<n?0:r>e?1:t(Jc(n,e,r))}function w1(n,e){n.min=e.min,n.max=e.max}function Wn(n,e){w1(n.x,e.x),w1(n.y,e.y)}function _1(n,e,t,r,s){return n-=e,n=Qh(n,1/t,r),s!==void 0&&(n=Qh(n,1/s,r)),n}function F5(n,e=0,t=1,r=.5,s,a=n,l=n){if(zr.test(e)&&(e=parseFloat(e),e=ht(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ht(a.min,a.max,r);n===a&&(u-=e),n.min=_1(n.min,e,t,u,s),n.max=_1(n.max,e,t,u,s)}function b1(n,e,[t,r,s],a,l){F5(n,e[t],e[r],e[s],e.scale,a,l)}const U5=["x","scaleX","originX"],B5=["y","scaleY","originY"];function T1(n,e,t,r){b1(n.x,e,U5,t?t.x:void 0,r?r.x:void 0),b1(n.y,e,B5,t?t.y:void 0,r?r.y:void 0)}function E1(n){return n.translate===0&&n.scale===1}function L2(n){return E1(n.x)&&E1(n.y)}function z5(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function O2(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function S1(n){return Mn(n.x)/Mn(n.y)}class $5{constructor(){this.members=[]}add(e){bv(this.members,e),e.scheduleRender()}remove(e){if(Tv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function C1(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y;if((s||a)&&(r=`translate3d(${s}px, ${a}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:f,rotateX:m,rotateY:g}=t;f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `)}const l=n.x.scale*e.x,u=n.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const H5=(n,e)=>n.depth-e.depth;class q5{constructor(){this.children=[],this.isDirty=!1}add(e){bv(this.children,e),this.isDirty=!0}remove(e){Tv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H5),this.isDirty=!1,this.children.forEach(e)}}function W5(n,e){const t=performance.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Is(r),n(a-e))};return it.read(r,!0),()=>Is(r)}function G5(n){window.MotionDebug&&window.MotionDebug.record(n)}function K5(n){return n instanceof SVGElement&&n.tagName!=="svg"}function Q5(n,e,t){const r=Tn(n)?n:al(n);return r.start(_v("",r,e,t)),r.animation}const A1=["","X","Y","Z"],Y5={visibility:"hidden"},I1=1e3;let J5=0;const vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M2({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},u=e?.()){this.id=J5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vo.totalNodes=vo.resolvedTargetDeltas=vo.recalculatedProjection=0,this.nodes.forEach(e3),this.nodes.forEach(i3),this.nodes.forEach(o3),this.nodes.forEach(t3),G5(vo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new q5)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ev),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=K5(l),this.instance=l;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||f)&&(this.isLayoutDirty=!0),n){let v;const _=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=W5(_,250),ph.hasAnimatedSinceResize&&(ph.hasAnimatedSinceResize=!1,this.nodes.forEach(P1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeTargetChanged:E,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||d3,{onLayoutAnimationStart:A,onLayoutAnimationComplete:F}=g.getProps(),U=!this.targetLayout||!O2(this.targetLayout,C)||E,k=!_&&E;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,k);const H={...wv(N,"layout"),onPlay:A,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else _||P1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a3),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k1);return}this.isUpdating||this.nodes.forEach(r3),this.isUpdating=!1,this.nodes.forEach(s3),this.nodes.forEach(X5),this.nodes.forEach(Z5),this.clearAllSnapshots();const u=performance.now();rn.delta=Li(0,1e3/60,u-rn.timestamp),rn.timestamp=u,rn.isProcessing=!0,Lm.update.process(rn),Lm.preRender.process(rn),Lm.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(n3),this.sharedNodes.forEach(l3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:r(this.instance),offset:t(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!L2(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&(u||yo(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),h3(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return kt();const u=l.measureViewportBox(),{scroll:f}=this.root;return f&&(ui(u.x,f.offset.x),ui(u.y,f.offset.y)),u}removeElementScroll(l){const u=kt();Wn(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:g,options:v}=m;if(m!==this.root&&g&&v.layoutScroll){if(g.isRoot){Wn(u,l);const{scroll:_}=this.root;_&&(ui(u.x,-_.offset.x),ui(u.y,-_.offset.y))}ui(u.x,g.offset.x),ui(u.y,g.offset.y)}}return u}applyTransform(l,u=!1){const f=kt();Wn(f,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&qa(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),yo(g.latestValues)&&qa(f,g.latestValues)}return yo(this.latestValues)&&qa(f,this.latestValues),f}removeTransform(l){const u=kt();Wn(u,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!yo(m.latestValues))continue;Qg(m.latestValues)&&m.updateSnapshot();const g=kt(),v=m.measurePageBox();Wn(g,v),T1(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return yo(this.latestValues)&&T1(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=rn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Lc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),k2(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Lc(this.relativeTargetOrigin,this.target,E.target),Wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qg(this.parent.latestValues)||I2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Wn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,E=this.treeScale.y;b5(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:C}=u;if(!C){this.projectionTransform&&(this.projectionDelta=Ha(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha());const N=this.projectionTransform;Dc(this.projectionDelta,this.layoutCorrected,C,this.latestValues),this.projectionTransform=C1(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==_||this.treeScale.y!==E)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,u=!1){const f=this.snapshot,m=f?f.latestValues:{},g={...this.latestValues},v=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=kt(),E=f?f.source:void 0,C=this.layout?this.layout.source:void 0,N=E!==C,A=this.getStack(),F=!A||A.members.length<=1,U=!!(N&&!F&&this.options.crossfade===!0&&!this.path.some(u3));this.animationProgress=0;let k;this.mixTargetDelta=H=>{const J=H/1e3;R1(v.x,l.x,J),R1(v.y,l.y,J),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c3(this.relativeTarget,this.relativeTargetOrigin,_,J),k&&z5(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=kt()),Wn(k,this.relativeTarget)),N&&(this.animationValues=g,O5(g,m,this.latestValues,J,U,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{ph.hasAnimatedSinceResize=!0,this.currentAnimation=Q5(0,I1,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:g}=l;if(!(!u||!f||!m)){if(this!==l&&this.layout&&m&&V2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||kt();const v=Mn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+v;const _=Mn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+_}Wn(u,f),qa(u,g),Dc(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $5),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(u=!0),!u)return;const m={};for(let g=0;g<A1.length;g++){const v="rotate"+A1[g];f[v]&&(m[v]=f[v],l.setStaticValue(v,0))}l.render();for(const g in m)l.setStaticValue(g,m[g]);l.scheduleRender()}getProjectionStyles(l){var u,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y5;const m={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=fh(l?.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=fh(l?.pointerEvents)||""),this.hasProjected&&!yo(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const _=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=C1(this.projectionDeltaWithTransform,this.treeScale,_),g&&(m.transform=g(_,m.transform));const{x:E,y:C}=this.projectionDelta;m.transformOrigin=`${E.origin*100}% ${C.origin*100}% 0`,v.animationValues?m.opacity=v===this?(f=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=v===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const N in zh){if(_[N]===void 0)continue;const{correct:A,applyTo:F}=zh[N],U=m.transform==="none"?_[N]:A(_[N],v);if(F){const k=F.length;for(let H=0;H<k;H++)m[F[H]]=U}else m[N]=U}return this.options.layoutId&&(m.pointerEvents=v===this?fh(l?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(k1),this.root.sharedNodes.clear()}}}function X5(n){n.updateLayout()}function Z5(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Gn(v=>{const _=l?t.measuredBox[v]:t.layoutBox[v],E=Mn(_);_.min=r[v].min,_.max=_.min+E}):V2(a,t.layoutBox,r)&&Gn(v=>{const _=l?t.measuredBox[v]:t.layoutBox[v],E=Mn(r[v]);_.max=_.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+E)});const u=Ha();Dc(u,r,t.layoutBox);const f=Ha();l?Dc(f,n.applyTransform(s,!0),t.measuredBox):Dc(f,r,t.layoutBox);const m=!L2(u);let g=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:E}=v;if(_&&E){const C=kt();Lc(C,t.layoutBox,_.layoutBox);const N=kt();Lc(N,r,E.layoutBox),O2(C,N)||(g=!0),v.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=C,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function e3(n){vo.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function t3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function n3(n){n.clearSnapshot()}function k1(n){n.clearMeasurements()}function r3(n){n.isLayoutDirty=!1}function s3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function P1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function i3(n){n.resolveTargetDelta()}function o3(n){n.calcProjection()}function a3(n){n.resetRotation()}function l3(n){n.removeLeadSnapshot()}function R1(n,e,t){n.translate=ht(e.translate,0,t),n.scale=ht(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function N1(n,e,t,r){n.min=ht(e.min,t.min,r),n.max=ht(e.max,t.max,r)}function c3(n,e,t,r){N1(n.x,e.x,t.x,r),N1(n.y,e.y,t.y,r)}function u3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const d3={duration:.45,ease:[.4,0,.1,1]},j1=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),D1=j1("applewebkit/")&&!j1("chrome/")?Math.round:bt;function L1(n){n.min=D1(n.min),n.max=D1(n.max)}function h3(n){L1(n.x),L1(n.y)}function V2(n,e,t){return n==="position"||n==="preserve-aspect"&&!Gg(S1(e),S1(t),.2)}const f3=M2({attachResizeListener:(n,e)=>ms(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wm={current:void 0},F2=M2({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wm.current){const n=new f3({});n.mount(window),n.setOptions({layoutScroll:!0}),Wm.current=n}return Wm.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),p3={pan:{Feature:P5},drag:{Feature:k5,ProjectionNode:F2,MeasureLayout:N2}},m3=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function g3(n){const e=m3.exec(n);if(!e)return[,];const[,t,r]=e;return[t,r]}function Jg(n,e,t=1){const[r,s]=g3(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return _2(l)?parseFloat(l):l}else return Ug(s)?Jg(s,e,t+1):s}function y3(n,{...e},t){const r=n.current;if(!(r instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(s=>{const a=s.get();if(!Ug(a))return;const l=Jg(a,r);l&&s.set(l)});for(const s in e){const a=e[s];if(!Ug(a))continue;const l=Jg(a,r);l&&(e[s]=l,t||(t={}),t[s]===void 0&&(t[s]=a))}return{target:e,transitionEnd:t}}const v3=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),U2=n=>v3.has(n),x3=n=>Object.keys(n).some(U2),O1=n=>n===Wo||n===Ie,M1=(n,e)=>parseFloat(n.split(", ")[e]),V1=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return M1(s[1],e);{const a=r.match(/^matrix\((.+)\)$/);return a?M1(a[1],n):0}},w3=new Set(["x","y","z"]),_3=fu.filter(n=>!w3.has(n));function b3(n){const e=[];return _3.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const ll={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:V1(4,13),y:V1(5,14)};ll.translateX=ll.x;ll.translateY=ll.y;const T3=(n,e,t)=>{const r=e.measureViewportBox(),s=e.current,a=getComputedStyle(s),{display:l}=a,u={};l==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(m=>{u[m]=ll[m](r,a)}),e.render();const f=e.measureViewportBox();return t.forEach(m=>{const g=e.getValue(m);g&&g.jump(u[m]),n[m]=ll[m](f,a)}),n},E3=(n,e,t={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(U2);let a=[],l=!1;const u=[];if(s.forEach(f=>{const m=n.getValue(f);if(!n.hasValue(f))return;let g=t[f],v=pc(g);const _=e[f];let E;if(Hh(_)){const C=_.length,N=_[0]===null?1:0;g=_[N],v=pc(g);for(let A=N;A<C&&_[A]!==null;A++)E?mv(pc(_[A])===E):E=pc(_[A])}else E=pc(_);if(v!==E)if(O1(v)&&O1(E)){const C=m.get();typeof C=="string"&&m.set(parseFloat(C)),typeof _=="string"?e[f]=parseFloat(_):Array.isArray(_)&&E===Ie&&(e[f]=_.map(parseFloat))}else v?.transform&&E?.transform&&(g===0||_===0)?g===0?m.set(E.transform(g)):e[f]=v.transform(_):(l||(a=b3(n),l=!0),u.push(f),r[f]=r[f]!==void 0?r[f]:e[f],m.jump(_))}),u.length){const f=u.indexOf("height")>=0?window.pageYOffset:null,m=T3(e,n,u);return a.length&&a.forEach(([g,v])=>{n.getValue(g).set(v)}),n.render(),jf&&f!==null&&window.scrollTo({top:f}),{target:m,transitionEnd:r}}else return{target:e,transitionEnd:r}};function S3(n,e,t,r){return x3(e)?E3(n,e,t,r):{target:e,transitionEnd:r}}const C3=(n,e,t,r)=>{const s=y3(n,e,r);return e=s.target,r=s.transitionEnd,S3(n,e,t,r)},Xg={current:null},B2={current:!1};function A3(){if(B2.current=!0,!!jf)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xg.current=n.matches;n.addListener(e),e()}else Xg.current=!1}function I3(n,e,t){const{willChange:r}=e;for(const s in e){const a=e[s],l=t[s];if(Tn(a))n.addValue(s,a),Kh(r)&&r.add(s);else if(Tn(l))n.addValue(s,al(a,{owner:n})),Kh(r)&&r.remove(s);else if(l!==a)if(n.hasValue(s)){const u=n.getValue(s);!u.hasAnimated&&u.set(a)}else{const u=n.getStaticValue(s);n.addValue(s,al(u!==void 0?u:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const F1=new WeakMap,z2=Object.keys(Yc),k3=z2.length,U1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],P3=ov.length;class R3{constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>it.render(this.render,!1,!0);const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=Lf(t),this.isVariantNode=CS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{});for(const v in g){const _=g[v];u[v]!==void 0&&Tn(_)&&(_.set(u[v],!1),Kh(m)&&m.add(v))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,F1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),B2.current||A3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){F1.delete(this.current),this.projection&&this.projection.unmount(),Is(this.notifyUpdate),Is(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=qo.has(e),s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&it.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),a()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},r,s,a){let l,u;for(let f=0;f<k3;f++){const m=z2[f],{isEnabled:g,Feature:v,ProjectionNode:_,MeasureLayout:E}=Yc[m];_&&(l=_),g(t)&&(!this.features[m]&&v&&(this.features[m]=new v(this)),E&&(u=E))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:m,drag:g,dragConstraints:v,layoutScroll:_,layoutRoot:E}=t;this.projection.setOptions({layoutId:f,layout:m,alwaysMeasureLayout:!!g||v&&za(v),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:a,layoutScroll:_,layoutRoot:E})}return u}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<U1.length;r++){const s=U1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a=e["on"+s];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=I3(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const t={};for(let r=0;r<P3;r++){const s=ov[r],a=this.props[s];(Qc(a)||a===!1)&&(t[s]=a)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=al(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(t=pv(this.props,r))===null||t===void 0?void 0:t[e]:void 0;if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Tn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Ev),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class $2 extends R3{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...r},{transformValues:s},a){let l=KV(r,e||{},this);if(s&&(t&&(t=s(t)),r&&(r=s(r)),l&&(l=s(l))),a){WV(this,r,l);const u=C3(this,r,l,t);t=u.transitionEnd,r=u.target}return{transition:e,transitionEnd:t,...r}}}function N3(n){return window.getComputedStyle(n)}class j3 extends $2{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(qo.has(t)){const r=xv(t);return r&&r.default||0}else{const r=N3(e),s=(PS(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return P2(e,t)}build(e,t,r,s){cv(e,t,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,t){return fv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,r,s){OS(e,t,r,s)}}class D3 extends $2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(qo.has(t)){const r=xv(t);return r&&r.default||0}return t=MS.has(t)?t:sv(t),e.getAttribute(t)}measureInstanceViewportBox(){return kt()}scrapeMotionValuesFromProps(e,t){return FS(e,t)}build(e,t,r,s){dv(e,t,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,t,r,s){VS(e,t,r,s)}mount(e){this.isSVGTag=hv(e.tagName),super.mount(e)}}const L3=(n,e)=>lv(n)?new D3(e,{enableHardwareAcceleration:!1}):new j3(e,{enableHardwareAcceleration:!0}),O3={layout:{ProjectionNode:F2,MeasureLayout:N2}},M3={...c5,...kM,...p3,...O3},Te=VO((n,e)=>gM(n,e,M3,L3));function H2(){const n=D.useRef(!1);return rv(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function V3(){const n=H2(),[e,t]=D.useState(0),r=D.useCallback(()=>{n.current&&t(e+1)},[e]);return[D.useCallback(()=>it.postRender(r),[r]),e]}class F3 extends D.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function U3({children:n,isPresent:e}){const t=D.useId(),r=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0});return D.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:f}=s.current;if(e||!r.current||!a||!l)return;r.current.dataset.motionPopId=t;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),D.createElement(F3,{isPresent:e,childRef:r,sizeRef:s},D.cloneElement(n,{ref:r}))}const Gm=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const u=US(B3),f=D.useId(),m=D.useMemo(()=>({id:f,initial:e,isPresent:t,custom:s,onExitComplete:g=>{u.set(g,!0);for(const v of u.values())if(!v)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),a?void 0:[t]);return D.useMemo(()=>{u.forEach((g,v)=>u.set(v,!1))},[t]),D.useEffect(()=>{!t&&!u.size&&r&&r()},[t]),l==="popLayout"&&(n=D.createElement(U3,{isPresent:t},n)),D.createElement(Nf.Provider,{value:m},n)};function B3(){return new Map}function z3(n){return D.useEffect(()=>()=>n(),[])}const xo=n=>n.key||"";function $3(n,e){n.forEach(t=>{const r=xo(t);e.set(r,t)})}function H3(n){const e=[];return D.Children.forEach(n,t=>{D.isValidElement(t)&&e.push(t)}),e}const _s=({children:n,custom:e,initial:t=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:a=!0,mode:l="sync"})=>{const u=D.useContext(av).forceRender||V3()[0],f=H2(),m=H3(n);let g=m;const v=D.useRef(new Map).current,_=D.useRef(g),E=D.useRef(new Map).current,C=D.useRef(!0);if(rv(()=>{C.current=!1,$3(m,E),_.current=g}),z3(()=>{C.current=!0,E.clear(),v.clear()}),C.current)return D.createElement(D.Fragment,null,g.map(U=>D.createElement(Gm,{key:xo(U),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:a,mode:l},U)));g=[...g];const N=_.current.map(xo),A=m.map(xo),F=N.length;for(let U=0;U<F;U++){const k=N[U];A.indexOf(k)===-1&&!v.has(k)&&v.set(k,void 0)}return l==="wait"&&v.size&&(g=[]),v.forEach((U,k)=>{if(A.indexOf(k)!==-1)return;const H=E.get(k);if(!H)return;const J=N.indexOf(k);let Q=U;if(!Q){const S=()=>{v.delete(k);const I=Array.from(E.keys()).filter(j=>!A.includes(j));if(I.forEach(j=>E.delete(j)),_.current=m.filter(j=>{const P=xo(j);return P===k||I.includes(P)}),!v.size){if(f.current===!1)return;u(),r&&r()}};Q=D.createElement(Gm,{key:xo(H),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:a,mode:l},H),v.set(k,Q)}g.splice(J,0,Q)}),g=g.map(U=>{const k=U.key;return v.has(k)?U:D.createElement(Gm,{key:xo(U),isPresent:!0,presenceAffectsLayout:a,mode:l},U)}),D.createElement(D.Fragment,null,v.size?g:g.map(U=>D.cloneElement(U)))},q3=()=>{const n=[{icon:vs,title:"AI-Powered Code Generation",description:"Generate code using advanced AI with multiple free services including Groq, Hugging Face, and Ollama."},{icon:hr,title:"170+ Programming Languages",description:"Support for JavaScript, Python, Java, C++, Rust, Go, and many more programming languages."},{icon:ol,title:"Real-time Preview",description:"See your code come to life instantly with our live preview system powered by Monaco Editor."},{icon:Bh,title:"Secure & Private",description:"Your code stays private. Use local AI models or trusted cloud services with encryption."}],e=[{label:"Languages",value:"170+",icon:hr},{label:"AI Services",value:"4",icon:vs},{label:"Free Forever",value:"100%",icon:Bh},{label:"Open Source",value:"Yes",icon:bS}];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[h.jsx("section",{className:"relative overflow-hidden pt-32 pb-20",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-flex items-center gap-2 px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-8",children:[h.jsx(Pf,{className:"h-4 w-4"}),"AI Development Platform"]}),h.jsxs(Te.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Build with"," ",h.jsx("span",{className:"bg-gradient-to-r from-primary to-purple-500 bg-clip-text text-transparent",children:"AI Power"})]}),h.jsx(Te.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-xl text-foreground mb-12 max-w-2xl mx-auto",children:"The universal AI development platform supporting 170+ programming languages. Generate, edit, and deploy code with artificial intelligence."}),h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[h.jsxs(di,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-lg font-semibold",children:[h.jsx(Ei,{className:"h-5 w-5"}),"Start Building"]}),h.jsxs("a",{href:"https://github.com/ronb12/DreamBuild",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:[h.jsx(If,{className:"h-5 w-5"}),"View on GitHub",h.jsx(pS,{className:"h-4 w-4"})]})]}),h.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((t,r)=>h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[h.jsx(t.icon,{className:"h-5 w-5 text-primary"}),h.jsx("div",{className:"text-2xl font-bold text-primary",children:t.value})]}),h.jsx("div",{className:"text-sm text-foreground",children:t.label})]},r))})]})}),h.jsx("section",{className:"py-20 bg-muted/30",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Everything you need to build with AI"}),h.jsx("p",{className:"text-lg text-foreground max-w-2xl mx-auto",children:"From simple websites to complex applications, DreamBuild provides all the tools you need to bring your ideas to life."})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((t,r)=>h.jsxs(Te.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-lg hover:bg-card/70 transition-all duration-200",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4",children:h.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),h.jsx("p",{className:"text-foreground",children:t.description})]},r))})]})}),h.jsx("section",{className:"py-20",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to start building?"}),h.jsx("p",{className:"text-lg text-foreground mb-8",children:"Join thousands of developers who are already using DreamBuild to create amazing applications."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(di,{to:"/ai-builder",className:"inline-flex items-center gap-2 px-8 py-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-lg font-semibold",children:["Get Started Free",h.jsx(oO,{className:"h-5 w-5"})]}),h.jsx(di,{to:"/dashboard",className:"inline-flex items-center gap-2 px-8 py-4 border border-border rounded-lg hover:bg-muted transition-colors text-lg font-semibold",children:"View Dashboard"})]})]})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="firebasestorage.googleapis.com",W2="storageBucket",W3=120*1e3,G3=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends qr{constructor(e,t,r=0){super(Km(e),`Firebase Storage: ${t} (${Km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gt||(gt={}));function Km(n){return"storage/"+n}function Sv(){const n="An unknown error occurred, please check the error payload for server response.";return new yt(gt.UNKNOWN,n)}function K3(n){return new yt(gt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Q3(n){return new yt(gt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y3(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(gt.UNAUTHENTICATED,n)}function J3(){return new yt(gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X3(n){return new yt(gt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Z3(){return new yt(gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eF(){return new yt(gt.CANCELED,"User canceled the upload/download.")}function tF(n){return new yt(gt.INVALID_URL,"Invalid URL '"+n+"'.")}function nF(n){return new yt(gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function rF(){return new yt(gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W2+"' property when initializing the app?")}function sF(){return new yt(gt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iF(){return new yt(gt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function oF(n){return new yt(gt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Zg(n){return new yt(gt.INVALID_ARGUMENT,n)}function G2(){return new yt(gt.APP_DELETED,"The Firebase app was deleted.")}function aF(n){return new yt(gt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oc(n,e){return new yt(gt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function gc(n){throw new yt(gt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=On.makeFromUrl(e,t)}catch{return new On(e,"")}if(r.path==="")return r;throw nF(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const g="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${v}/${g}/b/${s}/o${_}`,"i"),C={bucket:1,path:3},N=t===q2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,A="([^?#]*)",F=new RegExp(`^https?://${N}/${s}/${A}`,"i"),k=[{regex:u,indices:f,postModify:a},{regex:E,indices:C,postModify:m},{regex:F,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<k.length;H++){const J=k[H],Q=J.regex.exec(e);if(Q){const S=Q[J.indices.bucket];let I=Q[J.indices.path];I||(I=""),r=new On(S,I),J.postModify(r);break}}if(r==null)throw tF(e);return r}}class lF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(n,e,t){let r=1,s=null,a=null,l=!1,u=0;function f(){return u===2}let m=!1;function g(...A){m||(m=!0,e.apply(null,A))}function v(A){s=setTimeout(()=>{s=null,n(E,f())},A)}function _(){a&&clearTimeout(a)}function E(A,...F){if(m){_();return}if(A){_(),g.call(null,A,...F);return}if(f()||l){_(),g.call(null,A,...F);return}r<64&&(r*=2);let k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,v(k)}let C=!1;function N(A){C||(C=!0,_(),!m&&(s!==null?(A||(u=2),clearTimeout(s),v(0)):A||(u=1)))}return v(0),a=setTimeout(()=>{l=!0,N(!0)},t),N}function uF(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(n){return n!==void 0}function hF(n){return typeof n=="object"&&!Array.isArray(n)}function Cv(n){return typeof n=="string"||n instanceof String}function B1(n){return Av()&&n instanceof Blob}function Av(){return typeof Blob<"u"}function z1(n,e,t,r){if(r<e)throw Zg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Zg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function K2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Ao;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ao||(Ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,t,r,s,a,l,u,f,m,g,v,_=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=_,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yd(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=u=>{const f=u.loaded,m=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const u=a.getErrorCode()===Ao.NO_ERROR,f=a.getStatus();if(!u||fF(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Ao.ABORT;r(!1,new Yd(!1,null,g));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Yd(m,a))})},t=(r,s)=>{const a=this.resolve_,l=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(u,u.getResponse());dF(f)?a(f):a()}catch(f){l(f)}else if(u!==null){const f=Sv();f.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,f)):l(f)}else if(s.canceled){const f=this.appDelete_?G2():eF();l(f)}else{const f=Z3();l(f)}};this.canceled_?t(!1,new Yd(!1,null,!0)):this.backoffId_=cF(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function mF(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function gF(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yF(n,e){e&&(n["X-Firebase-GMPID"]=e)}function vF(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function xF(n,e,t,r,s,a,l=!0,u=!1){const f=K2(n.urlParams),m=n.url+f,g=Object.assign({},n.headers);return yF(g,e),mF(g,t),gF(g,a),vF(g,r),new pF(m,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _F(...n){const e=wF();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Av())return new Blob(n);throw new yt(gt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bF(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(n){if(typeof atob>"u")throw oF("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qm{constructor(e,t){this.data=e,this.contentType=t||null}}function EF(n,e){switch(n){case Lr.RAW:return new Qm(Q2(e));case Lr.BASE64:case Lr.BASE64URL:return new Qm(Y2(n,e));case Lr.DATA_URL:return new Qm(CF(e),AF(e))}throw Sv()}function Q2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SF(n){let e;try{e=decodeURIComponent(n)}catch{throw Oc(Lr.DATA_URL,"Malformed data URL.")}return Q2(e)}function Y2(n,e){switch(n){case Lr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Oc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Lr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Oc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=TF(e)}catch(s){throw s.message.includes("polyfill")?s:Oc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class J2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Oc(Lr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=IF(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function CF(n){const e=new J2(n);return e.base64?Y2(Lr.BASE64,e.rest):SF(e.rest)}function AF(n){return new J2(n).contentType}function IF(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t){let r=0,s="";B1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(B1(this.data_)){const r=this.data_,s=bF(r,e,t);return s===null?null:new gi(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new gi(r,!0)}}static getBlob(...e){if(Av()){const t=e.map(r=>r instanceof gi?r.data_:r);return new gi(_F.apply(null,t))}else{const t=e.map(l=>Cv(l)?EF(Lr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)s[a++]=l[u]}),new gi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(n){let e;try{e=JSON.parse(n)}catch{return null}return hF(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function PF(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function Z2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(n,e){return e}class dn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||RF}}let Jd=null;function NF(n){return!Cv(n)||n.length<2?n:Z2(n)}function eC(){if(Jd)return Jd;const n=[];n.push(new dn("bucket")),n.push(new dn("generation")),n.push(new dn("metageneration")),n.push(new dn("name","fullPath",!0));function e(a,l){return NF(l)}const t=new dn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const s=new dn("size");return s.xform=r,n.push(s),n.push(new dn("timeCreated")),n.push(new dn("updated")),n.push(new dn("md5Hash",null,!0)),n.push(new dn("cacheControl",null,!0)),n.push(new dn("contentDisposition",null,!0)),n.push(new dn("contentEncoding",null,!0)),n.push(new dn("contentLanguage",null,!0)),n.push(new dn("contentType",null,!0)),n.push(new dn("metadata","customMetadata",!0)),Jd=n,Jd}function jF(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new On(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function DF(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return jF(r,n),r}function tC(n,e,t){const r=X2(e);return r===null?null:DF(n,r,t)}function LF(n,e,t,r){const s=X2(e);if(s===null||!Cv(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(m=>{const g=n.bucket,v=n.fullPath,_="/b/"+l(g)+"/o/"+l(v),E=Iv(_,t,r),C=K2({alt:"media",token:m});return E+C})[0]}function OF(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class nC{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){if(!n)throw Sv()}function MF(n,e){function t(r,s){const a=tC(n,s,e);return rC(a!==null),a}return t}function VF(n,e){function t(r,s){const a=tC(n,s,e);return rC(a!==null),LF(a,s,n.host,n._protocol)}return t}function sC(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=J3():s=Y3():t.getStatus()===402?s=Q3(n.bucket):t.getStatus()===403?s=X3(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function FF(n){const e=sC(n);function t(r,s){let a=e(r,s);return r.getStatus()===404&&(a=K3(n.path)),a.serverResponse=s.serverResponse,a}return t}function UF(n,e,t){const r=e.fullServerUrl(),s=Iv(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,u=new nC(s,a,VF(n,t),l);return u.errorHandler=FF(e),u}function BF(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function zF(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=BF(null,e)),r}function $F(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let k="";for(let H=0;H<2;H++)k=k+Math.random().toString().slice(2);return k}const f=u();l["Content-Type"]="multipart/related; boundary="+f;const m=zF(e,r,s),g=OF(m,t),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+f+"--",E=gi.getBlob(v,r,_);if(E===null)throw sF();const C={name:m.fullPath},N=Iv(a,n.host,n._protocol),A="POST",F=n.maxUploadRetryTime,U=new nC(N,A,MF(n,t),F);return U.urlParams=C,U.headers=l,U.body=E.uploadData(),U.errorHandler=sC(e),U}class HF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,a){if(this.sent_)throw gc("cannot .send() more than once");if(Vi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qF extends HF{initXhr(){this.xhr_.responseType="text"}}function iC(){return new qF}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,t){this._service=e,t instanceof On?this._location=t:this._location=On.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Lo(e,t)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Z2(this._location.path)}get storage(){return this._service}get parent(){const e=kF(this._location.path);if(e===null)return null;const t=new On(this._location.bucket,e);return new Lo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw aF(e)}}function WF(n,e,t){n._throwIfRoot("uploadBytes");const r=$F(n.storage,n._location,eC(),new gi(e,!0),t);return n.storage.makeRequestWithTokens(r,iC).then(s=>({metadata:s,ref:n}))}function GF(n){n._throwIfRoot("getDownloadURL");const e=UF(n.storage,n._location,eC());return n.storage.makeRequestWithTokens(e,iC).then(t=>{if(t===null)throw iF();return t})}function KF(n,e){const t=PF(n._location.path,e),r=new On(n._location.bucket,t);return new Lo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(n){return/^[A-Za-z]+:\/\//.test(n)}function YF(n,e){return new Lo(n,e)}function oC(n,e){if(n instanceof kv){const t=n;if(t._bucket==null)throw rF();const r=new Lo(t,t._bucket);return e!=null?oC(r,e):r}else return e!==void 0?KF(n,e):n}function JF(n,e){if(e&&QF(e)){if(n instanceof kv)return YF(n,e);throw Zg("To use ref(service, url), the first argument must be a Storage instance.")}else return oC(n,e)}function $1(n,e){const t=e?.[W2];return t==null?null:On.makeFromBucketSpec(t,n)}function XF(n,e,t,r={}){n.host=`${e}:${t}`;const s=Vi(e);s&&(uy(`https://${n.host}/b`),dy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Wb(a,n.app.options.projectId))}class kv{constructor(e,t,r,s,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=q2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W3,this._maxUploadRetryTime=G3,this._requests=new Set,s!=null?this._bucket=On.makeFromBucketSpec(s,this._host):this._bucket=$1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=$1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lo(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new lF(G2());{const l=xF(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const H1="@firebase/storage",q1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="storage";function Ym(n,e,t){return n=$t(n),WF(n,e,t)}function Jm(n){return n=$t(n),GF(n)}function Xm(n,e){return n=$t(n),JF(n,e)}function ZF(n=my(),e){n=$t(n);const r=nf(n,aC).getImmediate({identifier:e}),s=$b("storage");return s&&e6(r,...s),r}function e6(n,e,t,r={}){XF(n,e,t,r)}function t6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new kv(t,r,s,e,Fo)}function n6(){Po(new Ii(aC,t6,"PUBLIC").setMultipleInstances(!0)),Mr(H1,q1,""),Mr(H1,q1,"esm2020")}n6();const r6={apiKey:"demo-key",authDomain:"dreambuild-2024-app.firebaseapp.com",projectId:"dreambuild-2024-app",storageBucket:"dreambuild-2024-app.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456789"},lC=py(r6),Zm=ZF(lC),Xd=Jy(lC);class s6{constructor(){this.deployments=new Map,this.isDeploying=!1}async deployToFirebase(e,t){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log("🚀 Starting Firebase deployment...");const r=`deploy_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,s={id:r,projectName:t||"dream-app",files:e.files,config:e.config,deployedAt:new Date,status:"uploading",platform:"firebase"},a={};for(const[g,v]of Object.entries(e.files))if(v&&v.trim()){const _=Xm(Zm,`projects/${r}/${g}`),E=new Blob([v],{type:this.getMimeType(g)});await Ym(_,E);const C=await Jm(_);a[g]=C}const l=this.createHostedHTML(e.files),u=Xm(Zm,`projects/${r}/index.html`),f=new Blob([l],{type:"text/html"});await Ym(u,f);const m=await Jm(u);return await Uh(Ja(Xd,"deployments",r),{...s,status:"completed",hostedURL:m,files:a,completedAt:new Date}),this.deployments.set(r,s),console.log("✅ Firebase deployment completed:",m),{success:!0,deploymentId:r,url:m,platform:"firebase"}}catch(r){throw console.error("❌ Firebase deployment failed:",r),new Error(`Firebase deployment failed: ${r.message}`)}finally{this.isDeploying=!1}}async deployToGitHub(e,t,r=null){if(this.isDeploying)throw new Error("Deployment already in progress");this.isDeploying=!0;try{console.log("🚀 Starting GitHub deployment...");const s=`github_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;if(!r){const a=t.toLowerCase().replace(/[^a-z0-9-]/g,"-"),l=this.createHostedHTML(e.files),u=Xm(Zm,`github-pages/${s}/index.html`),f=new Blob([l],{type:"text/html"});await Ym(u,f);const m=await Jm(u);return await Uh(Ja(Xd,"deployments",s),{id:s,projectName:t,files:e.files,config:e.config,deployedAt:new Date,status:"completed",platform:"github-pages",hostedURL:m,repoName:a,instructions:this.generateGitHubInstructions(t,e.files)}),{success:!0,deploymentId:s,url:m,platform:"github-pages",repoName:a,instructions:this.generateGitHubInstructions(t,e.files)}}throw new Error("GitHub API integration not yet implemented. Please use the demo deployment.")}catch(s){throw console.error("❌ GitHub deployment failed:",s),new Error(`GitHub deployment failed: ${s.message}`)}finally{this.isDeploying=!1}}createHostedHTML(e){const t=e["index.html"]||this.generateDefaultHTML(),r=e["style.css"]||"",s=e["script.js"]||"";let a=t;return r.trim()&&(a.includes("</head>")?a=a.replace("</head>",`<style>${r}</style>
</head>`):a.includes("<head>")?a=a.replace("<head>",`<head>
<style>${r}</style>`):a=`<style>${r}</style>
${a}`),s.trim()&&(a.includes("</body>")?a=a.replace("</body>",`<script>${s}<\/script>
</body>`):a+=`
<script>${s}<\/script>`),a.includes("<!DOCTYPE html>")||(a=`<!DOCTYPE html>
${a}`),a.includes('<meta name="viewport"')||(a=a.replace("<head>",`<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">`)),a}generateDefaultHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DreamBuild App</title>
</head>
<body>
    <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <div style="text-align: center; padding: 40px; background: rgba(255,255,255,0.1); border-radius: 20px; backdrop-filter: blur(10px);">
            <h1 style="font-size: 2.5rem; margin-bottom: 20px;">🚀 DreamBuild App</h1>
            <p style="font-size: 1.2rem; opacity: 0.9;">Your app is ready! Add some content to get started.</p>
        </div>
    </div>
</body>
</html>`}getMimeType(e){const t=e.split(".").pop().toLowerCase();return{html:"text/html",css:"text/css",js:"application/javascript",json:"application/json",md:"text/markdown",txt:"text/plain"}[t]||"text/plain"}generateGitHubInstructions(e,t){const r=e.toLowerCase().replace(/[^a-z0-9-]/g,"-");return{steps:["1. Create a new repository on GitHub",`2. Name it "${r}" (or your preferred name)`,"3. Initialize with README","4. Upload your generated files to the repository","5. Go to Settings > Pages",'6. Select "Deploy from a branch"','7. Choose "main" branch and "/ (root)" folder',"8. Click Save - your site will be available at:",`   https://yourusername.github.io/${r}`],files:Object.keys(t),repoName:r}}getDeploymentStatus(e){return this.deployments.get(e)}async getAllDeployments(){try{const{collection:e,query:t,orderBy:r,limit:s,getDocs:a}=await Ba(async()=>{const{collection:m,query:g,orderBy:v,limit:_,getDocs:E}=await Promise.resolve().then(()=>Ua);return{collection:m,query:g,orderBy:v,limit:_,getDocs:E}},void 0),l=e(Xd,"deployments"),u=t(l,r("deployedAt","desc"),s(20));return(await a(u)).docs.map(m=>({id:m.id,...m.data()}))}catch(e){return console.error("Error fetching deployments:",e),[]}}async deleteDeployment(e){try{const{deleteDoc:t}=await Ba(async()=>{const{deleteDoc:r}=await Promise.resolve().then(()=>Ua);return{deleteDoc:r}},void 0);return await t(Ja(Xd,"deployments",e)),this.deployments.delete(e),!0}catch(t){return console.error("Error deleting deployment:",t),!1}}isCurrentlyDeploying(){return this.isDeploying}}const W1=new s6,i6=()=>{const{currentProject:n,switchFile:e,updateFile:t,saveProject:r,createNewProject:s,updateConfig:a}=Ho(),[l,u]=D.useState(!1),[f,m]=D.useState(""),[g,v]=D.useState(!1),[_,E]=D.useState(!1),[C,N]=D.useState(!1),[A,F]=D.useState("firebase"),[U,k]=D.useState(""),H={"index.html":"🌐","style.css":"🎨","script.js":"⚡","components.jsx":"🧩","package.json":"📦","README.md":"📖","server.js":"🖥️","database.js":"🗄️","auth.js":"🔐","api.js":"🔌"},J=q=>H[q]||"📄",Q=q=>{const te=n.files[q];return te&&te.trim()?"Ready":"Empty"},S=q=>{e(q)},I=()=>{if(f.trim()){const q=f.includes(".")?f:`${f}.js`;t(q,""),e(q),m(""),u(!1),Re.success(`Created ${q}`)}},j=q=>{if(Object.keys(n.files).length<=1){Re.error("Cannot delete the last file");return}if(confirm(`Delete ${q}?`)){const te={...n.files};if(delete te[q],Object.keys(te).forEach(ge=>{n.files[ge]=te[ge]}),n.activeFile===q){const ge=Object.keys(te);e(ge[0])}Re.success(`Deleted ${q}`)}},P=q=>{const te=n.files[q]||"",ge=new Blob([te],{type:"text/plain"}),se=URL.createObjectURL(ge),he=document.createElement("a");he.href=se,he.download=q,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(se),Re.success(`Downloaded ${q}`)},M=()=>{const q={name:n.name,files:n.files,config:n.config,timestamp:new Date().toISOString()},te=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),ge=URL.createObjectURL(te),se=document.createElement("a");se.href=ge,se.download=`${n.name}.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(ge),Re.success("Project downloaded!")},z=q=>{const te=q.target.files[0];if(te){const ge=new FileReader;ge.onload=se=>{t(te.name,se.target.result),e(te.name),Re.success(`Uploaded ${te.name}`)},ge.readAsText(te)}},L=async()=>{if(!U.trim()){Re.error("Please enter a project name");return}if(Object.keys(n.files).length===0){Re.error("Please generate some code first");return}N(!0);try{let q;A==="firebase"?q=await W1.deployToFirebase(n,U):q=await W1.deployToGitHub(n,U),q.success&&(Re.success(`Successfully deployed to ${q.platform}!`),q.url&&window.open(q.url,"_blank"),q.instructions&&(console.log("GitHub deployment instructions:",q.instructions),Re.success("Check console for GitHub Pages setup instructions")),E(!1),k(""))}catch(q){Re.error(`Deployment failed: ${q.message}`)}finally{N(!1)}},ye=[{name:"HTML File",extension:".html",icon:"🌐"},{name:"CSS File",extension:".css",icon:"🎨"},{name:"JavaScript File",extension:".js",icon:"⚡"},{name:"React Component",extension:".jsx",icon:"🧩"},{name:"TypeScript File",extension:".ts",icon:"🔷"},{name:"JSON File",extension:".json",icon:"📦"},{name:"Markdown File",extension:".md",icon:"📖"}];return h.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-4 border-b border-border/50 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:h.jsx(Xa,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground",children:"Project Files"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your project"})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>u(!0),className:"p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-transparent hover:border-primary/20",title:"New File",children:h.jsx(Vg,{className:"h-4 w-4 text-primary"})}),h.jsx(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!0),className:"p-2 hover:bg-primary/10 rounded-lg transition-all duration-200 border border-transparent hover:border-primary/20",title:"Project Settings",children:h.jsx(Si,{className:"h-4 w-4 text-primary"})})]})]}),h.jsxs("div",{className:"flex gap-2 flex-wrap",children:[h.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(),className:"flex items-center gap-2 px-3 py-2 text-sm bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-sm shadow-primary/20",title:"Save Project",children:[h.jsx(vS,{className:"h-4 w-4"}),"Save"]}),h.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>E(!0),className:"flex items-center gap-2 px-3 py-2 text-sm bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-sm shadow-green-600/20",title:"Deploy Project",disabled:Object.keys(n.files).length===0,children:[h.jsx(Ei,{className:"h-4 w-4"}),"Deploy"]}),h.jsxs("button",{onClick:M,className:"flex items-center gap-1 px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded hover:bg-secondary/90 transition-colors",title:"Download Project",children:[h.jsx(Kc,{className:"h-3 w-3"}),"Export"]}),h.jsxs("button",{onClick:s,className:"flex items-center gap-1 px-2 py-1 text-xs bg-accent text-accent-foreground rounded hover:bg-accent/90 transition-colors",title:"New Project",children:[h.jsx(mO,{className:"h-3 w-3"}),"New"]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:Object.keys(n.files).map(q=>h.jsxs(Te.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`group flex items-center gap-2 p-2 rounded-md cursor-pointer transition-all ${n.activeFile===q?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>S(q),children:[h.jsx("span",{className:"text-sm",children:J(q)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"text-sm font-medium truncate",children:q}),h.jsx("div",{className:`text-xs ${n.activeFile===q?"text-primary-foreground/70":"text-muted-foreground"}`,children:Q(q)})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:te=>{te.stopPropagation(),P(q)},className:"p-1 hover:bg-background/20 rounded transition-colors",title:"Download File",children:h.jsx(Kc,{className:"h-3 w-3"})}),Object.keys(n.files).length>1&&h.jsx("button",{onClick:te=>{te.stopPropagation(),j(q)},className:"p-1 hover:bg-destructive/20 rounded transition-colors",title:"Delete File",children:h.jsx(wS,{className:"h-3 w-3"})})]})]},q))}),h.jsx("div",{className:"p-2 border-t border-border",children:h.jsxs("label",{className:"flex items-center justify-center gap-2 p-2 border-2 border-dashed border-border rounded-md hover:border-primary transition-colors cursor-pointer",children:[h.jsx(_S,{className:"h-4 w-4"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"Upload File"}),h.jsx("input",{type:"file",className:"hidden",accept:".html,.css,.js,.jsx,.ts,.tsx,.json,.md,.txt",onChange:z})]})}),h.jsx(_s,{children:l&&h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>u(!1),children:h.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New File"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"File Name"}),h.jsx("input",{type:"text",value:f,onChange:q=>m(q.target.value),placeholder:"my-file.js",className:"w-full p-2 border border-border rounded-md bg-background",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Templates"}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:ye.map(q=>h.jsxs("button",{onClick:()=>m(`new-file${q.extension}`),className:"flex items-center gap-2 p-2 text-xs border border-border rounded hover:bg-muted transition-colors",children:[h.jsx("span",{children:q.icon}),h.jsx("span",{className:"truncate",children:q.name})]},q.extension))})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Cancel"}),h.jsx("button",{onClick:I,className:"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Create"})]})]})]})})}),h.jsx(_s,{children:g&&h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>v(!1),children:h.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Settings"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),h.jsx("input",{type:"text",value:n.name,onChange:q=>a({name:q.target.value}),className:"w-full p-2 border border-border rounded-md bg-background"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"App Type"}),h.jsxs("select",{value:n.config.appType,onChange:q=>a({appType:q.target.value}),className:"w-full p-2 border border-border rounded-md bg-background",children:[h.jsx("option",{value:"frontend",children:"Frontend"}),h.jsx("option",{value:"backend",children:"Backend"}),h.jsx("option",{value:"fullstack",children:"Full Stack"}),h.jsx("option",{value:"mobile",children:"Mobile"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Language"}),h.jsxs("select",{value:n.config.language,onChange:q=>a({language:q.target.value}),className:"w-full p-2 border border-border rounded-md bg-background",children:[h.jsx("option",{value:"javascript",children:"JavaScript"}),h.jsx("option",{value:"typescript",children:"TypeScript"}),h.jsx("option",{value:"python",children:"Python"}),h.jsx("option",{value:"java",children:"Java"}),h.jsx("option",{value:"csharp",children:"C#"})]})]}),h.jsx("div",{className:"flex gap-2 justify-end",children:h.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})}),h.jsx(_s,{children:_&&h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>E(!1),children:h.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Ei,{className:"h-5 w-5"}),"Deploy Your App"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Project Name"}),h.jsx("input",{type:"text",value:U,onChange:q=>k(q.target.value),placeholder:"my-awesome-app",className:"w-full p-2 border border-border rounded-md bg-background",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deployment Platform"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[h.jsx("input",{type:"radio",value:"firebase",checked:A==="firebase",onChange:q=>F(q.target.value),className:"text-primary"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded flex items-center justify-center",children:h.jsx("span",{className:"text-white text-xs",children:"F"})}),h.jsx("span",{children:"Firebase Hosting"})]})]}),h.jsxs("label",{className:"flex items-center gap-2 p-2 border border-border rounded-md hover:bg-muted cursor-pointer",children:[h.jsx("input",{type:"radio",value:"github",checked:A==="github",onChange:q=>F(q.target.value),className:"text-primary"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(If,{className:"h-4 w-4"}),h.jsx("span",{children:"GitHub Pages"})]})]})]})]}),h.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Platform Info"}),h.jsx("div",{className:"text-xs text-muted-foreground space-y-1",children:A==="firebase"?h.jsxs(h.Fragment,{children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Firebase Hosting:"})," Instant deployment with custom domain support"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Features:"})," CDN, SSL, automatic HTTPS"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cost:"})," Free tier available"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("p",{children:[h.jsx("strong",{children:"GitHub Pages:"})," Host static sites directly from GitHub repositories"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Features:"})," Custom domains, Jekyll support"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cost:"})," Free for public repositories"]})]})})]}),h.jsxs("div",{className:"flex gap-2 justify-end",children:[h.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",disabled:C,children:"Cancel"}),h.jsx("button",{onClick:L,disabled:C||!U.trim(),className:"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:C?h.jsxs(h.Fragment,{children:[h.jsx(yS,{className:"h-4 w-4 animate-spin"}),"Deploying..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ei,{className:"h-4 w-4"}),"Deploy Now"]})})]})]})]})})})]})};function o6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function G1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function K1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G1(Object(t),!0).forEach(function(r){o6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):G1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function a6(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,a;for(a=0;a<r.length;a++)s=r[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function l6(n,e){if(n==null)return{};var t=a6(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function c6(n,e){return u6(n)||d6(n,e)||h6(n,e)||f6()}function u6(n){if(Array.isArray(n))return n}function d6(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,s=!1,a=void 0;try{for(var l=n[Symbol.iterator](),u;!(r=(u=l.next()).done)&&(t.push(u.value),!(e&&t.length===e));r=!0);}catch(f){s=!0,a=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw a}}return t}}function h6(n,e){if(n){if(typeof n=="string")return Q1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q1(n,e)}}function Q1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function f6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p6(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function J1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y1(Object(t),!0).forEach(function(r){p6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function m6(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(s,a){return a(s)},r)}}function Tc(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return e.apply(t,[].concat(s,u))}}}function Yh(n){return{}.toString.call(n).includes("Object")}function g6(n){return!Object.keys(n).length}function Xc(n){return typeof n=="function"}function y6(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function v6(n,e){return Yh(e)||Ai("changeType"),Object.keys(e).some(function(t){return!y6(n,t)})&&Ai("changeField"),e}function x6(n){Xc(n)||Ai("selectorType")}function w6(n){Xc(n)||Yh(n)||Ai("handlerType"),Yh(n)&&Object.values(n).some(function(e){return!Xc(e)})&&Ai("handlersType")}function _6(n){n||Ai("initialIsRequired"),Yh(n)||Ai("initialType"),g6(n)&&Ai("initialContent")}function b6(n,e){throw new Error(n[e]||n.default)}var T6={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ai=Tc(b6)(T6),Zd={changes:v6,selector:x6,handler:w6,initial:_6};function E6(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zd.initial(n),Zd.handler(e);var t={current:n},r=Tc(A6)(t,e),s=Tc(C6)(t),a=Tc(Zd.changes)(n),l=Tc(S6)(t);function u(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(g){return g};return Zd.selector(m),m(t.current)}function f(m){m6(r,s,a,l)(m)}return[u,f]}function S6(n,e){return Xc(e)?e(n.current):e}function C6(n,e){return n.current=J1(J1({},n.current),e),e}function A6(n,e,t){return Xc(e)?e(n.current):Object.keys(t).forEach(function(r){var s;return(s=e[r])===null||s===void 0?void 0:s.call(e,n.current[r])}),t}var I6={create:E6},k6={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function P6(n){return function e(){for(var t=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return s.length>=n.length?n.apply(this,s):function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];return e.apply(t,[].concat(s,u))}}}function R6(n){return{}.toString.call(n).includes("Object")}function N6(n){return n||X1("configIsRequired"),R6(n)||X1("configType"),n.urls?(j6(),{paths:{vs:n.urls.monacoBase}}):n}function j6(){console.warn(cC.deprecation)}function D6(n,e){throw new Error(n[e]||n.default)}var cC={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},X1=P6(D6)(cC),L6={config:N6},O6=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(s){return t.reduceRight(function(a,l){return l(a)},s)}};function uC(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],uC(n[t],e[t]))}),K1(K1({},n),e)}var M6={type:"cancelation",msg:"operation is manually canceled"};function eg(n){var e=!1,t=new Promise(function(r,s){n.then(function(a){return e?s(M6):r(a)}),n.catch(s)});return t.cancel=function(){return e=!0},t}var V6=I6.create({config:k6,isInitialized:!1,resolve:null,reject:null,monaco:null}),dC=c6(V6,2),yu=dC[0],Ff=dC[1];function F6(n){var e=L6.config(n),t=e.monaco,r=l6(e,["monaco"]);Ff(function(s){return{config:uC(s.config,r),monaco:t}})}function U6(){var n=yu(function(e){var t=e.monaco,r=e.isInitialized,s=e.resolve;return{monaco:t,isInitialized:r,resolve:s}});if(!n.isInitialized){if(Ff({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),eg(tg);if(window.monaco&&window.monaco.editor)return hC(window.monaco),n.resolve(window.monaco),eg(tg);O6(B6,$6)(H6)}return eg(tg)}function B6(n){return document.body.appendChild(n)}function z6(n){var e=document.createElement("script");return n&&(e.src=n),e}function $6(n){var e=yu(function(r){var s=r.config,a=r.reject;return{config:s,reject:a}}),t=z6("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function H6(){var n=yu(function(t){var r=t.config,s=t.resolve,a=t.reject;return{config:r,resolve:s,reject:a}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){hC(t),n.resolve(t)},function(t){n.reject(t)})}function hC(n){yu().monaco||Ff({monaco:n})}function q6(){return yu(function(n){var e=n.monaco;return e})}var tg=new Promise(function(n,e){return Ff({resolve:n,reject:e})}),fC={config:F6,init:U6,__getMonacoInstance:q6},W6={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ng=W6,G6={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},K6=G6;function Q6({children:n}){return Or.createElement("div",{style:K6.container},n)}var Y6=Q6,J6=Y6;function X6({width:n,height:e,isEditorReady:t,loading:r,_ref:s,className:a,wrapperProps:l}){return Or.createElement("section",{style:{...ng.wrapper,width:n,height:e},...l},!t&&Or.createElement(J6,null,r),Or.createElement("div",{ref:s,style:{...ng.fullWidth,...!t&&ng.hide},className:a}))}var Z6=X6,pC=D.memo(Z6);function eU(n){D.useEffect(n,[])}var mC=eU;function tU(n,e,t=!0){let r=D.useRef(!0);D.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var Dn=tU;function Mc(){}function Wa(n,e,t,r){return nU(n,r)||rU(n,e,t,r)}function nU(n,e){return n.editor.getModel(gC(n,e))}function rU(n,e,t,r){return n.editor.createModel(e,t,r?gC(n,r):void 0)}function gC(n,e){return n.Uri.parse(e)}function sU({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:s,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:f=!1,theme:m="light",loading:g="Loading...",options:v={},height:_="100%",width:E="100%",className:C,wrapperProps:N={},beforeMount:A=Mc,onMount:F=Mc}){let[U,k]=D.useState(!1),[H,J]=D.useState(!0),Q=D.useRef(null),S=D.useRef(null),I=D.useRef(null),j=D.useRef(F),P=D.useRef(A),M=D.useRef(!1);mC(()=>{let q=fC.init();return q.then(te=>(S.current=te)&&J(!1)).catch(te=>te?.type!=="cancelation"&&console.error("Monaco initialization: error:",te)),()=>Q.current?ye():q.cancel()}),Dn(()=>{if(Q.current&&S.current){let q=Q.current.getOriginalEditor(),te=Wa(S.current,n||"",r||t||"text",a||"");te!==q.getModel()&&q.setModel(te)}},[a],U),Dn(()=>{if(Q.current&&S.current){let q=Q.current.getModifiedEditor(),te=Wa(S.current,e||"",s||t||"text",l||"");te!==q.getModel()&&q.setModel(te)}},[l],U),Dn(()=>{let q=Q.current.getModifiedEditor();q.getOption(S.current.editor.EditorOption.readOnly)?q.setValue(e||""):e!==q.getValue()&&(q.executeEdits("",[{range:q.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),q.pushUndoStop())},[e],U),Dn(()=>{Q.current?.getModel()?.original.setValue(n||"")},[n],U),Dn(()=>{let{original:q,modified:te}=Q.current.getModel();S.current.editor.setModelLanguage(q,r||t||"text"),S.current.editor.setModelLanguage(te,s||t||"text")},[t,r,s],U),Dn(()=>{S.current?.editor.setTheme(m)},[m],U),Dn(()=>{Q.current?.updateOptions(v)},[v],U);let z=D.useCallback(()=>{if(!S.current)return;P.current(S.current);let q=Wa(S.current,n||"",r||t||"text",a||""),te=Wa(S.current,e||"",s||t||"text",l||"");Q.current?.setModel({original:q,modified:te})},[t,e,s,n,r,a,l]),L=D.useCallback(()=>{!M.current&&I.current&&(Q.current=S.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...v}),z(),S.current?.editor.setTheme(m),k(!0),M.current=!0)},[v,m,z]);D.useEffect(()=>{U&&j.current(Q.current,S.current)},[U]),D.useEffect(()=>{!H&&!U&&L()},[H,U,L]);function ye(){let q=Q.current?.getModel();u||q?.original?.dispose(),f||q?.modified?.dispose(),Q.current?.dispose()}return Or.createElement(pC,{width:E,height:_,isEditorReady:U,loading:g,_ref:I,className:C,wrapperProps:N})}var iU=sU;D.memo(iU);function oU(n){let e=D.useRef();return D.useEffect(()=>{e.current=n},[n]),e.current}var aU=oU,eh=new Map;function lU({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:s,path:a,theme:l="light",line:u,loading:f="Loading...",options:m={},overrideServices:g={},saveViewState:v=!0,keepCurrentModel:_=!1,width:E="100%",height:C="100%",className:N,wrapperProps:A={},beforeMount:F=Mc,onMount:U=Mc,onChange:k,onValidate:H=Mc}){let[J,Q]=D.useState(!1),[S,I]=D.useState(!0),j=D.useRef(null),P=D.useRef(null),M=D.useRef(null),z=D.useRef(U),L=D.useRef(F),ye=D.useRef(),q=D.useRef(r),te=aU(a),ge=D.useRef(!1),se=D.useRef(!1);mC(()=>{let V=fC.init();return V.then(ee=>(j.current=ee)&&I(!1)).catch(ee=>ee?.type!=="cancelation"&&console.error("Monaco initialization: error:",ee)),()=>P.current?ue():V.cancel()}),Dn(()=>{let V=Wa(j.current,n||r||"",e||s||"",a||t||"");V!==P.current?.getModel()&&(v&&eh.set(te,P.current?.saveViewState()),P.current?.setModel(V),v&&P.current?.restoreViewState(eh.get(a)))},[a],J),Dn(()=>{P.current?.updateOptions(m)},[m],J),Dn(()=>{!P.current||r===void 0||(P.current.getOption(j.current.editor.EditorOption.readOnly)?P.current.setValue(r):r!==P.current.getValue()&&(se.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),P.current.pushUndoStop(),se.current=!1))},[r],J),Dn(()=>{let V=P.current?.getModel();V&&s&&j.current?.editor.setModelLanguage(V,s)},[s],J),Dn(()=>{u!==void 0&&P.current?.revealLine(u)},[u],J),Dn(()=>{j.current?.editor.setTheme(l)},[l],J);let he=D.useCallback(()=>{if(!(!M.current||!j.current)&&!ge.current){L.current(j.current);let V=a||t,ee=Wa(j.current,r||n||"",e||s||"",V||"");P.current=j.current?.editor.create(M.current,{model:ee,automaticLayout:!0,...m},g),v&&P.current.restoreViewState(eh.get(V)),j.current.editor.setTheme(l),u!==void 0&&P.current.revealLine(u),Q(!0),ge.current=!0}},[n,e,t,r,s,a,m,g,v,l,u]);D.useEffect(()=>{J&&z.current(P.current,j.current)},[J]),D.useEffect(()=>{!S&&!J&&he()},[S,J,he]),q.current=r,D.useEffect(()=>{J&&k&&(ye.current?.dispose(),ye.current=P.current?.onDidChangeModelContent(V=>{se.current||k(P.current.getValue(),V)}))},[J,k]),D.useEffect(()=>{if(J){let V=j.current.editor.onDidChangeMarkers(ee=>{let Se=P.current.getModel()?.uri;if(Se&&ee.find(Ee=>Ee.path===Se.path)){let Ee=j.current.editor.getModelMarkers({resource:Se});H?.(Ee)}});return()=>{V?.dispose()}}return()=>{}},[J,H]);function ue(){ye.current?.dispose(),_?v&&eh.set(a,P.current.saveViewState()):P.current.getModel()?.dispose(),P.current.dispose()}return Or.createElement(pC,{width:E,height:C,isEditorReady:J,loading:f,_ref:M,className:N,wrapperProps:A})}var cU=lU,uU=D.memo(cU);const Z1=()=>{const{theme:n}=cy(),{currentProject:e,updateFile:t}=Ho(),[r,s]=D.useState(!1),a=D.useRef(null),l=(A,F)=>{a.current=A,F.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"569CD6"},{token:"string",foreground:"CE9178"},{token:"number",foreground:"B5CEA8"},{token:"tag",foreground:"569CD6"},{token:"attribute.name",foreground:"92C5F8"},{token:"attribute.value",foreground:"CE9178"}],colors:{"editor.background":"#1e1e1e","editor.foreground":"#d4d4d4","editor.lineHighlightBackground":"#2a2d2e","editor.selectionBackground":"#264f78","editor.inactiveSelectionBackground":"#3a3d41"}}),F.editor.defineTheme("custom-light",{base:"vs",inherit:!0,rules:[{token:"comment",foreground:"6A9955"},{token:"keyword",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"number",foreground:"098658"},{token:"tag",foreground:"800000"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"}],colors:{"editor.background":"#ffffff","editor.foreground":"#000000","editor.lineHighlightBackground":"#f5f5f5","editor.selectionBackground":"#add6ff","editor.inactiveSelectionBackground":"#e5ebf1"}}),F.editor.setTheme(n==="dark"?"custom-dark":"custom-light"),A.updateOptions({fontSize:14,fontFamily:"JetBrains Mono, Monaco, Consolas, monospace",lineHeight:22,minimap:{enabled:!0},scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",formatOnPaste:!0,formatOnType:!0,suggestOnTriggerCharacters:!0,acceptSuggestionOnEnter:"on",tabCompletion:"on"}),A.addCommand(F.KeyMod.CtrlCmd|F.KeyCode.KeyS,()=>{_()}),A.addCommand(F.KeyMod.CtrlCmd|F.KeyCode.KeyC,()=>{A.getSelection().isEmpty()&&g()})},u=A=>{A!==void 0&&t(e.activeFile,A)},f=()=>{const A=e.activeFile.split(".").pop();return{html:"html",css:"css",js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",java:"java",cpp:"cpp",c:"c",php:"php",rb:"ruby",go:"go",rs:"rust",swift:"swift",kt:"kotlin",scala:"scala",clj:"clojure",hs:"haskell",ml:"fsharp",fs:"fsharp",vb:"vb",sql:"sql",json:"json",xml:"xml",yaml:"yaml",yml:"yaml",md:"markdown",sh:"shell",bash:"shell",ps1:"powershell",dockerfile:"dockerfile"}[A]||"plaintext"},m=()=>{const A=e.files[e.activeFile]||"";navigator.clipboard.writeText(A),Re.success("Code copied to clipboard!")},g=()=>{const A=e.files[e.activeFile]||"";navigator.clipboard.writeText(A),Re.success("All code copied to clipboard!")},v=()=>{const A=e.files[e.activeFile]||"",F=new Blob([A],{type:"text/plain"}),U=URL.createObjectURL(F),k=document.createElement("a");k.href=U,k.download=e.activeFile,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(U),Re.success(`Downloaded ${e.activeFile}`)},_=()=>{Re.success("Code saved!")},E=()=>{a.current&&(a.current.getAction("editor.action.formatDocument").run(),Re.success("Code formatted!"))},C={"index.html":"🌐","style.css":"🎨","script.js":"⚡","components.jsx":"🧩","package.json":"📦","README.md":"📖"},N=A=>C[A]||"📄";return h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-lg",children:N(e.activeFile)}),h.jsx("span",{className:"font-medium text-sm",children:e.activeFile}),h.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:f()})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:E,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Format Code (Ctrl+Shift+F)",children:h.jsx(kf,{className:"h-4 w-4"})}),h.jsx("button",{onClick:m,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Copy Code",children:h.jsx(hO,{className:"h-4 w-4"})}),h.jsx("button",{onClick:v,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Download File",children:h.jsx(Kc,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"flex-1 relative",children:h.jsx(uU,{height:"100%",language:f(),value:e.files[e.activeFile]||"",onChange:u,onMount:l,theme:n==="dark"?"custom-dark":"custom-light",loading:h.jsxs("div",{className:"flex items-center justify-center h-full",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{className:"ml-2",children:"Loading editor..."})]}),options:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,mouseWheelZoom:!0,smoothScrolling:!0,cursorBlinking:"blink",cursorSmoothCaretAnimation:!0,renderLineHighlight:"line",renderWhitespace:"selection",renderIndentGuides:!0,highlightActiveIndentGuide:!0,bracketPairColorization:{enabled:!0},guides:{bracketPairs:!0,indentation:!0}}})}),h.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{children:["Line ",a.current?.getPosition()?.lineNumber||1]}),h.jsxs("span",{children:["Column ",a.current?.getPosition()?.column||1]}),h.jsxs("span",{children:[e.files[e.activeFile]?.length||0," characters"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:"Ctrl+S to save"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Ctrl+C to copy all"})]})]})]})},eb=()=>{const{currentProject:n}=Ho(),e=D.useRef(null),[t,r]=D.useState(!1),[s,a]=D.useState(!1),[l,u]=D.useState(null);D.useEffect(()=>{f()},[n.files,n.activeFile]);const f=()=>{if(e.current){r(!0),u(null);try{const C=n.files["index.html"]||"",N=n.files["style.css"]||"",A=n.files["script.js"]||"";if(!C.trim()){m();return}let F=C;N.trim()&&(F=F.replace(/<link[^>]*rel=["']stylesheet["'][^>]*href=["']style\.css["'][^>]*>/gi,`<style>${N}</style>`),F===C&&F.includes("<head>")?F=F.replace("<head>",`<head>
<style>${N}</style>`):F===C&&!F.includes("<head>")&&(F.includes("<title>")?F=F.replace("</title>",`</title>
<style>${N}</style>`):F=`<style>${N}</style>
${F}`)),A.trim()&&(F=F.replace(/<script[^>]*src=["']script\.js["'][^>]*><\/script>/gi,`<script>${A}<\/script>`),F.includes("</body>")?F=F.replace("</body>",`<script>${A}<\/script>
</body>`):F+=`
<script>${A}<\/script>`),F.includes("<!DOCTYPE html>")||(F=`<!DOCTYPE html>
${F}`);const U=e.current,k=U.contentDocument||U.contentWindow.document;k.open(),k.write(F),k.close(),U.onload=()=>{r(!1),u(null)},U.onerror=()=>{r(!1),u("Failed to load preview")}}catch(C){console.error("Preview update error:",C),r(!1),u("Preview update failed")}}},m=()=>{if(!e.current)return;const C=`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Preview</title>
        <style>
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
          }
          .placeholder {
            text-align: center;
            padding: 40px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            max-width: 400px;
          }
          .placeholder h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            opacity: 0.9;
          }
          .placeholder p {
            font-size: 1.1rem;
            opacity: 0.8;
            line-height: 1.6;
          }
          .icon {
            font-size: 4rem;
            margin-bottom: 20px;
            display: block;
          }
        </style>
      </head>
      <body>
        <div class="placeholder">
          <span class="icon">🚀</span>
          <h2>Ready to Build</h2>
          <p>Generate some code to see your application preview here!</p>
        </div>
      </body>
      </html>
    `,N=e.current,A=N.contentDocument||N.contentWindow.document;A.open(),A.write(C),A.close(),r(!1)},g=()=>{f(),Re.success("Preview refreshed!")},v=()=>{if(!e.current)return;const C=e.current,N=C.contentDocument||C.contentWindow.document;if(N){const A=window.open("","_blank");A.document.write(N.documentElement.outerHTML),A.document.close(),Re.success("Opened in new tab!")}},_=()=>{document.fullscreenElement||a(!1)};D.useEffect(()=>(document.addEventListener("fullscreenchange",_),()=>{document.removeEventListener("fullscreenchange",_)}),[]);const E=async()=>{s?document.exitFullscreen&&await document.exitFullscreen():e.current.requestFullscreen&&await e.current.requestFullscreen()};return h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden ${s?"fixed inset-0 z-50 rounded-none":""}`,children:[h.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-semibold text-sm",children:"Live Preview"}),t&&h.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[h.jsx("div",{className:"spinner"}),h.jsx("span",{children:"Updating..."})]}),l&&h.jsx("span",{className:"text-xs text-destructive",children:"Error"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:g,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Refresh Preview",children:h.jsx(kf,{className:"h-4 w-4"})}),h.jsx("button",{onClick:v,className:"p-2 hover:bg-muted rounded-md transition-colors",title:"Open in New Tab",children:h.jsx(pS,{className:"h-4 w-4"})}),h.jsx("button",{onClick:E,className:"p-2 hover:bg-muted rounded-md transition-colors",title:s?"Exit Fullscreen":"Enter Fullscreen",children:s?h.jsx(wO,{className:"h-4 w-4"}):h.jsx(vO,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"flex-1 relative bg-background",children:l?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center p-6",children:[h.jsx("div",{className:"text-4xl mb-4",children:"⚠️"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Preview Error"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:l}),h.jsx("button",{onClick:g,className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Try Again"})]})}):h.jsx("iframe",{ref:e,className:"w-full h-full border-0",title:"Preview",sandbox:"allow-scripts allow-same-origin allow-forms allow-popups",onLoad:()=>r(!1),onError:()=>{r(!1),u("Failed to load preview")}})}),h.jsxs("div",{className:"flex items-center justify-between p-2 border-t border-border bg-muted/30 text-xs text-muted-foreground",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{children:"Responsive"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"Auto-refresh"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:"Ctrl+R to refresh"}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"F11 for fullscreen"})]})]})]})};function yC(n,e){return function(){return n.apply(e,arguments)}}const{toString:dU}=Object.prototype,{getPrototypeOf:Pv}=Object,{iterator:Uf,toStringTag:vC}=Symbol,Bf=(n=>e=>{const t=dU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),fr=n=>(n=n.toLowerCase(),e=>Bf(e)===n),zf=n=>e=>typeof e===n,{isArray:vl}=Array,cl=zf("undefined");function vu(n){return n!==null&&!cl(n)&&n.constructor!==null&&!cl(n.constructor)&&_n(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const xC=fr("ArrayBuffer");function hU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&xC(n.buffer),e}const fU=zf("string"),_n=zf("function"),wC=zf("number"),xu=n=>n!==null&&typeof n=="object",pU=n=>n===!0||n===!1,mh=n=>{if(Bf(n)!=="object")return!1;const e=Pv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(vC in n)&&!(Uf in n)},mU=n=>{if(!xu(n)||vu(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},gU=fr("Date"),yU=fr("File"),vU=fr("Blob"),xU=fr("FileList"),wU=n=>xu(n)&&_n(n.pipe),_U=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_n(n.append)&&((e=Bf(n))==="formdata"||e==="object"&&_n(n.toString)&&n.toString()==="[object FormData]"))},bU=fr("URLSearchParams"),[TU,EU,SU,CU]=["ReadableStream","Request","Response","Headers"].map(fr),AU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wu(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),vl(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(vu(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),l=a.length;let u;for(r=0;r<l;r++)u=a[r],e.call(null,n[u],u,n)}}function _C(n,e){if(vu(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const To=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bC=n=>!cl(n)&&n!==To;function ey(){const{caseless:n,skipUndefined:e}=bC(this)&&this||{},t={},r=(s,a)=>{const l=n&&_C(t,a)||a;mh(t[l])&&mh(s)?t[l]=ey(t[l],s):mh(s)?t[l]=ey({},s):vl(s)?t[l]=s.slice():(!e||!cl(s))&&(t[l]=s)};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&wu(arguments[s],r);return t}const IU=(n,e,t,{allOwnKeys:r}={})=>(wu(e,(s,a)=>{t&&_n(s)?n[a]=yC(s,t):n[a]=s},{allOwnKeys:r}),n),kU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),PU=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},RU=(n,e,t,r)=>{let s,a,l;const u={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),a=s.length;a-- >0;)l=s[a],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&Pv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},NU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},jU=n=>{if(!n)return null;if(vl(n))return n;let e=n.length;if(!wC(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},DU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Pv(Uint8Array)),LU=(n,e)=>{const r=(n&&n[Uf]).call(n);let s;for(;(s=r.next())&&!s.done;){const a=s.value;e.call(n,a[0],a[1])}},OU=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},MU=fr("HTMLFormElement"),VU=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),tb=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),FU=fr("RegExp"),TC=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};wu(t,(s,a)=>{let l;(l=e(s,a,n))!==!1&&(r[a]=l||s)}),Object.defineProperties(n,r)},UU=n=>{TC(n,(e,t)=>{if(_n(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_n(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},BU=(n,e)=>{const t={},r=s=>{s.forEach(a=>{t[a]=!0})};return vl(n)?r(n):r(String(n).split(e)),t},zU=()=>{},$U=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function HU(n){return!!(n&&_n(n.append)&&n[vC]==="FormData"&&n[Uf])}const qU=n=>{const e=new Array(10),t=(r,s)=>{if(xu(r)){if(e.indexOf(r)>=0)return;if(vu(r))return r;if(!("toJSON"in r)){e[s]=r;const a=vl(r)?[]:{};return wu(r,(l,u)=>{const f=t(l,s+1);!cl(f)&&(a[u]=f)}),e[s]=void 0,a}}return r};return t(n,0)},WU=fr("AsyncFunction"),GU=n=>n&&(xu(n)||_n(n))&&_n(n.then)&&_n(n.catch),EC=((n,e)=>n?setImmediate:e?((t,r)=>(To.addEventListener("message",({source:s,data:a})=>{s===To&&a===t&&r.length&&r.shift()()},!1),s=>{r.push(s),To.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_n(To.postMessage)),KU=typeof queueMicrotask<"u"?queueMicrotask.bind(To):typeof process<"u"&&process.nextTick||EC,QU=n=>n!=null&&_n(n[Uf]),Z={isArray:vl,isArrayBuffer:xC,isBuffer:vu,isFormData:_U,isArrayBufferView:hU,isString:fU,isNumber:wC,isBoolean:pU,isObject:xu,isPlainObject:mh,isEmptyObject:mU,isReadableStream:TU,isRequest:EU,isResponse:SU,isHeaders:CU,isUndefined:cl,isDate:gU,isFile:yU,isBlob:vU,isRegExp:FU,isFunction:_n,isStream:wU,isURLSearchParams:bU,isTypedArray:DU,isFileList:xU,forEach:wu,merge:ey,extend:IU,trim:AU,stripBOM:kU,inherits:PU,toFlatObject:RU,kindOf:Bf,kindOfTest:fr,endsWith:NU,toArray:jU,forEachEntry:LU,matchAll:OU,isHTMLForm:MU,hasOwnProperty:tb,hasOwnProp:tb,reduceDescriptors:TC,freezeMethods:UU,toObjectSet:BU,toCamelCase:VU,noop:zU,toFiniteNumber:$U,findKey:_C,global:To,isContextDefined:bC,isSpecCompliantForm:HU,toJSONObject:qU,isAsyncFn:WU,isThenable:GU,setImmediate:EC,asap:KU,isIterable:QU};function Ve(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Z.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const SC=Ve.prototype,CC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{CC[n]={value:n}});Object.defineProperties(Ve,CC);Object.defineProperty(SC,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,s,a)=>{const l=Object.create(SC);Z.toFlatObject(n,l,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const u=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return Ve.call(l,u,f,t,r,s),n&&l.cause==null&&Object.defineProperty(l,"cause",{value:n,configurable:!0}),l.name=n&&n.name||"Error",a&&Object.assign(l,a),l};const YU=null;function ty(n){return Z.isPlainObject(n)||Z.isArray(n)}function AC(n){return Z.endsWith(n,"[]")?n.slice(0,-2):n}function nb(n,e,t){return n?n.concat(e).map(function(s,a){return s=AC(s),!t&&a?"["+s+"]":s}).join(t?".":""):e}function JU(n){return Z.isArray(n)&&!n.some(ty)}const XU=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function $f(n,e,t){if(!Z.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Z.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,A){return!Z.isUndefined(A[N])});const r=t.metaTokens,s=t.visitor||g,a=t.dots,l=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(s))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(Z.isDate(C))return C.toISOString();if(Z.isBoolean(C))return C.toString();if(!f&&Z.isBlob(C))throw new Ve("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(C)||Z.isTypedArray(C)?f&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,N,A){let F=C;if(C&&!A&&typeof C=="object"){if(Z.endsWith(N,"{}"))N=r?N:N.slice(0,-2),C=JSON.stringify(C);else if(Z.isArray(C)&&JU(C)||(Z.isFileList(C)||Z.endsWith(N,"[]"))&&(F=Z.toArray(C)))return N=AC(N),F.forEach(function(k,H){!(Z.isUndefined(k)||k===null)&&e.append(l===!0?nb([N],H,a):l===null?N:N+"[]",m(k))}),!1}return ty(C)?!0:(e.append(nb(A,N,a),m(C)),!1)}const v=[],_=Object.assign(XU,{defaultVisitor:g,convertValue:m,isVisitable:ty});function E(C,N){if(!Z.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+N.join("."));v.push(C),Z.forEach(C,function(F,U){(!(Z.isUndefined(F)||F===null)&&s.call(e,F,Z.isString(U)?U.trim():U,N,_))===!0&&E(F,N?N.concat(U):[U])}),v.pop()}}if(!Z.isObject(n))throw new TypeError("data must be an object");return E(n),e}function rb(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Rv(n,e){this._pairs=[],n&&$f(n,this,e)}const IC=Rv.prototype;IC.append=function(e,t){this._pairs.push([e,t])};IC.toString=function(e){const t=e?function(r){return e.call(this,r,rb)}:rb;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function ZU(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kC(n,e,t){if(!e)return n;const r=t&&t.encode||ZU;Z.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let a;if(s?a=s(e,t):a=Z.isURLSearchParams(e)?e.toString():new Rv(e,t).toString(r),a){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class sb{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const PC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e9=typeof URLSearchParams<"u"?URLSearchParams:Rv,t9=typeof FormData<"u"?FormData:null,n9=typeof Blob<"u"?Blob:null,r9={isBrowser:!0,classes:{URLSearchParams:e9,FormData:t9,Blob:n9},protocols:["http","https","file","blob","url","data"]},Nv=typeof window<"u"&&typeof document<"u",ny=typeof navigator=="object"&&navigator||void 0,s9=Nv&&(!ny||["ReactNative","NativeScript","NS"].indexOf(ny.product)<0),i9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o9=Nv&&window.location.href||"http://localhost",a9=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nv,hasStandardBrowserEnv:s9,hasStandardBrowserWebWorkerEnv:i9,navigator:ny,origin:o9},Symbol.toStringTag,{value:"Module"})),an={...a9,...r9};function l9(n,e){return $f(n,new an.classes.URLSearchParams,{visitor:function(t,r,s,a){return an.isNode&&Z.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function c9(n){return Z.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function u9(n){const e={},t=Object.keys(n);let r;const s=t.length;let a;for(r=0;r<s;r++)a=t[r],e[a]=n[a];return e}function RC(n){function e(t,r,s,a){let l=t[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),f=a>=t.length;return l=!l&&Z.isArray(s)?s.length:l,f?(Z.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!u):((!s[l]||!Z.isObject(s[l]))&&(s[l]=[]),e(t,r,s[l],a)&&Z.isArray(s[l])&&(s[l]=u9(s[l])),!u)}if(Z.isFormData(n)&&Z.isFunction(n.entries)){const t={};return Z.forEachEntry(n,(r,s)=>{e(c9(r),s,t,0)}),t}return null}function d9(n,e,t){if(Z.isString(n))try{return(e||JSON.parse)(n),Z.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const _u={transitional:PC,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=Z.isObject(e);if(a&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return s?JSON.stringify(RC(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return l9(e,this.formSerializer).toString();if((u=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return $f(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),d9(e)):e}],transformResponse:[function(e){const t=this.transitional||_u.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||s)){const l=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Ve.from(u,Ve.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:an.classes.FormData,Blob:an.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],n=>{_u.headers[n]={}});const h9=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f9=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(l){s=l.indexOf(":"),t=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!t||e[t]&&h9[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ib=Symbol("internals");function yc(n){return n&&String(n).trim().toLowerCase()}function gh(n){return n===!1||n==null?n:Z.isArray(n)?n.map(gh):String(n)}function p9(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const m9=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function rg(n,e,t,r,s){if(Z.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function g9(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function y9(n,e){const t=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,a,l){return this[r].call(this,e,s,a,l)},configurable:!0})})}let bn=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(u,f,m){const g=yc(f);if(!g)throw new Error("header name must be a non-empty string");const v=Z.findKey(s,g);(!v||s[v]===void 0||m===!0||m===void 0&&s[v]!==!1)&&(s[v||f]=gh(u))}const l=(u,f)=>Z.forEach(u,(m,g)=>a(m,g,f));if(Z.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Z.isString(e)&&(e=e.trim())&&!m9(e))l(f9(e),t);else if(Z.isObject(e)&&Z.isIterable(e)){let u={},f,m;for(const g of e){if(!Z.isArray(g))throw TypeError("Object iterator must return a key-value pair");u[m=g[0]]=(f=u[m])?Z.isArray(f)?[...f,g[1]]:[f,g[1]]:g[1]}l(u,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=yc(e),e){const r=Z.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return p9(s);if(Z.isFunction(t))return t.call(this,s,r);if(Z.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yc(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||rg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function a(l){if(l=yc(l),l){const u=Z.findKey(r,l);u&&(!t||rg(r,r[u],u,t))&&(delete r[u],s=!0)}}return Z.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];(!e||rg(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return Z.forEach(this,(s,a)=>{const l=Z.findKey(r,a);if(l){t[l]=gh(s),delete t[a];return}const u=e?g9(a):String(a).trim();u!==a&&delete t[a],t[u]=gh(s),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&Z.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[ib]=this[ib]={accessors:{}}).accessors,s=this.prototype;function a(l){const u=yc(l);r[u]||(y9(s,l),r[u]=!0)}return Z.isArray(e)?e.forEach(a):a(e),this}};bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(bn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Z.freezeMethods(bn);function sg(n,e){const t=this||_u,r=e||t,s=bn.from(r.headers);let a=r.data;return Z.forEach(n,function(u){a=u.call(t,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function NC(n){return!!(n&&n.__CANCEL__)}function xl(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}Z.inherits(xl,Ve,{__CANCEL__:!0});function jC(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function v9(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function x9(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),g=r[a];l||(l=m),t[s]=f,r[s]=m;let v=a,_=0;for(;v!==s;)_+=t[v++],v=v%n;if(s=(s+1)%n,s===a&&(a=(a+1)%n),m-l<e)return;const E=g&&m-g;return E?Math.round(_*1e3/E):void 0}}function w9(n,e){let t=0,r=1e3/e,s,a;const l=(m,g=Date.now())=>{t=g,s=null,a&&(clearTimeout(a),a=null),n(...m)};return[(...m)=>{const g=Date.now(),v=g-t;v>=r?l(m,g):(s=m,a||(a=setTimeout(()=>{a=null,l(s)},r-v)))},()=>s&&l(s)]}const Jh=(n,e,t=3)=>{let r=0;const s=x9(50,250);return w9(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,f=l-r,m=s(f),g=l<=u;r=l;const v={loaded:l,total:u,progress:u?l/u:void 0,bytes:f,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(v)},t)},ob=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},ab=n=>(...e)=>Z.asap(()=>n(...e)),_9=an.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,an.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(an.origin),an.navigator&&/(msie|trident)/i.test(an.navigator.userAgent)):()=>!0,b9=an.hasStandardBrowserEnv?{write(n,e,t,r,s,a){const l=[n+"="+encodeURIComponent(e)];Z.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Z.isString(r)&&l.push("path="+r),Z.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function T9(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function E9(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function DC(n,e,t){let r=!T9(e);return n&&(r||t==!1)?E9(n,e):e}const lb=n=>n instanceof bn?{...n}:n;function Oo(n,e){e=e||{};const t={};function r(m,g,v,_){return Z.isPlainObject(m)&&Z.isPlainObject(g)?Z.merge.call({caseless:_},m,g):Z.isPlainObject(g)?Z.merge({},g):Z.isArray(g)?g.slice():g}function s(m,g,v,_){if(Z.isUndefined(g)){if(!Z.isUndefined(m))return r(void 0,m,v,_)}else return r(m,g,v,_)}function a(m,g){if(!Z.isUndefined(g))return r(void 0,g)}function l(m,g){if(Z.isUndefined(g)){if(!Z.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function u(m,g,v){if(v in e)return r(m,g);if(v in n)return r(void 0,m)}const f={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g,v)=>s(lb(m),lb(g),v,!0)};return Z.forEach(Object.keys({...n,...e}),function(g){const v=f[g]||s,_=v(n[g],e[g],g);Z.isUndefined(_)&&v!==u||(t[g]=_)}),t}const LC=n=>{const e=Oo({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:u}=e;if(e.headers=l=bn.from(l),e.url=kC(DC(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Z.isFormData(t)){if(an.hasStandardBrowserEnv||an.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Z.isFunction(t.getHeaders)){const f=t.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([g,v])=>{m.includes(g.toLowerCase())&&l.set(g,v)})}}if(an.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&_9(e.url))){const f=s&&a&&b9.read(a);f&&l.set(s,f)}return e},S9=typeof XMLHttpRequest<"u",C9=S9&&function(n){return new Promise(function(t,r){const s=LC(n);let a=s.data;const l=bn.from(s.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:m}=s,g,v,_,E,C;function N(){E&&E(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function F(){if(!A)return;const k=bn.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),J={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:k,config:n,request:A};jC(function(S){t(S),N()},function(S){r(S),N()},J),A=null}"onloadend"in A?A.onloadend=F:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(F)},A.onabort=function(){A&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,A)),A=null)},A.onerror=function(H){const J=H&&H.message?H.message:"Network Error",Q=new Ve(J,Ve.ERR_NETWORK,n,A);Q.event=H||null,r(Q),A=null},A.ontimeout=function(){let H=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const J=s.transitional||PC;s.timeoutErrorMessage&&(H=s.timeoutErrorMessage),r(new Ve(H,J.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,A)),A=null},a===void 0&&l.setContentType(null),"setRequestHeader"in A&&Z.forEach(l.toJSON(),function(H,J){A.setRequestHeader(J,H)}),Z.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),u&&u!=="json"&&(A.responseType=s.responseType),m&&([_,C]=Jh(m,!0),A.addEventListener("progress",_)),f&&A.upload&&([v,E]=Jh(f),A.upload.addEventListener("progress",v),A.upload.addEventListener("loadend",E)),(s.cancelToken||s.signal)&&(g=k=>{A&&(r(!k||k.type?new xl(null,n,A):k),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const U=v9(s.url);if(U&&an.protocols.indexOf(U)===-1){r(new Ve("Unsupported protocol "+U+":",Ve.ERR_BAD_REQUEST,n));return}A.send(a||null)})},A9=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const a=function(m){if(!s){s=!0,u();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Ve?g:new xl(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),n=null)};n.forEach(m=>m.addEventListener("abort",a));const{signal:f}=r;return f.unsubscribe=()=>Z.asap(u),f}},I9=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},k9=async function*(n,e){for await(const t of P9(n))yield*I9(t,e)},P9=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},cb=(n,e,t,r)=>{const s=k9(n,e);let a=0,l,u=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:g}=await s.next();if(m){u(),f.close();return}let v=g.byteLength;if(t){let _=a+=v;t(_)}f.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(f){return u(f),s.return()}},{highWaterMark:2})},ub=64*1024,{isFunction:th}=Z,R9=(({Request:n,Response:e})=>({Request:n,Response:e}))(Z.global),{ReadableStream:db,TextEncoder:hb}=Z.global,fb=(n,...e)=>{try{return!!n(...e)}catch{return!1}},N9=n=>{n=Z.merge.call({skipUndefined:!0},R9,n);const{fetch:e,Request:t,Response:r}=n,s=e?th(e):typeof fetch=="function",a=th(t),l=th(r);if(!s)return!1;const u=s&&th(db),f=s&&(typeof hb=="function"?(C=>N=>C.encode(N))(new hb):async C=>new Uint8Array(await new t(C).arrayBuffer())),m=a&&u&&fb(()=>{let C=!1;const N=new t(an.origin,{body:new db,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!N}),g=l&&u&&fb(()=>Z.isReadableStream(new r("").body)),v={stream:g&&(C=>C.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!v[C]&&(v[C]=(N,A)=>{let F=N&&N[C];if(F)return F.call(N);throw new Ve(`Response type '${C}' is not supported`,Ve.ERR_NOT_SUPPORT,A)})});const _=async C=>{if(C==null)return 0;if(Z.isBlob(C))return C.size;if(Z.isSpecCompliantForm(C))return(await new t(an.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(C)||Z.isArrayBuffer(C))return C.byteLength;if(Z.isURLSearchParams(C)&&(C=C+""),Z.isString(C))return(await f(C)).byteLength},E=async(C,N)=>{const A=Z.toFiniteNumber(C.getContentLength());return A??_(N)};return async C=>{let{url:N,method:A,data:F,signal:U,cancelToken:k,timeout:H,onDownloadProgress:J,onUploadProgress:Q,responseType:S,headers:I,withCredentials:j="same-origin",fetchOptions:P}=LC(C),M=e||fetch;S=S?(S+"").toLowerCase():"text";let z=A9([U,k&&k.toAbortSignal()],H),L=null;const ye=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let q;try{if(Q&&m&&A!=="get"&&A!=="head"&&(q=await E(I,F))!==0){let V=new t(N,{method:"POST",body:F,duplex:"half"}),ee;if(Z.isFormData(F)&&(ee=V.headers.get("content-type"))&&I.setContentType(ee),V.body){const[Se,Ee]=ob(q,Jh(ab(Q)));F=cb(V.body,ub,Se,Ee)}}Z.isString(j)||(j=j?"include":"omit");const te=a&&"credentials"in t.prototype,ge={...P,signal:z,method:A.toUpperCase(),headers:I.normalize().toJSON(),body:F,duplex:"half",credentials:te?j:void 0};L=a&&new t(N,ge);let se=await(a?M(L,P):M(N,ge));const he=g&&(S==="stream"||S==="response");if(g&&(J||he&&ye)){const V={};["status","statusText","headers"].forEach(Oe=>{V[Oe]=se[Oe]});const ee=Z.toFiniteNumber(se.headers.get("content-length")),[Se,Ee]=J&&ob(ee,Jh(ab(J),!0))||[];se=new r(cb(se.body,ub,Se,()=>{Ee&&Ee(),ye&&ye()}),V)}S=S||"text";let ue=await v[Z.findKey(v,S)||"text"](se,C);return!he&&ye&&ye(),await new Promise((V,ee)=>{jC(V,ee,{data:ue,headers:bn.from(se.headers),status:se.status,statusText:se.statusText,config:C,request:L})})}catch(te){throw ye&&ye(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,C,L),{cause:te.cause||te}):Ve.from(te,te&&te.code,C,L)}}},j9=new Map,OC=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:s}=e,a=[r,s,t];let l=a.length,u=l,f,m,g=j9;for(;u--;)f=a[u],m=g.get(f),m===void 0&&g.set(f,m=u?new Map:N9(e)),g=m;return m};OC();const ry={http:YU,xhr:C9,fetch:{get:OC}};Z.forEach(ry,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const pb=n=>`- ${n}`,D9=n=>Z.isFunction(n)||n===null||n===!1,MC={getAdapter:(n,e)=>{n=Z.isArray(n)?n:[n];const{length:t}=n;let r,s;const a={};for(let l=0;l<t;l++){r=n[l];let u;if(s=r,!D9(r)&&(s=ry[(u=String(r)).toLowerCase()],s===void 0))throw new Ve(`Unknown adapter '${u}'`);if(s&&(Z.isFunction(s)||(s=s.get(e))))break;a[u||"#"+l]=s}if(!s){const l=Object.entries(a).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?l.length>1?`since :
`+l.map(pb).join(`
`):" "+pb(l[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s},adapters:ry};function ig(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new xl(null,n)}function mb(n){return ig(n),n.headers=bn.from(n.headers),n.data=sg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),MC.getAdapter(n.adapter||_u.adapter,n)(n).then(function(r){return ig(n),r.data=sg.call(n,n.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return NC(r)||(ig(n),r&&r.response&&(r.response.data=sg.call(n,n.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const VC="1.12.2",Hf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Hf[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const gb={};Hf.transitional=function(e,t,r){function s(a,l){return"[Axios v"+VC+"] Transitional option '"+a+"'"+l+(r?". "+r:"")}return(a,l,u)=>{if(e===!1)throw new Ve(s(l," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!gb[l]&&(gb[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,l,u):!0}};Hf.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function L9(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const a=r[s],l=e[a];if(l){const u=n[a],f=u===void 0||l(u,a,n);if(f!==!0)throw new Ve("option "+a+" must be "+f,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+a,Ve.ERR_BAD_OPTION)}}const yh={assertOptions:L9,validators:Hf},Nr=yh.validators;let Io=class{constructor(e){this.defaults=e||{},this.interceptors={request:new sb,response:new sb}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Oo(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;r!==void 0&&yh.assertOptions(r,{silentJSONParsing:Nr.transitional(Nr.boolean),forcedJSONParsing:Nr.transitional(Nr.boolean),clarifyTimeoutError:Nr.transitional(Nr.boolean)},!1),s!=null&&(Z.isFunction(s)?t.paramsSerializer={serialize:s}:yh.assertOptions(s,{encode:Nr.function,serialize:Nr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yh.assertOptions(t,{baseUrl:Nr.spelling("baseURL"),withXsrfToken:Nr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=a&&Z.merge(a.common,a[t.method]);a&&Z.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),t.headers=bn.concat(l,a);const u=[];let f=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(t)===!1||(f=f&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let g,v=0,_;if(!f){const C=[mb.bind(this),void 0];for(C.unshift(...u),C.push(...m),_=C.length,g=Promise.resolve(t);v<_;)g=g.then(C[v++],C[v++]);return g}_=u.length;let E=t;for(;v<_;){const C=u[v++],N=u[v++];try{E=C(E)}catch(A){N.call(this,A);break}}try{g=mb.call(this,E)}catch(C){return Promise.reject(C)}for(v=0,_=m.length;v<_;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=Oo(this.defaults,e);const t=DC(e.baseURL,e.url,e.allowAbsoluteUrls);return kC(t,e.params,e.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(e){Io.prototype[e]=function(t,r){return this.request(Oo(r||{},{method:e,url:t,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function t(r){return function(a,l,u){return this.request(Oo(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Io.prototype[e]=t(),Io.prototype[e+"Form"]=t(!0)});let O9=class FC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(u=>{r.subscribe(u),a=u}).then(s);return l.cancel=function(){r.unsubscribe(a)},l},e(function(a,l,u){r.reason||(r.reason=new xl(a,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new FC(function(s){e=s}),cancel:e}}};function M9(n){return function(t){return n.apply(null,t)}}function V9(n){return Z.isObject(n)&&n.isAxiosError===!0}const sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sy).forEach(([n,e])=>{sy[e]=n});function UC(n){const e=new Io(n),t=yC(Io.prototype.request,e);return Z.extend(t,Io.prototype,e,{allOwnKeys:!0}),Z.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return UC(Oo(n,s))},t}const Je=UC(_u);Je.Axios=Io;Je.CanceledError=xl;Je.CancelToken=O9;Je.isCancel=NC;Je.VERSION=VC;Je.toFormData=$f;Je.AxiosError=Ve;Je.Cancel=Je.CanceledError;Je.all=function(e){return Promise.all(e)};Je.spread=M9;Je.isAxiosError=V9;Je.mergeConfig=Oo;Je.AxiosHeaders=bn;Je.formToJSON=n=>RC(Z.isHTMLForm(n)?new FormData(n):n);Je.getAdapter=MC.getAdapter;Je.HttpStatusCode=sy;Je.default=Je;const{Axios:sB,AxiosError:iB,CanceledError:oB,isCancel:aB,CancelToken:lB,VERSION:cB,all:uB,Cancel:dB,isAxiosError:hB,spread:fB,toFormData:pB,AxiosHeaders:mB,HttpStatusCode:gB,formToJSON:yB,getAdapter:vB,mergeConfig:xB}=Je,ci={"codellama-7b":{name:"CodeLlama 7B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:7b",description:"Fast and efficient code generation (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["speed","efficiency","general-purpose"],ram_required:"8GB"},"codellama-13b":{name:"CodeLlama 13B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:13b",description:"Higher quality code generation (13B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["quality","accuracy","complex-problems"],ram_required:"16GB"},"codellama-34b":{name:"CodeLlama 34B",type:"Code Generation",baseURL:"http://localhost:11434/api",model:"codellama:34b",description:"Best quality code generation (34B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","swift","kotlin"],strengths:["best-quality","complex-systems","enterprise-code"],ram_required:"32GB"},"starcoder-15b":{name:"StarCoder 15B",type:"Code Completion",baseURL:"http://localhost:11434/api",model:"starcoder:15b",description:"Excellent code completion and understanding (15B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby","typescript","csharp"],strengths:["code-completion","understanding","context-awareness"],ram_required:"24GB"},"deepseek-coder":{name:"DeepSeek Coder",type:"High Performance",baseURL:"http://localhost:11434/api",model:"deepseek-coder:6.7b",description:"High-performance code generation (6.7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["performance","speed","efficiency"],ram_required:"12GB"},"wizardcoder-7b":{name:"WizardCoder 7B",type:"Instruction Following",baseURL:"http://localhost:11434/api",model:"wizardcoder:7b",description:"Great at following complex instructions (7B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["instruction-following","complex-tasks","reasoning"],ram_required:"10GB"},"phi3-mini":{name:"Phi-3 Mini",type:"Lightweight General",baseURL:"http://localhost:11434/api",model:"phi3:mini",description:"Lightweight but powerful general-purpose model (3.8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["lightweight","fast","general-purpose"],ram_required:"6GB"},"llama3-8b":{name:"Llama 3 8B",type:"General Purpose",baseURL:"http://localhost:11434/api",model:"llama3:8b",description:"General purpose model good for documentation and planning (8B parameters)",languages:["python","javascript","java","cpp","go","rust","php","ruby"],strengths:["general-purpose","documentation","planning"],ram_required:"10GB"}},F9=(n,e=16)=>{const r=Object.values(ci).filter(s=>parseInt(s.ram_required.replace("GB",""))<=e);if(r.length===0)return"phi3-mini";switch(n){case"code-generation":return r.find(s=>s.strengths.includes("quality"))?.model||"codellama-7b";case"code-completion":return r.find(s=>s.strengths.includes("code-completion"))?.model||"starcoder-15b";case"instruction-following":return r.find(s=>s.strengths.includes("instruction-following"))?.model||"wizardcoder-7b";case"documentation":return r.find(s=>s.strengths.includes("general-purpose"))?.model||"llama3-8b";default:return"codellama-7b"}};class U9{constructor(){this.currentModel="codellama-7b",this.baseURL="http://localhost:11434/api",this.isHealthy=!1,this.modelHealth={},this.initializeHealthMonitoring()}async initializeHealthMonitoring(){if(console.log("🔍 Initializing local AI health monitoring..."),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"){console.log("🏠 Running on localhost - checking local AI models...");for(const[e,t]of Object.entries(ci))try{await this.checkModelHealth(e)}catch(r){console.log(`⚠️ Model ${e} not available:`,r.message)}setInterval(()=>{this.performHealthChecks()},6e4)}else console.log("🌐 Running on web domain - local AI models not accessible due to CORS"),console.log("💡 To use local AI:"),console.log("   1. Install Ollama: curl -fsSL https://ollama.ai/install.sh | sh"),console.log("   2. Download models: ollama pull codellama:7b"),console.log("   3. Start Ollama: ollama serve"),console.log("   4. Run DreamBuild locally: npm run dev"),console.log("   5. Access at: http://localhost:5173")}async checkModelHealth(e){try{const t=ci[e];if(!t)return!1;if(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log(`⚠️ Skipping health check for ${t.name} - running on web domain`),this.modelHealth[e]={isHealthy:!1,lastCheck:Date.now(),error:"Web domain - local AI not accessible"},!1;const r=await Je.post(`${t.baseURL}/generate`,{model:t.model,prompt:"Hello",stream:!1,options:{temperature:.1,max_tokens:10}},{timeout:1e4});return this.modelHealth[e]={isHealthy:!0,lastCheck:Date.now(),responseTime:r.data.total_duration||0},console.log(`✅ ${t.name} is healthy`),!0}catch(t){return this.modelHealth[e]={isHealthy:!1,lastCheck:Date.now(),error:t.message},console.log(`⚠️ ${e} health check failed:`,t.message),!1}}async performHealthChecks(){const e=Object.keys(ci).map(r=>this.checkModelHealth(r));await Promise.all(e);const t=Object.values(this.modelHealth).filter(r=>r.isHealthy);this.isHealthy=t.length>0,console.log(`📊 Local AI Health: ${t.length}/${Object.keys(ci).length} models healthy`)}getAvailableModels(){return Object.entries(ci).map(([e,t])=>({id:e,...t,isHealthy:this.modelHealth[e]?.isHealthy||!1}))}getHealthyModels(){return this.getAvailableModels().filter(e=>e.isHealthy)}getBestModel(e="code-generation"){const t=this.getHealthyModels();if(t.length===0)throw new Error("No healthy AI models available. Please check your local AI setup.");const r=F9(e);return ci[r]&&this.modelHealth[r]?.isHealthy?r:t[0].id}async generateCode(e,t={}){try{if(window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1")return console.log("⚠️ Running on web domain - using template fallback instead of local AI"),this.createFallbackResponse(e,t);const r=this.detectTaskType(e),s=this.getBestModel(r),a=ci[s];console.log(`🤖 Using ${a.name} for ${r} task`);const u=`${this.buildSystemPrompt(t,a)}

User Request: ${e}`,f=await Je.post(`${a.baseURL}/generate`,{model:a.model,prompt:u,stream:!1,options:{temperature:.7,max_tokens:4e3,top_p:.9,top_k:40}},{timeout:12e4});return this.parseResponse(f.data.response,e,t)}catch(r){return console.error("❌ Local AI generation failed:",r),this.createFallbackResponse(e,t)}}detectTaskType(e){const t=e.toLowerCase();return t.includes("complete")||t.includes("finish")?"code-completion":t.includes("document")||t.includes("explain")?"documentation":t.includes("complex")||t.includes("advanced")?"instruction-following":"code-generation"}buildSystemPrompt(e,t){return`You are an expert software developer and AI assistant. Generate high-quality, production-ready code based on user requests.

Context:
- App Type: ${e.appType||"frontend"}
- Language: ${e.language||"javascript"}
- Styling: ${e.styling||"tailwind"}
- Features: ${e.features?.join(", ")||"basic functionality"}

Instructions:
1. Generate complete, working code
2. Include proper error handling
3. Add comments for complex logic
4. Use modern best practices
5. Make code responsive and accessible
6. Include all necessary files (HTML, CSS, JS)

You are using ${t.name} - ${t.description}.
Supported languages: ${t.languages.join(", ")}.`}parseResponse(e,t,r){try{const s=e.match(/```[\s\S]*?```/g);if(s&&s.length>0){const a={};return s.forEach((l,u)=>{const m=l.split(`
`)[0].replace(/```/g,"").trim();let g;if(m&&m.includes("."))g=m;else{const _=l.replace(/```[\w]*\n?/,"").replace(/```$/,"");g=this.detectFilename(_,u)}const v=l.replace(/```[\w]*\n?/,"").replace(/```$/,"").trim();a[g]=v}),a}return this.createFallbackResponse(t,r)}catch(s){return console.error("Error parsing AI response:",s),this.createFallbackResponse(t,r)}}detectFilename(e,t){const r=e.toLowerCase();return r.includes("<!doctype")||r.includes("<html")?"index.html":r.includes("function")||r.includes("const")||r.includes("var")?"script.js":r.includes("{")&&r.includes("}")&&r.includes(":")?"style.css":`file${t+1}.txt`}createFallbackResponse(e,t){const r=e.toLowerCase();return r.includes("health")&&r.includes("food")?{"index.html":this.generateHealthHTML(),"style.css":this.generateHealthCSS(),"script.js":this.generateHealthJS()}:r.includes("todo")||r.includes("task")?{"index.html":this.generateTodoHTML(),"style.css":this.generateTodoCSS(),"script.js":this.generateTodoJS()}:r.includes("portfolio")||r.includes("resume")?{"index.html":this.generatePortfolioHTML(),"style.css":this.generatePortfolioCSS(),"script.js":this.generatePortfolioJS()}:{"index.html":this.generateGenericHTML(e),"style.css":this.generateGenericCSS(),"script.js":this.generateGenericJS()}}generateHealthHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🥗 Health Food Tips</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🥗 Health Food Tips</h1>
            <p>Your guide to healthy eating and nutrition</p>
        </header>
        
        <main>
            <section class="hero">
                <h2>Welcome to Your Health Journey</h2>
                <p>Discover amazing tips for healthy eating and better nutrition.</p>
            </section>
            
            <section class="content">
                <h3>Healthy Eating Tips</h3>
                <div class="tip-card">
                    <h4>🥕 Eat More Vegetables</h4>
                    <p>Include a variety of colorful vegetables in your meals for essential vitamins and minerals.</p>
                </div>
                <div class="tip-card">
                    <h4>💧 Stay Hydrated</h4>
                    <p>Drink plenty of water throughout the day to maintain optimal health.</p>
                </div>
                <div class="tip-card">
                    <h4>🌾 Choose Whole Grains</h4>
                    <p>Opt for whole grain options like brown rice, quinoa, and whole wheat bread.</p>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Health Food Tips. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateHealthCSS(){return`/* Health Food Tips Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.hero {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    margin: 40px 0;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.hero h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: #667eea;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

.tip-card {
    background: white;
    padding: 30px;
    margin: 20px 0;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    border-left: 5px solid #667eea;
}

.tip-card h4 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .hero h2 {
        font-size: 2rem;
    }
    
    .container {
        padding: 10px;
    }
}`}generateHealthJS(){return`// Health Food Tips JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🥗 Health Food Tips loaded with Local AI!');
    
    // Add interactive features
    const tipCards = document.querySelectorAll('.tip-card');
    
    tipCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.transition = 'transform 0.3s ease';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    tipCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
});`}generateTodoHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✅ Todo App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>✅ My Todo List</h1>
            <p>Stay organized and productive</p>
        </header>
        
        <main>
            <div class="todo-input">
                <input type="text" id="todoInput" placeholder="Add a new task...">
                <button id="addBtn">Add Task</button>
            </div>
            
            <div class="todo-list" id="todoList">
                <!-- Tasks will be added here -->
            </div>
        </main>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateTodoCSS(){return`/* Todo App Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
    min-height: 100vh;
    color: #333;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 40px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.todo-input {
    display: flex;
    gap: 10px;
    margin-bottom: 30px;
}

#todoInput {
    flex: 1;
    padding: 15px;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

#addBtn {
    padding: 15px 30px;
    background: #00b894;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: background 0.3s ease;
}

#addBtn:hover {
    background: #00a085;
}

.todo-item {
    background: white;
    padding: 20px;
    margin: 10px 0;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.todo-item.completed {
    opacity: 0.6;
    text-decoration: line-through;
}

.delete-btn {
    background: #e17055;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.delete-btn:hover {
    background: #d63031;
}`}generateTodoJS(){return`// Todo App JavaScript
document.addEventListener('DOMContentLoaded', function() {
    const todoInput = document.getElementById('todoInput');
    const addBtn = document.getElementById('addBtn');
    const todoList = document.getElementById('todoList');
    
    // Load todos from localStorage
    loadTodos();
    
    // Add event listeners
    addBtn.addEventListener('click', addTodo);
    todoInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            addTodo();
        }
    });
    
    function addTodo() {
        const text = todoInput.value.trim();
        if (text === '') return;
        
        const todo = {
            id: Date.now(),
            text: text,
            completed: false
        };
        
        saveTodo(todo);
        displayTodo(todo);
        todoInput.value = '';
    }
    
    function displayTodo(todo) {
        const todoItem = document.createElement('div');
        todoItem.className = 'todo-item';
        todoItem.dataset.id = todo.id;
        
        if (todo.completed) {
            todoItem.classList.add('completed');
        }
        
        todoItem.innerHTML = \`
            <span>\${todo.text}</span>
            <div>
                <button class="delete-btn" onclick="deleteTodo(\${todo.id})">Delete</button>
            </div>
        \`;
        
        todoItem.addEventListener('click', function(e) {
            if (e.target.classList.contains('delete-btn')) return;
            toggleTodo(todo.id);
        });
        
        todoList.appendChild(todoItem);
    }
    
    function toggleTodo(id) {
        const todos = getTodos();
        const todo = todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            saveTodos(todos);
            loadTodos();
        }
    }
    
    function deleteTodo(id) {
        const todos = getTodos();
        const filteredTodos = todos.filter(t => t.id !== id);
        saveTodos(filteredTodos);
        loadTodos();
    }
    
    function loadTodos() {
        todoList.innerHTML = '';
        const todos = getTodos();
        todos.forEach(todo => displayTodo(todo));
    }
    
    function getTodos() {
        return JSON.parse(localStorage.getItem('todos') || '[]');
    }
    
    function saveTodo(todo) {
        const todos = getTodos();
        todos.push(todo);
        saveTodos(todos);
    }
    
    function saveTodos(todos) {
        localStorage.setItem('todos', JSON.stringify(todos));
    }
    
    // Make functions global for onclick handlers
    window.deleteTodo = deleteTodo;
    
    console.log('✅ Todo App loaded with Local AI!');
});`}generatePortfolioHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>💼 Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>💼 John Developer</h1>
            <p>Full Stack Developer & AI Enthusiast</p>
        </header>
        
        <main>
            <section class="about">
                <h2>About Me</h2>
                <p>Passionate developer with expertise in modern web technologies and AI integration.</p>
            </section>
            
            <section class="projects">
                <h2>Projects</h2>
                <div class="project-grid">
                    <div class="project-card">
                        <h3>DreamBuild AI</h3>
                        <p>AI-powered development platform built with React and local AI models.</p>
                    </div>
                    <div class="project-card">
                        <h3>Smart Todo App</h3>
                        <p>Intelligent task management with AI-powered suggestions.</p>
                    </div>
                    <div class="project-card">
                        <h3>Health Tracker</h3>
                        <p>Comprehensive health monitoring with data visualization.</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 John Developer. Created with DreamBuild Local AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePortfolioCSS(){return`/* Portfolio Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3.5rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.3rem;
    opacity: 0.9;
}

section {
    background: rgba(255,255,255,0.95);
    margin: 40px 0;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
}

section h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.about p {
    font-size: 1.2rem;
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
}

.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.project-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}

.project-card:hover {
    transform: translateY(-5px);
}

.project-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2.5rem;
    }
    
    section {
        padding: 20px;
    }
    
    .project-grid {
        grid-template-columns: 1fr;
    }
}`}generatePortfolioJS(){return`// Portfolio JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('💼 Portfolio loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe project cards
    document.querySelectorAll('.project-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.project-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}generateGenericHTML(e){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>${e.replace(/[^a-zA-Z0-9\s]/g,"").substring(0,50)}</h1>
            <p>Generated with DreamBuild Local AI</p>
        </header>
        
        <main>
            <section class="content">
                <h2>Welcome</h2>
                <p>This application was generated based on your prompt using DreamBuild Local AI.</p>
                <div class="features">
                    <div class="feature-card">
                        <h3>✨ Feature 1</h3>
                        <p>Modern and responsive design</p>
                    </div>
                    <div class="feature-card">
                        <h3>🚀 Feature 2</h3>
                        <p>Built with local AI models</p>
                    </div>
                    <div class="feature-card">
                        <h3>💡 Feature 3</h3>
                        <p>No API keys required</p>
                    </div>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Generated with DreamBuild Local AI</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateGenericCSS(){return`/* Generic Template Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    line-height: 1.6;
    color: #333;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    padding: 60px 0;
    color: white;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.content {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    margin: 40px 0;
}

.content h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
    color: #667eea;
    text-align: center;
}

.content p {
    font-size: 1.2rem;
    text-align: center;
    margin-bottom: 40px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.feature-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s ease;
}

.feature-card:hover {
    transform: translateY(-5px);
}

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #667eea;
}

footer {
    text-align: center;
    padding: 40px 0;
    color: white;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .content {
        padding: 20px;
    }
    
    .features {
        grid-template-columns: 1fr;
    }
}`}generateGenericJS(){return`// Generic Template JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🚀 Generic template loaded with Local AI!');
    
    // Add smooth scrolling
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            document.querySelector(this.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });
    
    // Add animation on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe feature cards
    document.querySelectorAll('.feature-card').forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });
    
    // Add hover effects
    document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 10px 25px rgba(0,0,0,0.2)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
        });
    });
});`}}const Ut=new U9;class B9{constructor(){this.currentService="local-ai",this.usageStats={totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0},console.log("🤖 Simple AI Service initialized - Local AI only!")}getServices(){return{"local-ai":{name:"Local AI Models",type:"Local",description:"Self-hosted AI models - no API keys required",models:Ut.getAvailableModels()}}}getTemplateCategories(){return Ut.getTemplateCategories()}getTemplatesByCategory(e){return Ut.getTemplatesByCategory(e)}getAllTemplates(){return Ut.getAllTemplates()}generateTemplateById(e,t={}){return Ut.generateTemplateById(e,t)}searchTemplates(e){return Ut.searchTemplates(e)}getPopularTemplates(){return Ut.getPopularTemplates()}async generateCode(e,t={}){const r=Date.now();this.usageStats.totalRequests++;try{if(console.log("🚀 Generating code with Local AI..."),!Ut.isHealthy)return console.log("⚠️ Local AI not available, using template fallback"),Ut.createFallbackResponse(e,t);const s=await Ut.generateCode(e,t),a=Date.now()-r;return this.usageStats.successfulRequests++,this.usageStats.averageResponseTime=(this.usageStats.averageResponseTime+a)/2,console.log("✅ Code generated successfully with Local AI!"),s}catch(s){return console.error("❌ Local AI generation failed:",s),this.usageStats.failedRequests++,console.log("🔄 Falling back to template generation..."),Ut.createFallbackResponse(e,t)}}getServiceHealth(){return Ut.modelHealth}getUsageStats(){return this.usageStats}getUserPreferences(){return{preferredService:"local-ai",fallbackEnabled:!0,autoHealthCheck:!0}}updateUserPreferences(e){localStorage.setItem("dreambuild-preferences",JSON.stringify(e))}loadUserPreferences(){const e=localStorage.getItem("dreambuild-preferences");return e?JSON.parse(e):this.getUserPreferences()}getServiceStatus(){return{"local-ai":{isHealthy:Ut.isHealthy,models:Ut.getHealthyModels().length,totalModels:Ut.getAvailableModels().length}}}resetServiceHealth(){Ut.modelHealth={}}getFallbackOrder(){return["local-ai"]}isFallbackEnabled(){return!0}setFallbackEnabled(e){return!0}getSetupInstructions(){return{"local-ai":{title:"Local AI Setup",description:"Set up local AI models for code generation",steps:["1. Install Ollama from https://ollama.ai","2. Run: ollama pull codellama:7b","3. Run: ollama serve","4. Refresh DreamBuild to start using local AI"],isSetup:Ut.isHealthy}}}getServicesNeedingSetup(){return Ut.isHealthy?[]:["local-ai"]}hasValidApiKey(e){return e==="local-ai"}setService(e){e==="local-ai"&&(this.currentService=e)}getCurrentService(){return this.currentService}}new B9;var ds={};const jn=["codellama-7b","codellama-13b","starcoder-15b","deepseek-coder","wizardcoder-7b","phi3-mini","llama3-8b","codellama-34b"],ai={timeout:5e3,retries:2,checkInterval:3e4,unhealthyThreshold:3},nt={huggingface:{name:"Hugging Face",baseURL:"https://api-inference.huggingface.co/models",models:{"microsoft/DialoGPT-medium":"Conversational AI","facebook/blenderbot-400M-distill":"Chatbot","microsoft/CodeBERT-base":"Code Understanding","codeparrot/codeparrot-small":"Code Generation"},headers:{Authorization:`Bearer ${ds.REACT_APP_HUGGINGFACE_TOKEN||"hf_demo"}`,"Content-Type":"application/json"}},groq:{name:"Groq",baseURL:"https://api.groq.com/openai/v1",models:{"llama3-8b-8192":"Fast Llama 3","llama3-70b-8192":"Advanced Llama 3","mixtral-8x7b-32768":"Mixtral MoE"},headers:{Authorization:`Bearer ${ds.REACT_APP_GROQ_API_KEY||"gsk_demo"}`,"Content-Type":"application/json"}},ollama:{name:"Ollama Local",baseURL:"http://localhost:11434/api",models:{llama3:"Llama 3 (Local)",codellama:"Code Llama (Local)",mistral:"Mistral (Local)",gemma:"Gemma (Local)"},headers:{"Content-Type":"application/json"}},together:{name:"Together AI",baseURL:"https://api.together.xyz/v1",models:{"meta-llama/Llama-3-8b-chat-hf":"Llama 3 Chat","meta-llama/Llama-3-70b-chat-hf":"Llama 3 70B","mistralai/Mixtral-8x7B-Instruct-v0.1":"Mixtral Instruct"},headers:{Authorization:`Bearer ${ds.REACT_APP_TOGETHER_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},codegeex:{name:"CodeGeeX",baseURL:"https://api.codegeex.ai/v1",models:{"codegeex-13b":"CodeGeeX 13B (23 Languages)","codegeex-6b":"CodeGeeX 6B (Lightweight)","codegeex-2b":"CodeGeeX 2B (Ultra-fast)"},headers:{Authorization:`Bearer ${ds.REACT_APP_CODEGEEX_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},starcoder:{name:"StarCoder",baseURL:"https://api.huggingface.co/models/bigcode/starcoder",models:{starcoder:"StarCoder (15B Parameters)",starcoderbase:"StarCoder Base",starcoderplus:"StarCoder Plus (Enhanced)"},headers:{Authorization:`Bearer ${ds.REACT_APP_STARCODER_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},wizardcoder:{name:"WizardCoder",baseURL:"https://api.huggingface.co/models/WizardLM/WizardCoder-15B-V1.0",models:{"wizardcoder-15b":"WizardCoder 15B (Advanced)","wizardcoder-7b":"WizardCoder 7B (Balanced)","wizardcoder-3b":"WizardCoder 3B (Fast)"},headers:{Authorization:`Bearer ${ds.REACT_APP_WIZARDCODER_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},gptj:{name:"GPT-J",baseURL:"https://api.eleuther.ai/v1",models:{"gpt-j-6b":"GPT-J 6B (Text & Code)","gpt-j-6b-v2":"GPT-J 6B v2 (Improved)","gpt-neox-20b":"GPT-NeoX 20B (Large)"},headers:{Authorization:`Bearer ${ds.REACT_APP_GPTJ_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},codet5:{name:"CodeT5",baseURL:"https://api.huggingface.co/models/Salesforce/codet5-base",models:{"codet5-base":"CodeT5 Base (220M)","codet5-large":"CodeT5 Large (770M)","codet5-small":"CodeT5 Small (60M)"},headers:{Authorization:`Bearer ${ds.REACT_APP_CODET5_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},phindcoder:{name:"Phind-Coder",baseURL:"https://api.phind.com/v1",models:{"phind-coder-34b":"Phind-Coder 34B (Advanced)","phind-coder-7b":"Phind-Coder 7B (Balanced)"},headers:{Authorization:`Bearer ${ds.REACT_APP_PHINDCODER_API_KEY||"demo_key"}`,"Content-Type":"application/json"}},localai:{name:"LocalAI",baseURL:"http://localhost:8080/v1",models:{"gpt-3.5-turbo":"Local GPT-3.5","gpt-4":"Local GPT-4","claude-instant":"Local Claude","llama-2-7b":"Local Llama 2 7B"},headers:{"Content-Type":"application/json"}},textgeneration:{name:"Text Generation WebUI",baseURL:"http://localhost:5000/api/v1",models:{"llama-2-7b-chat":"Llama 2 7B Chat","codellama-7b":"CodeLlama 7B","mistral-7b-instruct":"Mistral 7B Instruct","wizardcoder-7b":"WizardCoder 7B"},headers:{"Content-Type":"application/json"}}};class z9{constructor(){this.currentService="groq",this.currentModel="llama3-8b-8192",this.userPreferences=this.loadUserPreferences(),this.serviceHealth=this.initializeServiceHealth(),this.usageStats=this.loadUsageStats(),this.healthCheckInterval=null,this.startHealthChecks()}initializeServiceHealth(){const e={};return jn.forEach(t=>{e[t]={isHealthy:!0,lastCheck:Date.now(),consecutiveFailures:0,responseTime:0,errorRate:0,totalRequests:0,successfulRequests:0}}),e}loadUserPreferences(){try{const e=localStorage.getItem("aiServicePreferences");return e?JSON.parse(e):{preferredService:"groq",fallbackEnabled:!0,autoSwitch:!0,showNotifications:!0}}catch(e){return console.error("Error loading user preferences:",e),{preferredService:"groq",fallbackEnabled:!0,autoSwitch:!0,showNotifications:!0}}}saveUserPreferences(){try{localStorage.setItem("aiServicePreferences",JSON.stringify(this.userPreferences))}catch(e){console.error("Error saving user preferences:",e)}}loadUsageStats(){try{const e=localStorage.getItem("aiServiceUsageStats");return e?JSON.parse(e):{totalRequests:0,successfulRequests:0,failedRequests:0,serviceUsage:{},dailyUsage:{},lastReset:Date.now()}}catch(e){return console.error("Error loading usage stats:",e),{totalRequests:0,successfulRequests:0,failedRequests:0,serviceUsage:{},dailyUsage:{},lastReset:Date.now()}}}saveUsageStats(){try{localStorage.setItem("aiServiceUsageStats",JSON.stringify(this.usageStats))}catch(e){console.error("Error saving usage stats:",e)}}setService(e,t=null){if(!nt[e])throw new Error(`AI service '${e}' not found`);if(this.currentService=e,t)this.currentModel=t;else{const r=Object.keys(nt[e].models);this.currentModel=r[0]}this.userPreferences.preferredService=e,this.saveUserPreferences(),console.log(`✅ Switched to AI service: ${nt[e].name} (${e})`)}getBestAvailableService(){const e=this.userPreferences.preferredService;if(this.serviceHealth[e]?.isHealthy)return e;for(const t of jn)if(this.serviceHealth[t]?.isHealthy)return t;return console.warn("⚠️ All AI services appear unhealthy, using fallback order"),jn[0]}isServiceHealthy(e){const t=this.serviceHealth[e];return!t||t.consecutiveFailures>=ai.unhealthyThreshold?!1:Date.now()-t.lastCheck>ai.checkInterval*2?!0:t.isHealthy}startHealthChecks(){this.healthCheckInterval&&clearInterval(this.healthCheckInterval),this.healthCheckInterval=setInterval(()=>{this.performHealthChecks()},ai.checkInterval),this.performHealthChecks()}stopHealthChecks(){this.healthCheckInterval&&(clearInterval(this.healthCheckInterval),this.healthCheckInterval=null)}async performHealthChecks(){const e=jn.map(t=>this.checkServiceHealth(t));await Promise.allSettled(e)}async checkServiceHealth(e){const t=nt[e];if(!t)return;const r=Date.now();try{if(!this.hasValidApiKey(e)){this.updateServiceHealth(e,!1,0),console.warn(`⚠️ ${t.name}: No valid API key configured`);return}const a=await this.makeHealthCheckRequest(e,"Hello"),l=Date.now()-r;this.updateServiceHealth(e,!0,l),console.log(`✅ Health check passed for ${t.name}: ${l}ms`)}catch(s){const a=Date.now()-r;this.updateServiceHealth(e,!1,a),s.response?.status!==401?console.warn(`❌ Health check failed for ${t.name}:`,s.message):console.warn(`⚠️ ${t.name}: API key required`)}}hasValidApiKey(e){const t=nt[e];if(!t)return!1;switch(e){case"groq":return!t.headers.Authorization.includes("demo")&&t.headers.Authorization!=="Bearer undefined";case"together":return!t.headers.Authorization.includes("demo")&&t.headers.Authorization!=="Bearer undefined";case"huggingface":return!t.headers.Authorization.includes("demo")&&t.headers.Authorization!=="Bearer undefined";case"ollama":return!0;default:return!1}}async makeHealthCheckRequest(e,t){switch(nt[e],e){case"groq":return await this.makeGroqHealthCheck(t);case"together":return await this.makeTogetherHealthCheck(t);case"huggingface":return await this.makeHuggingFaceHealthCheck(t);case"ollama":return await this.makeOllamaHealthCheck(t);default:throw new Error(`Unknown service: ${e}`)}}async makeGroqHealthCheck(e){return(await Je.post(`${nt.groq.baseURL}/chat/completions`,{model:"llama3-8b-8192",messages:[{role:"user",content:e}],max_tokens:10,temperature:.1},{headers:nt.groq.headers,timeout:ai.timeout})).data.choices[0].message.content}async makeTogetherHealthCheck(e){return(await Je.post(`${nt.together.baseURL}/chat/completions`,{model:"meta-llama/Llama-3-8b-chat-hf",messages:[{role:"user",content:e}],max_tokens:10,temperature:.1},{headers:nt.together.headers,timeout:ai.timeout})).data.choices[0].message.content}async makeHuggingFaceHealthCheck(e){const t=await Je.post(`${nt.huggingface.baseURL}/microsoft/DialoGPT-medium`,{inputs:e,parameters:{max_length:10,temperature:.1,return_full_text:!1}},{headers:nt.huggingface.headers,timeout:ai.timeout});return t.data[0]?.generated_text||t.data}async makeOllamaHealthCheck(e){try{return(await Je.post(`${nt.ollama.baseURL}/generate`,{model:"llama3",prompt:e,stream:!1,options:{temperature:.1,max_tokens:10}},{headers:nt.ollama.headers,timeout:ai.timeout})).data.response}catch(t){throw t.code==="ERR_NETWORK"||t.message.includes("CORS")?new Error("Ollama not accessible (CORS or not running locally)"):t}}updateServiceHealth(e,t,r){const s=this.serviceHealth[e];s&&(s.lastCheck=Date.now(),s.responseTime=r,t?(s.isHealthy=!0,s.consecutiveFailures=0,s.successfulRequests++):(s.consecutiveFailures++,s.consecutiveFailures>=ai.unhealthyThreshold&&(s.isHealthy=!1)),s.totalRequests++,s.errorRate=(s.totalRequests-s.successfulRequests)/s.totalRequests)}getServices(){return nt}getTemplateCategories(){return{web:{name:"Web Applications",icon:"🌐",templates:["business-landing","portfolio-website","blog-website","agency-website"]},mobile:{name:"Mobile Applications",icon:"📱",templates:["todo-app","fitness-tracker","task-manager","note-app"]},dashboard:{name:"Dashboards",icon:"📊",templates:["analytics-dashboard","admin-dashboard","sales-dashboard","kpi-dashboard"]},ecommerce:{name:"E-commerce",icon:"🛒",templates:["online-store","ecommerce-store","marketplace","subscription-store"]},api:{name:"APIs & Backend",icon:"🔌",templates:["rest-api","graphql-api","microservice","webhook-service"]},games:{name:"Games",icon:"🎮",templates:["puzzle-game","arcade-game","educational-game","multiplayer-game"]},education:{name:"Education",icon:"🎓",templates:["lms-platform","course-platform","quiz-app","learning-app"]},healthcare:{name:"Healthcare",icon:"🏥",templates:["patient-portal","telemedicine","health-tracker","medical-records"]},finance:{name:"Finance",icon:"💰",templates:["budget-tracker","investment-portfolio","payment-gateway","banking-app"]},iot:{name:"IoT & Smart",icon:"🏠",templates:["smart-home","iot-dashboard","device-manager","sensor-monitor"]},realestate:{name:"Real Estate",icon:"🏘️",templates:["property-listing","real-estate-portal","property-manager","marketplace"]}}}getTemplatesByCategory(e){return this.getTemplateCategories()[e]?.templates||[]}getAllTemplates(){const e=[],t=this.getTemplateCategories();return Object.values(t).forEach(r=>{r.templates.forEach(s=>{e.push({id:s,name:s.replace(/-/g," ").replace(/\b\w/g,a=>a.toUpperCase()),category:r.name,icon:r.icon})})}),e}generateTemplateById(e,t={}){return this.createFallbackResponse(e,t)}searchTemplates(e){return this.getAllTemplates().filter(r=>r.name.toLowerCase().includes(e.toLowerCase())||r.id.toLowerCase().includes(e.toLowerCase()))}getPopularTemplates(){return["business-landing","portfolio-website","blog-website","todo-app","fitness-tracker","online-store","analytics-dashboard","rest-api"].map(t=>this.getAllTemplates().find(r=>r.id===t)).filter(Boolean)}getServiceHealth(){return this.serviceHealth}getUsageStats(){return this.usageStats}getUserPreferences(){return this.userPreferences}updateUserPreferences(e){this.userPreferences={...this.userPreferences,...e},this.saveUserPreferences(),e.preferredService&&e.preferredService!==this.currentService&&this.setService(e.preferredService)}getServiceStatus(){const e={};return jn.forEach(t=>{const r=nt[t],s=this.serviceHealth[t];e[t]={name:r.name,isHealthy:this.isServiceHealthy(t),isCurrent:t===this.currentService,isPreferred:t===this.userPreferences.preferredService,responseTime:s?.responseTime||0,errorRate:s?.errorRate||0,consecutiveFailures:s?.consecutiveFailures||0,lastCheck:s?.lastCheck||0,usage:this.usageStats.serviceUsage[t]||{totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0}}}),e}resetServiceHealth(e=null){if(e){const t=this.serviceHealth[e];t&&(t.isHealthy=!0,t.consecutiveFailures=0,t.lastCheck=Date.now(),console.log(`🔄 Reset health for ${nt[e].name}`))}else jn.forEach(t=>{const r=this.serviceHealth[t];r&&(r.isHealthy=!0,r.consecutiveFailures=0,r.lastCheck=Date.now())}),console.log("🔄 Reset health for all AI services")}getFallbackOrder(){return jn}isFallbackEnabled(){return this.userPreferences.fallbackEnabled}setFallbackEnabled(e){this.userPreferences.fallbackEnabled=e,this.saveUserPreferences(),console.log(`🔄 Fallback ${e?"enabled":"disabled"}`)}getSetupInstructions(){return{groq:{name:"Groq",setup:"Get free API key from https://console.groq.com",freeTier:"6,000 requests per day",features:"Fast inference, Llama 3 models"},together:{name:"Together AI",setup:"Get API key from https://api.together.xyz",freeTier:"$25 monthly credits",features:"Advanced models, fine-tuning support"},huggingface:{name:"Hugging Face",setup:"Get token from https://huggingface.co/settings/tokens",freeTier:"30,000 requests per month",features:"Specialized coding models"},ollama:{name:"Ollama Local",setup:"Install from https://ollama.ai and run locally",freeTier:"Completely free",features:"Privacy-focused, runs on your machine"}}}getServicesNeedingSetup(){const e=[];return jn.forEach(t=>{this.hasValidApiKey(t)||e.push({name:nt[t].name,key:t,instructions:this.getSetupInstructions()[t]})}),e}async generateCode(e,t={}){const r=Date.now();this.usageStats.totalRequests++,this.getBestAvailableService();let s=null,a=[];for(const u of jn)if(!(!this.userPreferences.fallbackEnabled&&u!==this.userPreferences.preferredService)){if(!this.isServiceHealthy(u)&&u!==jn[jn.length-1]){console.warn(`⚠️ Skipping unhealthy service: ${u}`);continue}a.push(u);try{console.log(`🔄 Attempting AI generation with ${nt[u].name}...`);const f=this.currentService,m=this.currentModel;this.currentService=u;const g=Object.keys(nt[u].models);this.currentModel=g[0];const v=await this.generateWithService(u,e,t);return this.currentService=f,this.currentModel=m,this.updateUsageStats(u,!0,Date.now()-r),this.updateServiceHealth(u,!0,Date.now()-r),console.log(`✅ AI generation successful with ${nt[u].name}`),this.parseResponse(v,e,t)}catch(f){if(console.warn(`❌ AI generation failed with ${nt[u].name}:`,f.message),s=f,this.updateServiceHealth(u,!1,Date.now()-r),this.updateUsageStats(u,!1,Date.now()-r),u===jn[jn.length-1])break;this.userPreferences.showNotifications&&console.warn("🔄 Falling back to next AI service...")}}this.usageStats.failedRequests++,this.saveUsageStats();const l=`All AI services failed. Attempted: ${a.join(", ")}. Last error: ${s?.message||"Unknown error"}`;throw console.error(l),new Error(l)}async generateWithService(e,t,r){switch(e){case"groq":return await this.generateWithGroq(t,r);case"huggingface":return await this.generateWithHuggingFace(t,r);case"ollama":return await this.generateWithOllama(t,r);case"together":return await this.generateWithTogether(t,r);default:throw new Error(`Unsupported service: ${e}`)}}updateUsageStats(e,t,r){const s=new Date().toISOString().split("T")[0];t?this.usageStats.successfulRequests++:this.usageStats.failedRequests++,this.usageStats.serviceUsage[e]||(this.usageStats.serviceUsage[e]={totalRequests:0,successfulRequests:0,failedRequests:0,averageResponseTime:0,totalResponseTime:0});const a=this.usageStats.serviceUsage[e];a.totalRequests++,a.totalResponseTime+=r,a.averageResponseTime=a.totalResponseTime/a.totalRequests,t?a.successfulRequests++:a.failedRequests++,this.usageStats.dailyUsage[s]||(this.usageStats.dailyUsage[s]={totalRequests:0,successfulRequests:0,failedRequests:0});const l=this.usageStats.dailyUsage[s];l.totalRequests++,t?l.successfulRequests++:l.failedRequests++,this.usageStats.totalRequests%10===0&&this.saveUsageStats()}async generateWithGroq(e,t){const r=nt.groq,s=this.buildMessages(e,t);return(await Je.post(`${r.baseURL}/chat/completions`,{model:this.currentModel,messages:s,max_tokens:4e3,temperature:.7,stream:!1},{headers:r.headers,timeout:3e4})).data.choices[0].message.content}async generateWithHuggingFace(e,t){const r=nt.huggingface,s=this.currentModel||"microsoft/CodeBERT-base",a=await Je.post(`${r.baseURL}/${s}`,{inputs:e,parameters:{max_length:1e3,temperature:.7,return_full_text:!1}},{headers:r.headers,timeout:3e4});return a.data[0]?.generated_text||a.data}async generateWithOllama(e,t){const r=nt.ollama,s=this.currentModel||"llama3";return(await Je.post(`${r.baseURL}/generate`,{model:s,prompt:e,stream:!1,options:{temperature:.7,top_p:.9,max_tokens:4e3}},{headers:r.headers,timeout:6e4})).data.response}async generateWithTogether(e,t){const r=nt.together,s=this.buildMessages(e,t);return(await Je.post(`${r.baseURL}/chat/completions`,{model:this.currentModel,messages:s,max_tokens:4e3,temperature:.7,stream:!1},{headers:r.headers,timeout:3e4})).data.choices[0].message.content}buildMessages(e,t){return[{role:"system",content:`You are an expert software developer and AI assistant. Generate high-quality, production-ready code based on user requests.

Context:
- App Type: ${t.appType||"frontend"}
- Language: ${t.language||"javascript"}
- Styling: ${t.styling||"tailwind"}
- Database: ${t.database||"none"}

Instructions:
1. Generate clean, well-commented code
2. Follow best practices and modern standards
3. Include proper error handling
4. Make code responsive and accessible
5. Use the specified technologies and frameworks

Generate code that matches the user's request exactly.`},{role:"user",content:e}]}parseResponse(e,t,r){try{const s=e.match(/```[\s\S]*?```/g);if(s){const a={};return s.forEach((l,u)=>{const f=l.replace(/```(\w+)?\n?/g,"").replace(/```/g,"").trim(),m=this.getExtensionFromContent(f,u),g=this.getFilenameFromExtension(m,u);a[g]=f}),a}return this.createFallbackResponse(t,r)}catch(s){return console.error("Error parsing AI response:",s),this.createFallbackResponse(t,r)}}getExtensionFromContent(e,t){if(e.includes("<!DOCTYPE html")||e.includes("<html"))return"html";if(e.includes("import React")||e.includes("export default"))return"jsx";if(e.includes("const ")&&e.includes("require("))return"js";if(e.includes("body {")||e.includes("background:"))return"css";const r=["html","css","js","jsx"];return r[t%r.length]}getFilenameFromExtension(e,t){return{html:"index.html",css:"style.css",js:"script.js",jsx:"components.jsx"}[e]||`file${t+1}.${e}`}createFallbackResponse(e,t){const r=e.toLowerCase();return r.includes("health")&&r.includes("food")?{"index.html":this.generateHealthHTML(),"style.css":this.generateHealthCSS(),"script.js":this.generateHealthJS()}:r.includes("todo")||r.includes("task")?{"index.html":this.generateTodoHTML(),"style.css":this.generateTodoCSS(),"script.js":this.generateTodoJS()}:r.includes("portfolio")||r.includes("resume")?{"index.html":this.generatePortfolioHTML(),"style.css":this.generatePortfolioCSS(),"script.js":this.generatePortfolioJS()}:{"index.html":this.generateGenericHTML(e),"style.css":this.generateGenericCSS(),"script.js":this.generateGenericJS()}}generateHealthHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🥗 Health Food Tips</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🥗 Health Food Tips</h1>
            <p>Your guide to healthy eating and nutrition</p>
        </header>
        
        <main>
            <section class="hero">
                <h2>Welcome to Your Health Journey</h2>
                <p>Discover amazing tips for healthy eating and better nutrition.</p>
            </section>
            
            <section class="content">
                <h3>Healthy Eating Tips</h3>
                <div class="tip-card">
                    <h4>🥕 Eat More Vegetables</h4>
                    <p>Include a variety of colorful vegetables in your meals for essential vitamins and minerals.</p>
                </div>
                <div class="tip-card">
                    <h4>💧 Stay Hydrated</h4>
                    <p>Drink plenty of water throughout the day to maintain optimal health.</p>
                </div>
                <div class="tip-card">
                    <h4>🌾 Choose Whole Grains</h4>
                    <p>Opt for whole grain options like brown rice, quinoa, and whole wheat bread.</p>
                </div>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2024 Health Food Tips. Created with DreamBuild AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateHealthCSS(){return`/* Health Food Tips Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    min-height: 100vh;
    color: white;
    line-height: 1.6;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    margin-bottom: 40px;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.hero {
    text-align: center;
    margin-bottom: 60px;
    padding: 40px;
    background: rgba(255,255,255,0.1);
    border-radius: 20px;
    backdrop-filter: blur(10px);
}

.hero h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
}

.hero p {
    font-size: 1.3rem;
    opacity: 0.9;
}

.content {
    margin-bottom: 40px;
}

.content h3 {
    font-size: 2rem;
    margin-bottom: 30px;
    text-align: center;
}

.tip-card {
    background: rgba(255,255,255,0.15);
    border-radius: 15px;
    padding: 25px;
    margin-bottom: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    transition: transform 0.3s ease;
}

.tip-card:hover {
    transform: translateY(-5px);
}

.tip-card h4 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #fff;
}

.tip-card p {
    font-size: 1.1rem;
    opacity: 0.9;
    line-height: 1.6;
}

footer {
    text-align: center;
    padding: 20px;
    border-top: 1px solid rgba(255,255,255,0.2);
    margin-top: 40px;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .hero h2 {
        font-size: 1.8rem;
    }
    
    .tip-card {
        padding: 20px;
    }
}`}generateHealthJS(){return`// Health Food Tips JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🥗 Health Food Tips loaded!');
    
    // Add smooth scrolling to sections
    const tipCards = document.querySelectorAll('.tip-card');
    
    tipCards.forEach(card => {
        card.addEventListener('click', function() {
            this.style.transform = 'scale(1.02)';
            setTimeout(() => {
                this.style.transform = '';
            }, 200);
        });
    });
    
    // Add animation to hero section
    const hero = document.querySelector('.hero');
    if (hero) {
        hero.style.opacity = '0';
        hero.style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            hero.style.transition = 'all 0.8s ease';
            hero.style.opacity = '1';
            hero.style.transform = 'translateY(0)';
        }, 100);
    }
    
    // Add tip card animations
    tipCards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateX(-30px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.6s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateX(0)';
        }, 300 + (index * 100));
    });
});`}generateTodoHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>✅ Todo App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>✅ Todo App</h1>
            <p>Organize your tasks and stay productive</p>
        </header>
        
        <main>
            <div class="todo-input">
                <input type="text" id="todoInput" placeholder="Add a new task...">
                <button id="addBtn">Add Task</button>
            </div>
            
            <div class="todo-filters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="active">Active</button>
                <button class="filter-btn" data-filter="completed">Completed</button>
            </div>
            
            <ul class="todo-list" id="todoList">
                <!-- Tasks will be added here -->
            </ul>
            
            <div class="todo-stats">
                <span id="taskCount">0 tasks remaining</span>
                <button id="clearCompleted">Clear Completed</button>
            </div>
        </main>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateTodoCSS(){return`/* Todo App Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
    min-height: 100vh;
    color: white;
    padding: 20px;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    background: rgba(255,255,255,0.1);
    border-radius: 20px;
    padding: 30px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
}

header {
    text-align: center;
    margin-bottom: 30px;
}

header h1 {
    font-size: 2.5rem;
    margin-bottom: 10px;
}

header p {
    opacity: 0.9;
    font-size: 1.1rem;
}

.todo-input {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.todo-input input {
    flex: 1;
    padding: 15px;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    background: rgba(255,255,255,0.9);
    color: #333;
}

.todo-input input:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.3);
}

.todo-input button {
    padding: 15px 25px;
    background: #4CAF50;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s ease;
}

.todo-input button:hover {
    background: #45a049;
}

.todo-filters {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    justify-content: center;
}

.filter-btn {
    padding: 10px 20px;
    background: rgba(255,255,255,0.1);
    color: white;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn.active,
.filter-btn:hover {
    background: rgba(255,255,255,0.2);
}

.todo-list {
    list-style: none;
    margin-bottom: 20px;
}

.todo-item {
    display: flex;
    align-items: center;
    padding: 15px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
}

.todo-item:hover {
    background: rgba(255,255,255,0.15);
}

.todo-item.completed {
    opacity: 0.6;
    text-decoration: line-through;
}

.todo-item input[type="checkbox"] {
    margin-right: 15px;
    transform: scale(1.2);
}

.todo-item .task-text {
    flex: 1;
    font-size: 1rem;
}

.todo-item .delete-btn {
    background: #f44336;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 0.8rem;
}

.todo-item .delete-btn:hover {
    background: #d32f2f;
}

.todo-stats {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 20px;
    border-top: 1px solid rgba(255,255,255,0.2);
}

#clearCompleted {
    background: #ff9800;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 8px 15px;
    cursor: pointer;
    font-size: 0.9rem;
}

#clearCompleted:hover {
    background: #f57c00;
}

@media (max-width: 600px) {
    .container {
        margin: 10px;
        padding: 20px;
    }
    
    .todo-input {
        flex-direction: column;
    }
    
    .todo-filters {
        flex-wrap: wrap;
    }
}`}generateTodoJS(){return`// Todo App JavaScript
class TodoApp {
    constructor() {
        this.todos = JSON.parse(localStorage.getItem('todos')) || [];
        this.currentFilter = 'all';
        this.init();
    }

    init() {
        this.bindEvents();
        this.render();
    }

    bindEvents() {
        const addBtn = document.getElementById('addBtn');
        const todoInput = document.getElementById('todoInput');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const clearBtn = document.getElementById('clearCompleted');

        addBtn.addEventListener('click', () => this.addTodo());
        todoInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') this.addTodo();
        });

        filterBtns.forEach(btn => {
            btn.addEventListener('click', (e) => this.setFilter(e.target.dataset.filter));
        });

        clearBtn.addEventListener('click', () => this.clearCompleted());
    }

    addTodo() {
        const input = document.getElementById('todoInput');
        const text = input.value.trim();

        if (text) {
            this.todos.push({
                id: Date.now(),
                text: text,
                completed: false
            });
            input.value = '';
            this.save();
            this.render();
        }
    }

    toggleTodo(id) {
        const todo = this.todos.find(t => t.id === id);
        if (todo) {
            todo.completed = !todo.completed;
            this.save();
            this.render();
        }
    }

    deleteTodo(id) {
        this.todos = this.todos.filter(t => t.id !== id);
        this.save();
        this.render();
    }

    setFilter(filter) {
        this.currentFilter = filter;
        
        // Update filter buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.filter === filter);
        });
        
        this.render();
    }

    clearCompleted() {
        this.todos = this.todos.filter(t => !t.completed);
        this.save();
        this.render();
    }

    getFilteredTodos() {
        switch (this.currentFilter) {
            case 'active':
                return this.todos.filter(t => !t.completed);
            case 'completed':
                return this.todos.filter(t => t.completed);
            default:
                return this.todos;
        }
    }

    render() {
        const todoList = document.getElementById('todoList');
        const taskCount = document.getElementById('taskCount');
        const filteredTodos = this.getFilteredTodos();

        todoList.innerHTML = filteredTodos.map(todo => \`
            <li class="todo-item \${todo.completed ? 'completed' : ''}">
                <input type="checkbox" \${todo.completed ? 'checked' : ''} 
                       onchange="todoApp.toggleTodo(\${todo.id})">
                <span class="task-text">\${todo.text}</span>
                <button class="delete-btn" onclick="todoApp.deleteTodo(\${todo.id})">Delete</button>
            </li>
        \`).join('');

        const activeCount = this.todos.filter(t => !t.completed).length;
        taskCount.textContent = \`\${activeCount} task\${activeCount !== 1 ? 's' : ''} remaining\`;
    }

    save() {
        localStorage.setItem('todos', JSON.stringify(this.todos));
    }
}

// Initialize the app
let todoApp;
document.addEventListener('DOMContentLoaded', function() {
    todoApp = new TodoApp();
    console.log('✅ Todo App loaded!');
});`}generatePortfolioHTML(){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Your Name</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <nav>
                <div class="nav-brand">Portfolio</div>
                <ul class="nav-links">
                    <li><a href="#about">About</a></li>
                    <li><a href="#projects">Projects</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <section class="hero">
                <h1>Hi, I'm Your Name</h1>
                <p>Full Stack Developer & UI/UX Designer</p>
                <button class="cta-button">View My Work</button>
            </section>

            <section id="about" class="about">
                <h2>About Me</h2>
                <p>I'm a passionate developer with 5+ years of experience creating beautiful, functional web applications.</p>
            </section>

            <section id="projects" class="projects">
                <h2>My Projects</h2>
                <div class="project-grid">
                    <div class="project-card">
                        <h3>E-Commerce Platform</h3>
                        <p>A full-stack e-commerce solution with React and Node.js</p>
                    </div>
                    <div class="project-card">
                        <h3>Task Management App</h3>
                        <p>A collaborative task management tool with real-time updates</p>
                    </div>
                    <div class="project-card">
                        <h3>Weather Dashboard</h3>
                        <p>A responsive weather app with location-based forecasts</p>
                    </div>
                </div>
            </section>

            <section id="contact" class="contact">
                <h2>Get In Touch</h2>
                <p>Let's work together on your next project!</p>
                <button class="contact-button">Contact Me</button>
            </section>
        </main>

        <footer>
            <p>&copy; 2024 Your Name. All rights reserved.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generatePortfolioCSS(){return`/* Portfolio Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
    min-height: 100vh;
    color: white;
    line-height: 1.6;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
}

header {
    padding: 20px 0;
}

nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
}

.nav-brand {
    font-size: 1.5rem;
    font-weight: bold;
}

.nav-links {
    display: flex;
    list-style: none;
    gap: 30px;
}

.nav-links a {
    color: white;
    text-decoration: none;
    transition: opacity 0.3s ease;
}

.nav-links a:hover {
    opacity: 0.7;
}

.hero {
    text-align: center;
    padding: 100px 20px;
}

.hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.hero p {
    font-size: 1.3rem;
    margin-bottom: 30px;
    opacity: 0.9;
}

.cta-button {
    background: rgba(255,255,255,0.2);
    color: white;
    border: 2px solid white;
    padding: 15px 30px;
    border-radius: 30px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.cta-button:hover {
    background: white;
    color: #9C27B0;
}

section {
    padding: 80px 20px;
}

section h2 {
    font-size: 2.5rem;
    margin-bottom: 40px;
    text-align: center;
}

.about {
    background: rgba(255,255,255,0.1);
    margin: 40px 0;
    border-radius: 20px;
    backdrop-filter: blur(10px);
}

.about p {
    font-size: 1.2rem;
    text-align: center;
    max-width: 600px;
    margin: 0 auto;
}

.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.project-card {
    background: rgba(255,255,255,0.15);
    padding: 30px;
    border-radius: 15px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    transition: transform 0.3s ease;
}

.project-card:hover {
    transform: translateY(-10px);
}

.project-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
}

.project-card p {
    opacity: 0.9;
}

.contact {
    text-align: center;
}

.contact p {
    font-size: 1.2rem;
    margin-bottom: 30px;
    opacity: 0.9;
}

.contact-button {
    background: #4CAF50;
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 30px;
    font-size: 1.1rem;
    cursor: pointer;
    transition: background 0.3s ease;
}

.contact-button:hover {
    background: #45a049;
}

footer {
    text-align: center;
    padding: 40px 20px;
    border-top: 1px solid rgba(255,255,255,0.2);
    opacity: 0.8;
}

@media (max-width: 768px) {
    .hero h1 {
        font-size: 2.5rem;
    }
    
    .nav-links {
        gap: 15px;
    }
    
    .project-grid {
        grid-template-columns: 1fr;
    }
}`}generatePortfolioJS(){return`// Portfolio JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🎨 Portfolio loaded!');
    
    // Smooth scrolling for navigation links
    const navLinks = document.querySelectorAll('.nav-links a');
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                targetSection.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        });
    });
    
    // Add scroll effect to navigation
    window.addEventListener('scroll', function() {
        const header = document.querySelector('header');
        if (window.scrollY > 100) {
            header.style.background = 'rgba(0,0,0,0.1)';
            header.style.backdropFilter = 'blur(10px)';
        } else {
            header.style.background = 'transparent';
            header.style.backdropFilter = 'none';
        }
    });
    
    // Add animation to hero section
    const hero = document.querySelector('.hero');
    if (hero) {
        hero.style.opacity = '0';
        hero.style.transform = 'translateY(50px)';
        
        setTimeout(() => {
            hero.style.transition = 'all 1s ease';
            hero.style.opacity = '1';
            hero.style.transform = 'translateY(0)';
        }, 200);
    }
    
    // Add intersection observer for section animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);
    
    // Observe all sections
    const sections = document.querySelectorAll('section');
    sections.forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = 'all 0.8s ease';
        observer.observe(section);
    });
    
    // Add hover effects to project cards
    const projectCards = document.querySelectorAll('.project-card');
    projectCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
});`}generateGenericHTML(e){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🚀 Generated Application</h1>
            <p>Built with DreamBuild AI</p>
        </header>
        
        <main>
            <div class="content">
                <h2>${e}</h2>
                <p>This application was generated based on your prompt using DreamBuild AI.</p>
                <div class="features">
                    <div class="feature-card">
                        <h3>✨ Feature 1</h3>
                        <p>Interactive component with modern design</p>
                    </div>
                    <div class="feature-card">
                        <h3>🎨 Feature 2</h3>
                        <p>Responsive layout that works on all devices</p>
                    </div>
                    <div class="feature-card">
                        <h3>⚡ Feature 3</h3>
                        <p>Fast loading and optimized performance</p>
                    </div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>&copy; 2024 Generated App. Created with DreamBuild AI.</p>
        </footer>
    </div>
    
    <script src="script.js"><\/script>
</body>
</html>`}generateGenericCSS(){return`/* Generated App Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    color: white;
    line-height: 1.6;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

header {
    text-align: center;
    margin-bottom: 40px;
    padding: 40px 0;
}

header h1 {
    font-size: 3rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

header p {
    font-size: 1.2rem;
    opacity: 0.9;
}

.content {
    margin-bottom: 40px;
}

.content h2 {
    font-size: 2rem;
    margin-bottom: 20px;
    text-align: center;
}

.content > p {
    font-size: 1.1rem;
    text-align: center;
    margin-bottom: 40px;
    opacity: 0.9;
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    margin-top: 40px;
}

.feature-card {
    background: rgba(255,255,255,0.1);
    padding: 30px;
    border-radius: 15px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
    transition: transform 0.3s ease;
    text-align: center;
}

.feature-card:hover {
    transform: translateY(-10px);
}

.feature-card h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: #fff;
}

.feature-card p {
    opacity: 0.9;
    line-height: 1.6;
}

footer {
    text-align: center;
    padding: 40px 20px;
    border-top: 1px solid rgba(255,255,255,0.2);
    margin-top: 40px;
    opacity: 0.8;
}

@media (max-width: 768px) {
    header h1 {
        font-size: 2rem;
    }
    
    .features {
        grid-template-columns: 1fr;
    }
    
    .feature-card {
        padding: 20px;
    }
}`}generateGenericJS(){return`// Generated App JavaScript
document.addEventListener('DOMContentLoaded', function() {
    console.log('🚀 Generated App loaded!');
    
    // Add animation to feature cards
    const featureCards = document.querySelectorAll('.feature-card');
    
    featureCards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        
        setTimeout(() => {
            card.style.transition = 'all 0.6s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, 200 + (index * 100));
    });
    
    // Add hover effects
    featureCards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
    
    // Add click interactions
    featureCards.forEach(card => {
        card.addEventListener('click', function() {
            this.style.background = 'rgba(255,255,255,0.2)';
            setTimeout(() => {
                this.style.background = 'rgba(255,255,255,0.1)';
            }, 200);
        });
    });
});`}}const Qt=new z9,$9=({isOpen:n,onClose:e})=>{const[t,r]=D.useState({}),[s,a]=D.useState({}),[l,u]=D.useState({}),[f,m]=D.useState(!1),[g,v]=D.useState([]);D.useEffect(()=>{n&&_()},[n]);const _=()=>{r(Qt.getServiceStatus()),a(Qt.getUserPreferences()),u(Qt.getUsageStats()),v(Qt.getServicesNeedingSetup())},E=Q=>{Qt.setService(Q),a(Qt.getUserPreferences()),_()},C=(Q,S)=>{const I={...s,[Q]:S};Qt.updateUserPreferences(I),a(I)},N=async()=>{m(!0);try{await Qt.performHealthChecks(),_()}catch(Q){console.error("Error refreshing health:",Q)}finally{m(!1)}},A=(Q=null)=>{Qt.resetServiceHealth(Q),_()},F=Q=>Q.isHealthy?h.jsx(cO,{className:"h-4 w-4 text-green-500"}):h.jsx(M_,{className:"h-4 w-4 text-red-500"}),U=Q=>Q.isCurrent?"bg-primary text-primary-foreground":Q.isPreferred?"bg-secondary text-secondary-foreground":Q.isHealthy?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200",k=Q=>Q<1e3?`${Q}ms`:`${(Q/1e3).toFixed(1)}s`,H=Q=>`${(Q*100).toFixed(1)}%`,J=Q=>{switch(Q){case"groq":return h.jsx(ol,{className:"h-4 w-4"});case"together":return h.jsx(Bh,{className:"h-4 w-4"});case"huggingface":return h.jsx(Rc,{className:"h-4 w-4"});case"ollama":return h.jsx(Si,{className:"h-4 w-4"});default:return h.jsx(yO,{className:"h-4 w-4"})}};return n?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"AI Service Status"}),h.jsx("p",{className:"text-muted-foreground",children:"Monitor and configure AI services"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:N,disabled:f,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:h.jsx(kf,{className:`h-5 w-5 ${f?"animate-spin":""}`})}),h.jsx("button",{onClick:e,className:"p-2 text-muted-foreground hover:text-foreground transition-colors",children:h.jsx(M_,{className:"h-5 w-5"})})]})]}),h.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Rc,{className:"h-5 w-5"}),"Service Status"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:Object.entries(t).map(([Q,S])=>h.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all cursor-pointer hover:shadow-md ${U(S)}`,onClick:()=>E(Q),children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[J(Q),h.jsx("span",{className:"font-semibold",children:S.name}),F(S)]}),h.jsxs("div",{className:"flex items-center gap-2",children:[S.isCurrent&&h.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-1 rounded",children:"Current"}),S.isPreferred&&!S.isCurrent&&h.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:"Preferred"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(fS,{className:"h-3 w-3"}),h.jsx("span",{children:k(S.responseTime)})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(sO,{className:"h-3 w-3"}),h.jsx("span",{children:H(S.errorRate)})]}),h.jsx("div",{className:"col-span-2",children:h.jsxs("span",{className:"text-xs",children:["Requests: ",S.usage.totalRequests," | Success: ",S.usage.successfulRequests," | Failed: ",S.usage.failedRequests]})})]}),S.consecutiveFailures>0&&h.jsxs("div",{className:"mt-2 text-xs text-orange-600",children:[S.consecutiveFailures," consecutive failures"]})]},Q))}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Si,{className:"h-5 w-5"}),"Preferences"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"Enable Fallback"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically switch to backup services when primary fails"})]}),h.jsx("button",{onClick:()=>C("fallbackEnabled",!s.fallbackEnabled),className:"flex items-center gap-2",children:s.fallbackEnabled?h.jsx(O_,{className:"h-6 w-6 text-primary"}):h.jsx(L_,{className:"h-6 w-6 text-muted-foreground"})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"Show Notifications"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Display fallback notifications in console"})]}),h.jsx("button",{onClick:()=>C("showNotifications",!s.showNotifications),className:"flex items-center gap-2",children:s.showNotifications?h.jsx(O_,{className:"h-6 w-6 text-primary"}):h.jsx(L_,{className:"h-6 w-6 text-muted-foreground"})})]})]})]}),g.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Si,{className:"h-5 w-5"}),"Setup Required"]}),h.jsx("div",{className:"space-y-3",children:g.map(Q=>h.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"font-medium text-orange-800",children:Q.name}),h.jsx("span",{className:"text-sm text-orange-600 bg-orange-100 px-2 py-1 rounded",children:"Setup Required"})]}),h.jsx("p",{className:"text-sm text-orange-700 mb-2",children:Q.instructions.setup}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-orange-600",children:[h.jsxs("span",{children:["💰 ",Q.instructions.freeTier]}),h.jsxs("span",{children:["⚡ ",Q.instructions.features]})]})]},Q.key))})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Rc,{className:"h-5 w-5"}),"Usage Statistics"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:l.totalRequests||0}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Requests"})]}),h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.successfulRequests||0}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Successful"})]}),h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.failedRequests||0}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last updated: ",new Date().toLocaleTimeString()]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>A(),className:"px-4 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors",children:"Reset All Health"}),h.jsx("button",{onClick:e,className:"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:"Close"})]})]})]})})]})}):null},H9=({isOpen:n,onClose:e,onTemplateSelect:t})=>{const{updateFile:r}=Ho(),[s,a]=D.useState(""),[l,u]=D.useState("all"),[f,m]=D.useState("grid"),[g,v]=D.useState("popular"),[_,E]=D.useState([]),[C,N]=D.useState({}),[A,F]=D.useState({});D.useEffect(()=>{n&&U()},[n]);const U=()=>{try{const S=Qt.getTemplateCategories();N(S);const I=Qt.getAllTemplates();E(I)}catch(S){console.error("Error loading template data:",S),Re.error("Failed to load templates")}};D.useEffect(()=>{k()},[s,l,g]);const k=()=>{let S=Qt.getAllTemplates();if(s&&(S=Qt.searchTemplates(s)),l!=="all"){const I=Qt.getTemplatesByCategory(l);S=S.filter(j=>I.includes(j.id))}switch(g){case"popular":const I=Qt.getPopularTemplates().map(j=>j.id);S=S.sort((j,P)=>{const M=I.includes(j.id),z=I.includes(P.id);return M&&!z?-1:!M&&z?1:0});break;case"alphabetical":S=S.sort((j,P)=>j.name.localeCompare(P.name));break;case"newest":S=S.reverse();break}E(S)},H=async S=>{try{const I=Qt.createFallbackResponse(S,{title:S.replace(/-/g," ").replace(/\b\w/g,P=>P.toUpperCase())});Object.entries(I).forEach(([P,M])=>{r(P,M)});const j=S.replace(/-/g," ").replace(/\b\w/g,P=>P.toUpperCase());Re.success(`Generated ${j} template!`),t&&t({id:S,name:j,files:I}),e()}catch(I){console.error("Error generating template:",I),Re.error("Failed to generate template")}},J=S=>{F(I=>({...I,[S]:!I[S]}))},Q=S=>S.includes("store")||S.includes("ecommerce")?"🛒 E-commerce platform with shopping cart and payments":S.includes("blog")||S.includes("content")?"📝 Content management with articles and comments":S.includes("dashboard")||S.includes("admin")?"📊 Analytics dashboard with charts and metrics":S.includes("social")||S.includes("network")?"👥 Social platform with profiles and connections":S.includes("game")||S.includes("entertainment")?"🎮 Interactive game with scoring and levels":S.includes("health")||S.includes("fitness")?"💪 Health tracking with goals and progress":S.includes("finance")||S.includes("money")?"💰 Financial management with budgets and investments":S.includes("education")||S.includes("learning")?"🎓 Educational platform with courses and quizzes":"✨ Custom application with modern design";return n?h.jsx(_s,{children:h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,children:h.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg w-full max-w-7xl h-[90vh] flex flex-col",onClick:S=>S.stopPropagation(),children:[h.jsxs("div",{className:"p-6 border-b border-border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(Pf,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-bold",children:"Template Library"}),h.jsx("p",{className:"text-muted-foreground",children:"Choose from 1000+ professional templates"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:"✕"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(Fg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx("input",{type:"text",placeholder:"Search templates...",value:s,onChange:S=>a(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("select",{value:l,onChange:S=>u(S.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background",children:[h.jsx("option",{value:"all",children:"All Categories"}),Object.entries(C).map(([S,I])=>h.jsxs("option",{value:S,children:[I.icon," ",I.name]},S))]}),h.jsxs("select",{value:g,onChange:S=>v(S.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background",children:[h.jsx("option",{value:"popular",children:"Popular"}),h.jsx("option",{value:"alphabetical",children:"A-Z"}),h.jsx("option",{value:"newest",children:"Newest"})]}),h.jsxs("div",{className:"flex border border-border rounded-lg",children:[h.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${f==="grid"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:h.jsx(mS,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>m("list"),className:`p-2 ${f==="list"?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:h.jsx(gS,{className:"h-4 w-4"})})]})]})]})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs("div",{className:"h-full flex",children:[h.jsx("div",{className:"w-64 border-r border-border bg-muted/30 overflow-y-auto",children:h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"font-semibold mb-3",children:"Categories"}),h.jsx("div",{className:"space-y-1",children:Object.entries(C).map(([S,I])=>h.jsxs("div",{children:[h.jsxs("button",{onClick:()=>{u(S),J(S)},className:"w-full flex items-center justify-between p-2 rounded-lg hover:bg-muted transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{children:I.icon}),h.jsx("span",{className:"text-sm",children:I.name}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",I.templates.length,")"]})]}),A[S]?h.jsx(uO,{className:"h-4 w-4"}):h.jsx(dO,{className:"h-4 w-4"})]}),A[S]&&h.jsxs("div",{className:"ml-4 space-y-1 mt-1",children:[I.templates.slice(0,5).map(j=>h.jsx("button",{onClick:()=>{a(j),u(S)},className:"w-full text-left p-1 text-xs text-muted-foreground hover:text-foreground truncate",children:j.replace(/-/g," ")},j)),I.templates.length>5&&h.jsxs("div",{className:"text-xs text-muted-foreground p-1",children:["+",I.templates.length-5," more..."]})]})]},S))})]})}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h3",{className:"text-lg font-semibold",children:[_.length," Templates",l!=="all"&&` in ${C[l]?.name}`]}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",_.length," of ",Qt.getAllTemplates().length," templates"]})]}),f==="grid"?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:_.map((S,I)=>h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.05},onClick:()=>H(S.id),className:"bg-card border border-border rounded-lg p-4 hover:shadow-lg hover:border-primary/30 transition-all cursor-pointer group",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx("span",{className:"text-lg",children:S.icon})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-medium truncate",children:S.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:S.category})]})]}),h.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:Q(S.id)}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[h.jsx(hr,{className:"h-3 w-3"}),h.jsx("span",{children:"HTML/CSS/JS"})]}),h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ol,{className:"h-4 w-4 text-primary"})})]})]},S.id))}):h.jsx("div",{className:"space-y-2",children:_.map((S,I)=>h.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:I*.02},onClick:()=>H(S.id),className:"flex items-center gap-4 p-4 bg-card border border-border rounded-lg hover:shadow-md hover:border-primary/30 transition-all cursor-pointer group",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:h.jsx("span",{className:"text-xl",children:S.icon})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-medium",children:S.name}),h.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:Q(S.id)}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[h.jsx("span",{children:S.category}),h.jsx("span",{children:"•"}),h.jsx("span",{children:"HTML/CSS/JS"})]})]}),h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ol,{className:"h-5 w-5 text-primary"})})]},S.id))}),_.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Fg,{className:"h-8 w-8 text-muted-foreground"})}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No templates found"}),h.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria"})]})]})})]})})]})})}):null},q9=()=>{const{currentProject:n,updateFile:e,updateConfig:t}=Ho(),[r,s]=D.useState(""),[a,l]=D.useState(!1),[u,f]=D.useState(!1),[m,g]=D.useState(!1),[v,_]=D.useState(!1),[E,C]=D.useState("groq"),[N,A]=D.useState("llama3-8b-8192"),[F,U]=D.useState([]),[k,H]=D.useState([]),[J,Q]=D.useState({}),S=D.useRef(null);D.useEffect(()=>{S.current&&(S.current.style.height="auto",S.current.style.height=S.current.scrollHeight+"px")},[r]),D.useEffect(()=>{Q(E?.getServiceStatus?E.getServiceStatus():{});const q=setInterval(()=>{Q(E?.getServiceStatus?E.getServiceStatus():{})},3e4);return()=>clearInterval(q)},[]),D.useEffect(()=>{r.length>10?I():U([])},[r]);const I=()=>{const q=r.toLowerCase(),te=[];(q.includes("health")||q.includes("food"))&&(te.push({text:"Add nutrition calculator",type:"feature",icon:"🧮"}),te.push({text:"Include meal planning calendar",type:"feature",icon:"📅"})),(q.includes("todo")||q.includes("task"))&&(te.push({text:"Add due dates and reminders",type:"feature",icon:"⏰"}),te.push({text:"Include priority levels",type:"feature",icon:"⭐"})),(q.includes("portfolio")||q.includes("resume"))&&(te.push({text:"Add contact form",type:"feature",icon:"📧"}),te.push({text:"Include project gallery",type:"feature",icon:"🖼️"})),te.push({text:"Make it responsive",type:"improvement",icon:"📱"}),te.push({text:"Add dark mode",type:"improvement",icon:"🌙"}),U(te.slice(0,4))},j=async()=>{if(!r.trim()){Re.error("Please enter a description of what you want to build");return}l(!0);try{H(te=>[r,...te.slice(0,4)]);const q=await E.generateCode(r,n.config);Object.entries(q).forEach(([te,ge])=>{e(te,ge)}),P(r),Re.success("Code generated successfully!"),s("")}catch(q){console.error("AI generation error:",q),Re.error("Failed to generate code: "+q.message)}finally{l(!1)}},P=q=>{const te=q.toLowerCase(),ge={...n.config};te.includes("mobile")||te.includes("app")?ge.appType="mobile":te.includes("api")||te.includes("backend")?ge.appType="backend":(te.includes("frontend")||te.includes("website"))&&(ge.appType="frontend"),te.includes("typescript")||te.includes("ts")?ge.language="typescript":te.includes("python")?ge.language="python":te.includes("java")&&(ge.language="java"),te.includes("bootstrap")?ge.styling="bootstrap":te.includes("material")?ge.styling="material":ge.styling="tailwind",t(ge)},M=q=>{s(te=>te+" "+q.text),Re.success(`Added suggestion: ${q.text}`)},z=q=>{s(q)},L=q=>{q.key==="Enter"&&(q.ctrlKey||q.metaKey)&&(q.preventDefault(),j())},ye=E?.getServices?E.getServices():{};return h.jsxs(Te.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"h-full flex flex-col bg-card border border-border rounded-lg overflow-hidden",children:[h.jsxs("div",{className:"p-3 border-b border-border bg-muted/50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[h.jsx(Pf,{className:"h-4 w-4"}),"AI Assistant"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:E?.currentService||"local-ai"}),h.jsx("button",{onClick:()=>_(!0),className:"p-1 hover:bg-muted rounded transition-colors",title:"Browse Templates (1000+)",children:h.jsx(hr,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>g(!0),className:"p-1 hover:bg-muted rounded transition-colors",title:"AI Service Status",children:h.jsx(Rc,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>f(!0),className:"p-1 hover:bg-muted rounded transition-colors",title:"AI Settings",children:h.jsx(Si,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[J[E?.currentService||"local-ai"]?.isHealthy?h.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}):h.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),h.jsx("span",{className:"text-muted-foreground",children:J[E?.currentService||"local-ai"]?.isHealthy?"AI Ready":"AI Unhealthy"})]}),h.jsx("span",{children:"•"}),h.jsx("span",{className:"text-muted-foreground",children:E?.isFallbackEnabled?E.isFallbackEnabled()?"Fallback Enabled":"Single Service":"Local AI Only"})]})]}),h.jsxs("div",{className:"flex-1 p-3 space-y-3",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Describe what you want to build"}),h.jsxs("div",{className:"relative",children:[h.jsx("textarea",{ref:S,value:r,onChange:q=>s(q.target.value),onKeyPress:L,placeholder:"Create a healthy food tips website with nutrition advice and meal planning features...",className:"w-full p-3 border border-border rounded-md bg-background resize-none min-h-[120px] focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:a}),h.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:[r.length,"/2000"]})]})]}),h.jsx(_s,{children:F.length>0&&h.jsxs(Te.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Suggestions"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:F.map((q,te)=>h.jsxs(Te.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>M(q),className:`flex items-center gap-1 px-2 py-1 text-xs rounded-md border transition-colors ${q.type==="feature"?"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100":"border-green-200 bg-green-50 text-green-700 hover:bg-green-100"}`,children:[h.jsx("span",{children:q.icon}),h.jsx("span",{children:q.text})]},te))})]})}),k.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Recent Prompts"}),h.jsx("div",{className:"space-y-1",children:k.slice(0,3).map((q,te)=>h.jsx("button",{onClick:()=>z(q),className:"w-full text-left p-2 text-xs bg-muted hover:bg-muted/80 rounded-md transition-colors truncate",title:q,children:q},te))})]})]}),h.jsxs("div",{className:"p-3 border-t border-border",children:[h.jsx("button",{onClick:j,disabled:!r.trim()||a,className:"w-full flex items-center justify-center gap-2 p-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?h.jsxs(h.Fragment,{children:[h.jsx(yS,{className:"h-4 w-4 animate-spin"}),h.jsx("span",{children:"Generating..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(ol,{className:"h-4 w-4"}),h.jsx("span",{children:"Generate Code"})]})}),h.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"Press Ctrl+Enter to generate"})]}),h.jsx(H9,{isOpen:v,onClose:()=>_(!1),onTemplateSelect:q=>{console.log("Template selected:",q)}}),h.jsx($9,{isOpen:m,onClose:()=>g(!1)}),h.jsx(_s,{children:u&&h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>f(!1),children:h.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-lg p-6 w-96 max-w-[90vw]",onClick:q=>q.stopPropagation(),children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(vs,{className:"h-5 w-5"}),"AI Settings"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"AI Service"}),h.jsx("select",{value:E,onChange:q=>{C(q.target.value),E?.setService&&E.setService(q.target.value)},className:"w-full p-2 border border-border rounded-md bg-background",children:Object.entries(ye).map(([q,te])=>h.jsxs("option",{value:q,children:[te.name," - ",te.type]},q))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2",children:"Model"}),h.jsx("select",{value:N,onChange:q=>{A(q.target.value),E?.setService&&E.setService(q.target.value)},className:"w-full p-2 border border-border rounded-md bg-background",children:Object.entries(ye[E]?.models||{}).map(([q,te])=>h.jsx("option",{value:q,children:te},q))})]}),h.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Service Info"}),h.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Type:"})," ",ye[E]?.type]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Cost:"})," Free tier available"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Features:"})," Fast inference, modern models"]})]})]}),h.jsx("div",{className:"flex gap-2 justify-end",children:h.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors",children:"Close"})})]})]})})})]})},yb=({children:n,direction:e="horizontal",className:t=""})=>h.jsx("div",{className:`resizable-panel-group ${e} ${t}`,children:n}),vc=({children:n,defaultSize:e=50,minSize:t=10,maxSize:r=90,className:s=""})=>h.jsx("div",{className:`resizable-panel ${s}`,style:{flexBasis:`${e}%`,minWidth:`${t}%`,maxWidth:`${r}%`},children:n}),og=({className:n=""})=>{const[e,t]=D.useState(!1),r=D.useRef(null),s=u=>{t(!0),u.preventDefault()},a=u=>{if(!e)return;const f=r.current?.parentElement;if(f){const m=f.getBoundingClientRect(),g=(u.clientX-m.left)/m.width*100,v=f.querySelectorAll(".resizable-panel");if(v.length>=2){const _=v[0],E=v[1];_.style.flexBasis=`${Math.max(10,Math.min(90,g))}%`,E.style.flexBasis=`${Math.max(10,Math.min(90,100-g))}%`}}},l=()=>{t(!1)};return D.useEffect(()=>{if(e)return document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l)}},[e]),h.jsx("div",{ref:r,className:`resizable-handle ${n} ${e?"resizing":""}`,onMouseDown:s})},W9=()=>{const[n,e]=D.useState("code");return h.jsxs("div",{className:"h-[calc(100vh-120px)] flex flex-col bg-gradient-to-br from-background via-background to-muted/20",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50 bg-card/50 backdrop-blur-sm",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center",children:h.jsx(vs,{className:"h-6 w-6 text-primary"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-foreground",children:"AI Builder"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Build applications with AI assistance"})]})]})}),h.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-xl border border-border/50",children:[h.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("code"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n==="code"?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[h.jsx(hr,{className:"h-4 w-4"}),h.jsx("span",{children:"Code Editor"})]}),h.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("preview"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n==="preview"?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[h.jsx(hh,{className:"h-4 w-4"}),h.jsx("span",{children:"Live Preview"})]}),h.jsxs(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("terminal"),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${n==="terminal"?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:text-foreground hover:bg-background/50"}`,children:[h.jsx(Dm,{className:"h-4 w-4"}),h.jsx("span",{children:"Terminal"})]})]})]}),h.jsx("div",{className:"flex-grow p-4",children:h.jsxs(yb,{direction:"horizontal",className:"h-full gap-2",children:[h.jsx(vc,{defaultSize:18,minSize:12,maxSize:25,children:h.jsx("div",{className:"h-full bg-card/50 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm",children:h.jsx(i6,{})})}),h.jsx(og,{className:"w-1 bg-border/30 hover:bg-primary/30 transition-colors rounded-full"}),h.jsx(vc,{defaultSize:52,minSize:35,children:h.jsx("div",{className:"h-full bg-card/50 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm overflow-hidden",children:h.jsxs(yb,{direction:"vertical",className:"h-full gap-2",children:[h.jsx(vc,{defaultSize:60,minSize:30,children:h.jsxs("div",{className:"h-full bg-card/80 rounded-lg border border-border/30 shadow-sm overflow-hidden",children:[n==="code"&&h.jsx(Z1,{}),n==="preview"&&h.jsx(eb,{}),n==="terminal"&&h.jsx("div",{className:"h-full flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-gray-300 rounded-lg border border-gray-700/50",children:h.jsxs("div",{className:"text-center p-8",children:[h.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-6",children:h.jsx(Dm,{className:"h-8 w-8 text-primary"})}),h.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Terminal Component"}),h.jsx("p",{className:"text-muted-foreground max-w-sm",children:"Terminal functionality is temporarily disabled while we optimize the local AI integration."}),h.jsx("div",{className:"mt-6 p-3 bg-muted/50 rounded-lg border border-border/50",children:h.jsxs("p",{className:"text-sm text-muted-foreground",children:["💡 ",h.jsx("strong",{children:"Tip:"})," Use the AI Assistant to generate code and see live previews instead!"]})})]})})]})}),h.jsx(og,{className:"h-1 bg-border/30 hover:bg-primary/30 transition-colors rounded-full"}),h.jsx(vc,{defaultSize:40,minSize:20,children:h.jsxs("div",{className:"h-full bg-card/80 rounded-lg border border-border/30 shadow-sm overflow-hidden",children:[n==="code"&&h.jsx(eb,{}),n==="preview"&&h.jsx(Z1,{}),n==="terminal"&&h.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-br from-card via-card/80 to-card rounded-lg border border-border/50 shadow-sm overflow-hidden",children:[h.jsx("div",{className:"p-4 border-b border-border/50 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:h.jsx(vs,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold text-foreground",children:"AI Assistant"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to help you code"})]})]})}),h.jsx("div",{className:"flex-grow p-6 flex items-center justify-center text-muted-foreground",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(Dm,{className:"h-8 w-8 text-primary"})}),h.jsx("p",{className:"text-lg mb-2 text-foreground",children:"Terminal Active"}),h.jsx("p",{className:"text-sm max-w-xs",children:"Use the terminal above to run commands and manage your project files."})]})})]})]})})]})})}),h.jsx(og,{className:"w-1 bg-border/30 hover:bg-primary/30 transition-colors rounded-full"}),h.jsx(vc,{defaultSize:30,minSize:20,maxSize:40,children:h.jsx("div",{className:"h-full bg-card/50 backdrop-blur-sm rounded-xl border border-border/50 shadow-sm overflow-hidden",children:h.jsx(q9,{})})})]})})]})},G9=()=>{const{currentProject:n,projects:e}=Ho(),[t,r]=D.useState("7d"),[s,a]=D.useState(!0);D.useEffect(()=>{const v=setTimeout(()=>a(!1),1e3);return()=>clearTimeout(v)},[]);const l={totalProjects:12,aiGenerations:89,linesOfCode:12450,hoursSpent:42.5},u=[{id:1,type:"ai_generation",project:"E-commerce Store",action:"Generated React component",time:"2 minutes ago",icon:vs,color:"text-blue-600"},{id:2,type:"file_created",project:"Portfolio Website",action:"Created new CSS file",time:"15 minutes ago",icon:Og,color:"text-green-600"},{id:3,type:"project_completed",project:"Task Manager App",action:"Project marked as completed",time:"1 hour ago",icon:xS,color:"text-yellow-600"},{id:4,type:"deployment",project:"Analytics Dashboard",action:"Deployed to Firebase",time:"3 hours ago",icon:Ei,color:"text-purple-600"}],f=[{name:"E-commerce Store",files:24,lastModified:"2 min ago",type:"web",progress:85},{name:"Portfolio Website",files:12,lastModified:"15 min ago",type:"web",progress:100},{name:"Task Manager App",files:18,lastModified:"1 hour ago",type:"mobile",progress:100},{name:"Analytics Dashboard",files:31,lastModified:"3 hours ago",type:"dashboard",progress:75}],m=[{language:"JavaScript",percentage:45,files:70,color:"bg-yellow-500"},{language:"HTML",percentage:25,files:39,color:"bg-orange-500"},{language:"CSS",percentage:20,files:31,color:"bg-blue-500"},{language:"Python",percentage:10,files:16,color:"bg-green-500"}],g=({title:v,value:_,icon:E,change:C,changeType:N,description:A})=>h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(E,{className:"h-6 w-6 text-primary"})}),C&&h.jsxs("div",{className:`flex items-center gap-1 text-sm ${N==="increase"?"text-green-600":"text-red-600"}`,children:[N==="increase"?h.jsx(aO,{className:"h-4 w-4"}):h.jsx(iO,{className:"h-4 w-4"}),C]})]}),h.jsx("h3",{className:"text-2xl font-bold text-foreground mb-1",children:_}),h.jsx("p",{className:"text-sm text-muted-foreground",children:v}),A&&h.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:A})]});return s?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((v,_)=>h.jsxs("div",{className:"bg-card/50 rounded-xl p-6",children:[h.jsx("div",{className:"h-12 w-12 bg-muted rounded-lg mb-4"}),h.jsx("div",{className:"h-6 bg-muted rounded w-1/2 mb-2"}),h.jsx("div",{className:"h-4 bg-muted rounded w-3/4"})]},_))})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Dashboard"}),h.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your projects."})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("select",{value:t,onChange:v=>r(v.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"7d",children:"Last 7 days"}),h.jsx("option",{value:"30d",children:"Last 30 days"}),h.jsx("option",{value:"90d",children:"Last 90 days"})]})})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[h.jsx(g,{title:"Total Projects",value:l.totalProjects,icon:Xa,change:"+2",changeType:"increase",description:"This week"}),h.jsx(g,{title:"AI Generations",value:l.aiGenerations,icon:vs,change:"+12",changeType:"increase",description:"This week"}),h.jsx(g,{title:"Lines of Code",value:l.linesOfCode.toLocaleString(),icon:hr,change:"+1.2k",changeType:"increase",description:"This week"}),h.jsx(g,{title:"Hours Spent",value:l.hoursSpent,icon:fS,change:"+5.2h",changeType:"increase",description:"This week"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[h.jsxs("div",{className:"lg:col-span-2 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[h.jsx(nO,{className:"h-5 w-5 text-primary"}),"Recent Activity"]}),h.jsx("button",{className:"text-sm text-primary hover:text-primary/80 transition-colors",children:"View all"})]}),h.jsx("div",{className:"space-y-4",children:u.map((v,_)=>{const E=v.icon;return h.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[h.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${v.color.replace("text-","bg-").replace("-600","-100")}`,children:h.jsx(E,{className:`h-4 w-4 ${v.color}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium text-foreground",children:v.action}),h.jsx("p",{className:"text-xs text-muted-foreground",children:v.project})]}),h.jsx("span",{className:"text-xs text-muted-foreground",children:v.time})]},v.id)})})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[h.jsx(Rc,{className:"h-5 w-5 text-primary"}),"Top Projects"]}),h.jsx("div",{className:"space-y-4",children:f.map((v,_)=>h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.1},className:"p-3 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h3",{className:"font-medium text-foreground text-sm",children:v.name}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.files," files"]})]}),h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 mr-3",children:h.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${v.progress}%`}})}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.progress,"%"]})]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:v.lastModified})]},v.name))})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[h.jsx(hr,{className:"h-5 w-5 text-primary"}),"Language Usage"]}),h.jsx("div",{className:"space-y-4",children:m.map((v,_)=>h.jsxs(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-muted flex items-center justify-center",children:h.jsx("div",{className:`w-2 h-2 rounded-full ${v.color}`})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:"text-sm font-medium text-foreground",children:v.language}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.percentage,"%"]})]}),h.jsx("div",{className:"bg-muted rounded-full h-2",children:h.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${v.color}`,style:{width:`${v.percentage}%`}})}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v.files," files"]})]})]},v.language))})]}),h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[h.jsx(ol,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),h.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{name:"New Project",icon:Xa,color:"bg-blue-500",href:"/ai-builder"},{name:"AI Builder",icon:vs,color:"bg-purple-500",href:"/ai-builder"},{name:"View Projects",icon:Mg,color:"bg-green-500",href:"/projects"},{name:"Settings",icon:Si,color:"bg-orange-500",href:"/settings"}].map((v,_)=>h.jsxs(Te.a,{href:v.href,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:_*.1},className:"flex flex-col items-center p-4 rounded-lg hover:bg-muted/50 transition-all duration-200 group",children:[h.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center mb-3 ${v.color} group-hover:scale-105 transition-transform`,children:h.jsx(v.icon,{className:"h-6 w-6 text-white"})}),h.jsx("span",{className:"text-sm font-medium text-foreground text-center",children:v.name})]},v.name))})]})]})]})})},K9=()=>h.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-card border border-border rounded-lg p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-primary rounded-lg flex items-center justify-center mx-auto mb-4",children:h.jsx(SO,{className:"h-8 w-8 text-primary-foreground"})}),h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Welcome to DreamBuild"}),h.jsx("p",{className:"text-muted-foreground",children:"Sign in to save your projects and access all features"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("button",{className:"w-full flex items-center justify-center gap-3 p-3 border border-border rounded-lg hover:bg-muted transition-colors font-medium",children:[h.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),h.jsxs("button",{className:"w-full flex items-center justify-center gap-3 p-3 border border-border rounded-lg hover:bg-muted transition-colors font-medium",children:[h.jsx(If,{className:"h-5 w-5"}),"Continue with GitHub"]})]}),h.jsxs("div",{className:"relative my-6",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-border"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Want to try without signing in?"}),h.jsx("a",{href:"/ai-builder",className:"inline-flex items-center gap-2 px-4 py-2 text-primary hover:text-primary/80 transition-colors font-medium",children:"Continue as Guest"})]})]})})}),Q9=()=>{const{currentProject:n,createNewProject:e,projects:t,switchProject:r}=Ho(),[s,a]=D.useState(""),[l,u]=D.useState("all"),[f,m]=D.useState("grid"),[g,v]=D.useState(!1),[_,E]=D.useState(""),[C,N]=D.useState("web"),[A,F]=D.useState(null),[U,k]=D.useState([{id:"1",name:"E-commerce Store",type:"web",description:"Modern e-commerce platform with React and Node.js",status:"active",lastModified:"2024-01-15",files:12,size:"2.4 MB",tags:["React","Node.js","E-commerce"],preview:"https://via.placeholder.com/300x200/007acc/ffffff?text=E-commerce+Store"},{id:"2",name:"Portfolio Website",type:"web",description:"Personal portfolio website with modern design",status:"completed",lastModified:"2024-01-10",files:8,size:"1.2 MB",tags:["HTML","CSS","JavaScript"],preview:"https://via.placeholder.com/300x200/28a745/ffffff?text=Portfolio+Website"},{id:"3",name:"Task Manager App",type:"mobile",description:"Mobile task management application",status:"development",lastModified:"2024-01-12",files:15,size:"3.1 MB",tags:["React Native","Firebase"],preview:"https://via.placeholder.com/300x200/ffc107/000000?text=Task+Manager"},{id:"4",name:"Analytics Dashboard",type:"dashboard",description:"Business analytics dashboard with charts",status:"active",lastModified:"2024-01-14",files:20,size:"4.2 MB",tags:["Vue.js","D3.js","Charts"],preview:"https://via.placeholder.com/300x200/6f42c1/ffffff?text=Analytics+Dashboard"}]),H={all:{name:"All Projects",icon:Xa,count:U.length},web:{name:"Web Apps",icon:Mg,count:U.filter(P=>P.type==="web").length},mobile:{name:"Mobile Apps",icon:hr,count:U.filter(P=>P.type==="mobile").length},dashboard:{name:"Dashboards",icon:Si,count:U.filter(P=>P.type==="dashboard").length},completed:{name:"Completed",icon:xS,count:U.filter(P=>P.status==="completed").length}},J=U.filter(P=>{const M=P.name.toLowerCase().includes(s.toLowerCase())||P.description.toLowerCase().includes(s.toLowerCase())||P.tags.some(L=>L.toLowerCase().includes(s.toLowerCase())),z=l==="all"||P.type===l||P.status===l;return M&&z}),Q=()=>{if(!_.trim()){Re.error("Please enter a project name");return}const P={id:Date.now().toString(),name:_,type:C,description:`New ${C} project`,status:"active",lastModified:new Date().toISOString().split("T")[0],files:0,size:"0 MB",tags:[C],preview:"https://via.placeholder.com/300x200/6c757d/ffffff?text=New+Project"};k([P,...U]),E(""),N("web"),v(!1),Re.success("Project created successfully!")},S=P=>{k(U.filter(M=>M.id!==P)),F(null),Re.success("Project deleted successfully!")},I=P=>{switch(P){case"active":return"bg-green-100 text-green-800 border-green-200";case"development":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=P=>{switch(P){case"web":return Mg;case"mobile":return hr;case"dashboard":return Si;default:return Xa}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Projects"}),h.jsx("p",{className:"text-muted-foreground",children:"Manage and organize your AI-generated projects"})]}),h.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-sm shadow-primary/20",children:[h.jsx(Vg,{className:"h-4 w-4"}),"New Project"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:Object.entries(H).map(([P,M])=>{const z=M.icon;return h.jsx(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:P==="all"?0:parseInt(P)*.1},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-md transition-all duration-200",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(z,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-foreground",children:M.count}),h.jsx("p",{className:"text-sm text-muted-foreground",children:M.name})]})]})},P)})})]}),h.jsx("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4 mb-6",children:h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[h.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(Fg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx("input",{type:"text",placeholder:"Search projects...",value:s,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(pO,{className:"h-4 w-4 text-muted-foreground"}),h.jsx("select",{value:l,onChange:P=>u(P.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:Object.entries(H).map(([P,M])=>h.jsxs("option",{value:P,children:[M.name," (",M.count,")"]},P))})]})]}),h.jsxs("div",{className:"flex items-center gap-1 bg-muted/50 p-1 rounded-lg",children:[h.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded-md transition-colors ${f==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:h.jsx(mS,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded-md transition-colors ${f==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:h.jsx(gS,{className:"h-4 w-4"})})]})]})}),h.jsx(_s,{mode:"wait",children:f==="grid"?h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.map((P,M)=>{const z=j(P.type);return h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-200 group",children:[h.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-muted to-muted/50",children:[h.jsx("img",{src:P.preview,alt:P.name,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${I(P.status)}`,children:P.status})}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-primary text-primary-foreground rounded-lg shadow-lg",onClick:()=>r(P.id),children:h.jsx(hh,{className:"h-4 w-4"})}),h.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-white text-gray-900 rounded-lg shadow-lg",children:h.jsx(jm,{className:"h-4 w-4"})})]})})]}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"flex items-start justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(z,{className:"h-4 w-4 text-primary"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:P.description})]})]}),h.jsx("button",{onClick:()=>F(A===P.id?null:P.id),className:"p-1 hover:bg-muted rounded-md transition-colors",children:h.jsx(D_,{className:"h-4 w-4 text-muted-foreground"})})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-3",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Og,{className:"h-3 w-3"}),P.files," files"]}),h.jsx("span",{children:P.size})]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(j_,{className:"h-3 w-3"}),P.lastModified]})]}),h.jsx("div",{className:"flex flex-wrap gap-1",children:P.tags.map(L=>h.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:L},L))})]}),h.jsx(_s,{children:A===P.id&&h.jsx(Te.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-12 right-3 bg-card border border-border rounded-lg shadow-lg z-10 min-w-[150px]",children:h.jsxs("div",{className:"p-1",children:[h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(hh,{className:"h-4 w-4"}),"View"]}),h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(jm,{className:"h-4 w-4"}),"Edit"]}),h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(Kc,{className:"h-4 w-4"}),"Download"]}),h.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted rounded-md transition-colors",children:[h.jsx(TO,{className:"h-4 w-4"}),"Share"]}),h.jsx("hr",{className:"my-1"}),h.jsxs("button",{onClick:()=>S(P.id),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors",children:[h.jsx(wS,{className:"h-4 w-4"}),"Delete"]})]})})})]},P.id)})},"grid"):h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:J.map((P,M)=>{const z=j(P.type);return h.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.05},className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4 hover:shadow-md transition-all duration-200",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:h.jsx(z,{className:"h-6 w-6 text-primary"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[h.jsx("h3",{className:"font-semibold text-foreground",children:P.name}),h.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${I(P.status)}`,children:P.status})]}),h.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P.description}),h.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Og,{className:"h-3 w-3"}),P.files," files"]}),h.jsx("span",{children:P.size}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(j_,{className:"h-3 w-3"}),P.lastModified]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"flex gap-1",children:[P.tags.slice(0,2).map(L=>h.jsx("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:L},L)),P.tags.length>2&&h.jsxs("span",{className:"px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md",children:["+",P.tags.length-2]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",onClick:()=>r(P.id),children:h.jsx(hh,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx(Te.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 hover:bg-muted rounded-md transition-colors",children:h.jsx(jm,{className:"h-4 w-4 text-muted-foreground"})}),h.jsx("button",{onClick:()=>F(A===P.id?null:P.id),className:"p-2 hover:bg-muted rounded-md transition-colors",children:h.jsx(D_,{className:"h-4 w-4 text-muted-foreground"})})]})]})]})},P.id)})},"list")}),J.length===0&&h.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[h.jsx("div",{className:"w-24 h-24 bg-muted/50 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(Xa,{className:"h-12 w-12 text-muted-foreground"})}),h.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No projects found"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:s||l!=="all"?"Try adjusting your search or filter criteria":"Get started by creating your first project"}),h.jsxs(Te.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200",children:[h.jsx(Vg,{className:"h-4 w-4"}),"Create Project"]})]})]}),h.jsx(_s,{children:g&&h.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>v(!1),children:h.jsxs(Te.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-card border border-border rounded-xl p-6 w-full max-w-md mx-4",onClick:P=>P.stopPropagation(),children:[h.jsx("h2",{className:"text-xl font-semibold text-foreground mb-4",children:"Create New Project"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Name"}),h.jsx("input",{type:"text",value:_,onChange:P=>E(P.target.value),placeholder:"Enter project name...",className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Project Type"}),h.jsxs("select",{value:C,onChange:P=>N(P.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"web",children:"Web Application"}),h.jsx("option",{value:"mobile",children:"Mobile Application"}),h.jsx("option",{value:"dashboard",children:"Dashboard"})]})]})]}),h.jsxs("div",{className:"flex gap-3 mt-6",children:[h.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-border rounded-lg text-foreground hover:bg-muted transition-colors",children:"Cancel"}),h.jsx(Te.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create"})]})]})})}),A&&h.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>F(null)})]})},Y9=()=>{const{theme:n,setTheme:e}=cy(),[t,r]=D.useState("appearance"),[s,a]=D.useState({appearance:{theme:n,fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),[l,u]=D.useState(!0),[f,m]=D.useState(!1);D.useEffect(()=>{const k=localStorage.getItem("dreambuild-settings");k&&a(JSON.parse(k)),u(!1)},[]),D.useEffect(()=>{m(!0)},[s]);const g=()=>{localStorage.setItem("dreambuild-settings",JSON.stringify(s)),m(!1),Re.success("Settings saved successfully!")},v=()=>{a({appearance:{theme:"system",fontSize:"medium",fontFamily:"system",animations:!0,compactMode:!1},editor:{tabSize:2,wordWrap:!0,minimap:!0,lineNumbers:!0,autoSave:!0,formatOnSave:!0,autoComplete:!0},ai:{defaultModel:"codellama-7b",temperature:.7,maxTokens:4e3,autoGenerate:!1,suggestions:!0},notifications:{projectUpdates:!0,aiCompletions:!0,errors:!0,sound:!1,email:!1},privacy:{analytics:!0,crashReports:!0,telemetry:!1,shareUsage:!1}}),Re.success("Settings reset to defaults!")},_=()=>{const k=JSON.stringify(s,null,2),H=new Blob([k],{type:"application/json"}),J=URL.createObjectURL(H),Q=document.createElement("a");Q.href=J,Q.download="dreambuild-settings.json",Q.click(),URL.revokeObjectURL(J),Re.success("Settings exported!")},E=k=>{const H=k.target.files[0];if(H){const J=new FileReader;J.onload=Q=>{try{const S=JSON.parse(Q.target.result);a(S),Re.success("Settings imported successfully!")}catch{Re.error("Invalid settings file!")}},J.readAsText(H)}},C=(k,H,J)=>{a(Q=>({...Q,[k]:{...Q[k],[H]:J}})),k==="appearance"&&H==="theme"&&e(J)},N=[{id:"appearance",name:"Appearance",icon:bO},{id:"editor",name:"Editor",icon:hr},{id:"ai",name:"AI Settings",icon:vs},{id:"notifications",name:"Notifications",icon:lO},{id:"privacy",name:"Privacy",icon:Bh}],A=({title:k,description:H,children:J,warning:Q})=>h.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg hover:bg-muted/50 transition-colors",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("h3",{className:"font-medium text-foreground",children:k}),Q&&h.jsx(rO,{className:"h-4 w-4 text-yellow-500",title:Q})]}),h.jsx("p",{className:"text-sm text-muted-foreground",children:H})]}),h.jsx("div",{className:"ml-4",children:J})]}),F=({checked:k,onChange:H,disabled:J=!1})=>h.jsx("button",{onClick:()=>H(!k),disabled:J,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${k?"bg-primary":"bg-muted"} ${J?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${k?"translate-x-6":"translate-x-1"}`})}),U=()=>{switch(t){case"appearance":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(A,{title:"Theme",description:"Choose your preferred color scheme",children:h.jsxs("select",{value:s.appearance.theme,onChange:k=>C("appearance","theme",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"light",children:"Light"}),h.jsx("option",{value:"dark",children:"Dark"}),h.jsx("option",{value:"system",children:"System"})]})}),h.jsx(A,{title:"Font Size",description:"Adjust the text size throughout the interface",children:h.jsxs("select",{value:s.appearance.fontSize,onChange:k=>C("appearance","fontSize",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"small",children:"Small"}),h.jsx("option",{value:"medium",children:"Medium"}),h.jsx("option",{value:"large",children:"Large"})]})}),h.jsx(A,{title:"Font Family",description:"Choose the font family for the editor",children:h.jsxs("select",{value:s.appearance.fontFamily,onChange:k=>C("appearance","fontFamily",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"system",children:"System Default"}),h.jsx("option",{value:"mono",children:"Monospace"}),h.jsx("option",{value:"sans",children:"Sans Serif"}),h.jsx("option",{value:"serif",children:"Serif"})]})}),h.jsx(A,{title:"Animations",description:"Enable smooth animations and transitions",children:h.jsx(F,{checked:s.appearance.animations,onChange:k=>C("appearance","animations",k)})}),h.jsx(A,{title:"Compact Mode",description:"Reduce spacing for a more compact interface",children:h.jsx(F,{checked:s.appearance.compactMode,onChange:k=>C("appearance","compactMode",k)})})]});case"editor":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(A,{title:"Tab Size",description:"Number of spaces for indentation",children:h.jsxs("select",{value:s.editor.tabSize,onChange:k=>C("editor","tabSize",parseInt(k.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:2,children:"2 spaces"}),h.jsx("option",{value:4,children:"4 spaces"}),h.jsx("option",{value:8,children:"8 spaces"})]})}),h.jsx(A,{title:"Word Wrap",description:"Wrap long lines in the editor",children:h.jsx(F,{checked:s.editor.wordWrap,onChange:k=>C("editor","wordWrap",k)})}),h.jsx(A,{title:"Minimap",description:"Show a minimap of your code",children:h.jsx(F,{checked:s.editor.minimap,onChange:k=>C("editor","minimap",k)})}),h.jsx(A,{title:"Line Numbers",description:"Show line numbers in the editor",children:h.jsx(F,{checked:s.editor.lineNumbers,onChange:k=>C("editor","lineNumbers",k)})}),h.jsx(A,{title:"Auto Save",description:"Automatically save files as you type",children:h.jsx(F,{checked:s.editor.autoSave,onChange:k=>C("editor","autoSave",k)})}),h.jsx(A,{title:"Format on Save",description:"Automatically format code when saving",children:h.jsx(F,{checked:s.editor.formatOnSave,onChange:k=>C("editor","formatOnSave",k)})}),h.jsx(A,{title:"Auto Complete",description:"Enable intelligent code completion",children:h.jsx(F,{checked:s.editor.autoComplete,onChange:k=>C("editor","autoComplete",k)})})]});case"ai":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(A,{title:"Default AI Model",description:"Choose your preferred AI model for code generation",children:h.jsxs("select",{value:s.ai.defaultModel,onChange:k=>C("ai","defaultModel",k.target.value),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:"codellama-7b",children:"CodeLlama 7B"}),h.jsx("option",{value:"codellama-13b",children:"CodeLlama 13B"}),h.jsx("option",{value:"starcoder-15b",children:"StarCoder 15B"}),h.jsx("option",{value:"deepseek-coder",children:"DeepSeek Coder"}),h.jsx("option",{value:"wizardcoder-7b",children:"WizardCoder 7B"})]})}),h.jsx(A,{title:"Temperature",description:"Controls randomness in AI responses (0.0 = deterministic, 1.0 = creative)",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:s.ai.temperature,onChange:k=>C("ai","temperature",parseFloat(k.target.value)),className:"w-24"}),h.jsx("span",{className:"text-sm text-muted-foreground w-8",children:s.ai.temperature})]})}),h.jsx(A,{title:"Max Tokens",description:"Maximum number of tokens in AI responses",children:h.jsxs("select",{value:s.ai.maxTokens,onChange:k=>C("ai","maxTokens",parseInt(k.target.value)),className:"px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",children:[h.jsx("option",{value:1e3,children:"1,000"}),h.jsx("option",{value:2e3,children:"2,000"}),h.jsx("option",{value:4e3,children:"4,000"}),h.jsx("option",{value:8e3,children:"8,000"})]})}),h.jsx(A,{title:"Auto Generate",description:"Automatically generate code suggestions as you type",children:h.jsx(F,{checked:s.ai.autoGenerate,onChange:k=>C("ai","autoGenerate",k)})}),h.jsx(A,{title:"AI Suggestions",description:"Show contextual AI suggestions in the editor",children:h.jsx(F,{checked:s.ai.suggestions,onChange:k=>C("ai","suggestions",k)})})]});case"notifications":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(A,{title:"Project Updates",description:"Get notified when projects are updated",children:h.jsx(F,{checked:s.notifications.projectUpdates,onChange:k=>C("notifications","projectUpdates",k)})}),h.jsx(A,{title:"AI Completions",description:"Get notified when AI completes code generation",children:h.jsx(F,{checked:s.notifications.aiCompletions,onChange:k=>C("notifications","aiCompletions",k)})}),h.jsx(A,{title:"Error Notifications",description:"Get notified about errors and issues",children:h.jsx(F,{checked:s.notifications.errors,onChange:k=>C("notifications","errors",k)})}),h.jsx(A,{title:"Sound Notifications",description:"Play sounds for notifications",children:h.jsx(F,{checked:s.notifications.sound,onChange:k=>C("notifications","sound",k)})}),h.jsx(A,{title:"Email Notifications",description:"Receive notifications via email",children:h.jsx(F,{checked:s.notifications.email,onChange:k=>C("notifications","email",k)})})]});case"privacy":return h.jsxs("div",{className:"space-y-1",children:[h.jsx(A,{title:"Analytics",description:"Help improve DreamBuild by sharing anonymous usage data",children:h.jsx(F,{checked:s.privacy.analytics,onChange:k=>C("privacy","analytics",k)})}),h.jsx(A,{title:"Crash Reports",description:"Automatically send crash reports to help fix bugs",children:h.jsx(F,{checked:s.privacy.crashReports,onChange:k=>C("privacy","crashReports",k)})}),h.jsx(A,{title:"Telemetry",description:"Share performance and usage telemetry",warning:"This may include personal information",children:h.jsx(F,{checked:s.privacy.telemetry,onChange:k=>C("privacy","telemetry",k)})}),h.jsx(A,{title:"Share Usage Statistics",description:"Share anonymous usage statistics with the community",children:h.jsx(F,{checked:s.privacy.shareUsage,onChange:k=>C("privacy","shareUsage",k)})})]});default:return null}};return l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"h-8 bg-muted rounded w-1/4 mb-6"}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsx("div",{className:"space-y-3",children:[...Array(5)].map((k,H)=>h.jsx("div",{className:"h-12 bg-muted rounded"},H))})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsx("div",{className:"bg-card/50 rounded-xl p-6",children:h.jsx("div",{className:"space-y-4",children:[...Array(6)].map((k,H)=>h.jsx("div",{className:"h-16 bg-muted rounded"},H))})})})]})]})})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Settings"}),h.jsx("p",{className:"text-muted-foreground",children:"Customize your DreamBuild experience and preferences"})]}),h.jsx("div",{className:"flex items-center gap-2",children:f&&h.jsxs(Te.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-200",children:[h.jsx(vS,{className:"h-4 w-4"}),"Save Changes"]})})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"lg:col-span-1",children:[h.jsx("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:h.jsx("nav",{className:"space-y-2",children:N.map(k=>{const H=k.icon;return h.jsxs("button",{onClick:()=>r(k.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ${t===k.id?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[h.jsx(H,{className:"h-4 w-4"}),k.name]},k.id)})})}),h.jsxs("div",{className:"mt-6 bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl p-4",children:[h.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Data Management"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors",children:[h.jsx(Kc,{className:"h-4 w-4"}),"Export Settings"]}),h.jsxs("label",{className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-foreground hover:bg-muted/50 rounded-lg transition-colors cursor-pointer",children:[h.jsx(_S,{className:"h-4 w-4"}),"Import Settings",h.jsx("input",{type:"file",accept:".json",onChange:E,className:"hidden"})]}),h.jsxs("button",{onClick:v,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[h.jsx(kf,{className:"h-4 w-4"}),"Reset to Defaults"]})]})]})]}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-xl overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-border/50",children:h.jsxs("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[Or.createElement(N.find(k=>k.id===t)?.icon,{className:"h-5 w-5 text-primary"}),N.find(k=>k.id===t)?.name]})}),h.jsx("div",{className:"divide-y divide-border/50",children:U()})]})})]})]})})};function J9(){return h.jsx(Kk,{children:h.jsx(YL,{children:h.jsx(ZL,{children:h.jsx(nk,{children:h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(AO,{}),h.jsx("main",{className:"pt-16",children:h.jsxs(QI,{children:[h.jsx(mo,{path:"/",element:h.jsx(q3,{})}),h.jsx(mo,{path:"/ai-builder",element:h.jsx(W9,{})}),h.jsx(mo,{path:"/dashboard",element:h.jsx(G9,{})}),h.jsx(mo,{path:"/login",element:h.jsx(K9,{})}),h.jsx(mo,{path:"/projects",element:h.jsx(Q9,{})}),h.jsx(mo,{path:"/settings",element:h.jsx(Y9,{})})]})}),h.jsx(IO,{}),h.jsx(Gk,{position:"top-right",toastOptions:{duration:4e3,style:{background:"var(--card)",color:"var(--card-foreground)",border:"1px solid var(--border)"}}})]})})})})})}rI.createRoot(document.getElementById("root")).render(h.jsx(D.StrictMode,{children:h.jsx(J9,{})}));
//# sourceMappingURL=index-Eq9Hw1LV.js.map
